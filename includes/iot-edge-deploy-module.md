---
title: включить файл
description: включить файл
services: iot-edge
author: kgremban
ms.service: iot-edge
ms.topic: include
ms.date: 06/30/2020
ms.author: kgremban
ms.custom: include file
ms.openlocfilehash: 6b9ec2017ffa5d4e4148b441aa23ed2eca6ee8b8
ms.sourcegitcommit: 32e0fedb80b5a5ed0d2336cea18c3ec3b5015ca1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2021
ms.locfileid: "99628877"
---
Одной из ключевых возможностей Azure IoT Edge является развертывание кода на устройствах IoT Edge из облака. *Модули IoT Edge* — это выполняемые пакеты, которые реализованы в виде контейнеров. В этом разделе показано, как развернуть предварительно созданный модуль, полученный из раздела ["Модули IoT Edge" в Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/internet-of-things?page=1&subcategories=iot-edge-modules), непосредственно из Центра Интернета вещей Azure.

Модуль, который будет развернут в этом разделе, имитирует поведение датчика и отправляет сгенерированные данные. Данный модуль является требуемой частью кода для начала работы с IoT Edge, так как сгенерированные данные вы можете использовать для разработки и тестирования. Если требуется увидеть полный функционал модуля, см. имитированный исходный код датчика температуры [здесь](https://github.com/Azure/iotedge/blob/027a509549a248647ed41ca7fe1dc508771c8123/edge-modules/SimulatedTemperatureSensor/src/Program.cs).

Выполните эти шаги, чтобы развернуть первый модуль из Azure Marketplace:

1. Войдите на [портал Azure](https://portal.azure.com) и перейдите к своему центру Интернета вещей.

1. В меню слева в разделе **Автоматическое управление устройствами** выберите **IoT Edge**.

1. Выберите код целевого устройства в списке устройств.

1. На верхней панели выберите **Задание модулей**.

   ![Снимок экрана: выбор элемента "Задание модулей".](./media/iot-edge-deploy-module/select-set-modules.png)

1. В разделе **Модули IoT Edge** откройте раскрывающееся меню **Добавить** и выберите **Модуль в Marketplace**.

   ![Снимок экрана: раскрывающееся меню "Добавить".](./media/iot-edge-deploy-module/add-marketplace-module.png)

1. В окне **Модуль IoT Edge в Marketplace** найдите и выберите модуль `Simulated Temperature Sensor`.

   Модуль добавится в раздел "Модули IoT Edge" с требуемым состоянием **Выполняется**.

1. По завершении выберите **Next: Routes** (Далее: маршруты), чтобы перейти к следующему шагу в мастере.

   ![Снимок экрана: переход к следующему шагу после добавления модуля.](./media/iot-edge-deploy-module/view-temperature-sensor-next-routes.png)

1. На вкладке **Маршруты** удалите маршрут по умолчанию **route** и выберите элемент **Next: Review + create** (Далее: просмотр и создание), чтобы перейти к следующему шагу мастера.

   >[!Note]
   >Маршруты создаются с использованием пар "имя — значение". На этой странице должны отображаться два маршрута. Маршрут по умолчанию **route** поддерживает отправку всех сообщений в Центр Интернета вещей (с именем `$upstream`). Второй маршрут **SimulatedTemperatureSensorToIoTHub** был создан автоматически при добавлении модуля из Azure Marketplace. По этому маршруту в Центр Интернета вещей отправляются все сообщения из имитированного модуля температурного датчика. Вы можете удалить маршрут по умолчанию, так как он не нужен в этом случае.

   ![Снимок экрана: удаление маршрута по умолчанию и переход к следующему шагу.](./media/iot-edge-deploy-module/delete-route-next-review-create.png)

1. Просмотрите файл JSON, а затем щелкните **Создать**. В файле JSON определены все модули, развертываемые на устройстве IoT Edge. В нем вы увидите модуль **SimulatedTemperatureSensor** и два модуля среды выполнения: **edgeAgent** и **edgeHub**.

   >[!Note]
   >После отправки нового развертывания на устройство IoT Edge на ваше устройство ничего оправляться не будет. Вместо этого устройство регулярно выполняет запрос к Центру Интернета вещей для получения новых сведений. Если устройство обнаруживает обновленный манифест развертывания, оно использует информацию о новом развертывании для получения образов модуля с облака с последующим локальным запуском модулей. Это может занять несколько минут.

1. Когда вы укажете сведения о развертывании модуля, мастер вернет вас на страницу с подробными сведениями об устройстве. Проверьте состояние развертывания на вкладке **Модули**.

   На ней должны быть указаны три модуля: **$edgeAgent**, **$edgeHub** и **SimulatedTemperatureSensor**. Если для одного или нескольких модулей указано значение **Да** в столбце **Указано в развертывании**, но не в столбце **Данные, полученные от устройства**, то ваше устройство IoT Edge все еще запускает эти модули. Подождите несколько минут и обновите страницу.

   ![Снимок экрана: модуль SimulatedTemperatureSensor отображается в списке развернутых модулей.](./media/iot-edge-deploy-module/view-deployed-modules.png)
