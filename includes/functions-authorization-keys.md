---
author: ggailey777
ms.service: azure-functions
ms.topic: include
ms.date: 05/06/2020
ms.author: glenga
ms.openlocfilehash: 617608f382d3331e59ae92c9eb272347c736b768
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91829201"
---
Служба "Функции" позволяет использовать ключи, чтобы затруднить несанкционированный доступ к конечным точкам функции HTTP во время развертывания. Если уровень доступа HTTP для функции, активируемой HTTP, не имеет значение `anonymous`, запросы должны содержать ключ доступа API в этот запрос. 

Хотя ключи предоставляют механизм безопасности по умолчанию, вы можете рассмотреть дополнительные варианты защиты конечной точки HTTP в рабочей среде. Например, обычно не рекомендуется распространять общий секрет в общедоступных приложениях. Если функция вызывается из общедоступного клиента, вы можете подумать о реализации другого механизма безопасности. Дополнительные сведения см. в разделе [Защита конечной точки HTTP в рабочей среде](../articles/azure-functions/functions-bindings-http-webhook-trigger.md#secure-an-http-endpoint-in-production).

При обновлении значений ключей функций необходимо вручную распространить обновленные значения ключей на все клиенты, вызывающие вашу функцию.  

#### <a name="authorization-scopes-function-level"></a>Области авторизации (уровень функции)

Существуют две области доступа для ключей уровня функции.

* **Функция**: Эти ключи применяются только для конкретных функций, в которых они определены. Если такой ключ используется в качестве ключа API, он предоставляет доступ только к определенной функции.

* **Узел**: Ключи с областью узла можно использовать для доступа ко всем функциям в приложении-функции. Если такой ключ используется в качестве ключа API, он предоставляет доступ к любой функции в приложении-функции. 

Каждый ключ имеет имя для удобства использования, а один из ключей (с именем default) используется как ключ по умолчанию на уровне узла и функции. Ключи функций имеют приоритет над ключами узла. Если определены два ключа с одним именем, всегда используется ключ функции.

#### <a name="master-key-admin-level"></a>Главный ключ (уровень администратора) 

У каждого приложения-функции также есть ключ узла уровня администратора с именем `_master`. Кроме предоставления доступа на уровне узла ко всем функциям в приложении, главный ключ также предоставляет административный доступ к REST API среды выполнения. Его невозможно отозвать. При задании уровня доступа `admin` запросы должны использовать главный ключ. Использование любого другого ключа приведет к ошибке доступа.

> [!CAUTION]  
> Главный ключ предоставляет высокий уровень разрешений в приложении-функции, поэтому никогда не передавайте этот ключ третьим лицам и не включайте его в состав клиентских приложений. Соблюдайте осторожность при выборе уровня доступа для администратора.
