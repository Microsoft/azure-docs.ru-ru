---
ms.openlocfilehash: 0bae8946b7d81fbf45698cefe7c8b00bbc94d00c
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "92168122"
---
#### <a name="determine-memory-usage"></a>Определение использования памяти 

В разделе **мониторинг** выберите **журналы (Analytics)**, затем скопируйте следующий запрос телеметрии и вставьте его в окно запроса и выберите **выполнить**. Этот запрос возвращает общее использование памяти для каждого образца времени.

```
performanceCounters
| where name == "Private Bytes"
| project timestamp, name, value
```

Результаты выглядят, как в следующем примере:

| отметка времени \[ UTC\]          | name          | value       |
|----------------------------|---------------|-------------|
| 9/12/2019, 1:05:14 \. 947 | Байты исключительного пользования | 209 932 288 |
| 9/12/2019, 1:06:14 \. 994 | Байты исключительного пользования | 212 189 184 |
| 9/12/2019, 1:06:30 \. 010 | Байты исключительного пользования | 231 714 816 |
| 9/12/2019, 1:07:15 \. 040 | Байты исключительного пользования | 210 591 744 |
| 9/12/2019, 1:12:16 \. 285 | Байты исключительного пользования | 216 285 184 |
| 9/12/2019, 1:12:31 \. 376 | Байты исключительного пользования | 235 806 720 |

#### <a name="determine-duration"></a>Определение длительности 

Azure Monitor отслеживает метрики на уровне ресурсов, который для функций — это приложение-функция. Интеграция Application Insights выдает метрики для каждой функции. Ниже приведен пример запроса аналитики для получения средней длительности функции:

```
customMetrics
| where name contains "Duration"
| extend averageDuration = valueSum / valueCount
| summarize averageDurationMilliseconds=avg(averageDuration) by name
```

| name                       | аверажедуратионмиллисекондс |
|----------------------------|-----------------------------|
| QueueTrigger Авгдуратионмс | 16 \. 087                     |
| QueueTrigger Максдуратионмс | 90 \. 249                     |
| QueueTrigger Миндуратионмс | 8 \. 522                      |
