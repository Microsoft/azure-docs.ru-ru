---
ms.topic: include
ms.service: time-series-insights
author: deepakpalled
ms.author: dpalled
manager: diviso
ms.date: 07/09/2020
ms.openlocfilehash: f25c335c568c112c05f81df51d69e83aeff423e2
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96028122"
---
## <a name="business-disaster-recovery"></a>Непрерывность бизнес-процессов и аварийное восстановление

В этом разделе описываются возможности службы "аналитика временных рядов Azure", которые работают с приложениями и службами, даже если происходит сбой (это называется *аварийным восстановлением в бизнесе*).

### <a name="high-availability"></a>Высокий уровень доступности

В качестве службы Azure служба "аналитика временных рядов Azure" предоставляет определенные функции *высокого уровня доступности* , используя избыточность на уровне региона Azure. Например, Azure поддерживает возможности аварийного восстановления через функцию *доступности в разных регионах* Azure.

Дополнительные функции высокого уровня доступности, предоставляемые в Azure (а также доступные любому экземпляру службы "аналитика временных рядов Azure"), включают:

- **Отработка отказа**. Azure обеспечивает [георепликацию и балансировку нагрузки](/azure/architecture/resiliency/recovery-loss-azure-region).
- Восстановление **данных** и **восстановление хранилища**. Azure предоставляет [несколько вариантов для сохранения и восстановления данных](/azure/architecture/resiliency/recovery-data-corruption).
- **Azure Site Recovery**. Azure предоставляет функции Site Recovery с помощью [Azure Site Recovery](../articles/site-recovery/index.yml).
- **Azure Backup**: [Azure Backup](../articles/backup/backup-architecture.md) поддерживает локальное и облачное резервное копирование виртуальных машин Azure.

Убедитесь, что вы включили соответствующие функции Azure, чтобы обеспечить высокий уровень доступности для устройств и пользователей в разных регионах.

> [!NOTE]
> Если Azure настроен для обеспечения доступности между регионами, дополнительная настройка доступности между регионами в службе "аналитика временных рядов Azure" не требуется.

### <a name="iot-and-event-hubs"></a>IoT и концентраторы событий

Некоторые службы Azure IoT также включают встроенные функции аварийного восстановления.

- [Аварийное восстановление высокого уровня доступности центра Интернета вещей Azure](../articles/iot-hub/iot-hub-ha-dr.md), включающее избыточность внутри региона
- [Политики концентраторов событий Azure](../articles/event-hubs/event-hubs-geo-dr.md)
- [Репликация службы хранилища Azure](../articles/storage/common/storage-redundancy.md)

Интеграция службы "аналитика временных рядов Azure" с другими службами предоставляет дополнительные возможности аварийного восстановления. Например, данные телеметрии, отправляемые в концентратор событий, могут быть сохранены в резервной копии базы данных хранилища BLOB-объектов Azure.

### <a name="azure-time-series-insights"></a>Аналитика временных рядов Azure

Существует несколько способов сохранения данных, приложений и служб Службы "аналитика временных рядов Azure", даже если они нарушат работу. 

Тем не менее, вы можете определить, что также требуется полная резервная копия среды временных рядов Azure для следующих целей:

- Как *экземпляр отработки отказа* специально для службы "аналитика временных рядов Azure" для перенаправления данных и трафика в
- Сохранение данных и сведений аудита

Как правило, лучшим способом дублирования среды службы "аналитика временных рядов Azure" является создание второй среды службы "аналитика временных рядов Azure" в регионе Azure Backup. События также отправляются в эту вторичную среду из основного источника событий. Убедитесь, что используется вторая выделенная группа потребителей. Следуйте рекомендациям по аварийному восстановлению исходного кода, как описано выше.

Чтобы создать дубликат среды, сделайте следующее:

1. Создайте среду во втором регионе. Дополнительные сведения см. [в статье Создание среды службы "аналитика временных рядов Azure" в портал Azure](../articles/time-series-insights/time-series-insights-get-started.md).
1. Создайте для вашего источника событий вторую выделенную группу потребителей.
1. Подключите этот источник событий к новой среде. Убедитесь, что назначена вторая выделенная группа потребителей.
1. Ознакомьтесь с документацией центра [Интернета вещей](../articles/time-series-insights/how-to-ingest-data-iot-hub.md) Azure Time Series Insights и концентраторами [событий](../articles/time-series-insights/concepts-access-policies.md) .

При возникновении события:

1. Если во время аварийного инцидента затрагивается основной регион, перенаправление операций в среду службы "аналитика временных рядов Azure".
1. Используйте второй регион для резервного копирования и восстановления данных телеметрии Azure Time Series Insights и запросов.

> [!IMPORTANT]
> Если происходит отработка отказа:
> 
> * Также может возникать задержка.
> * При перенаправлении операций может произойти Посекундный пик обработки сообщений.
> 
> Дополнительные сведения см. [в статье снижение задержки в службе "аналитика временных рядов Azure](../articles/time-series-insights/time-series-insights-environment-mitigate-latency.md)".