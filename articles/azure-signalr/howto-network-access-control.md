---
title: Настройка контроля доступа к сети
titleSuffix: Azure SignalR Service
description: Настройте контроль доступа к сети для службы Azure SignalR.
services: signalr
author: ArchangelSDY
ms.service: signalr
ms.topic: conceptual
ms.date: 05/06/2020
ms.author: dayshen
ms.openlocfilehash: 24e56736e0d033420f9aaf976b0fb7d9727c1a5b
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "92143221"
---
# <a name="configure-network-access-control"></a>Настройка контроля доступа к сети

Служба Azure SignalR позволяет защищать и контролировать уровень доступа к конечной точке службы на основе типа запроса и подмножества используемых сетей. При настройке сетевых правил только приложения, запрашивающие данные через указанный набор сетей, могут получить доступ к службе Azure SignalR.

Служба Azure SignalR имеет общедоступную конечную точку, доступную через Интернет. Вы также можете создать [частные конечные точки для службы Azure SignalR](howto-private-endpoints.md). Частная конечная точка назначает частный IP-адрес из виртуальной сети службе SignalR Azure и защищает весь трафик между виртуальной сетью и службой SignalR Azure по частному каналу. Управление доступом к сети в службе SignalR Azure обеспечивает контроль доступа для общедоступной конечной точки и частных конечных точек.

При необходимости можно разрешить или запретить определенные типы запросов для общедоступной конечной точки и каждой частной конечной точки. Например, можно заблокировать все [соединения сервера](signalr-concept-internals.md#server-connections) от общедоступной конечной точки и убедиться, что они поступают только из определенной виртуальной сети.

Приложение, которое обращается к службе SignalR Azure, когда действуют правила управления доступом к сети, по-прежнему требует соответствующей авторизации для запроса.

## <a name="scenario-a---no-public-traffic"></a>Сценарий A — нет общедоступного трафика

Чтобы полностью запретить весь общедоступный трафик, сначала необходимо настроить правило общедоступной сети, разрешающее отсутствие типа запроса. Затем следует настроить правила, предоставляющие доступ к трафику из определенных виртуальных сетей. Такая конфигурация позволяет создать для приложений границу в виде безопасной сети.

## <a name="scenario-b---only-client-connections-from-public-network"></a>Сценарий б. подключения клиентов только из общедоступной сети

В этом сценарии можно настроить правило общедоступной сети, разрешающее [подключения клиентов](signalr-concept-internals.md#client-connections) только из общедоступной сети. Затем можно настроить правила частной сети, чтобы разрешить другие типы запросов, исходящих из определенной виртуальной сети. Эта конфигурация скрывает серверы приложений от общедоступной сети и устанавливает безопасные подключения между серверами приложений и службой Azure SignalR.

## <a name="managing-network-access-control"></a>Управление доступом к сети

Управление доступом к сети для службы SignalR Azure можно управлять с помощью портал Azure.

### <a name="azure-portal"></a>Портал Azure

1. Перейдите в службу Azure SignalR, которую необходимо защитить.

1. Щелкните меню Параметры **Управление доступом к сети**.

    ![Сетевой список ACL на портале](media/howto-network-access-control/portal.png)

1. Чтобы изменить действие по умолчанию, переключите кнопку **Разрешить или запретить** .

    > [!TIP]
    > Действие по умолчанию — это действие, выполняемое при отсутствии соответствия правилу ACL. Например, если действие по умолчанию — **Deny**, то типы запросов, которые не были явно утверждены ниже, будут запрещены.

1. Чтобы изменить правило общедоступной сети, выберите разрешенные типы запросов в разделе **общедоступная сеть**.

    ![Изменение списка ACL общедоступной сети на портале ](media/howto-network-access-control/portal-public-network.png)

1. Чтобы изменить правила сети частной конечной точки, выберите разрешенные типы запросов в каждой строке в разделе **подключения частной конечной точки**.

    ![Изменение списка ACL для частной конечной точки на портале ](media/howto-network-access-control/portal-private-endpoint.png)

1. Щелкните **Сохранить**, чтобы применить изменения.

## <a name="next-steps"></a>Дальнейшие действия

См. сведения о службе [Приватный канал Azure](../private-link/private-link-overview.md).