---
title: How to rotate access key for Azure SignalR Service (Смена ключей доступа для Службы Azure SignalR)
description: Общие сведения о причинах, по которым клиент должен регулярно менять ключи доступа, и способах выполнения замены с помощью графического пользовательского интерфейса портала Azure и Azure CLI.
author: sffamily
ms.service: signalr
ms.topic: conceptual
ms.date: 03/01/2019
ms.author: zhshang
ms.openlocfilehash: 1f80742d48fc46c8c5e337794100ca5901818c88
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "102184395"
---
# <a name="how-to-rotate-access-key-for-azure-signalr-service"></a>How to rotate access key for Azure SignalR Service (Смена ключей доступа для Службы Azure SignalR)

В каждом экземпляре Службы Azure SignalR есть пара ключей доступа, которые называются первичными и вторичными. Эти ключи используются для проверки подлинности клиентов SignalR при составлении запросов к службе. Они связаны с URL-адресом конечной точки экземпляра. Обеспечьте безопасность ключей и меняйте их регулярно. Вам предоставляются два ключа доступа, так что вы можете выполнять подключения с помощью одного из них во время обновления другого.

## <a name="why-rotate-access-keys"></a>Для чего менять ключи доступа?

По соображениям безопасности и для соблюдения требований соответствия разработчикам регулярно меняйте ключи доступа.

## <a name="regenerate-access-keys"></a>Повторное создание ключей доступа

1. Перейдите к [портал Azure](https://portal.azure.com/)и выполните вход с помощью своих учетных данных.

1. Перейдите в раздел **Ключи** в экземпляре Службы Azure SignalR, для которого требуется повторно создать ключи.

1. Выберите **Ключи** в меню навигации.

1. Выберите **Повторно создать основной ключ** или **Повторно создать вторичный ключ**.

   Отобразится новая строка ключа и соответствующего подключения.

   ![Повторное создание ключей](media/signalr-howto-key-rotation/regenerate-keys.png)

Вы также можете повторно создать ключи с помощью [Azure CLI](/cli/azure/signalr/key#az-signalr-key-renew).

## <a name="update-configurations-with-new-connection-strings"></a>Обновление конфигураций с помощью новых строк подключения

1. Скопируйте новую строку подключения.

1. Чтобы использовать новую строку подключения, обновите все конфигурации.

1. При необходимости перезапустите приложение.

## <a name="forced-access-key-regeneration"></a>Принудительное повторное создание ключа доступа

В некоторых ситуациях Служба Azure SignalR может применять обязательное повторное создание ключа доступа. Клиенты получают уведомления службы по электронной почте и на портале. Если вы получили такое оповещение или произошел сбой службы из-за ключа доступа, смените ключи, следуя инструкциям из этого руководства.

## <a name="next-steps"></a>Дальнейшие действия

По соображениям безопасности рекомендуется регулярно менять ключи доступа.

В этом руководстве вы узнали, как повторно создавать ключи доступа. Изучите следующие руководства, чтобы узнать больше о проверке подлинности с помощью OAuth или Функций Azure.

> [!div class="nextstepaction"]
> [Учебник по аутентификации службы Azure SignalR](./signalr-concept-authenticate-oauth.md)

> [!div class="nextstepaction"]
> [Создание бессерверного приложения в режиме реального времени с проверкой подлинности](./signalr-tutorial-authenticate-azure-functions.md)