---
title: Авторизация доступа с помощью Azure Active Directory
description: В этой статье приведены сведения о предоставлении доступа к ресурсам службы Azure SignalR с помощью Azure Active Directory.
author: terencefan
ms.author: tefa
ms.date: 08/03/2020
ms.service: signalr
ms.topic: conceptual
ms.openlocfilehash: 37c2e41b5c81f941245b895ecd144baee3b9db6d
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "97797582"
---
# <a name="authorize-access-to-azure-signalr-service-resources-using-azure-active-directory"></a>Авторизация доступа к ресурсам службы SignalR Azure с помощью Azure Active Directory
Служба Azure SignalR поддерживает использование Azure Active Directory (Azure AD) для авторизации запросов к ресурсам службы Azure SignalR. С помощью Azure AD можно использовать управление доступом на основе ролей (RBAC) для предоставления разрешений субъекту безопасности, который может быть пользователем или субъектом-службой приложения. Дополнительные сведения о ролях и назначениях ролей см. в разделе [Основные сведения о различных ролях](../role-based-access-control/overview.md).

## <a name="overview"></a>Обзор
Когда участник безопасности (приложение) пытается получить доступ к ресурсу службы Azure SignalR, запрос должен быть полномочным. В Azure AD доступ к ресурсу выполняется в два этапа. 

 1. Во-первых, удостоверение субъекта безопасности проходит проверку подлинности и возвращается маркер OAuth 2,0. Имя ресурса для запроса маркера — `https://signalr.azure.com/` .
 2. Затем маркер передается как часть запроса службе SignalR Azure для авторизации доступа к указанному ресурсу.

Для этапа аутентификации требуется, чтобы запрос от приложения содержал маркер доступа OAuth 2.0 в среде выполнения. Если сервер-концентратор работает в сущности Azure, такой как виртуальная машина Azure, масштабируемый набор виртуальных машин или приложение-функция Azure, он может использовать управляемое удостоверение для доступа к ресурсам. Сведения о проверке подлинности запросов, выполняемых управляемым удостоверением в службе SignalR Azure, см. в статье [Проверка подлинности доступа к ресурсам службы Azure SignalR с помощью Azure Active Directory и управляемых удостоверений для ресурсов Azure](authenticate-managed-identity.md). 

Для этапа авторизации требуется, чтобы субъекту безопасности были назначены одна или несколько ролей RBAC. Служба Azure SignalR предоставляет роли RBAC, охватывающие наборы разрешений для ресурсов Azure SignalR. Роли, назначенные субъекту безопасности, определяют разрешения, которые будут иметь субъекта. Дополнительные сведения о ролях RBAC см. [в статье встроенные роли Azure для службы SignalR](#azure-built-in-roles-for-azure-signalr-service)Azure. 

Сервер концентратора SignalR, который не работает в рамках сущности Azure, может также авторизоваться в Azure AD. Сведения о том, как запросить маркер доступа и использовать его для авторизации запросов к ресурсам службы Azure SignalR, см. в статье [Проверка подлинности доступа к службе Azure SignalR с помощью Azure AD из приложения](authenticate-application.md). 

## <a name="azure-built-in-roles-for-azure-signalr-service"></a>Встроенные роли Azure для службы SignalR Azure

- [Сервер приложений SignalR]
- [Средство чтения службы SignalR]
- [Владелец службы SignalR]

## <a name="assign-rbac-roles-for-access-rights"></a>Назначение ролей RBAC для предоставления прав доступа
Azure Active Directory (Azure AD) разрешает права доступа к защищенным ресурсам с помощью [управления доступом на основе ролей (RBAC)](../role-based-access-control/overview.md). Служба Azure SignalR определяет набор встроенных ролей Azure, охватывающих общие наборы разрешений, используемых для доступа к службе Azure SignalR. Кроме того, можно определить пользовательские роли для доступа к ресурсу.

Если субъекту безопасности назначена роль RBAC, Azure предоставляет этому субъекту безопасности доступ к соответствующим ресурсам. Доступ может быть ограничен уровнем подписки, группой ресурсов или любым ресурсом службы Azure SignalR. Субъект безопасности Azure AD может быть пользователем, приложением или [управляемым удостоверением для ресурсов Azure](../active-directory/managed-identities-azure-resources/overview.md).

## <a name="built-in-roles-for-azure-signalr-service"></a>Встроенные роли для службы Azure SignalR
Azure предоставляет следующие встроенные роли Azure для авторизации доступа к ресурсу службы Azure SignalR с помощью Azure AD и OAuth:

### <a name="signalr-app-server"></a>Сервер приложений SignalR

Используйте эту роль, чтобы предоставить доступ для получения временного ключа доступа для подписи маркеров клиента.

### <a name="signalr-serverless-contributor"></a>Несерверный участник SignalR

Используйте эту роль, чтобы предоставить доступ для получения маркера клиента непосредственно из службы Azure SignalR.

## <a name="next-steps"></a>Дальнейшие действия

См. следующие статьи:

- [Проверка подлинности приложения с помощью Azure AD для доступа к службе Azure SignalR](authenticate-application.md)
- [Проверка подлинности управляемого удостоверения с помощью Azure AD для доступа к службе Azure SignalR](authenticate-managed-identity.md)