---
title: Мониторинг — гибкий сервер базы данных Azure для MySQL
description: В этой статье описываются метрики для мониторинга и создания оповещений для гибкого сервера базы данных Azure для MySQL, в том числе ЦП, хранилища и статистики подключений.
author: ambhatna
ms.author: ambhatna
ms.service: mysql
ms.topic: conceptual
ms.date: 9/21/2020
ms.openlocfilehash: c2883a2ddba9a322c09a318aa9f232de5f4704b4
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "100595164"
---
# <a name="monitor-azure-database-for-mysql-flexible-servers-with-built-in-metrics"></a>Мониторинг базы данных Azure для гибких серверов MySQL с помощью встроенных метрик

> [!IMPORTANT] 
> Сейчас предоставляется общедоступная предварительная версия Гибкого сервера Базы данных Azure для MySQL.

База данных Azure для гибкого сервера MySQL обеспечивает мониторинг серверов с помощью Azure Monitor. Метрики — это числовые значения, которые описывают некоторые аспекты ресурсов сервера в определенный момент времени. Мониторинг ресурсов сервера помогает в устранении неполадок и оптимизации рабочей нагрузки, позволяя отслеживать наиболее важные для вас ресурсы. Мониторинг правильных метрик помогает защитить производительность, надежность и доступность сервера и приложений.

В этой статье вы узнаете о различных метриках, доступных для гибкого сервера, которые позволяют понять поведение сервера.

## <a name="available-metrics"></a>Доступные метрики

База данных Azure для гибкого сервера MySQL предоставляет различные метрики, чтобы понять, как выполняется рабочая нагрузка и на основе этих данных можно понять влияние на сервер и приложение. Например, в гибком сервере можно отслеживать **процент загрузки ЦП узла**, **активные подключения**, **процент ввода-вывода** и **процент памяти узла** , чтобы выявление того, когда возникает снижение производительности. После этого может потребоваться оптимизация рабочей нагрузки, вертикальное масштабирование путем изменения уровней вычислений или горизонтальное масштабирование с использованием реплики чтения.

Все метрики Azure записываются ежеминутно, и каждая из них предоставляет данные за последние 30 дней. Вы можете настроить оповещения на основе метрик. Пошаговые инструкции см. [в разделе Настройка оповещений](./how-to-alert-on-metric.md). Другие задачи включают настройку автоматических действий, выполнение расширенной аналитики и архивирование журнала. Дополнительные сведения см. в статье [Обзор метрик в Microsoft Azure](../../azure-monitor/data-platform.md).

### <a name="list-of-metrics"></a>Список метрик
Для базы данных Azure для MySQL доступны следующие метрики:

|Отображаемое имя метрики|Метрика|Unit|Описание|
|---|---|---|---|
|Процент ЦП узла|cpu_percent|Процент|Процент использования ЦП на сервере, включая использование ЦП как рабочей нагрузки клиента, так и процессов Azure MySQL.|
|Сеть узла в |network_bytes_ingress|Байты|Входящий сетевой трафик на сервере, включая трафик из базы данных клиента и функций Azure MySQL, таких как репликация, мониторинг, журналы и т. д.|
|Исходящий сетевой трафик узла|network_bytes_egress|Байты|Исходящий сетевой трафик на сервере, включая трафик из базы данных клиента и функций Azure MySQL, таких как репликация, мониторинг, журналы и т. д.|
|Задержка репликации|replication_lag|Секунды|Время с момента последнего воспроизведения транзакции. Эта метрика доступна только для серверов реплик.|
|Активные подключения|active_connection|Count|Число активных подключений к серверу.|
|Используемое хранилище резервных копий|backup_storage_used|Байты|Объем используемого хранилища резервных копий.|
|Процент ввода-вывода данных|io_consumption_percent|Процент|Процент используемых операций ввода-вывода.|
|Процент памяти узла|memory_percent|Процент|Процент используемой на сервере памяти, включая использование памяти из рабочей нагрузки клиента и процессов Azure MySQL.|
|Ограничение хранилища|storage_limit|Байты|Максимальный объем хранилища для этого сервера.|
|Процент хранения|storage_percent|Процент|Процент использованного объема хранилища сервера (от максимального объема).|
|Используемое хранилище|storage_used|Байты|Используемый объем хранилища. Хранилище, используемое службой, может содержать файлы базы данных, журналы транзакций и журналы сервера.|
|Всего подключений|total_connections|Count|Общее число подключений к серверу|
|Прерванные подключения|aborted_connections|Count|Число неудачных попыток подключения к MySQL, например сбой подключения из-за неправильных учетных данных.|
|Запросы|Запросы|Count|Число запросов в секунду|

## <a name="next-steps"></a>Дальнейшие действия
- См. рекомендации по созданию оповещений для метрики в статье [Как настраивать оповещения](./how-to-alert-on-metric.md).
- Дополнительные сведения о [масштабировании операций ввода-вывода](./concepts/../concepts-compute-storage.md#iops) для повышения производительности.