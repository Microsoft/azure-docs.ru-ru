---
title: Краткое руководство. Подключение к Базе данных Azure для MySQL (Гибкий сервер) с помощью MySQL Workbench
description: В этом кратком руководстве описывается, как использовать MySQL Workbench для подключения к Базе данных Azure для MySQL (Гибкий сервер) и запроса данных из нее.
author: ambhatna
ms.author: ambhatna
ms.service: mysql
ms.custom: mvc
ms.topic: quickstart
ms.date: 9/21/2020
ms.openlocfilehash: d604ca8c8979ec98b990f8002ce29d0df92ac2af
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2021
ms.locfileid: "90946233"
---
# <a name="quickstart-use-mysql-workbench-to-connect-and-query-data-in-azure-database-for-mysql---flexible-server-preview"></a>Краткое руководство. Подключение к Базе данных Azure для MySQL (Гибкий сервер) и запрос данных с помощью MySQL Workbench (предварительная версия)


> [!IMPORTANT] 
> Сейчас предоставляется общедоступная предварительная версия Гибкого сервера Базы данных Azure для MySQL.

В этом кратком руководстве показано, как подключиться к базе данных Azure для MySQL (Гибкий сервер) с помощью приложения MySQL Workbench.

## <a name="prerequisites"></a>Предварительные требования

В качестве отправной точки в этом кратком руководстве используются ресурсы, созданные в соответствии со следующими материалами:

- [Создание Базы данных Azure для MySQL (Гибкий сервер) с помощью портала Azure](./quickstart-create-server-portal.md)
- [Создание Базы данных Azure для MySQL (Гибкий сервер) с помощью Azure CLI](./quickstart-create-server-cli.md)

## <a name="preparing-your-client-workstation"></a>Подготовка клиентской рабочей станции
- Если вы создали гибкий сервер в режиме *Закрытый доступ (интеграция с виртуальной сетью)* , к этому серверу придется подключаться с другого ресурса в той же виртуальной сети. Например, можно создать виртуальную машину и добавить ее в виртуальную сеть, созданную для гибкого сервера. Дополнительные сведения см. в статье [Создание виртуальной сети для Базы данных Azure для MySQL (Гибкий сервер) и управление ею с помощью Azure CLI](./how-to-manage-virtual-network-cli.md).
- Если вы создали гибкий сервер в режиме *Открытый доступ (разрешенные IP-адреса)* , вы можете добавить локальный IP-адрес в список правил брандмауэра на этом сервере. Дополнительные сведения см. в статье [Создание правил брандмауэра для Базы данных Azure для MySQL (Гибкий сервер) и управление ими с помощью Azure CLI](./how-to-manage-firewall-cli.md).

- Скачайте и установите MySQL Workbench на свой компьютер с [веб-сайта MySQL](https://dev.mysql.com/downloads/workbench/).

## <a name="get-connection-information"></a>Получение сведений о подключении

Получите сведения о подключении, необходимые для подключения к гибкому серверу. Вам потребуется полное имя сервера и учетные данные для входа.

1. Войдите на [портал Azure](https://portal.azure.com/).
2. В меню слева на портале Azure выберите **Все ресурсы** и выполните поиск по имени созданного сервера (например, **mydemoserver**).
3. Выберите имя сервера.
4. Запишите **имя сервера** и **имя для входа администратора сервера** с панели сервера **Обзор**. Если вы забыли свой пароль, можно также сбросить пароль с помощью этой панели.
<!--- :::image type="content" source="./media/connect-php/1_server-overview-name-login.png" alt-text="Azure Database for MySQL Flexible Server name":::--->

## <a name="connect-to-the-server-using-mysql-workbench"></a>Подключение к серверу с помощью MySQL Workbench

Чтобы подключиться к Базе данных Azure для MySQL (Гибкий сервер) с помощью MySQL Workbench, сделайте следующее:

1. Запустите приложение MySQL Workbench на своем компьютере.

2. В диалоговом окне **настройки нового подключения** на вкладке **Параметры** введите следующие сведения:

    :::image type="content" source="./media/connect-workbench/2-setup-new-connection.png" alt-text="Настройка нового подключения":::

    | **Параметры** | **Рекомендуемое значение** | **Описание поля** |
    |---|---|---|
    |    Имя подключения | Пример подключения | Укажите метку для этого подключения. |
    | Способ подключения | Стандартный способ (по протоколу TCP/IP) | Стандартный способ (по протоколу TCP/IP) соответствует требованиям. |
    | Имя узла | *имя сервера* | Укажите значение имени сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. В нашем примере используется такое имя сервера: mydemoserver.mysql.database.azure.com. Используйте полное доменное имя (\*.mysql.database.azure.com), как показано в примере. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя своего сервера.  |
    | Порт | 3306 | Всегда используйте порт 3306 при подключении к базе данных Azure для MySQL. |
    | Имя пользователя |  *имя для входа администратора сервера* | Введите имя администратора сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. В нашем примере используется имя пользователя myadmin. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя пользователя.
    | Пароль | Ваш пароль. | Нажмите кнопку **Store in Vault...** (Сохранить в хранилище), чтобы сохранить пароль. |

3. Щелкните **Проверить подключение**, чтобы проверить, все ли параметры верно настроены.

4. Нажмите кнопку **ОК**, чтобы сохранить подключение.

5. В списке **подключений MySQL** щелкните элемент, соответствующий вашему серверу, и ожидайте установления подключения.

    Откроется новая вкладка SQL с пустым окном редактора, в котором можно вводить запросы.

> [!NOTE]
> В Базе данных Azure для MySQL (Гибкий сервер) требуются и принудительно применяются зашифрованные подключения по протоколу TLS 1.2 Обычно для подключения MySQL Workbench к вашему серверу не требуется дополнительно настраивать сертификаты TLS/SSL, но мы рекомендуем привязать TLS/SSL-сертификат ЦС к MySQL Workbench. Дополнительные сведения см. в статье [Подключение с использованием TLS или SSL](./how-to-connect-tls-ssl.md).

## <a name="create-a-table-insert-data-read-data-update-data-delete-data"></a>Создание таблицы, добавление, считывание, обновление и удаление данных

1. Скопируйте и вставьте пример кода SQL в пустую вкладку SQL для иллюстрации примера данных.

    Этот код создает пустую базу данных с именем quickstartdb, а затем создает пример таблицы с именем inventory. Он добавляет несколько строк, а затем считывает эти строки. Он изменяет данные с помощью инструкции update, а затем еще раз считывает строки. Наконец он удаляет одну строку и еще раз считывает строки.

    ```sql
    -- Create a database
    -- DROP DATABASE IF EXISTS quickstartdb;
    CREATE DATABASE quickstartdb;
    USE quickstartdb;

    -- Create a table and insert rows
    DROP TABLE IF EXISTS inventory;
    CREATE TABLE inventory (id serial PRIMARY KEY, name VARCHAR(50), quantity INTEGER);
    INSERT INTO inventory (name, quantity) VALUES ('banana', 150);
    INSERT INTO inventory (name, quantity) VALUES ('orange', 154);
    INSERT INTO inventory (name, quantity) VALUES ('apple', 100);

    -- Read
    SELECT * FROM inventory;

    -- Update
    UPDATE inventory SET quantity = 200 WHERE id = 1;
    SELECT * FROM inventory;

    -- Delete
    DELETE FROM inventory WHERE id = 2;
    SELECT * FROM inventory;
    ```

    На снимке экрана показан пример кода SQL в SQL Workbench и выходные данные после его выполнения.

    :::image type="content" source="./media/connect-workbench/3-workbench-sql-tab.png" alt-text="MySQL Workbench: вкладка SQL для выполнения примера кода SQL":::

2. Чтобы выполнить пример кода SQL, щелкните значок молнии на панели инструментов вкладки **SQL File** (Файл SQL).
3. Обратите внимание на три вкладки с результатами, которые отображаются в разделе **Сетка результатов** посередине страницы.
4. Обратите внимание на список **Output** (Выходные данные) внизу страницы. Показано состояние каждой команды.

Итак, вы установили подключение к Базе данных Azure для MySQL (Гибкий сервер) с помощью MySQL Workbench и запросили данные с использованием языка SQL.

## <a name="next-steps"></a>Следующие шаги
- [Зашифрованное подключение с использованием протокола TLS 1.2 к Базе данных Azure для MySQL (Гибкий сервер)](./how-to-connect-tls-ssl.md).
- Изучите дополнительные сведения о [сетевых подключениях к Гибкому серверу Базы данных Azure для MySQL](./concepts-networking.md).
- [Создание правил брандмауэра для Гибкого сервера Базы данных Azure для MySQL и управление ими с помощью портала Azure](./how-to-manage-firewall-portal.md).
- [Создание виртуальной сети для Гибкого сервера Базы данных Azure для MySQL и управление ею с помощью портала Azure](./how-to-manage-virtual-network-portal.md).
