---
title: Запуск экспорта путем вызова команды $export в API Azure для FHIR
description: В этой статье описывается, как экспортировать данные FHIR с помощью $export
author: caitlinv39
ms.service: healthcare-apis
ms.subservice: fhir
ms.topic: reference
ms.date: 1/21/2021
ms.author: cavoeg
ms.openlocfilehash: 3437c8bcf8ff508149abae2549d7c34521700840
ms.sourcegitcommit: 59cfed657839f41c36ccdf7dc2bee4535c920dd4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99627269"
---
# <a name="how-to-export-fhir-data"></a>Экспорт данных FHIR


Функция полного экспорта позволяет экспортировать данные с сервера FHIR в соответствии со [спецификацией FHIR](https://hl7.org/fhir/uv/bulkdata/export/index.html). 

Перед использованием $export необходимо убедиться, что API Azure для FHIR настроен для использования. Сведения о настройке параметров экспорта и создании учетной записи хранения Azure см. на [странице Настройка экспорта данных](configure-export-data.md).

## <a name="using-export-command"></a>Использование команды $export

После настройки API Azure для FHIR для экспорта можно использовать команду $export, чтобы экспортировать данные из службы. Данные будут храниться в учетной записи хранения, указанной при настройке экспорта. Чтобы узнать, как вызвать команду $export на сервере FHIR, ознакомьтесь с документацией по [спецификации HL7 FHIR $Export](https://hl7.org/Fhir/uv/bulkdata/export/index.html). 

API Azure для FHIR поддерживает $export на следующих уровнях:
* [Система](https://hl7.org/Fhir/uv/bulkdata/export/index.html#endpoint---system-level-export): `GET https://<<FHIR service base URL>>/$export>>`
* [Пациент](https://hl7.org/Fhir/uv/bulkdata/export/index.html#endpoint---all-patients): `GET https://<<FHIR service base URL>>/Patient/$export>>`
* [Группа пациентов *](https://hl7.org/Fhir/uv/bulkdata/export/index.html#endpoint---group-of-patients) — API Azure для FHIR экспортирует все связанные ресурсы, но не экспортирует характеристики группы: `GET https://<<FHIR service base URL>>/Group/[ID]/$export>>`

При экспорте данных создается отдельный файл для каждого типа ресурсов. Чтобы убедиться, что экспортируемые файлы не станут слишком большими, мы создаем новый файл после того, как размер одного экспортируемого файла становится больше 64 МБ. В результате вы можете получить несколько файлов для каждого типа ресурса, который будет перечисляться (например, пациент-1. нджсон, пациент-2. нджсон). 


> [!Note] 
> `Patient/$export` и `Group/[ID]/$export` могут экспортировать дублирующиеся ресурсы, если ресурс находится в секции более чем одного ресурса или находится в нескольких группах.

Кроме того, проверка состояния экспорта через URL-адрес, возвращенный заголовком Location во время очереди, поддерживается вместе с отменой фактического задания экспорта.



## <a name="settings-and-parameters"></a>Параметры и параметры

### <a name="headers"></a>Заголовки
Для $export заданий необходимо задать два обязательных параметра заголовка. Значения определяются текущей [спецификацией $Export](https://hl7.org/Fhir/uv/bulkdata/export/index.html#headers).
* **Accept** -Application/fhir + JSON
* **Предпочитать** -ответить-Async

### <a name="query-parameters"></a>Параметры запроса
API Azure для FHIR поддерживает следующие параметры запроса. Все эти параметры являются необязательными:

|Параметр запроса        | Определяется спецификацией FHIR?    |  Описание|
|------------------------|---|------------|
| \_outputFormat | Да | В настоящее время поддерживает три значения для согласования со спецификацией FHIR: Application/FHIR + нджсон, Application/нджсон или просто нджсон. Все задания экспорта будут возвращены `ndjson` , а переданное значение не повлияет на поведение кода. |
| \_since | Да | Позволяет экспортировать только ресурсы, которые были изменены с момента указанного времени. |
| \_Тип | Да | Позволяет указать, какие типы ресурсов будут включаться. Например, \_ введите = пациент будет возвращать только ресурсы пациента|
| \_типефилтер | Да | Чтобы запросить детализированную фильтрацию, можно использовать \_ типефилтер вместе с \_ параметром типа. Значение параметра _typeFilter представляет собой разделенный запятыми список запросов FHIR, которые еще больше ограничивают результаты. |
| \_контейнера | Нет |  Указывает контейнер в настроенной учетной записи хранения, куда должны быть экспортированы данные. Если контейнер указан, данные будут экспортированы в этот контейнер в новой папке с именем. Если контейнер не указан, он будет экспортирован в новый контейнер с использованием метки времени и идентификатора задания. |


## <a name="next-steps"></a>Дальнейшие действия

Из этой статьи вы узнали, как экспортировать ресурсы FHIR с помощью команды $export. Далее вы узнаете, как экспортировать неидентифицированные данные:
 
>[!div class="nextstepaction"]
>[Экспорт неидентифицированных данных](de-identified-export.md)
