---
title: диспетчер ресурсов исключения служебной шины Azure | Документация Майкрософт
description: Список исключений служебной шины, на которые появятся Azure Resource Manager и предлагаемые действия.
ms.topic: article
ms.date: 06/23/2020
ms.openlocfilehash: a0b0338da0f002c7b667748ffd2bf5a40c91c580
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85336970"
---
# <a name="service-bus-resource-manager-exceptions"></a>Исключения диспетчер ресурсов служебной шины

В этой статье перечислены исключения, созданные при взаимодействии с служебной шиной Azure с помощью шаблонов Azure Resource Manager или прямых вызовов.

> [!IMPORTANT]
> Этот документ часто обновляется. Ознакомьтесь с обновлениями.

Ниже приведены различные исключения и ошибки, отображаемые в Azure Resource Manager.

## <a name="error-bad-request"></a>Ошибка: неправильный запрос

"Недопустимый запрос" означает, что запрос, полученный диспетчер ресурсов, не прошел проверку.

| Код ошибки | Код ошибки | Сообщение об ошибке | Описание | Рекомендация |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| Ошибка запроса | 40 000 | Код = 40000. Свойство *"имя свойства"* не может быть задано при создании очереди, так как пространство имен *"имя пространства имен"* использует уровень "базовый". Эта операция поддерживается только на уровне "Стандартный" или "Премиум". | На уровне "базовый" служебной шины Azure невозможно установить или обновить указанные ниже свойства. <ul> <li> RequiresDuplicateDetection </li> <li> AutoDeleteOnIdle </li> <li>RequiresSession</li> <li>DefaultMessageTimeToLive </li> <li> DuplicateDetectionHistoryTimeWindow </li> <li> EnableExpress </li> <li> Отправить </li> <li> Разделы </li> </ul> | Для использования этой функции рассмотрите возможность перехода с уровня "базовый" на уровень "Стандартный" или "Премиум". |
| Ошибка запроса | 40 000 | Код = 40000. Значение свойства "requiresDuplicateDetection" существующей очереди (или раздела) не может быть изменено. | Обнаружение дубликатов должно быть включено или отключено во время создания сущности. Параметр конфигурации обнаружения повторов не может быть изменен после создания. | Чтобы включить обнаружение дубликатов в ранее созданной очереди или разделе, можно создать новую очередь или раздел с обнаружением дубликатов, а затем переслать из исходной очереди в новую очередь или раздел. |
| Ошибка запроса | 40 000 | Код = 40000. Указано недопустимое значение 16384. Свойство "Макссизеинмегабитес" должно иметь одно из следующих значений: 1024; 2048; 3072; 4096; 5120. | Недопустимое значение Макссизеинмегабитес. | Убедитесь, что Макссизеинмегабитес является одним из следующих: 1024, 2048, 3072, 4096, 5120. |
| Ошибка запроса | 40 000 | Код = 40000. Невозможно изменить секционирование для очереди или раздела. | Невозможно изменить секционирование для сущности. | Создайте новую сущность (очередь или раздел) и включите секции. | 
| Ошибка запроса | нет | Пространство имен *"имя пространства имен"* не существует. | Пространство имен не существует в вашей подписке Azure. | Чтобы устранить эту ошибку, попробуйте выполнить указанные ниже шаги. <ul> <li> Убедитесь, что подписка Azure правильная. </li> <li> Убедитесь, что пространство имен существует. </li> <li> Проверьте правильность имени пространства имен (без орфографических ошибок или строк со значением NULL). </li> </ul> | 
| Ошибка запроса | 40400 | Код = 40400. Сущность назначения автоматической пересылки не существует. | Назначение для целевой сущности автоматической пересылки не существует. | Целевая сущность (очередь или раздел) должна существовать до создания источника. Повторите попытку после создания целевой сущности. |
| Ошибка запроса | 40 000 | Код = 40000. Указанное время блокировки превышает допустимый максимум в 5 минут. | Время блокировки сообщения должно составлять от 1 минуты (минимум) до 5 минут (максимум). | Убедитесь, что заданное время блокировки находится в диапазоне от 1 мин до 5 минут. |
| Ошибка запроса | 40 000 | Код = 40000. Одновременное включение свойства Делайедперсистенце и RequiresDuplicateDetection невозможно. | Сущности с включенным обнаружением дубликатов должны быть постоянными, поэтому сохранение не может быть отложено. | Дополнительные сведения об [обнаружении дубликатов](duplicate-detection.md) |
| Ошибка запроса | 40 000 | Код = 40000. Значение свойства Рекуирессессион существующей очереди не может быть изменено. | Поддержка сеансов должна быть включена во время создания сущности. После создания вы не сможете включить или отключить сеансы в существующей сущности (очереди или подписке). | Удалите и повторно создайте новую очередь (или подписку) с включенным свойством "Рекуирессессион". |
| Ошибка запроса | 40 000 | Код = 40000. "URI_PATH" содержит символы, запрещенные служебной шиной. Сегменты сущности могут содержать только буквы, цифры, точки (.), дефисы (-) и символы подчеркивания (_). | Сегменты сущности могут содержать только буквы, цифры, точки (.), дефисы (-) и символы подчеркивания (_). Любые другие символы приводят к сбою запроса. | Убедитесь, что в пути URI отсутствуют недопустимые символы. |


## <a name="error-code-429"></a>Код ошибки: 429

Как и в HTTP, "код ошибки 429" означает "слишком много запросов". Это означает, что конкретный ресурс (пространство имен) регулируется из-за слишком большого числа запросов (или в связи с конфликтующими операциями) с этим ресурсом.

| Код ошибки | Код ошибки | Сообщение об ошибке | Описание | Рекомендация |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 429 | 50004 | Код = 50004. Запрос был завершен, так как пространство имен, в котором выполняется регулирование *пространства имен* . | Это условие ошибки вызывается, когда число входящих запросов превышает ограничение ресурса. | Подождите несколько секунд и повторите попытку. <br/> <br/> Дополнительные сведения о [квотах](service-bus-quotas.md) и [ограничениях запросов Azure Resource Manager](../azure-resource-manager/management/request-limits-and-throttling.md)|
| 429 | 40901 | Код = 40901. Выполняется другая конфликтующая операция. | Выполняется другая конфликтующая операция над тем же ресурсом или сущностью | Дождитесь завершения текущей выполняемой операции, прежде чем повторять попытку. |
| 429 | 40900 | Код = 40900. Конфликт. Запрашиваемая операция не разрешена в текущем состоянии ресурса. | Это условие может наблюдаться при нескольких запросах на выполнение операций с одной и той же сущностью (очередь, раздел, подписка или правило) в одно и то же время. | Подождите несколько секунд и повторите попытку. |
| 429 | 40901 | Запрос к сущности *"имя сущности"* конфликтует с другим запросом | Выполняется другая конфликтующая операция над тем же ресурсом или сущностью | Дождитесь завершения предыдущей операции, прежде чем повторить попытку |
| 429 | 40901 | Для сущности *"имя сущности"* выполняется другой запрос на обновление. | Выполняется другая конфликтующая операция над тем же ресурсом или сущностью | Дождитесь завершения предыдущей операции, прежде чем повторить попытку |
| 429 | нет | Произошел конфликт ресурсов. Возможно, выполняется другая конфликтующая операция. Если это повторная попытка для операции, завершившейся сбоем, Фоновая очистка все еще находится в состоянии ожидания. Повторите попытку позже. | Это условие может быть достигнуто при наличии ожидающей операции над той же сущностью. | Дождитесь завершения предыдущей операции, а затем повторите попытку. |


## <a name="error-code-not-found"></a>Код ошибки: не найден

Этот класс ошибок указывает, что ресурс не найден.

| Код ошибки | Код ошибки | Сообщение об ошибке | Описание | Рекомендация |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| Не найдено | нет | Сущность *"имя сущности"* не найдена. | Сущность, для которой не была найдена операция. | Проверьте, существует ли сущность, и повторите операцию. |
| Не найдено | нет | Не найден. Операция не существует. | Операция, которую вы пытаетесь выполнить, не существует. | Проверьте операцию и повторите попытку. |
| Не найдено | нет | Входящий запрос не распознан как запрос на Добавление политики пространства имен. | Текст входящего запроса имеет значение NULL и поэтому не может быть выполнен как запрос на размещение. | Проверьте текст запроса, чтобы убедиться, что он не равен null. | 
| Не найдено | нет | Не удалось найти сущность обмена сообщениями *"имя сущности"* . | Не удалось найти сущность, которой вы пытаетесь выполнить операцию. | Убедитесь, что сущность существует, и повторите операцию. |

## <a name="error-code-internal-server-error"></a>Код ошибки: Внутренняя ошибка сервера

Этот класс ошибок указывает на то, что произошла внутренняя ошибка сервера.

| Код ошибки | Код ошибки | Сообщение об ошибке | Описание | Рекомендация |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| Внутренняя ошибка сервера | 50 000 | Код = 50000. Внутренняя ошибка сервера| Может происходить по различным причинам. Некоторые симптомы — <ul> <li> Клиентский запрос/текст поврежден и приводит к ошибке. </li> <li> Время ожидания запроса клиента истекло из-за проблем с обработкой службы. </li> </ul> | Для решения этой проблемы <ul> <li> Убедитесь, что параметры запросов не равны null или имеют неправильный формат. </li> <li> Повторите запрос. </li> </ul> |

## <a name="error-code-unauthorized"></a>Код ошибки: не санкционировано

Этот класс ошибок указывает на отсутствие авторизации для выполнения команды.

| Код ошибки | Код ошибки | Сообщение об ошибке | Описание | Рекомендация |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| Не авторизовано | нет | Недопустимая операция в дополнительном пространстве имен. Вторичное пространство имен доступно только для чтения. | Операция была выполнена для дополнительного пространства имен, которое настроено как пространство имен, доступное только для чтения. | Повторите команду для основного пространства имен. Дополнительные сведения о [дополнительном пространстве имен](service-bus-geo-dr.md) |
| Не авторизовано | нет | Миссингтокен: заголовок авторизации не найден. | Эта ошибка возникает, когда авторизация имеет значения NULL или неверные. | Убедитесь, что значение маркера, указанное в заголовке авторизации, указано правильно и не равно null. |