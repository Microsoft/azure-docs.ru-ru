---
title: Оценка готовности экземпляров AWS к миграции в Azure с помощью Миграция Azure
description: Узнайте, как оценить готовность экземпляров AWS к миграции в Azure с помощью Миграции Azure.
author: rashi-ms
ms.author: rajosh
ms.manager: abhemraj
ms.topic: tutorial
ms.date: 09/14/2020
ms.custom: MVC
ms.openlocfilehash: 942adacf5b9a3b1b717e28def5752591ef22ec52
ms.sourcegitcommit: f611b3f57027a21f7b229edf8a5b4f4c75f76331
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104782339"
---
# <a name="tutorial-assess-aws-instances-for-migration-to-azure"></a>Руководство по Оценка готовности экземпляров AWS к переносу в Azure

В рамках перехода на Azure вам нужно оценить локальные рабочие нагрузки, чтобы измерить готовность облака, определить риски и оценить затраты и сложность.

В этой статье описывается, как оценивать готовность экземпляров Amazon Web Services (AWS) к миграции в Azure с помощью средства обнаружения и оценки Миграции Azure.

В этом руководстве описано следующее.
> [!div class="checklist"]
- Выполните оценку на основе метаданных сервера и сведений о конфигурации.
- Выполнение оценки на основе данных производительности.

> [!NOTE]
> В учебниках показан самый быстрый способ выполнения сценария и используются параметры по умолчанию, где это возможно. 

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись](https://azure.microsoft.com/pricing/free-trial/), прежде чем начинать работу.


## <a name="prerequisites"></a>Предварительные требования

- Перед выполнением действий, описанных в этом учебнике, выполните инструкции из первого учебника этой серии, чтобы [обнаружить локальные данные инвентаризации](tutorial-discover-aws.md). 
- Убедитесь, что экземпляры AWS не работают под управлением Windows Server 2003 или SUSE Linux. Оценки не поддерживаются для этих серверов.


## <a name="decide-which-assessment-to-run"></a>Выбор оценки для выполнения


Решите, следует ли выполнять оценку с помощью критериев определения размера, основанных на динамических данных производительности или данных либо метаданных конфигурации сервера, которые были собраны локально в исходном виде.

**Оценка** | **Сведения** | **Рекомендация**
--- | --- | ---
**Как в локальной среде** | Оценка на основе данных или метаданных конфигурации сервера.  | Рекомендуемый размер виртуальной машины Azure подбирается на основе размера локальной виртуальной машины.<br/><br> Рекомендуемый тип диска Azure зависит от того, какое значение вы выбрали для параметра типа хранилища при выполнении оценки.
**На основе производительности** | Оценка на основе собранных динамических данных производительности. | Рекомендуемый размер виртуальной машины Azure подбирается на основе данных об использовании ЦП и памяти.<br/><br/> Рекомендуемый тип диска зависит от операций ввода-вывода в секунду и пропускной способности локальных дисков.

## <a name="run-an-assessment"></a>Запуск оценки

Запустите оценку следующим образом:

1. На странице **Обзор** выберите **Windows, Linux and SQL Server** (Windows, Linux и SQL Server) и выберите **Оценка и миграция серверов**.

   ![Расположение кнопки "Оценка и миграция серверов"](./media/tutorial-assess-vmware-azure-vm/assess.png)

2. В **средстве "Обнаружение и оценка" службы "Миграция Azure"** щелкните **Оценка**.

    ![Расположение кнопки оценки](./media/tutorial-assess-vmware-azure-vm/assess-servers.png)

3. На вкладке **Оценка серверов** > **Тип оценки** выберите **Виртуальная машина Azure**.
4. В **источнике обнаружения**:

    - Если вы обнаружили серверы с помощью устройства, выберите **Servers discovered from Azure Migrate appliance** (Серверы, обнаруженные с устройства Миграции Azure).
    - Если вы обнаружили серверы с помощью импортированного CSV-файла, выберите **Imported servers** (Импортированные серверы). 
    
1. Щелкните **Изменить**, чтобы просмотреть свойства оценки.

    :::image type="content" source="./media/tutorial-assess-vmware-azure-vm/assessment-name.png" alt-text="Расположение кнопки &quot;Изменить&quot; для просмотра свойств оценки":::

1. В разделе **Свойства оценки** > **Свойства целевого объекта**:
    - В поле **Целевое расположение** выберите регион Azure, в который необходимо выполнить миграцию.
        - Рекомендации по размеру и стоимости основаны на указанном вами расположении. Когда вы измените целевое расположение, заданное по умолчанию, вам будет предложено указать значения для параметров **Зарезервированные экземпляры** и **Серия виртуальных машин**.
        - В Azure для государственных организаций вы можете оценивать целевые объекты в [этих регионах](migrate-support-matrix.md#supported-geographies-azure-government).
    - В разделе **Тип хранилища**
        - Если вы хотите использовать данные, основанные на производительности, выберите для службы "Миграция Azure" **Автоматически**, чтобы получить рекомендации касательно типа хранилища на основе количества операций ввода-вывода в секунду и пропускной способности диска.
        - Или же вы можете выбрать тип хранилища, который будет использоваться для виртуальной машины во время ее миграции.
    - В поле **Зарезервированные экземпляры** укажите, хотите ли вы использовать зарезервированные экземпляры для виртуальной машины во время ее миграции.
        - Если вы выберете использовать зарезервированный экземпляр, вы не сможете указать значения для полей **Скидка (%)** или **Время доступности виртуальной машины**. 
        - [Подробнее](https://aka.ms/azurereservedinstances).
 1. В поле **Размер виртуальной машины**:
     - В поле **Условия изменения размера** выберите, следует ли выполнять оценку на основе данных либо метаданных конфигурации сервера или данных производительности. При использовании данных о производительности:
        - В поле **Журнал производительности** укажите период, данные за который должны стать основой для оценки.
        - В поле **Использование процентиля** укажите значение процентиля, которое будет использоваться для примера производительности. 
    - В поле **Серия виртуальных машин** укажите серию виртуальной машины Azure, которую вы хотите использовать.
        - Если вы используете оценку на основе производительности, служба "Миграция Azure" подберет значение самостоятельно.
        - При необходимости настройте параметры. Например, если у вас нет рабочей среды, которая требует виртуальных машин Azure серии А, эту серию можно исключить из списка серий.
    - В поле **Фактор комфорта** укажите буфер, который вы хотите использовать во время оценки. Он учитывается, например, для сезонного использования и малого количества записей в журнале с потенциальным повышением в будущем. Например, если вы используете фактор комфорта "2":
    
        **Компонент** | **Эффективное использование** | **Добавление фактора комфорта (2.0)**
        --- | --- | ---
        Ядра | 2  | 4
        Память | 8 ГБ | 16 Гб
   
1. В разделе **Цены**:
    - В поле **Предложение** укажите [предложение Azure](https://azure.microsoft.com/support/legal/offer-details/), если вы зарегистрировались. Средство оценки вычисляет стоимость этого предложения.
    - В поле **Валюта** выберите валюту выставления счетов для своей учетной записи.
    - В поле **Скидка (%)** добавьте все скидки, относящиеся к подписке и предоставляемые в рамках предложения Azure. Значение по умолчанию — 0 %.
    - В поле **Время доступности виртуальной машины** укажите длительность (дней в месяц / часов в день), в течение которого виртуальные машины будут запущены.
        - Это может быть полезно для виртуальных машин Azure, которые не будут работать непрерывно.
        - Оценка затрат зависит от указанной длительности.
        - Значение по умолчанию — 31 день в месяц / 24 часа в день.
    - В поле **Подписка EA** укажите, следует ли учитывать скидку по подписке "Соглашение Enterprise (EA)" для оценки затрат. 
    - В поле **Преимущество гибридного использования Azure** укажите, установлена ли у вас лицензия Windows Server. Если вы это сделаете и на них будет распространяться действие Software Assurance для подписок на Windows Server, вы сможете применить [Преимущество гибридного использования Azure](https://azure.microsoft.com/pricing/hybrid-use-benefit/) при миграции лицензий в Azure.

1. При внесении изменений нажмите кнопку **Сохранить**.

    ![Свойства оценки](./media/tutorial-assess-vmware-azure-vm/assessment-properties.png)

1. В поле **Оценка серверов** щелкните **Далее**.

1. В разделе **Select servers to assess** (Выбор серверов для оценки) > **Имя оценки** укажите имя для оценки. 

1. В разделе **Создание или выбор группы** выберите **Создать** и укажите имя группы. 
    
1. Выберите устройство, а также виртуальные машины, которые необходимо добавить в группу. Затем нажмите кнопку **Далее**.

1. На странице **Review + create assessment** (Проверка и создание оценки) проверьте сведения об оценке и щелкните **Создать оценку**, чтобы создать группу и запустить оценку.

1. После создания оценки просмотрите ее, выбрав элементы **Серверы** > **Azure Migrate: Discovery and assessment (Миграция Azure: обнаружение и оценка)**  > **Оценки**.

1. Щелкните **Экспорт оценки**, чтобы скачать оценку в виде файла Excel.
    > [!NOTE]
    > Если вы хотите выполнить оценку на основе производительности, рекомендуется подождать по крайней мере один день после запуска обнаружения, прежде чем создавать оценку. Благодаря этому вы сможете получить данные о производительности с большей достоверностью. В идеале после запуска обнаружения следует дождаться заданной длительности производительности (день/неделя/месяц), что позволит получить оценку с высокой достоверностью.

## <a name="review-an-assessment"></a>Проверка оценки

В результатах оценки описывается:

- **готовность к работе в Azure**: подходят ли виртуальные машины для миграции в Azure;
- **примерную ежемесячную стоимость**: оценочную месячная стоимость вычислений и хранения для работы виртуальных машин в Azure;
- **примерную стоимость хранилища в месяц**: расчетную стоимость хранилища дисков после миграции.

Чтобы просмотреть оценку, сделайте следующее.

1. В разделе **Windows, Linux и SQL Server** > **Миграция Azure: Обнаружение и оценка** щелкните номер рядом с элементом **Оценки**.
2. В разделе **Оценки** щелкните оценку, чтобы открыть сведения о ней. В качестве примера (оценки и затраты только для примера): 

    ![Сводка оценки](./media/tutorial-assess-aws/assessment-summary.png)

3. Проверьте сводку по оценке. Вы можете также изменить свойства оценки или повторно рассчитать оценку.
 
 
### <a name="review-readiness"></a>Готовность к рассмотрению

1. Нажмите **Готовность к работе в Azure**.
2. В поле **Готовность к работе в Azure** просмотрите статус виртуальной машины:
    - **Готово к работе в Azure**: используется, когда служба "Миграция Azure" рекомендует размер и стоимость виртуальных машин в оценке.
    - **Готово при выполнении условий**: отображает проблемы и предлагаемые способы исправления.
    - **Не готово для Azure**: отображает проблемы и предлагаемые способы исправления.
    - **Уровень готовности неизвестен**: используется, когда служба "Миграция Azure" не может оценить готовность из-за проблем с доступностью данных.

3. Щелкните состояние **Готовность к работе в Azure**. Вы можете просмотреть сведения о готовности виртуальной машины. Также здесь можно развернуть подробные сведения о виртуальной машине, включая параметры вычислений, хранилища и сети.

### <a name="review-cost-estimates"></a>Проверка оценки стоимости

В сводке по оценке отображается оценочная стоимость вычислений и хранения для запущенных виртуальных машин в Azure. 

1. Просмотрите общую сумму ежемесячных расходов. Затраты объединяются для всех виртуальных машин в оцениваемой группе.

    - Оценки стоимости основываются на рекомендациях по определению размера сервера, а также на характеристиках его дисков и свойствах.
    - Показана расчетная месячная стоимость вычислений и хранения.
    - Оценка затрат предназначена для запуска локальных виртуальных машин на виртуальных машинах Azure. Оценка не учитывает затраты на PaaS и SaaS.

2. Просмотрите стоимость хранилища в месяц. В этом представлении показаны совокупные затраты на хранение для оцениваемой группы, распределенные по дискам хранения разных типов. 
3. Вы можете развернуть подробные сведения об определенных виртуальных машинах.

### <a name="review-confidence-rating"></a>Просмотр рейтинга достоверности

Служба "Миграция Azure" присваивает рейтинг достоверности оценкам, основанным на производительности. Оценка — от одной звезды (самая низкая) до пяти звезд (самая высокая).

![Оценка достоверности](./media/tutorial-assess-aws/confidence-rating.png)

Оценка достоверности помогает определить надежность рекомендаций по выбору размера в оценке. Рейтинг достоверности этой оценки основывается на доступности точек данных, необходимых для ее вычисления.

> [!NOTE]
> Если оценка создается на основе CSV-файла, рейтинг достоверности такой оценке не присваивается.


Ниже приведены оценки достоверности.

**Доступность точки данных** | **Оценка достоверности**
--- | ---
0–20 % | 1 звезда
21–40 % | 2 звезды
41–60 % | 3 звезды
61–80 % | 4 звезды
81–100 % | 5 звезд

[Подробнее](concepts-assessment-calculation.md#confidence-ratings-performance-based) о рейтингах достоверности.

## <a name="next-steps"></a>Дальнейшие действия

- Найдите зависимости сервера с помощью [сопоставления зависимостей](concepts-dependency-visualization.md).
- Настройте сопоставления зависимостей [на основе агента](how-to-create-group-machine-dependencies.md).
