---
title: Обнаружение экземпляров SQL Server в существующем проекте службы "миграция Azure"
description: Узнайте, как обнаруживать экземпляры SQL Server в существующем проекте службы "миграция Azure".
author: rashi-ms
ms.author: rajosh
ms.manager: abhemraj
ms.topic: how-to
ms.date: 11/23/2020
ms.openlocfilehash: 3dc9b178b9aa22991230f4cc6a9d54b44cf09b4e
ms.sourcegitcommit: 4b7a53cca4197db8166874831b9f93f716e38e30
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "102098814"
---
# <a name="discover-sql-server-instances-in-an-existing-project"></a>Обнаружение экземпляров SQL Server в существующем проекте 

В этой статье описывается, как обнаружить экземпляры SQL Server и базы данных в проекте службы " [Миграция Azure](./migrate-services-overview.md) ", созданного до предварительной версии функции оценки Azure SQL.

Обнаружение экземпляров SQL Server и баз данных, работающих на локальных компьютерах, помогает выявить и адаптировать путь миграции к Azure SQL. Устройство миграции Azure выполняет это обнаружение, используя учетные данные домена или SQL Server учетные данные для проверки подлинности, которые имеют доступ к экземплярам SQL Server и базам данных, работающим на целевых серверах. Этот процесс обнаружения не является агентом, т. е. на целевых серверах ничего не установлено.

> [!Note]
> Обнаружение и оценка SQL Server экземпляров и баз данных, работающих в среде VMware, теперь находится на этапе предварительной версии. Чтобы испытать эту функцию, используйте [**эту ссылку**](https://aka.ms/AzureMigrate/SQL) для создания проекта в **Восточная Австралияном** регионе. Если у вас уже есть проект в Восточная Австралия и вы хотите испытать эту функцию, убедитесь, что выполнены [**Предварительные требования**](how-to-discover-sql-existing-project.md) , описанные в этой статье.

## <a name="before-you-start"></a>Прежде чем начать

- Убедитесь, что выполнены следующие задачи: 
    - Создан проект службы " [Миграция Azure](./create-manage-projects.md) " перед объявлением функции оценки SQL для вашего региона
    - Добавлено средство " [Миграция Azure: обнаружение и оценка](./how-to-assess.md) " в проект
- Ознакомьтесь [с поддержкой и требованиями к обнаружению приложений](./migrate-support-matrix-vmware.md#vmware-requirements).
-  Убедитесь, что на серверах, где выполняется обнаружение приложений, установлен PowerShell версии 2,0 или более поздней, а также установлены средства VMware (более поздние, чем 10.2.0).
- Проверьте [требования](./migrate-appliance.md) к развертыванию устройства "миграция Azure".
- Убедитесь, что в подписке имеются [необходимые роли](./create-manage-projects.md#verify-permissions) для создания ресурсов.
- Убедитесь, что у устройства есть доступ к Интернету.

## <a name="enable-discovery-of-sql-server-instances-and-databases"></a>Включение обнаружения экземпляров SQL Server и баз данных

1. В проекте службы "миграция Azure"
    - Выберите пункт **не включено** на плитке центра или :::image type="content" source="./media/how-to-discover-sql-existing-project/hub-not-enabled.png" alt-text="плитка &quot;миграция Azure&quot; с отключенным обнаружением SQL"::: .
    - Выберите параметр **не включено** для любой записи на странице Обнаружение сервера в СТОЛБЦЕ экземпляры SQL столбец   :::image type="content" source="./media/how-to-discover-sql-existing-project/discovery-not-enabled.png" alt-text="обнаруженные серверы в Azure миграция с обнаружением SQL не включен":::
2. В разделе Обнаружение SQL Server экземпляров и баз данных выполните следующие действия:
    - Выберите **Обновить**, чтобы создать требуемый ресурс.
        :::image type="content" source="./media/how-to-discover-sql-existing-project/discovery-upgrade-appliance.png" alt-text="Кнопка для обновления устройства миграции Azure":::
    - Убедитесь, что службы, работающие на устройстве, обновлены до последних версий. Для этого запустите Диспетчер конфигурации устройства с сервера устройства и выберите пункт Просмотр служб устройства на панели Настройка необходимых компонентов.
        - Устройство и его компоненты автоматически обновляются. :::image type="content" source="./media/how-to-discover-sql-existing-project/appliance-services-version.png" alt-text="Проверьте версию устройства"::: .
    - На панели Управление учетными данными и источниками обнаружения в диспетчере конфигурации устройства добавьте домен или SQL Server учетные данные проверки подлинности, которые имеют доступ к sysadmin на экземпляре SQL Server и базе данных, которые необходимо обнаружить. 
    Вы можете использовать функцию автоматического сопоставления учетных данных устройства или вручную сопоставить учетные данные с соответствующим сервером, как показано [здесь](https://review.docs.microsoft.com/azure/migrate/tutorial-discover-vmware?branch=release-migrate-sql-scenario#start-continuous-discovery).
        
    Некоторые замечания
    - Убедитесь, что Инвентаризация программного обеспечения уже включена, или укажите учетные данные домена или не домена, чтобы включить их. Для обнаружения экземпляров SQL Server необходимо выполнить инвентаризацию программного обеспечения.
    - Устройство попытается проверить учетные данные домена с помощью AD, так как они будут добавлены. Убедитесь, что сервер устройства имеет сетевую карту для сервера AD, связанного с учетными данными. Учетные данные, связанные с проверкой подлинности SQL Server, не проходят проверку. 

3. После добавления необходимых учетных данных выберите начать обнаружение, чтобы начать проверку.

> [!Note] 
>Перед созданием оценок для Azure SQL подождите, пока выполняется обнаружение SQL. Если обнаружение экземпляров SQL Server и баз данных не разрешено, соответствующие экземпляры помечаются как **неизвестные** в отчете об оценке.

## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как создать [оценку Azure SQL](./how-to-create-azure-sql-assessment.md) .
- Дополнительные сведения о [оценках Azure SQL](./concepts-azure-sql-assessment-calculation.md)