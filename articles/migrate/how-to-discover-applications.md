---
title: Обнаружение инвентаризации программного обеспечения на локальных серверах с помощью службы "миграция Azure"
description: Узнайте, как обнаруживать инвентаризацию программного обеспечения на локальных серверах с помощью службы "миграция и оценка" в Azure.
author: vineetvikram
ms.author: vivikram
ms.manager: abhemraj
ms.topic: how-to
ms.date: 03/18/2021
ms.openlocfilehash: d68c3729e8a63f8342cd51b62413aec3276c6165
ms.sourcegitcommit: 42e4f986ccd4090581a059969b74c461b70bcac0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2021
ms.locfileid: "104871016"
---
# <a name="discover-installed-software-inventory-and-sql-server-instances-and-databases"></a>Обнаружение установленной инвентаризации программного обеспечения и SQL Server экземпляров и баз данных

В этой статье описывается Обнаружение установленной инвентаризации программного обеспечения и SQL Server экземпляров и баз данных на серверах, работающих в среде VMware, с помощью средства "миграция Azure": средство обнаружения и оценки.

Выполнение инвентаризации программного обеспечения помогает выявление и адаптация пути миграции в Azure для рабочих нагрузок. Функция инвентаризации программного обеспечения использует устройство службы "миграция Azure" для выполнения обнаружения с использованием учетных данных сервера. Он полностью безагентным. на серверах не установлены агенты для получения этих данных.

## <a name="before-you-start"></a>Прежде чем начать

- Убедитесь, что вы [создали проект](./create-manage-projects.md) с добавленным к нему средством "миграция Azure: обнаружение и оценка".
- Ознакомьтесь с [требованиями к VMware](migrate-support-matrix-vmware.md#vmware-requirements) , чтобы выполнить инвентаризацию программного обеспечения.
- Проверьте [требования к устройству](migrate-support-matrix-vmware.md#azure-migrate-appliance-requirements) перед настройкой устройства.
- Ознакомьтесь с [требованиями к обнаружению приложений](migrate-support-matrix-vmware.md#application-discovery-requirements) перед запуском инвентаризации программного обеспечения на серверах.

## <a name="deploy-and-configure-the-azure-migrate-appliance"></a>Развертывание и Настройка устройства "миграция Azure"

1. [Ознакомьтесь](migrate-appliance.md#appliance---vmware) с требованиями к развертыванию устройства "миграция Azure".
2. Ознакомьтесь с URL-адресами Azure, которые требуются устройству для доступа в [общедоступных](migrate-appliance.md#public-cloud-urls) и [правительственных облаках](migrate-appliance.md#government-cloud-urls).
3. [Просмотрите данные](migrate-appliance.md#collected-data---vmware), собранные устройством во время обнаружения и оценки.
4. [Обратите внимание](migrate-support-matrix-vmware.md#port-access-requirements) на требования доступа к порту для устройства.
5. [Разверните устройство "миграция Azure"](how-to-set-up-appliance-vmware.md) , чтобы запустить обнаружение. Чтобы развернуть устройство, скачайте и импортируйте шаблон OVA в VMware, чтобы создать сервер, работающий на vCenter Server. После развертывания устройства необходимо зарегистрировать его в проекте и настроить для запуска обнаружения.
6. При настройке устройства необходимо указать следующие параметры в диспетчере конфигурации устройства:
    - Сведения о vCenter Server, к которому необходимо подключиться.
    - vCenter Server учетные данные для обнаружения серверов в среде VMware.
    - Учетные данные сервера, которые могут быть учетными данными домена или Windows (не домена) или Linux (не домена). [Узнайте больше](add-server-credentials.md) о том, как указать учетные данные и как мы их обрабатываем.

## <a name="verify-permissions"></a>Проверка разрешений

- Для обнаружения и оценки необходимо [создать vCenter Server учетную запись только для чтения](./tutorial-discover-vmware.md#prepare-vmware) . Учетной записи, доступной только для чтения, требуются права на  >  **Гостевые операции** виртуальных машин, чтобы взаимодействовать с серверами для выполнения инвентаризации программного обеспечения.
- Вы можете добавить несколько доменных и недоменных учетных данных (Windows/Linux) в диспетчере конфигурации устройства для обнаружения приложений. Вам потребуется учетная запись гостевого пользователя для серверов Windows, а также обычная или обычная учетная запись пользователя (без доступа sudo) для всех серверов Linux. Дополнительные [сведения](add-server-credentials.md) о способах предоставления учетных данных и их обработке.

### <a name="add-credentials-and-initiate-discovery"></a>Добавление учетных данных и инициирование обнаружения

1. Откройте диспетчер конфигурации устройства, выполните проверки готовности и регистрацию устройства.
2. Перейдите на панель **Управление учетными данными и источниками обнаружения** .
1.  На **шаге 1. Укажите учетные данные vCenter Server**, щелкните **Добавить учетные** данные, чтобы указать учетные данные для учетной записи vCenter Server, которую устройство будет использовать для обнаружения серверов, работающих на vCenter Server.
1. На **шаге 2. укажите vCenter Server сведения**, щелкните **Добавить источник обнаружения** , чтобы выбрать понятное имя учетных данных из раскрывающегося списка. Укажите **IP-адрес или полное доменное** имя :::image type="content" source="./media/tutorial-discover-vmware/appliance-manage-sources.png" alt-text="панели экземпляра vCenter Server 3 в диспетчере конфигурации устройства для сведений о vCenter Server":::
1. На **шаге 3. Предоставьте учетные данные сервера для выполнения инвентаризации программного обеспечения, анализа зависимостей без агента и обнаружения экземпляров SQL Server и баз данных**. Щелкните **Добавить учетные данные** , чтобы указать несколько учетных данных сервера для запуска инвентаризации программного обеспечения.
1. Щелкните **Начать обнаружение**, чтобы запустить обнаружение vCenter Server.

 После завершения обнаружения vCenter Server устройство инициирует Обнаружение установленных приложений, ролей и компонентов (инвентаризации программного обеспечения). которое зависит от числа обнаруженных серверов. Для отображения данных инвентаризации при обнаружении 500 серверов на портале службы "Миграция Azure" потребуется примерно один час.

## <a name="review-and-export-the-inventory"></a>Проверка и экспорт инвентаризации

После завершения инвентаризации программного обеспечения можно просматривать и экспортировать инвентаризацию в портал Azure.

1. В **службе "миграция Azure" — Windows, Linux и SQL Servers**  >  **Миграция Azure: обнаружение и оценка**. Щелкните отображаемое число, чтобы открыть страницу **обнаруженные серверы** .

    > [!NOTE]
    > На этом этапе можно также включить анализ зависимостей для обнаруженных серверов, чтобы можно было визуализировать зависимости между серверами, которые необходимо оценить. Дополнительные [сведения](concepts-dependency-visualization.md) об анализе зависимостей.

2. В столбце **Инвентаризация программного обеспечения** щелкните отображаемое число, чтобы просмотреть обнаруженные приложения, роли и компоненты.
4. Чтобы экспортировать инвентаризацию, на **обнаруженных серверах** щелкните **Экспорт инвентаризации приложений**.

Инвентаризация программного обеспечения экспортируется и загружается в формате Excel. На листе **Инвентаризация программного обеспечения** отображаются все приложения, обнаруженные на всех серверах.

## <a name="discover-sql-server-instances-and-databases"></a>Обнаружение экземпляров SQL Server и баз данных

- Инвентаризация программного обеспечения также определяет экземпляры SQL Server, выполняемые в среде VMware.
- Если вы не предоставили проверку подлинности Windows или SQL Server учетные данные для проверки подлинности в диспетчере конфигурации устройства, добавьте учетные данные, чтобы устройство могла использовать их для подключения к соответствующим экземплярам SQL Server.

После подключения устройство собирает данные о конфигурации и производительности SQL Server экземпляров и баз данных. Данные конфигурации SQL Server обновляются каждые 24 часа, а данные о производительности фиксируются каждые 30 секунд. Таким образом, любое изменение свойств экземпляра SQL Server и баз данных, таких как состояние базы данных, уровень совместимости и т. д., может занять до 24 часов на портале.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание оценки](how-to-create-assessment.md) для обнаруженных серверов.
- [Оцените готовность серверов SQL Server](./tutorial-assess-sql.md) к переносу в Azure SQL.
