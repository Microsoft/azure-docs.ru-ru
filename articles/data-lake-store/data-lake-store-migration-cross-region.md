---
title: Перенос Azure Data Lake Storage 1-го поколения между регионами | Документы Майкрософт
description: Узнайте, что следует учитывать при планировании и завершении миграции на Azure Data Lake Storage 1-го поколения, так как оно станет доступным в новых регионах.
services: data-lake-store
documentationcenter: ''
author: twooley
manager: amitkul
editor: swums
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.date: 01/27/2017
ms.author: twooley
ms.openlocfilehash: c6520036f3ddb8799025129391330268b0604886
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "97723812"
---
# <a name="migrate-azure-data-lake-storage-gen1-across-regions"></a>Перенос Data Lake Storage 1-го поколения между регионами

Когда служба Azure Data Lake Storage 1-го поколения становится доступной в новых регионах, вам может понадобиться выполнить однократный перенос, чтобы воспользоваться преимуществами нового региона. Узнайте, что необходимо учесть при планировании и выполнении переноса.

## <a name="prerequisites"></a>Предварительные условия

* **Подписка Azure**. Чтобы получить дополнительные сведения, ознакомьтесь со страницей [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись Data Lake Storage 1-го поколения в двух разных регионах**. Дополнительные сведения см. в статье [Начало работы с Azure Data Lake Storage 1-го поколения](data-lake-store-get-started-portal.md).
* **Фабрика данных Azure**. Дополнительную информацию см. в статье [Общие сведения о службе фабрики данных Azure, службе интеграции данных в облаке](../data-factory/introduction.md).


## <a name="migration-considerations"></a>Вопросы миграции

Во-первых, определите стратегию переноса, лучше всего подходящую для вашего приложения, которое записывает, считывает и обрабатывает данные в Data Lake Storage 1-го поколения. При выборе стратегии учитывайте требования приложения к доступности и время простоя, которое возникнет во время переноса. Например, проще всего использовать модель переноса в облако lift-and-shift. При таком подходе работа приложения в существующем регионе приостанавливается, пока все данные копируются в новый регион. После завершения копирования приложение возобновляет работу в новом регионе, после чего старая учетная запись Data Lake Storage 1-го поколения удаляется. При переносе обязательно возникает простой.

Чтобы сократить время простоя, можно немедленно начать прием новых данных в новом регионе. Получив минимально необходимый набор данных, запустите приложение в новом регионе. В фоновом режиме продолжайте копировать данные из старой учетной записи Data Lake Storage 1-го поколения в новую учетную запись Data Lake Storage 1-го поколения в новом регионе. Такой подход позволяет переключиться на новый регион с небольшим временем простоя. Скопировав все старые данные, удалите старую учетную запись Data Lake Storage 1-го поколения.

Далее перечислены другие важные факторы, которые следует учесть при планировании миграции.

* **Объем данных**. Объем данных (в гигабайтах, по числу файлов и папок и т. д) влияет на время и ресурсы, необходимые для переноса.

* **Имя учетной записи Data Lake Storage 1-го поколения**. Имя новой учетной записи в новом регионе должно быть глобально уникальным. Предположим, ваша старая учетная запись Data Lake Storage 1-го поколения в Восточной части США 2 называется contosoeastus2.azuredatalakestore.net. Тогда новую учетную запись Data Lake Storage 1-го поколения, расположенную в Северной Европе (ЕС), можно назвать contosonortheu.azuredatalakestore.net.

* **Средства**. Для копирования файлов Data Lake Storage 1-го поколения рекомендуется использовать [действие копирования фабрики данных Azure](../data-factory/connector-azure-data-lake-store.md). Фабрика данных поддерживает надежное и эффективное перемещение данных. Учтите, что фабрика данных копирует только иерархию папок и содержимое файлов. К новой учетной записи необходимо будет вручную применить все списки управления доступом (ACL), используемые в старой учетной записи. Дополнительные сведения, включая целевые показатели производительности для наилучших сценариев, приведены в разделе [Руководство по настройке производительности действия копирования](../data-factory/copy-activity-performance.md). Если нужно скопировать данные быстрее, могут потребоваться дополнительные облачные единицы перемещения данных. Некоторые другие инструменты, например ADLCopy, не поддерживают копирование данных между регионами.  

* **Стоимость пропускной способности**. Потребуется оплачивать [пропускную способность](https://azure.microsoft.com/pricing/details/bandwidth/), так как данные передаются за пределы региона Azure.

* **Списки управления доступом к данным**. Защитите данные в новом регионе, используя списки управления доступом для файлов и папок. Дополнительные сведения см. в статье [Защита данных, хранимых в Azure Data Lake Storage 1-го поколения](data-lake-store-secure-data.md). Мы рекомендуем использовать перенос для обновления и настройки списков управления доступом. Возможно, вам потребуется использовать параметры, аналогичные текущим. Можно просмотреть списки управления доступом, которые применяются к любому файлу, с помощью портала Azure, [командлетов PowerShell](/powershell/module/az.datalakestore/get-azdatalakestoreitempermission) или пакетов SDK.  

* **Расположение служб аналитики**. Для оптимальной производительности ваши службы аналитики, такие как Data Lake Analytics или HDInsight, должны находиться в том же регионе, что и данные.  

## <a name="next-steps"></a>Дальнейшие действия
* [Общие сведения об Azure Data Lake Storage Gen1](data-lake-store-overview.md)
