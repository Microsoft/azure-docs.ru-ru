---
title: Справочник по ошибкам для проверок работоспособности реестра
description: Коды ошибок и возможные решения проблем, обнаруженных при выполнении команды AZ контроля доступа проверки работоспособности в реестре контейнеров Azure
ms.topic: article
ms.date: 01/25/2021
ms.openlocfilehash: 05ae5a7ac19bb7748d5313ccb4974b639ab52d9c
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "99061874"
---
# <a name="health-check-error-reference"></a>Ссылка на ошибку проверки работоспособности

Ниже приведены сведения о кодах ошибок, возвращаемых командой [AZ контроля доступа проверки работоспособности][az-acr-check-health] . Для каждой ошибки перечислены возможные решения.

Сведения о выполнении `az acr check-healh` см. [в статье Проверка работоспособности реестра контейнеров Azure](container-registry-check-health.md).

## <a name="docker_command_error"></a>DOCKER_COMMAND_ERROR

Эта ошибка означает, что не удалось найти клиент DOCKER для CLI. В результате следующие дополнительные проверки не выполняются: поиск версии DOCKER, оценка состояния управляющей программы DOCKER и выполнение команды DOCKER Pull.

*Возможные решения*: Установка клиента DOCKER; Добавьте путь DOCKER в системные переменные.

## <a name="docker_daemon_error"></a>DOCKER_DAEMON_ERROR

Эта ошибка означает, что состояние управляющей программы DOCKER недоступно или не может быть достигнуто с помощью интерфейса командной строки. В результате операции DOCKER (такие как `docker login` и `docker pull` ) недоступны через интерфейс командной строки.

*Возможные решения*: перезапустите управляющую программу DOCKER или проверьте правильность ее установки.

## <a name="docker_version_error"></a>DOCKER_VERSION_ERROR

Эта ошибка означает, что интерфейс командной строки не смог выполнить команду `docker --version` .

*Возможные решения*: попробуйте выполнить команду вручную, убедитесь, что у вас установлена последняя версия CLI, и проверьте сообщение об ошибке.

## <a name="docker_pull_error"></a>DOCKER_PULL_ERROR

Эта ошибка означает, что интерфейс командной строки не смог извлечь пример изображения в вашу среду.

*Возможные решения*: Убедитесь, что все компоненты, необходимые для извлечения образа, выполняются правильно.

## <a name="helm_command_error"></a>HELM_COMMAND_ERROR

Эта ошибка означает, что интерфейс командной строки не может найти клиент Helm, который исключает другие операции Helm.

*Возможные решения*: Убедитесь, что клиент Helm установлен и что его путь добавлен в системные переменные среды.

## <a name="helm_version_error"></a>HELM_VERSION_ERROR

Эта ошибка означает, что интерфейс командной строки не смог определить установленную версию Helm. Это может произойти, если используемая версия Azure CLI (или Helm версия) устарела.

*Возможные решения*: обновление до последней версии Azure CLI или на рекомендуемую версию Helm; выполните команду вручную и изучите сообщение об ошибке.

## <a name="cmk_error"></a>CMK_ERROR

Эта ошибка означает, что реестр не может получить доступ к управляемому удостоверению, назначенному пользователем или Сисем, используемому для настройки шифрования реестра с помощью ключа, управляемого клиентом. Возможно, управляемое удостоверение удалено.  

*Возможное решение*. чтобы устранить проблему и сменить ключ с помощью другого управляемого удостоверения, ознакомьтесь с разделом действия для устранения неполадок с [назначенным пользователем удостоверением](container-registry-customer-managed-keys.md#troubleshoot).

## <a name="connectivity_dns_error"></a>CONNECTIVITY_DNS_ERROR

Эта ошибка означает, что служба DNS для данного сервера входа в реестр выполнила проверку связи, но не ответила, что означает, что она недоступна. Это может указывать на некоторые проблемы с подключением. Кроме того, реестр может не существовать, пользователь может не иметь разрешений на реестр (для правильного извлечения сервера входа), или целевой реестр находится в другом облаке, отличном от того, который используется в Azure CLI.

*Возможные решения*: Проверка подключения; Проверьте правильность написания реестра, и убедитесь, что реестр существует. Убедитесь, что у пользователя есть необходимые разрешения на него и что облако реестра совпадает с используемым в Azure CLI.

## <a name="connectivity_forbidden_error"></a>CONNECTIVITY_FORBIDDEN_ERROR

Эта ошибка означает, что конечная точка вызова для данного реестра ответила с состоянием HTTP, которым запрещено 403. Эта ошибка означает, что пользователи не имеют доступа к реестру, скорее всего, из-за конфигурации виртуальной сети или из-за того, что доступ к общедоступной конечной точке реестра запрещен. Чтобы просмотреть настроенные в настоящее время правила брандмауэра, выполните команду `az acr show --query networkRuleSet --name <registry>` .

*Возможные решения*: удалите правила виртуальной сети или добавьте текущий IP-адрес клиента в список разрешенных.

## <a name="connectivity_challenge_error"></a>CONNECTIVITY_CHALLENGE_ERROR

Эта ошибка означает, что конечная точка вызова целевого реестра не выдавала проблему.

*Возможные решения*: повторите попытку через некоторое время. Если ошибка повторяется, откройте проблему в https://aka.ms/acr/issues .

## <a name="connectivity_aad_login_error"></a>CONNECTIVITY_AAD_LOGIN_ERROR

Эта ошибка означает, что конечной точке запроса целевого реестра была выдана проблема, но реестр не поддерживает проверку подлинности Azure Active Directory.

*Возможные решения*. Попробуйте использовать другой способ проверки подлинности, например с учетными данными администратора. Если пользователям необходимо пройти проверку подлинности с помощью Azure Active Directory, откройте вопрос в https://aka.ms/acr/issues .

## <a name="connectivity_refresh_token_error"></a>CONNECTIVITY_REFRESH_TOKEN_ERROR

Эта ошибка означает, что сервер входа в реестр не ответил на маркер обновления, поэтому доступ к целевому реестру был отклонен. Эта ошибка может возникать, если у пользователя нет нужных разрешений в реестре или если учетные данные пользователя для Azure CLI устарели.

*Возможные решения*: Убедитесь, что у пользователя есть нужные разрешения в реестре. выполните команду, `az login` чтобы обновить разрешения, токены и учетные данные.

## <a name="connectivity_access_token_error"></a>CONNECTIVITY_ACCESS_TOKEN_ERROR

Эта ошибка означает, что сервер входа в реестр не ответил маркером доступа, чтобы доступ к целевому реестру был запрещен. Эта ошибка может возникать, если у пользователя нет нужных разрешений в реестре или если учетные данные пользователя для Azure CLI устарели.

*Возможные решения*: Убедитесь, что у пользователя есть нужные разрешения в реестре. выполните команду, `az login` чтобы обновить разрешения, токены и учетные данные.

## <a name="connectivity_ssl_error"></a>CONNECTIVITY_SSL_ERROR

Эта ошибка означает, что клиенту не удалось установить безопасное подключение к реестру контейнеров. Эта ошибка обычно возникает, если вы используете или используете прокси-сервер.

*Возможные решения*. Дополнительные сведения о работе с прокси-сервером можно [найти здесь](/cli/azure/use-cli-effectively).

## <a name="login_server_error"></a>LOGIN_SERVER_ERROR

Эта ошибка означает, что CLI не удалось найти сервер входа в заданный реестр, и для текущего облака не найдено суффикс по умолчанию. Эта ошибка может возникать, если реестр не существует, если у пользователя нет нужных разрешений в реестре, если облако реестра и текущее Azure CLIное облако не совпадают или если Azure CLIная версия устарела.

*Возможные решения*: Проверьте правильность написания и убедитесь, что реестр существует. Убедитесь, что у пользователя есть нужные разрешения в реестре и что облака реестра и среды CLI совпадают. Обновите Azure CLI до последней версии.

## <a name="notary_version_error"></a>NOTARY_VERSION_ERROR

Эта ошибка означает, что интерфейс командной строки несовместим с текущей установленной версией DOCKER/Нотари. Попробуйте понизить версию notary.exe до версии, более ранней, чем 0.6.0, заменив клиент Нотари установки DOCKER вручную, чтобы устранить эту проблему.

## <a name="next-steps"></a>Дальнейшие действия

Сведения о параметрах проверки работоспособности реестра см. в статье [Проверка работоспособности реестра контейнеров Azure](container-registry-check-health.md).

Часто задаваемые вопросы и другие известные проблемы реестра контейнеров Azure см. в [часто](container-registry-faq.md) задаваемых вопросах.





<!-- LINKS - internal -->
[az-acr-check-health]: /cli/azure/acr#az-acr-check-health
