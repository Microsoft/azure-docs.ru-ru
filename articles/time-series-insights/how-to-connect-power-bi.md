---
title: Подключение среды к Power BIам Azure Time Series Insights | Документация Майкрософт
description: Узнайте, как подключить службу "аналитика временных рядов Azure", чтобы Power BI для совместного использования, создания диаграмм и отображения данных в Организации.
author: shreyasharmamsft
ms.author: shresha
manager: dpalled
services: time-series-insights
ms.service: time-series-insights
ms.topic: conceptual
ms.date: 12/14/2020
ms.openlocfilehash: 38403eed56dc718afdfce13375dd2662beb13eb6
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100374173"
---
# <a name="visualize-data-from-azure-time-series-insights-in-power-bi"></a>Визуализация данных из службы "аналитика временных рядов Azure" в Power BI

Служба "аналитика временных рядов Azure" — это платформа для хранения, управления, запроса и визуализации данных временных рядов в облаке. [Power BI](https://powerbi.microsoft.com) — это средство бизнес-аналитики с богатыми возможностями визуализации, которое позволяет обмениваться ценными сведениями и результатами в Организации. Обе службы теперь могут быть интегрированы, что позволяет расширить возможности аналитики службы "аналитика временных рядов Azure", обеспечивая надежную визуализацию данных и удобные возможности совместного использования Power BI.

Вы узнаете, как:

* Подключение службы "аналитика временных рядов Azure" к Power BI с помощью собственного соединителя Azure Time Series Insights
* Создавайте визуальные элементы с данными временных рядов в Power BI
* Публикация отчета в Power BI и совместное использование с остальной частью Организации


## <a name="prerequisites"></a>Предварительные требования

* Зарегистрируйтесь для [бесплатной подписки Azure](https://azure.microsoft.com/free/), если у вас ее еще нет.
* Скачайте и установите последнюю версию [Power BI Desktop](https://powerbi.microsoft.com/downloads/)
* Или создайте [среду Gen2 "аналитика временных рядов Azure](./how-to-provision-manage.md) ".

Проверьте [политики доступа к среде](./concepts-access-policies.md) и убедитесь, что у вас есть прямой доступ или гостевой доступ к среде Gen2 "аналитика временных рядов Azure". 

> [!IMPORTANT]
> * Скачайте и установите последнюю версию [Power BI Desktop](https://powerbi.microsoft.com/downloads/). Чтобы выполнить действия, описанные в этой статье, убедитесь, что установлена версия Power BI Desktop с Декабрь 2020 (2.88.321.0). 

## <a name="export-data-from-azure-time-series-insights-into-power-bi-desktop"></a>Экспорт данных из службы "аналитика временных рядов Azure" в Power BI Desktop

Чтобы начать работу:

1. Откройте обозреватель "аналитика временных рядов Azure" Gen2 Explorer и проучите данные. Это данные, которые будут экспортированы в Power BI.
1. После создания представления, с которым вы удовлетворены, перейдите в раскрывающееся меню **More Actions (дополнительные действия** ) и выберите **подключиться к Power BI**.

    [![Экспорт обозревателя "аналитика временных рядов Azure Gen2"](media/how-to-connect-power-bi/export-from-explorer.jpg)](media/how-to-connect-power-bi/export-from-explorer.jpg#lightbox)

1. Задайте параметры экспорта:

   * **Формат данных**: выберите, следует ли экспортировать **статистические данные** или **необработанные события** в Power BI. 

       > [!NOTE]
       > При экспорте необработанных событий можно выполнить статистическую обработку этих данных позже в Power BI. Однако при экспорте статистических данных нельзя вернуться к необработанным данным в Power BI. Существует ограничение числа событий 250 000 для необработанных данных на уровне событий.

   * **Диапазон времени**: выберите, какой из Power BI должен отображаться **фиксированный** диапазон времени или **последние** данные. Выбор фиксированного диапазона времени означает, что данные в диапазоне поиска, на котором вы предоставили диаграмму, будут экспортированы в Power BI. Выбор последнего диапазона времени означает, что Power BI будет занимать последние данные для выбранного диапазона поиска (например, если диаграмма составляет один час данных и выбрать параметр «последняя»), Power BI соединитель всегда будет выполнять запросы за последние 1 час данных.)
  
   * **Тип хранилища**: выберите, следует ли выполнять выбранный запрос в **горячий** или **холодный магазин**. Если вы выбрали диапазон, охватывающий как холодный, так и горячий магазины, запрос будет перенаправлен в холодный магазин по умолчанию, так как горячий магазин будет содержать только последние данные. Изменение параметра storeType вручную разрешено, но не рекомендуется для оптимальной работы. 

    > [!TIP] 
    > В обозревателе службы "аналитика временных рядов Azure" будут автоматически выбраны рекомендуемые параметры в зависимости от диапазона поиска и представления данных, которые вы выбрали для экспорта. 

1. После настройки параметров выберите **Копировать запрос в буфер обмена**.

    [![Экспорт модального окна обозревателя службы "аналитика временных рядов Azure"](media/how-to-connect-power-bi/choose-explorer-parameters.jpg)](media/how-to-connect-power-bi/choose-explorer-parameters.jpg#lightbox)

1. Запустите Power BI Desktop.
   
1. На вкладке **Главная** в Power BI Desktop выберите **получить данные** в левом верхнем углу, а затем **еще**.

    [![Получение данных в Power BI](media/how-to-connect-power-bi/get-data-power-bi.jpg)](media/how-to-connect-power-bi/get-data-power-bi.jpg#lightbox)

1. Выполните поиск по запросу " **аналитика временных рядов Azure**", выберите **"аналитика временных рядов Azure" (бета-версия)**, а затем **подключитесь**.

    [![Подключение Power BI к службе "аналитика временных рядов Azure"](media/how-to-connect-power-bi/select-tsi-connector.jpg)](media/how-to-connect-power-bi/select-tsi-connector.jpg#lightbox)

    Кроме того, перейдите на вкладку **Azure** , выберите **Azure Time Series Insights (бета-версия)**, а затем **подключитесь**.

1. Вставьте запрос, скопированный из обозревателя службы "аналитика временных рядов Azure", в поле **настраиваемый запрос** , а затем нажмите кнопку **ОК**.

    [![Вставьте пользовательский запрос и нажмите кнопку ОК.](media/how-to-connect-power-bi/custom-query-load.png)](media/how-to-connect-power-bi/custom-query-load.png#lightbox)  

1.  Теперь таблица данных будет загружена. Нажмите кнопку **загрузить** , чтобы загрузить Power BI. Если вы хотите выполнить преобразование данных, можно сделать это сейчас, нажав кнопку **преобразовать данные**. Вы также можете преобразовать данные после их загрузки.

    [![Проверьте данные в таблице и выберите Load (загрузить).](media/how-to-connect-power-bi/review-the-loaded-data-table.png)](media/how-to-connect-power-bi/review-the-loaded-data-table.png#lightbox)  

## <a name="create-a-report-with-visuals"></a>Создание отчета с визуальными элементами

Теперь, когда данные импортированы в Power BI, пришло время создать отчет с визуальными элементами.

1. Убедитесь, что в левой части окна выбрано представление **отчета** .

    [![На снимке экрана показан значок представления отчетов.](media/how-to-connect-power-bi/select-the-report-view.png)](media/how-to-connect-power-bi/select-the-report-view.png#lightbox)

1. В столбце **визуализации** выберите нужный визуальный элемент. Например, выберите **график**. В холст будет добавлена пустая графика.

1.  В списке **поля** выберите **_Timestamp** и перетащите его в поле **ось** , чтобы отобразить время вдоль оси X. Не забудьте переключиться на **_Timestamp** в качестве значения для **оси** (по умолчанию — **иерархия дат**).

    [![Выберите _Timestamp](media/how-to-connect-power-bi/select-timestamp.png)](media/how-to-connect-power-bi/select-timestamp.png#lightbox)

1.  Опять же, в списке **поля** выберите переменную, которую нужно построить, и перетащите ее в поле **значения** , чтобы отобразить значения вдоль оси Y. Выберите значение идентификатора временного ряда и перетащите его в поле **Условные обозначения** , чтобы создать несколько строк в диаграмме, по одному идентификатору временного ряда. Будет отображено представление, аналогичное представленному в обозревателе службы "аналитика временных рядов Azure". 

    [![Создание простого графика](media/how-to-connect-power-bi/power-bi-line-chart.png)](media/how-to-connect-power-bi/power-bi-line-chart.png#lightbox)

1. Чтобы добавить на холст другую диаграмму, выберите в любом месте холста за пределами линейного графика и повторите эту процедуру.

    [![Создание дополнительных диаграмм для совместного использования](media/how-to-connect-power-bi/power-bi-additional-charts.png)](media/how-to-connect-power-bi/power-bi-additional-charts.png#lightbox)

После создания отчета его можно опубликовать в Power BI Reporting Services и предоставить другим пользователям в Организации.

## <a name="advanced-editing"></a>Расширенное редактирование
Если вы уже загрузили набор данных в Power BI, но хотите изменить запрос (например, параметры даты и времени или идентификатора среды), это можно сделать с помощью функций Расширенный редактор Power BI. Дополнительные сведения о том, как вносить изменения с помощью **редактора Power Query**, см. в [документации по Power BI](/power-bi/desktop-query-overview) . 

## <a name="next-steps"></a>Next Steps

* Дополнительные сведения о [Power BI Desktop](/power-bi/desktop-query-overview).

* Узнайте, как [отправлять запросы к данным](concepts-query-overview.md) в Gen2 службы "аналитика временных рядов Azure".