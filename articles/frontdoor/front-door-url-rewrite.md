---
title: Передняя дверца Azure — переопределение URL-адресов | Документация Майкрософт
description: Эта статья поможет вам понять, как клиентская дверца Azure переопределяет URL-адреса для ваших маршрутов, если они настроены.
services: front-door
documentationcenter: ''
author: duongau
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/28/2020
ms.author: duau
ms.openlocfilehash: eb5b4ab8a23a374aec54d65dd5390ab3fec3e905
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91445487"
---
# <a name="url-rewrite-custom-forwarding-path"></a>Переопределение URL-адреса (пользовательский путь переадресации)
Передняя дверца Azure поддерживает переписывание URL-адресов путем настройки необязательного **пользовательского пути перенаправления** , используемого при создании запроса на пересылку в серверную часть. По умолчанию, если пользовательский путь перенаправления не указан, то передняя дверца скопирует входящий URL-адрес на URL-адрес, используемый в перенаправленном запросе. Заголовок узла, используемый в перенаправленном запросе, соответствует настройкам для выбранной серверной части. Сведения о том, какие действия он выполняет и как его можно настроить, см. в разделе [Заголовок узла серверной системы](front-door-backend-pool.md#hostheader).

Мощная часть перезаписи URL-адресов заключается в том, что настраиваемый путь перенаправления скопирует любую часть входящего пути, совпадающую с подстановочным путем, к перенаправленному пути (эти сегменты пути являются **зелеными** сегментами в примере ниже):
</br>

:::image type="content" source="./media/front-door-url-rewrite/front-door-url-rewrite-example.jpg" alt-text="Переопределение URL-адреса Azure Front Door":::

## <a name="url-rewrite-example"></a>Пример переопределения URL-адреса
Рассмотрим правило маршрутизации со следующей комбинацией интерфейсных узлов и путей, настроенных:

| Узлы      | Пути       |
|------------|-------------|
| www\.contoso.com | /\*   |
|            | /foo        |
|            | /foo/\*     |
|            | /foo/bar/\* |

В первом столбце в таблице ниже показаны примеры входящих запросов, а во втором столбце показано, каким мог бы быть "наиболее конкретный" соответствующий путь маршрута.  Третий и появляющийся столбцом таблицы являются примеры настроенных **пользовательских путей перенаправления**.

Например, если просмотреть вторую строку, из нее следует, что для входящего запроса `www.contoso.com/sub` перенаправленный путь был бы `/sub` при условии, что пользовательский путь — `/`. Если пользовательский путь — `/fwd/`, то перенаправленный путь был бы `/fwd/sub`. И т. д. для остальных столбцов. **Выделенные** части путей ниже представляют собой сегменты, которые являются частью совпадения по подстановочным знакам.

| Входящий запрос       | Путь с наиболее конкретным соответствием | /          | /fwd/          | /foo/          | /foo/bar/          |
|------------------------|--------------------------|------------|----------------|----------------|--------------------|
| www \. contoso.com/            | /\*                      | /          | /fwd/          | /foo/          | /foo/bar/          |
| \.**подкаталог** www contoso.com/     | /\*                      | /**Директор**   | /fwd/**sub**   | /foo/**sub**   | /foo/bar/**sub**   |
| www \. contoso.com/**a/b/c**   | /\*                      | /**a/b/c** | /fwd/**a/b/c** | /foo/**a/b/c** | /foo/bar/**a/b/c** |
| www \. contoso.com/foo         | /foo                     | /          | /fwd/          | /foo/          | /foo/bar/          |
| www \. contoso.com/foo/        | /foo/\*                  | /          | /fwd/          | /foo/          | /foo/bar/          |
| \.**панель** www contoso.com/foo/ | /foo/\*                  | /**панели**   | /fwd/**bar**   | **панель** /Фу/   | /foo/bar/**bar**   |

## <a name="optional-settings"></a>Необязательные параметры
Есть дополнительные необязательные параметры, которые также можно задать для каких-либо параметров правила маршрутизации:

* **Конфигурация кэша** — если параметр отключен или не указан, запросы, которые соответствуют этому правилу маршрутизации, не будут пытаться использовать кэшированное содержимое, а вместо этого всегда будут получать данные из серверной части. Дополнительные сведения о [кэшировании с помощью Front Door](front-door-caching.md).

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).
