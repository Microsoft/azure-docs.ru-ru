---
title: Создание передней дверцы с перенаправлением HTTP-HTTPS с помощью портал Azure
description: Узнайте, как создать переднюю дверь с перенаправленным трафиком из HTTP в HTTPS с помощью портал Azure.
services: front-door
author: duongau
ms.service: frontdoor
ms.topic: how-to
ms.date: 09/30/2020
ms.author: duau
ms.openlocfilehash: 19908b3cba63bc76a205097ef8d16e612d58503b
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91626648"
---
# <a name="create-a-front-door-with-http-to-https-redirection-using-the-azure-portal"></a>Создание передней дверцы с перенаправлением HTTP-HTTPS с помощью портал Azure

Вы можете использовать портал Azure, чтобы [создать переднюю дверцу](quickstart-create-front-door.md) с сертификатом для завершения TLS. Правило маршрутизации используется для перенаправления трафика HTTP в HTTPS.

## <a name="create-a-front-door-with-an-existing-web-app-resource"></a>Создание передней дверцы с помощью существующего ресурса веб-приложения

1. Войдите на портал Azure по адресу [https://portal.azure.com](https://portal.azure.com).

1. Выберите **создать ресурс** в верхнем левом углу портал Azure.

1. Найдите **переднюю дверцу** с помощью панели поиска и найдите тип ресурса, выбрав **создать**.

1. Выберите *подписку* , а затем либо используйте существующую группу ресурсов, либо создайте новую. Нажмите кнопку **Далее** , чтобы перейти на вкладку Конфигурация.

    > [!NOTE]
    > Расположение, запрошенное в пользовательском интерфейсе, предназначено только для группы ресурсов. Конфигурация передней дверцы будет развернута во всех [расположениях POP передней дверцы Azure](front-door-faq.md#what-are-the-pop-locations-for-azure-front-door).

    :::image type="content" source="./media/front-door-url-redirect/front-door-create-basics.png" alt-text="Настройка основ для новой передней дверцы":::

1. Настройка передней дверцы выполняется в три этапа: Добавление внешнего узла по умолчанию, Добавление серверной части в внутренний пул и последующее создание правил маршрутизации для отображения поведения маршрутизации для внешнего узла. Щелкните значок " **+** " на _интерфейсных узлах_ , чтобы создать интерфейсный узел.

    :::image type="content" source="./media/front-door-url-redirect/front-door-designer.png" alt-text="Конструктор конфигурации передней дверцы":::

1. Введите глобально уникальное имя для внешнего узла по умолчанию для передней дверцы. Нажмите кнопку **Добавить** , чтобы перейти к следующему шагу.

    :::image type="content" source="./media/front-door-url-redirect/front-door-create-frontend-host.png" alt-text="Добавление внешнего узла":::

### <a name="create-backend-pool"></a>Создание серверного пула

1. Щелкните значок " **+** " на _серверных пулах_ , чтобы создать серверный пул. Укажите имя для внутреннего пула, а затем выберите **Добавить серверную** часть.

    :::image type="content" source="./media/front-door-url-redirect/front-door-designer-backend-pool.png" alt-text="Серверный пул конструктора конфигурации передней дверцы":::

1. Выберите тип узла серверной части в качестве _службы приложений_. Выберите подписку, в которой размещается ваше веб-приложение, а затем выберите конкретное веб-приложение из раскрывающегося списка для **имени узла внутреннего сервера**.

    :::image type="content" source="./media/front-door-url-redirect/front-door-create-backend-pool.png" alt-text="Добавление серверной части в серверный пул":::

1. Нажмите кнопку **Добавить** , чтобы сохранить серверную часть, и выберите **Добавить** еще раз, чтобы сохранить конфигурацию серверного пула. 

## <a name="create-http-to-https-redirect-rule"></a>Создание правила перенаправления HTTP для HTTPS

1. Щелкните значок " **+** " в *правилах маршрутизации* , чтобы создать маршрут. Укажите имя маршрута, например "Хттптохттпсредирект", а затем установите в поле *принятое протокол* значение **"только HTTP"**. Убедитесь, что выбран соответствующий *интерфейс или домены* .  

    :::image type="content" source="./media/front-door-url-redirect/front-door-designer-routing-rule.png" alt-text="Правило маршрутизации конструктора конфигурации передней дверцы":::

1. В разделе *сведения о маршруте* задайте для параметра *тип маршрута* значение **Перенаправление**. Убедитесь, что для *типа перенаправления* Get установлено значение **найдено (302)** и *протоколу перенаправления* задано значение **только HTTPS**. 

    :::image type="content" source="./media/front-door-url-redirect/front-door-redirect-config-example.png" alt-text="Добавление маршрута перенаправления HTTP в HTTPS":::

1. Нажмите кнопку **Добавить** , чтобы сохранить правило маршрутизации для перенаправления HTTP в HTTPS.

## <a name="create-forwarding-rule"></a>Создание правила пересылки

1. Добавьте еще одно правило маршрутизации для управления трафиком HTTPS. Выберите знак " **+** " в *правилах маршрутизации* и укажите имя маршрута, например "дефаултфорвардинграуте". Затем установите для поля *принятые протоколы* значение **только HTTPS**. Убедитесь, что выбран соответствующий *интерфейс или домены* .

1. В разделе сведения о маршруте задайте для параметра *тип маршрута* значение **Перенаправление**. Убедитесь, что выбран правильный внутренний пул, а *протокол переадресации* имеет значение **только HTTPS**. 

    :::image type="content" source="./media/front-door-url-redirect/front-door-forward-route-example.png" alt-text="Добавление прямого маршрута для трафика HTTPS" border="false":::

1. Нажмите кнопку **Добавить** , чтобы сохранить правило маршрутизации для перенаправления запроса.

1. Выберите **проверить и создать** , а затем **создать**, чтобы создать профиль передней дверцы. Перейдите к ресурсу после создания.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).
- Дополнительные сведения о [перенаправлении URL-адресов на передней дверце](front-door-url-redirect.md).
