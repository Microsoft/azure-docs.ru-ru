---
title: Настройка аудиторной лаборатории с помощью Служб лабораторий Azure | Документация Майкрософт
description: В этом руководстве вы используете Службы лабораторий Azure, чтобы настроить лабораторию для аудитории с набором виртуальных машин, используемых студентами в вашем классе.
ms.topic: tutorial
ms.date: 12/03/2020
ms.openlocfilehash: 8093a1fd270cdba8bdccaf48737bf6737bdd394d
ms.sourcegitcommit: a055089dd6195fde2555b27a84ae052b668a18c7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/26/2021
ms.locfileid: "98787423"
---
# <a name="tutorial-set-up-a-classroom-lab"></a>Руководство по Настройка лаборатории для аудитории 
В этом руководстве вы настроите аудиторную лабораторию с виртуальными машинами, используемыми учащимися в аудитории.  

Вот какие действия выполняются в этом руководстве:

> [!div class="checklist"]
> * Создание лаборатории для аудитории
> * Добавление пользователей в лабораторию
> * Настройка расписания для лаборатории.
> * Отправка приглашения учащимся по электронной почте.

## <a name="prerequisites"></a>Предварительные требования
В этом руководстве вы настроите лабораторию с виртуальными машинами для вашего класса. Чтобы настроить лабораторию аудитории в учетной записи лаборатории, вы должны быть членом одной из ролей в учетной записи лаборатории: "Владелец", "Создатель лаборатории" или "Участник". Учетная запись, которую вы использовали для создания учетной записи лаборатории, автоматически добавляется в роль владельца. Таким образом, вы можете использовать учетную запись пользователя, используемую для создания учетной записи лаборатории. 

Ниже приведен типичный рабочий процесс при использовании Служб лаборатории Azure.

1. Автор учетной записи лаборатории может назначать роль **создателя лаборатории** другим пользователям. Например, автор/администратор учетной записи лаборатории назначить преподавателям роль **Создатель лаборатории**, чтобы они могли создавать лаборатории для своих классов. 
2. После этого они смогут создавать лаборатории с виртуальными машинами для своих классов и отправлять регистрационные ссылки учащимся в классе. 
3. С их помощью учащиеся смогут зарегистрироваться в лаборатории. После регистрации они могут использовать виртуальные машины в лабораториях для работы в классе и дома. 

## <a name="create-a-classroom-lab"></a>Создание лаборатории для аудитории
На этом шаге вы создадите лабораторию для своего класса в Azure. 

1. Перейдите на [веб-сайт Служб лабораторий Azure](https://labs.azure.com). Обратите внимание на то, что Internet Explorer 11 еще не поддерживается. 
2. Выберите **Вход** и введите свои учетные данные. Службы лабораторий Azure поддерживают учетные записи организации и учетные записи Майкрософт. 
3. Выберите **New Lab** (Создание лаборатории). 
    
    ![Снимок экрана: веб-сайт Служб лабораторий Azure с выбранной кнопкой "Новая лаборатория"](./media/tutorial-setup-classroom-lab/new-lab-button.png)
4. В окне **New Lab** (Создание лаборатории) выполните следующие действия. 
    1. Укажите **имя** своей лаборатории и нажмите кнопку **Далее**.  

        ![Создание лаборатории для аудитории](./media/tutorial-setup-classroom-lab/new-lab-window.png)
    2. На странице **учетных данных виртуальной машины** укажите учетные данные по умолчанию для всех виртуальных машин в лаборатории. Укажите **имя** и **пароль** для пользователя, а затем нажмите кнопку **Далее**.  

        ![Окно создания лаборатории](./media/tutorial-setup-classroom-lab/virtual-machine-credentials.png)

        > [!IMPORTANT]
        > Запишите имя пользователя и пароль. Они больше не будут отображаться.
    3. На странице **Политики лаборатории** выберите **Готово**. 

        ![Квота для каждого пользователя](./media/tutorial-setup-classroom-lab/quota-for-each-user.png)
5. Вы увидите следующий экран, на котором отображается состояние создания шаблона виртуальной машины. Выполнение этой операции длится до 20 минут. 

    ![Состояние шаблона виртуальной машины](./media/tutorial-setup-classroom-lab/create-template-vm-progress.png)
8. На странице **шаблона** выполните следующие действия: Эти действия **необязательно** выполнять для этого руководства.

    1. Подключитесь к шаблону виртуальной машины. Для этого выберите **Подключиться**. Если это шаблон виртуальной машины Linux, выберите протокол, с помощью которого нужно подключиться: SSH или протокол удаленного рабочего стола (если он включен).
    3. Установите и настройте программное обеспечение, необходимое для вашего класса, на шаблоне виртуальной машины. 
    4. **Остановите** шаблон виртуальной машины.  

    > [!NOTE]
    > Работа шаблона виртуальной машины **оплачивается**, поэтому всегда останавливайте этот шаблон, пока он вам не нужен. 

## <a name="publish-the-template-vm"></a>Публикация шаблона виртуальной машины
На этом шаге вы опубликуете шаблон виртуальной машины. Когда вы опубликуете шаблон ВМ, Службы лабораторий Azure создадут виртуальные машины в лаборатории с помощью этого шаблона. Все виртуальные машины имеют ту же конфигурацию, что и шаблон.

1. На странице **Шаблон** нажмите кнопку **Опубликовать** на панели инструментов. 

    ![Кнопка публикации шаблона](./media/tutorial-setup-classroom-lab/template-page-publish-button.png)

    > [!WARNING]
    > После публикации отменить это действие будет нельзя. 
2. На странице **Публикация шаблона** введите число виртуальных машин, которые требуется создать в лаборатории, а затем нажмите кнопку **Опубликовать**. 

    ![Публикация шаблона — число виртуальных машин](./media/tutorial-setup-classroom-lab/publish-template-number-vms.png)
3. Отобразятся сведения о **состоянии публикации** шаблона на странице. Этот процесс может занять до одного часа. 

    ![Публикация шаблона — ход выполнения](./media/tutorial-setup-classroom-lab/publish-template-progress.png)
4. Подождите до завершения публикации и перейдите на страницу **Virtual machines pool** (Пул виртуальных машин), выбрав пункт **Виртуальные машины** в меню слева или плитку **Виртуальные машины**. Убедитесь, что на странице отображаются виртуальные машины в состоянии **Не назначено**. Эти виртуальные машины еще не назначены учащимся. Они должны находиться в состоянии **Остановлено**. На этой странице вы можете запустить виртуальную машину для учащегося, подключиться к ней, а также остановить или удалить ее. Виртуальные машины на этой странице можете запускать как вы, так и ваши учащиеся. 

    ![Виртуальные машины в остановленном состоянии](./media/tutorial-setup-classroom-lab/virtual-machines-stopped.png)   

    > [!NOTE]
    > Когда преподаватель включает виртуальную машину учащихся, квота для учащегося не затрагивается. Квота для пользователя указывает количество часов лаборатории, доступных пользователю за пределами запланированного времени класса. Дополнительные сведения см. в разделе об [установке квот для пользователей](how-to-configure-student-usage.md?#set-quotas-for-users).

## <a name="set-a-schedule-for-the-lab"></a>Настройка расписания для лаборатории
Создайте запланированное событие для лаборатории, чтобы виртуальные машины в ней автоматически запускались или останавливались в определенное время. Квота пользователя (по умолчанию: 10 часов) указанная ранее квота пользователя — это дополнительное время, назначенное каждому пользователю сверх этого запланированного времени. 

1. Перейдите на страницу **Расписания** и на панели инструментов щелкните **Add scheduled event** (Добавить запланированное событие). 

    ![Снимок экрана: кнопка "Добавить запланированное событие" на странице расписаний](./media/how-to-create-schedules/add-schedule-button.png)
2. На странице **Add scheduled event** (Добавление запланированного события) сделайте следующее:
    1. Убедитесь, что для параметра **Тип события** выбрано значение **Стандартное**.  
    2. Выберите **дату начала** для класса. 
    4. Выберите **время запуска** для виртуальных машин.
    5. Выберите **время остановки**, когда виртуальные машины завершат работу. 
    6. Выберите **часовой пояс** для указанного времени запуска и остановки. 
3. На той же странице **добавления запланированного события** выберите текущее расписание в области **повторения**.  

    ![Добавление кнопки расписания на страницу "Расписания"](./media/how-to-create-schedules/select-current-schedule.png)
5. В диалоговом окне **Повторение** выполните следующие действия:
    1. Убедитесь, что в поле **Повторение** установлено значение **Каждую неделю**. 
    2. Выберите дни, когда расписание будет действовать. В следующем примере выбран период "Понедельник — пятница". 
    3. Выберите **дату окончания** для расписания.
    8. Щелкните **Сохранить**. 

        ![Установка расписания повтора](./media/how-to-create-schedules/set-repeat-schedule.png)

3. Теперь на странице **Add scheduled event** (Добавление запланированного события) для параметра **Notes (optional)** (Примечания (необязательно)) введите любое описание или примечания для расписания. 
4. На странице **Add scheduled event** (Добавление запланированного события) нажмите кнопку **Сохранить**. 

    ![Еженедельное расписание](./media/how-to-create-schedules/add-schedule-page-weekly.png)
5. Перейдите в календаре к дате начала и убедитесь, что расписание настроено.
    
    ![Расписание в календаре](./media/how-to-create-schedules/schedule-calendar.png)

    Дополнительные сведения см. в статье о [создании и администрировании расписания лабораторий](how-to-create-schedules.md).


## <a name="add-users-to-the-lab"></a>Добавление пользователей в лабораторию

При добавлении пользователей параметр **Ограничить доступ** по умолчанию включен, а значит учащиеся не смогут зарегистрироваться в лаборатории, даже если у них есть ссылка для регистрации, если они не включены в список пользователей. По ссылке для регистрации, которую вы отправляете, могут зарегистрироваться только пользователи из списка. Параметр **Ограничить доступ** можно отключить, что позволит учащимся регистрироваться в лаборатории, используя ссылку для регистрации. 

### <a name="add-users-from-an-azure-ad-group"></a>Добавление пользователей из группы Azure AD

Вы можете синхронизировать список пользователей лаборатории с существующей группой Azure Active Directory (Azure AD), чтобы не добавлять и не удалять пользователей вручную. 

Вы можете создать группу Azure AD в каталоге Azure Active Directory организации, чтобы управлять доступом к ресурсам организации и облачным приложениям. Дополнительные сведения см. в статье [о группах Azure AD](../active-directory/fundamentals/active-directory-manage-groups.md). Если в вашей организации используется Microsoft Office 365 или службы Azure, скорее всего в ней уже есть администраторы, управляющие Azure Active Directory. 

> [!IMPORTANT]
> Убедитесь, что список пользователей пуст. Если в лаборатории уже есть пользователи, которых вы добавили вручную или через импорт CSV-файла, то возможность синхронизации лаборатории с существующей группой предлагаться не будет. 

1. В левой области щелкните **Users** (Пользователи). 
1. Щелкните **Синхронизация с группой**. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-sync-group.png" alt-text="Добавление пользователей путем синхронизации с группой Azure AD":::
    
1. Вам будет предложено выбрать существующую группу Azure AD для синхронизации с лабораторией. 
    
    Если вы не видите в этом списке нужную группу Azure AD, это может быть связано со следующими причинами:

    -   Если вы являетесь гостевым пользователем Azure Active Directory (обычно это означает, что вы не являетесь членом организации, которой принадлежит этот каталог Azure AD), то вы не можете искать группы в каталоге Azure AD. В этом случае вы не сможете добавить группу Azure AD в лабораторию. 
    -   Группы Azure AD, созданные из Teams, не отображаются в этом списке. Вы можете добавить приложение Служб лабораторий Azure в интерфейсе Teams, чтобы в нем же создавать лаборатории и управлять ими. См. дополнительные сведения об [управлении списком пользователей лаборатории через Teams](how-to-manage-user-lists-within-teams.md). 
1. Выбрав группу Azure AD для синхронизации с лабораторией, щелкните **Добавить**.
1. При синхронизации лаборатории все пользователи из выбранной группы Azure AD будут передаваться в лабораторию, и вы увидите обновленный список пользователей. Доступ к вашей лаборатории получат только пользователи из этой группы Azure AD. Список пользователей будет каждые 24 часа приводиться в соответствие актуальному членству в группе Azure AD. Также вы можете нажать кнопку "Синхронизация" на вкладке "Пользователи", чтобы вручную синхронизировать актуальные изменения в группе Azure AD.
1. Чтобы пригласить пользователей в лабораторию, нажмите кнопку **Пригласить всех**. В результате все пользователи получат сообщение электронной почты со ссылкой для регистрации в лаборатории. 

### <a name="add-users-manually-from-emails-or-csv-file"></a>Добавление пользователей вручную из электронной почты или CSV-файла

В этом разделе вы добавите учащихся вручную (по адресам электронной почты или путем отправки CSV-файла). 

#### <a name="add-users-by-email-address"></a>Добавление пользователей по адресам электронной почты

1. В левой области щелкните **Users** (Пользователи). 
1. Щелкните **Добавить пользователей вручную**. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-manually.png" alt-text="Добавить пользователей вручную":::
1. Выберите **Добавить по адресу электронной почты** (вариант по умолчанию), а затем введите адреса электронной почты учащихся в отдельных строках или в одной строке, разделяя их точкой с запятой. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-email-addresses.png" alt-text="Добавление адресов электронной почты пользователей":::
1. Щелкните **Сохранить**. 

    В списке отображаются адреса электронной почты и состояния всех текущих пользователей, независимо от регистрации в лаборатории. 

    :::image type="content" source="./media/how-to-configure-student-usage/list-of-added-users.png" alt-text="Список пользователей":::

    > [!NOTE]
    > После регистрации учащихся в лаборатории их имена появляются в этом списке. Отображаемое в списке имя формируется из имени и фамилии учащегося, введенного в Azure Active Directory. 

#### <a name="add-users-by-uploading-a-csv-file"></a>Добавление пользователей путем отправки CSV-файла

Можно также добавить пользователей, передав CSV-файл с их адресами электронной почты. 

Текстовый CSV-файл используется для хранения табличных данных (числа и текст) с разделителями-запятыми. Для разделения информации в CSV-файле используются не поля и столбцы (как в электронных таблицах), а запятые. Каждая строка в CSV-файле будет иметь одинаковое число значений, разделенных запятыми. CSV-файлы можно легко создавать и изменять в программе Excel.

1. В Microsoft Excel создайте CSV-файл со списком адресов электронной почты учащихся в одном столбце.

    :::image type="content" source="./media/how-to-configure-student-usage/csv-file-with-users.png" alt-text="Список пользователей в CSV-файле":::
1. В верхней части панели **Пользователи** выберите **Добавить пользователей**, а затем щелкните **Отправить CSV**.
1. Выберите CSV-файл, который содержит адреса электронной почты учащихся, а затем щелкните **Открыть**.

    В окне **Добавление пользователей** отобразится список адресов электронной почты из CSV-файла. 
1. Щелкните **Сохранить**. 
1. На панели **Пользователи** просмотрите список добавленных учащихся. 

    :::image type="content" source="./media/how-to-configure-student-usage/list-of-added-users.png" alt-text="Список добавленных пользователей на панели &quot;Пользователи&quot;"::: 

## <a name="send-invitation-emails-to-users"></a>Отправка приглашения пользователям по электронной почте

1. Перейдите на страницу **Пользователи**, если вы еще не сделали это на странице, и щелкните **Invite all** (Пригласить всех) на панели инструментов. 

    ![Выбор учащихся](./media/tutorial-setup-classroom-lab/invite-all-button.png)
1. На странице **Send invitation by email** (Отправить приглашение по электронной почте) введите необязательное сообщение, а затем нажмите кнопку **Отправить**. Письмо автоматически включает ссылку для регистрации. Эту ссылку для регистрации можно получить, щелкнув **... (многоточие)** на панели инструментов и выбрав элемент **Registration link** (Ссылка для регистрации). 

    ![Отправка ссылки для регистрации по электронной почте](./media/tutorial-setup-classroom-lab/send-email.png)
4. В списке **Пользователи** отображается состояние **приглашения**. Состояние должно измениться на **Отправка**, а затем на **Sent on &lt;date&gt;** (Отправлено <дата>). 

Дополнительные сведения о добавлении учащихся в аудиторию и управлении их доступом к лаборатории см. в [этой статье](how-to-configure-student-usage.md).

## <a name="next-steps"></a>Дальнейшие действия
В этом руководстве вы создали лабораторию для своего класса в Azure. Чтобы узнать, как учащиеся могут получить доступ к виртуальной машине в лаборатории с помощью ссылки для регистрации, перейдите к следующему руководству:

> [!div class="nextstepaction"]
> [Руководство по получению доступа к аудиторной лаборатории в Службах лабораторий Azure](tutorial-connect-virtual-machine-classroom-lab.md)