---
title: Настройка параметров использования в лабораториях служб лаборатории Azure
description: Узнайте, как настроить число учащихся для лаборатории, получить их регистрацию в лаборатории, управлять количеством часов, которые они могут использовать для виртуальной машины, и многое другое.
ms.topic: article
ms.date: 12/01/2020
ms.openlocfilehash: 380a587eecb276c457b93ca3c3f3ac08b2239275
ms.sourcegitcommit: a055089dd6195fde2555b27a84ae052b668a18c7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/26/2021
ms.locfileid: "98791969"
---
# <a name="add-and-manage-lab-users"></a>Создание и администрирование пользователей лаборатории

В этой статье описывается, как добавить пользователей учащихся в лабораторию, зарегистрировать их в лаборатории, управлять количеством дополнительных часов, которые могут использовать виртуальную машину (ВМ), и многое другое. 

При добавлении пользователей параметр **Ограничить доступ** по умолчанию включен, а значит учащиеся не смогут зарегистрироваться в лаборатории, даже если у них есть ссылка для регистрации, если они не включены в список пользователей. По ссылке для регистрации, которую вы отправляете, могут зарегистрироваться только пользователи из списка. Параметр **Ограничить доступ** можно отключить, что позволит учащимся регистрироваться в лаборатории, используя ссылку для регистрации. 

В этой статье показано, как добавить пользователей в лабораторию.

## <a name="add-users-from-an-azure-ad-group"></a>Добавление пользователей из группы Azure AD

### <a name="overview"></a>Обзор

Теперь вы можете синхронизировать список пользователей лаборатории с существующей группой Azure Active Directory (Azure AD), чтобы не добавлять или удалять пользователей вручную. 

Вы можете создать группу Azure AD в каталоге Azure Active Directory организации, чтобы управлять доступом к ресурсам организации и облачным приложениям. Дополнительные сведения см. в статье [о группах Azure AD](../active-directory/fundamentals/active-directory-manage-groups.md). Если в вашей организации используется Microsoft Office 365 или службы Azure, скорее всего в ней уже есть администраторы, управляющие Azure Active Directory. 

### <a name="sync-users-with-azure-ad-group"></a>Синхронизация пользователей с группой Azure AD

> [!IMPORTANT]
> Убедитесь, что список пользователей пуст. Если в лаборатории уже есть пользователи, которых вы добавили вручную или через импорт CSV-файла, то возможность синхронизации лаборатории с существующей группой предлагаться не будет. 

1. Войдите на [веб-сайт Служб лабораторий Azure](https://labs.azure.com/).
1. Выберите лабораторию, с которой вы хотите работать.
1. В левой области щелкните **Users** (Пользователи). 
1. Щелкните **Синхронизация с группой**. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-sync-group.png" alt-text="Добавление пользователей путем синхронизации с группой Azure AD":::
    
1. Вам будет предложено выбрать существующую группу Azure AD для синхронизации с лабораторией. 
    
    Если вы не видите в этом списке нужную группу Azure AD, это может быть связано со следующими причинами:

    -   Если вы являетесь гостевым пользователем Azure Active Directory (обычно это означает, что вы не являетесь членом организации, которой принадлежит этот каталог Azure AD), то вы не можете искать группы в каталоге Azure AD. В этом случае вы не сможете добавить группу Azure AD в лабораторию. 
    -   Группы Azure AD, созданные из Teams, не отображаются в этом списке. Вы можете добавить приложение Служб лабораторий Azure в интерфейсе Teams, чтобы в нем же создавать лаборатории и управлять ими. См. дополнительные сведения об [управлении списком пользователей лаборатории через Teams](how-to-manage-user-lists-within-teams.md). 
1. Выбрав группу Azure AD для синхронизации с лабораторией, щелкните **Добавить**.
1. При синхронизации лаборатории все пользователи из выбранной группы Azure AD будут передаваться в лабораторию, и вы увидите обновленный список пользователей. Доступ к вашей лаборатории получат только пользователи из этой группы Azure AD. Список пользователей будет каждые 24 часа приводиться в соответствие актуальному членству в группе Azure AD. Также вы можете нажать кнопку "Синхронизация" на вкладке "Пользователи", чтобы вручную синхронизировать актуальные изменения в группе Azure AD.
1. Чтобы пригласить пользователей в лабораторию, нажмите кнопку **Пригласить всех**. В результате все пользователи получат сообщение электронной почты со ссылкой для регистрации в лаборатории. 

### <a name="automatic-management-of-virtual-machines-based-on-changes-to-the-azure-ad-group"></a>Автоматическое управление виртуальными машинами на основе изменений в группе Azure AD 

После синхронизации лаборатории с группой Azure AD число виртуальных машин в лаборатории будет автоматически совпадать с числом пользователей в группе. Вы больше не сможете вручную обновить емкость лаборатории. При добавлении пользователя в группу Azure AD Лаборатория автоматически добавит виртуальную машину для этого пользователя. При удалении пользователя из группы Azure AD Лаборатория автоматически удаляет из лаборатории виртуальную машину пользователя. 

## <a name="add-users-manually-from-emails-or-csv-file"></a>Добавление пользователей вручную из электронной почты или CSV-файла

В этом разделе вы добавите учащихся вручную (по адресам электронной почты или путем отправки CSV-файла). 

### <a name="add-users-by-email-address"></a>Добавление пользователей по адресам электронной почты

1. В левой области щелкните **Users** (Пользователи). 
1. Щелкните **Добавить пользователей вручную**. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-manually.png" alt-text="Добавить пользователей вручную":::
1. Выберите **Добавить по адресу электронной почты** (вариант по умолчанию), а затем введите адреса электронной почты учащихся в отдельных строках или в одной строке, разделяя их точкой с запятой. 

    :::image type="content" source="./media/how-to-configure-student-usage/add-users-email-addresses.png" alt-text="Добавление адресов электронной почты пользователей":::
1. Щелкните **Сохранить**. 

    В списке отображаются адреса электронной почты и состояния всех текущих пользователей, независимо от регистрации в лаборатории. 

    :::image type="content" source="./media/how-to-configure-student-usage/list-of-added-users.png" alt-text="Список пользователей":::

    > [!NOTE]
    > После регистрации учащихся в лаборатории их имена появляются в этом списке. Отображаемое в списке имя формируется из имени и фамилии учащегося, введенного в Azure Active Directory. 

### <a name="add-users-by-uploading-a-csv-file"></a>Добавление пользователей путем отправки CSV-файла

Можно также добавить пользователей, передав CSV-файл с их адресами электронной почты. 

Текстовый CSV-файл используется для хранения табличных данных (числа и текст) с разделителями-запятыми. Для разделения информации в CSV-файле используются не поля и столбцы (как в электронных таблицах), а запятые. Каждая строка в CSV-файле будет иметь одинаковое число значений, разделенных запятыми. CSV-файлы можно легко создавать и изменять в программе Excel.

1. В Microsoft Excel создайте CSV-файл со списком адресов электронной почты учащихся в одном столбце.

    :::image type="content" source="./media/how-to-configure-student-usage/csv-file-with-users.png" alt-text="Список пользователей в CSV-файле":::
1. В верхней части панели **Пользователи** выберите **Добавить пользователей**, а затем щелкните **Отправить CSV**.
1. Выберите CSV-файл, который содержит адреса электронной почты учащихся, а затем щелкните **Открыть**.

    В окне **Добавление пользователей** отобразится список адресов электронной почты из CSV-файла. 
1. Щелкните **Сохранить**. 
1. На панели **Пользователи** просмотрите список добавленных учащихся. 

    :::image type="content" source="./media/how-to-configure-student-usage/list-of-added-users.png" alt-text="Список добавленных пользователей на панели &quot;Пользователи&quot;":::

## <a name="send-invitations-to-users"></a>Отправка приглашений пользователям

Чтобы отправить ссылку на регистрацию новым пользователям, используйте один из следующих методов. 

Если для лаборатории включен параметр **ограничить доступ** , только указанные пользователи могут использовать регистрационную ссылку для регистрации в лаборатории. Этот параметр по умолчанию включен. 

### <a name="invite-all-users"></a>Пригласить всех пользователей

Этот метод показывает, как отправлять электронную почту со ссылкой на регистрацию и необязательным сообщением всем указанным учащимся.

1. В области **Пользователи** выберите **пригласить все**. 

    ![Кнопка "пригласить все"](./media/tutorial-setup-classroom-lab/invite-all-button.png)

1. В окне **Отправка приглашения по электронной почте** введите необязательное сообщение и нажмите кнопку **Отправить**. 

    Письмо автоматически включает ссылку для регистрации. Чтобы получить и сохранить ссылку регистрации отдельно, нажмите кнопку с многоточием (**...**) в верхней части области **Пользователи** , а затем выберите **ссылку Регистрация**. 

    ![Окно "Отправить ссылку на регистрацию по электронной почте"](./media/tutorial-setup-classroom-lab/send-email.png)

    В столбце **приглашения** списка **пользователей** отображается состояние приглашения для каждого добавленного пользователя. Состояние должно измениться на " **Отправка** ", а затем на " **\<date> Отправлено**". 

### <a name="invite-selected-users"></a>Пригласить выбранных пользователей

Этот метод показывает, как пригласить только определенных учащихся и получить ссылку на регистрацию, которую можно поделиться с другими людьми.

1. В области **Пользователи** выберите учащийся или несколько учащихся в списке. 

1. В строке выбранного учащегося щелкните значок **конверта** или на панели инструментов выберите **пригласить**. 

    ![Пригласить выбранных пользователей](./media/how-to-configure-student-usage/invite-selected-users.png)

1. В окне **Отправка приглашения по электронной почте** введите необязательное **сообщение** и нажмите кнопку **Отправить**. 

    ![Отправить сообщение электронной почты выбранным пользователям](./media/how-to-configure-student-usage/send-invitation-to-selected-users.png)

    В области **Пользователи** в столбце **приглашение** таблицы отображается состояние этой операции. Сообщение электронной почты с приглашением содержит регистрационную ссылку, которую студенты могут использовать для регистрации в лаборатории.

## <a name="get-the-registration-link"></a>Получение ссылки для регистрации

В этом разделе вы можете получить ссылку на регистрацию на портале и отправить ее с помощью собственного почтового приложения. 

1. В области **Пользователи** выберите **регистрационная ссылка**.

    ![Ссылка для регистрации учащихся](./media/how-to-configure-student-usage/registration-link-button.png)

1. В окне **Регистрация пользователей** выберите **Копировать**, а затем нажмите кнопку **Готово**. 

    ![Окно "регистрация пользователя"](./media/how-to-configure-student-usage/registration-link.png)

    Ссылка скопируется в буфер обмена. 
    
1. В приложении электронной почты вставьте регистрационную ссылку, а затем отправьте сообщение на учащийся, чтобы студент мог зарегистрироваться для работы с классом. 

## <a name="view-registered-users"></a>Просмотр зарегистрированных пользователей

1. Перейдите на веб-сайт [служб лаборатории Azure](https://labs.azure.com) . 
1. Выберите **Вход** и введите свои учетные данные. Службы лабораторий Azure поддерживают учетные записи организации и учетные записи Майкрософт.
1. На странице **Мои семинары** выберите лабораторию, сведения об использовании которого необходимо отвести. 
1. В левой области выберите **Пользователи** или щелкните плитку **Пользователи** . 

    В области **Пользователи** отображается список учащихся, зарегистрированных в вашей лаборатории.  

    ![Список зарегистрированных пользователей](./media/tutorial-track-usage/registered-users.png)

## <a name="set-quotas-for-users"></a>Настройка квот для пользователей

Вы можете задать квоту за час для каждого учащегося, выполнив следующие действия. 

1. В области **Пользователи** выберите **Квота на пользователя: \<number> часы** на панели инструментов. 
1. В окне **Квота на пользователя** укажите количество часов, которое должно быть присвоено каждому учащему за пределами запланированного времени класса, а затем нажмите кнопку **сохранить**.

    ![Окно "квота на пользователя"](./media/how-to-configure-student-usage/quota-per-user.png)    

    Измененные значения теперь отображаются на кнопке **Квота на пользователя \<number of hours> :** на панели инструментов и в списке Пользователи, как показано ниже:

    ![Часы квоты на пользователя](./media/how-to-configure-student-usage/quot-per-user-after.png)

    > [!IMPORTANT]
    > [Запланированное время выполнения виртуальных машин](how-to-create-schedules.md) не учитывает квоту, назначенную студенту. Квота предназначена для времени, находящегося за пределами запланированных часов, которые ученик тратит на виртуальные машины. 

## <a name="set-additional-quotas-for-specific-users"></a>Задание дополнительных квот для конкретных пользователей

Можно указать квоты для некоторых учащихся за пределами общих квот, которые были установлены для всех пользователей в предыдущем разделе. Например, если вы, как инструктор, установите квоту для всех учащихся на 10 часов и установите дополнительную квоту в 5 часов для определенного учащегося, этот студент будет иметь значение 15 (10 + 5) часов квоты. Если позднее вы измените общую квоту на, скажем, на 15, то студент получает 20 (15 + 5) часов квоты. Помните, что эта общая квота находится за пределами запланированного времени. Время, которое студент тратит на виртуальную машину лаборатории в течение запланированного времени, не учитывает эту квоту. 

Чтобы задать дополнительные квоты, выполните следующие действия.

1. В области **Пользователи** выберите учащийся из списка, а затем щелкните **настроить квоту** на панели инструментов. 

    ![Кнопка "настроить квоту"](./media/how-to-configure-student-usage/adjust-quota-button.png)

1. В поле **Настройка квоты \<selected user or users email address> для** введите число дополнительных часов лаборатории, которые нужно предоставить выбранному учащимся или учащимся, а затем нажмите кнопку **Применить**. 

    ![Настройка квоты... окно](./media/how-to-configure-student-usage/additional-quota.png)

    В столбце **Использование** отображается обновленная квота для выбранных учащихся. 

    ![Новое использование для пользователя](./media/how-to-configure-student-usage/new-usage-hours.png)

## <a name="student-accounts"></a>Учетные записи учащихся

Чтобы добавить учащихся в лабораторную среду, вы используете свои учетные записи электронной почты. Студенты могут иметь следующие типы учетных записей электронной почты:

- Учетная запись учащегося, предоставляемая экземпляром Azure Active Directory университета.
- Учетная запись электронной почты Microsoft-домена, например *Outlook.com*, *Hotmail.com*, *MSN.com* или *Live.com*.
- Учетная запись электронной почты, не относящаяся к Майкрософт, например, предоставляемая Yahoo! или Google. Однако эти типы учетных записей должны быть связаны с учетная запись Майкрософт.
- Учетная запись GitHub. Эта учетная запись должна быть связана с учетная запись Майкрософт.

### <a name="use-a-non-microsoft-email-account"></a>Использование учетной записи электронной почты, отличной от Майкрософт

Студенты могут использовать сторонние учетные записи электронной почты для регистрации и входа в лабораторную среду.  Однако для регистрации необходимо сначала создать учетная запись Майкрософт, связанный с адресом электронной почты не от Майкрософт.

У многих учащихся уже может быть учетная запись Майкрософт, связанных с адресом электронной почты не от Майкрософт. Например, студенты уже имеют учетная запись Майкрософт, если они использовали свой адрес электронной почты с другими продуктами или службами Майкрософт, такими как Office, Skype, OneDrive или Windows.  

Когда учащиеся используют регистрационную ссылку для входа в аудиторию, они получают запрос на ввод адреса электронной почты и пароля. Студенты, пытающиеся выполнить вход с помощью неучетная запись Майкрософт, не связанного с учетная запись Майкрософт, получат следующее сообщение об ошибке: 

![Сообщение об ошибке при входе](./media/how-to-configure-student-usage/cant-find-account.png)

Ниже приведена ссылка на учащихся [для регистрации учетная запись Майкрософт](http://signup.live.com).  

> [!IMPORTANT]
> Когда студенты входят в лабораторную среду, им не предоставляется возможность создания учетная запись Майкрософт. По этой причине мы рекомендуем включить эту ссылку для http://signup.live.com регистрации, в сообщении электронной почты с регистрацией лаборатории, которое вы отправляете учащимся, использующим учетные записи сторонних производителей.

### <a name="use-a-github-account"></a>Использование учетной записи GitHub

Студенты также могут использовать существующую учетную запись GitHub для регистрации и входа в лабораторную среду. Если у них уже есть учетная запись Майкрософт, связанный с учетной записью GitHub, студенты смогут войти в систему и ввести пароль, как показано в предыдущем разделе. 

Если учетная запись GitHub еще не связана с учетная запись Майкрософт, они могут выполнять следующие действия:

1. Выберите ссылку **Параметры входа** , как показано ниже:

    ![Ссылка "Параметры входа"](./media/how-to-configure-student-usage/signin-options.png)

1. В окне **Параметры входа** выберите **Вход с помощью GitHub**.

    ![Ссылка "вход с помощью GitHub"](./media/how-to-configure-student-usage/signin-github.png)

    После появлении запроса студенты смогут создать учетная запись Майкрософт, связанный с учетной записью GitHub. Связывание происходит автоматически при нажатии на кнопку **Далее**. Затем они сразу же входят в среду и подключаются к лаборатории аудитории.

## <a name="export-a-list-of-users-to-a-csv-file"></a>Экспорт списка пользователей в CSV-файл

1. Перейдите в область **Пользователи** .
1. На панели инструментов нажмите кнопку с многоточием (**...**), а затем выберите **экспорт CSV**. 

    ![Кнопка "экспорт CSV"](./media/how-to-export-users-virtual-machines-csv/users-export-csv.png)

## <a name="next-steps"></a>Дальнейшие действия

См. следующие статьи:

- Для администраторов: [Создание учетных записей лаборатории и управление ими](how-to-manage-lab-accounts.md)
- Для владельцев лаборатории: [Создание лабораторий и управление ими](how-to-manage-classroom-labs.md) , а затем [Настройка и публикация шаблонов](how-to-create-manage-template.md)
- Для пользователей лаборатории: [доступ к лабораториям](how-to-use-classroom-lab.md)