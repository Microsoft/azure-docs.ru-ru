---
title: Краткое руководства по настройке лаборатории для служб лаборатории Azure
description: Если вы являетесь создателем лаборатории, это поможет вам быстро настроить учетную запись лаборатории в вашем учебном заведении.
ms.topic: article
ms.date: 06/26/2020
ms.openlocfilehash: 07f0d92ebd926616f1318b430bec2de32f753f7c
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "95021737"
---
# <a name="lab-setup-guide"></a>Руководства по настройке лаборатории

В этом руководство вы узнаете, как создать лабораторию для учащихся в вашем учебном заведении.

Процесс публикации лаборатории для учащихся может занять до нескольких часов. Количество времени настройки зависит от числа виртуальных машин, которые необходимо создать в лаборатории. Подождите хотя бы один день, чтобы обеспечить правильную работу лаборатории и предоставить достаточно времени для публикации виртуальных машин учащихся.

## <a name="understand-the-lab-requirements-of-your-class"></a>Обдумайте требования к лаборатории для вашего класса

Прежде чем начать заниматься установкой лаборатории, подумайте над следующими вопросами.

### <a name="what-software-requirements-does-the-class-have"></a>Какие требования к программному обеспечению есть у класса?

Сведения о том, какие операционные системы, приложения и средства необходимо установить на виртуальных машинах лаборатории, см. в разделе цели обучения класса. Для настройки виртуальных машин лаборатории доступны три варианта:

- **Образ Azure Marketplace**. Azure Marketplace предоставляет сотни образов, которые можно использовать при создании лаборатории. Может оказаться, что один из этих образов уже содержит все необходимое для вашего класса.

- **Создание нового пользовательского образа**. Вы можете создать собственный пользовательский образ, используя образ Azure Marketplace в качестве отправной точки. Затем его можно настроить, установив дополнительное программное обеспечение и внося изменения в конфигурацию.

- **Использование существующего пользовательского образа**. Вы можете повторно использовать созданные ранее пользовательские образы или образы, созданные другими администраторами или преподавателями в вашем учебном заведении. Чтобы использовать пользовательские образы, администратору необходимо настроить общую коллекцию образов.  Коллекция общих образов — это репозиторий, который используется для сохранения пользовательских образов.

> [!NOTE]
> Вашим администраторам необходимо обеспечить включение образов Azure Marketplace и пользовательских образов для дальнейшего использования. Согласуйте свой ИТ-отдел, чтобы убедиться в том, что нужные образы включены. Пользовательские образы автоматически включаются в созданные вами лаборатории.

### <a name="what-hardware-requirements-does-the-class-have"></a>Какие требования к оборудованию есть у класса?

Вы можете выбрать один из различных размеров вычислений:

- **Вложенные размеры виртуализации**: позволяют предоставить учащимся доступ к виртуальной машине, на которой может размещаться несколько вложенных виртуальных машин. Например, этот размер вычислений можно использовать для сетевых или злонамеренных классов.

- **Размеры GPU**. позволяет учащимся использовать ресурсоемкие компьютерные типы приложений. Например, этот вариант часто используется в искусственном интеллекте и машинном обучении.

Рекомендации по выбору подходящего размера виртуальной машины см. в следующих статьях:
- [Изменение размера виртуальной машины](./administrator-guide.md#vm-sizing)
- [Переход от физической лабораторной среды к службам лаборатории Azure](https://techcommunity.microsoft.com/t5/azure-lab-services/moving-from-a-physical-lab-to-azure-lab-services/ba-p/1654931)

> [!NOTE]
> Поскольку доступность размера вычислений зависит от региона, для лаборатории может быть доступно меньшее количество размеров. Как правило, следует выбирать наименьший размер вычислений, подходящий для ваших потребностей. С помощью служб лаборатории Azure можно настроить новую лабораторию с большей производительностью, если это необходимо.

### <a name="what-dependencies-does-the-class-have-on-external-azure-or-network-resources"></a>Какие зависимости к внешним ресурсам Azure или сети имеются у класса?
Виртуальным машинам лаборатории может потребоваться доступ к внешним ресурсам, таким как база данных, Общая папка или сервер лицензирования.  Чтобы разрешить виртуальным машинам лаборатории использовать внешние ресурсы, согласуйте их с ИТ администраторами.

> [!NOTE]
> Следует подумать о том, можно ли уменьшить зависимость лаборатории от внешних ресурсов, предоставив сетевые ресурсы непосредственно на виртуальной машине. Например, чтобы исключить необходимость чтения данных из внешней базы данных, можно установить ее напрямую на виртуальной машине.  

### <a name="how-will-you-control-costs"></a>Как вы будете управлять затратами?
В службах лаборатории используется модель ценообразования с оплатой по мере использования. Это означает, что вы платите только за время работы виртуальной машины лаборатории. Для управления затратами используйте любой из следующих вариантов:

- **Расписание**: используйте расписания для автоматического управления запуском и завершением работы виртуальных машин лаборатории.
- **Квота**: используйте квоты для контроля количества часов, в течение которых студенты имеют доступ к виртуальной машине за пределами запланированных часов.  Когда учащийся использует виртуальную машину и достигает квоты, виртуальная машина автоматически завершает работу.  Учащийся не может перезапустить виртуальную машину, если вы не увеличите квоту.
- **Автоматическое завершение работы**. при включении параметра автоматического завершения работы виртуальные машины Windows автоматически завершаются после отключения учащихся от сеанса протокол удаленного рабочего стола (RDP). По умолчанию этот параметр отключен.

Дополнительные сведения об управлении затратами см. в следующих статьях:
- [Оценка затрат](./cost-management-guide.md#estimate-the-lab-costs)
- [Управление затратами](./cost-management-guide.md#manage-costs)

### <a name="how-will-students-save-their-work"></a>Как учащиеся будут сохранять свои работы?
Каждому отдельному студенту назначается виртуальная машина на протяжении всего времени существования лаборатории. Студенты могут сохранить свою работу:

- На виртуальную машину.
- В внешнее расположение, например в OneDrive или GitHub. Можно настроить автоматическую загрузку на OneDrive для учащихся на виртуальных машинах лаборатории.

> [!NOTE]
> Чтобы гарантировать, что студенты будут иметь доступ к сохраненной работе за пределами лабораторной работы и после завершения класса, рекомендуется сохранить свою работу во внешнем репозитории.

### <a name="how-will-students-connect-to-their-vms"></a>Как учащиеся будут подключаться к своим виртуальным машинам?
Для подключений по протоколу RDP к виртуальным машинам Windows рекомендуется использовать [клиент удаленный рабочий стол (Майкрософт)](/windows-server/remote/remote-desktop-services/clients/remote-desktop-clients). Клиент удаленный рабочий стол поддерживает устройства Mac, свои Chromebook и Windows.

Для виртуальных машин Linux студенты могут использовать протоколы Secure Shell (SSH) или RDP. Чтобы студенты могли подключаться с помощью протокола удаленного рабочего стола, необходимо установить и настроить необходимые пакеты RDP и графические интерфейсы GUI.

### <a name="will-students-also-use-microsoft-teams"></a>Будут ли студенты также использовать Microsoft Teams?
Службы лаборатории Azure интегрируются с Microsoft Teams, чтобы участники преподавателей могли создавать свои лаборатории и управлять ими в группах.  Аналогичным образом студенты могут получить доступ к своим лабораториям в командах.

Дополнительные сведения см. [в статье службы лаборатории Azure в Microsoft Teams](./lab-services-within-teams-overview.md).

## <a name="set-up-your-lab"></a>Установка и настройка лаборатории

После того как вы прояснили все требования класса, можно начать заниматься установкой. Чтобы узнать, как это делать, перейдите по ссылкам в этом разделе. Инструкции также предоставляются для настройки лабораторий в рабочих группах.

1. **Создайте лабораторию**. Ознакомьтесь со следующими руководствами:
    - [Создание лаборатории для аудитории](./tutorial-setup-classroom-lab.md#create-a-classroom-lab)
    - [Создание лаборатории в командах](./how-to-get-started-create-lab-within-teams.md)

    > [!NOTE]
    > Если вашему классу требуется вложенная виртуализация, см. раздел [Включение вложенной виртуализации](./how-to-enable-nested-virtualization-template-vm.md).

1. **Настройка образов и публикация виртуальных машин лаборатории**. Чтобы подключиться к специальной виртуальной машине с именем шаблона, см.:
    - [Создание и управление шаблонной виртуальной машиной](./tutorial-setup-classroom-lab.md#publish-the-template-vm)
    - [Использование общей галереи образов](./how-to-use-shared-image-gallery.md)

    > [!NOTE]
    > Если вы используете Windows, см. также раздел [Настройка виртуальной машины с шаблоном Windows](./how-to-prepare-windows-template.md). Эти инструкции включают действия по настройке OneDrive и Microsoft Office для учащихся.

1. **Управление пулом виртуальных машин и емкостью**. Можно легко масштабировать или управлять емкостью виртуальной машины в зависимости от нужд класса. Помните, что увеличение емкости виртуальной машины может занять несколько часов, так как выполняется настройка новых виртуальных машин. См. следующие статьи:
    - [Настройка пула виртуальных машин и управление им](./how-to-set-virtual-machine-passwords.md)
    - [Управление пулом виртуальных машин в службах лабораторий в командах](./how-to-manage-vm-pool-within-teams.md)

1. **Добавление пользователей лаборатории и управление ими**. Сведения о добавлении пользователей в лабораторию см. в следующих статьях:
   - [Добавление пользователей в лабораторию](./tutorial-setup-classroom-lab.md#add-users-to-the-lab)
   - [Отправка приглашений пользователям](./tutorial-setup-classroom-lab.md#send-invitation-emails-to-users)
   - [Управление пользовательскими списками служб лаборатории в командах](./how-to-manage-user-lists-within-teams.md)

    Сведения о типах учетных записей, которые могут использовать студенты, см. в статье об [учетных записях учащихся](./how-to-configure-student-usage.md#student-accounts).
  
1. **Настройка средств управления затратами**. Чтобы задать расписание, установить квоты и включить автоматическое завершение работы, см. следующие учебники:

   - [Настройка расписания](./tutorial-setup-classroom-lab.md#set-a-schedule-for-the-lab)

        > [!NOTE]
        > В зависимости от установленной операционной системы для запуска виртуальной машины может потребоваться несколько минут. Чтобы убедиться, что виртуальная машина лаборатории готова к использованию в течение запланированных часов, рекомендуется запустить ее 30 минут заранее.

   - [Установка квот для пользователей](./how-to-configure-student-usage.md#set-quotas-for-users) и [Установка дополнительных квот для конкретных пользователей](./how-to-configure-student-usage.md#set-additional-quotas-for-specific-users)
  
   - [Активация автоматического отключения при потере связи](./how-to-enable-shutdown-disconnect.md)

        > [!NOTE]
        > Расписания и квоты не применяются к виртуальной машине шаблона, но параметры автоматического завершения работы применяются. 
        > 
        > При создании лабораторной виртуальной машины шаблон создается, но не запускается. Вы можете запустить виртуальную машину шаблона, подключиться к ней, установить необходимое программное обеспечение для лаборатории, а затем опубликовать его. При публикации шаблона виртуальная машина автоматически завершает работу, если это не было сделано вручную. 
        > 
        > При работе с виртуальными машинами шаблонов взимается плата, поэтому убедитесь, что виртуальная машина шаблона была выключена *, когда она* не нужна.

    - [Создание расписаний служб лаборатории и управление ими в командах](./how-to-create-schedules-within-teams.md) 

1. **Используйте панель мониторинга**. Инструкции см. [в статье Использование панели мониторинга лаборатории для занятий](./use-dashboard.md).

    > [!NOTE]
    > Оценочная стоимость, показанная на панели мониторинга, — это максимальная стоимость, которую можно рассчитывать на использование лаборатории учащихся. Например, вы *не будете платить* за неиспользованную квоту часов. В оценочных затратах *не* учитываются расходы на использование виртуальной машины шаблона, коллекции общих образов или когда создатель лаборатории запускает компьютер пользователя.

## <a name="next-steps"></a>Дальнейшие действия

В рамках управления лабораториями ознакомьтесь со следующими статьями:
- [Мониторинг использования лабораторного занятия](tutorial-track-usage.md)  
- [Доступ к лаборатории для аудитории](tutorial-connect-virtual-machine-classroom-lab.md)
