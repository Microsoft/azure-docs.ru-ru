---
title: Microsoft Azure инструкции по настройке задачи анализа кода безопасности
description: В этой статье описаны параметры конфигурации YAML для настройки всех задач в расширении Microsoft Security Code Analysis.
author: sukhans
manager: sukhans
ms.author: terrylan
ms.date: 03/22/2021
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: a41a788a84770201996fd369d9b47031674afee3
ms.sourcegitcommit: ba3a4d58a17021a922f763095ddc3cf768b11336
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2021
ms.locfileid: "104799553"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Параметры конфигурации YAML для настройки задач сборки

> [!Note]
> Начиная с 1 марта 2022, расширение Microsoft Security Code Analysis (МСКА) будет снято с учета. Существующие клиенты МСКА будут хранить доступ к МСКА до 1 марта 2022. Дополнительные параметры в Azure DevOps см. в разделе [средства анализа исходного кода OWASP](https://owasp.org/www-community/Source_Code_Analysis_Tools) . Для заказчиков, планирующих переход на GitHub, вы можете узнать о [повышенной безопасности GitHub](https://docs.github.com/github/getting-started-with-github/about-github-advanced-security).

В этой статье перечислены все параметры конфигурации YAML, доступные в каждой из задач сборки. Статья начинается с задач для средств анализа кода безопасности. Он завершается задачами, выполняемыми после обработки.

## <a name="anti-malware-scanner-task"></a>Задача сканера защиты от вредоносных программ

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Поля выбора | always | Верно | Basic | Базовый, Пользовательский | 
| ScanType | Поля выбора | InputType = базовый | Верно | кустомскан | Кустомскан, Фуллсистемскан, Куиккскан, Йоурконфигуредскан | Тип проверки, используемый для проверки наличия вредоносных программ.
| филедирпас | filePath | Скантипе = Кустомскан | Верно | $ (Build. StagingDirectory) |  | Указывает проверяемый файл или каталог.
| дисаблеремедиатион | Логическое | Скантипе = Кустомскан | Неверно | true |  | При проверке: 1) исключения файлов игнорируются. 2) файлы архива сканируются. 3) действия после обнаружения не применяются. 4) записи журнала событий не записываются после обнаружения. 5) обнаружения из пользовательской проверки не отображаются в пользовательском интерфейсе. 6) в выходных данных консоли отображается список обнаружений из пользовательской проверки.
| бутсекторскан | Логическое | Скантипе = Кустомскан | Неверно | false |  | Если этот флажок установлен, то включается сканирование загрузочного сектора.
| Аргументы | строка | InputType = пользовательский | Верно | -Scan-Скантипе 3-Дисаблеремедиатион-File $ (Build. StagingDirectory) |  | Аргументы командной строки, где аргумент для параметра-File является абсолютным путем, или относительный путь к предопределенной папке $ (Build. StagingDirectory) в агенте сборки. Примечание. Если не указать аргумент для параметра-File в качестве последнего аргумента, по умолчанию используется значение $ (Build. StagingDirectory). Можно также предоставить собственные аргументы, разрешенные средством MpCmdRun.exe.<br/><br/>Для получения дополнительных сведений о аргументах командной строки для этого средства введите <strong>-h</strong> или <strong>-?</strong> в поле аргументы и выполните задачу сборки.
| енаблесервицес | Логическое | always | Верно | false |  | Если этот флажок установлен, он попытается включить необходимые службы для Центр обновления Windows, если они отключены.<br/>**Примечание**. Убедитесь, что групповая политика не отключает службы, а учетная запись, под которой выполняется эта сборка, имеет права администратора.
| суппортлогонеррор | Логическое | always | Верно | false |  | Если этот флажок установлен, он будет выполнять сбор файлов поддержки для диагностики при возникновении ошибки. Это может занять несколько минут.<br/>**Примечание**. Убедитесь, что учетная запись, от имени которой выполняется эта сборка, имеет права администратора.
| треатсигнатуреупдатефаилуреас | Поля выбора | always | Верно | Предупреждение | Error, Standard, Warning | Уровень ведения журнала, используемый, если подпись не может быть обновлена во время выполнения. Если задано значение " **Ошибка**", ошибка при обновлении подписи приведет к сбою задачи сборки. Обратите внимание, что для обновления сигнатур в размещенных агентах сборки обычно происходит сбой, несмотря на то, что подпись может быть относительно актуальной (менее 3 часов назад).
| сигнатурефрешнесс | Поля выбора | always | Верно | уптодате | Онедай, Сридайс, Тводайс, Уптодате | Максимально допустимый срок действия подписи защиты от вредоносных программ. Если подпись не может быть обновлена и старше, чем это значение, задача сборки будет вести себя согласно выбранному значению в поле **проверить подписи возраст** . Примечание. при выборе **обновления срок** действия подписей может составлять до 3 часов.
| треатсталесигнатуреас | Поля выбора | always | Верно | Ошибка | Error, Standard, Warning | Уровень журнала, используемый, если возраст подписи старше, чем выбранный **возраст подписи антивредоносной программы**. Устаревшая сигнатура может рассматриваться как **предупреждение** или **информационная** , чтобы продолжить проверку антивредоносной программы, но это не рекомендуется.

## <a name="binskim-task"></a>Задача Бинским

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Поля выбора | always | Верно | Basic | Basic, CommandLine | 
| аргументы | строка | InputType = Командная строка | Верно |  |  | Стандартные аргументы командной строки Бинским для выполнения. Выходной путь будет удален и заменен.<br>Чтобы получить дополнительные сведения о аргументах командной строки для этого средства, введите **Help** в поле arguments и выполните задачу сборки.
| Компонент | Поля выбора | InputType = базовый | Верно | analyze | анализ, дамп, Експортконфиг, Експортрулес | 
| анализетаржет | filePath | InputType = базовый && функция = анализ | Верно | $ (Build. ArtifactStagingDirectory) \* . dll;<br>$ (Build. ArtifactStagingDirectory) \* . exe |  | Один или несколько описателей для файла, каталога или шаблона фильтра, которые разрешаются в один или несколько двоичных файлов для анализа. (разделенный список: ";")
| анализесимпас | строка | InputType = базовый && функция = анализ | Неверно |  |  | Путь к файлу символов для целевого объекта.
| анализеконфигпас | строка | InputType = базовый && функция = анализ | Неверно | default |  | Путь к файлу политики, который будет использоваться для настройки анализа. Передайте значение "default", чтобы использовать встроенные параметры.
| анализеплугинпас | строка | InputType = базовый && функция = анализ | Неверно |  |  | Путь к подключаемому модулю, который будет вызываться для всех целевых объектов в наборе данных анализа.
| анализерекурсе | Логическое | InputType = базовый && функция = анализ | Неверно | true |  | Рекурсивный анализ подкаталогов при вычислении аргументов описателей файла.
| анализевербосе | Логическое | InputType = базовый && функция = анализ | Неверно | false |  | Вывод подробных выходных данных. Полученный комплексный отчет предназначен для предоставления соответствующих доказательств для сценариев соответствия.
| анализехашес | Логическое | InputType = базовый && функция = анализ | Неверно | false |  | Выводится хэш целевых объектов анализа SHA-256 при выдаче отчетов САРИФ.
| анализестатистикс | Логическое | InputType = базовый && функция = анализ | Неверно | false |  | Создайте время и другие статистические данные для сеанса анализа.
| анализинвиронмент | Логическое | InputType = базовый && функция = анализ | Неверно | false |  | Записывать сведения о запуске в выходной файл среды компьютера. ПРЕДУПРЕЖДЕНИЕ. Этот параметр записывает потенциально конфиденциальную информацию (например, все значения переменных среды) в любой созданный журнал.
| експортрулесаутпуттипе | Поля выбора | InputType = базовый && функция = Експортрулес | Неверно | сариф | САРИФ, SonarQube | Тип файла дескриптора правил для вывода. Он будет включаться в папку журналов Бинским, опубликованную задачей публикации журналов анализа безопасности.
| думптаржет | filePath | InputType = базовый && функция = дамп | Верно | $ (Build. ArtifactStagingDirectory) |  | Один или несколько описателей для файла, каталога или шаблона фильтра, которые разрешаются в один или несколько двоичных файлов для анализа. (разделенный список: ";")
| думпрекурсе | Логическое | InputType = базовый && функция = дамп | Неверно | true |  | Рекурсивный анализ подкаталогов при вычислении аргументов описателей файла.
| думпвербосе | Логическое | InputType = базовый && функция = дамп | Неверно | true |  | Вывод подробных выходных данных. Полученный комплексный отчет предназначен для предоставления соответствующих доказательств для сценариев соответствия.
| тулверсион | Поля выбора | always | Неверно | Latest | 1.5.0, Latest, Латестпререлеасе | Версия запускаемого инструмента.

## <a name="credential-scanner-task"></a>Задача сканера учетных данных

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| выходнойФормат | Поля выбора | always | Неверно | pre | CSV, pre, TSV | Формат вывода файла результатов средства проверки учетных данных.
| тулверсион | Поля выбора | always | Неверно | Latest | 1.27.7, Latest, Латестпререлеасе | Версия запускаемого инструмента.
| сканфолдер | filePath | always | Неверно | $ (Build. SourcesDirectory) |  | Папка в репозитории для поиска учетных данных.
| сеарчерсфилетипе | Поля выбора | always | Неверно | По умолчанию | Пользовательский, по умолчанию, Дефаултандкустом | Параметры поиска файла поиска, используемого для сканирования.
| сеарчерсфиле | filePath | Сеарчерсфилетипе = = Custom или Сеарчерсфилетипе = = Дефаултандкустом | Неверно |  |  | Файл конфигурации поиска сканеров учетных данных для выполнения проверок. Несколько значений можно включать и использовать, предоставляя разделенный запятыми список путей к файлам поиска сканера учетных данных.
| суппрессионсфиле | filePath | always | Неверно |  |  | Файл подавления средства проверки учетных данных, используемый для подавления проблем в выходном журнале.
| суппрессасеррор | Логическое | always | Неверно | false |  | Подавленные соответствия будут выведены в выходной файл [-O] — соответствует. [-f] вместо подавления выходного файла по умолчанию [-O] — подавлено. [-f]. (Значение по умолчанию — "false")
| verboseOutput | Логическое | always | Неверно | false |  | Вывод подробных сведений.
| batchSize | строка | always | Неверно |  |  | Количество одновременных потоков, используемых для параллельного выполнения сканеров учетных данных. (По умолчанию — 20)<br/>Значение должно находиться в диапазоне 1-2147483647.
| режексматчтимеаутинсекондс | строка | always | Неверно |  |  | Время в секундах, по истечении которого выполняется поиск совпадения с поисковым запросом, прежде чем отменять проверку.<br/>Добавляет ``-Co RegexMatchTimeoutInSeconds=<Value>`` в командную строку.
| филесканреадбуфферсизе | строка | always | Неверно |  |  | Размер буфера при чтении содержимого в байтах. (По умолчанию — 524288)<br/>Добавляет ``-Co FileScanReadBufferSize=<Value>`` в командную строку.
| максфилесканреадбитес | строка | always | Неверно |  |  | Максимальное число байтов для чтения из заданного файла во время анализа содержимого. (По умолчанию — 104857600)<br/>Добавляет ``-Co MaxFileScanReadBytes=<Value>`` в командную строку.

## <a name="roslyn-analyzers-task"></a>Задача «Roslyn Analyzer»

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| усерпровидебуилдинфо | Поля выбора | always | Верно | auto | Auto, Мсбуилдинфо | Параметры для пользователя, чтобы предоставить версию MSBuild, архитектуру MSBuild и командную строку сборки для анализа Roslyn. Если выбрано значение " **Авто** ", эта задача извлечет сведения о сборке из предыдущих задач **MSBuild**, **всбуилд** и (или) **.NET Core** (для сборки) в одном конвейере.
| мсбуилдверсион | Поля выбора | Усерпровидебуилдинфо = = Мсбуилдинфо | Верно | 16,0 | 15,0, 16,0 | Версия MSBuild.
| msBuildArchitecture | Поля выбора | Усерпровидебуилдинфо = = Мсбуилдинфо | Верно | x86 | Команда dotnetcore, x64, x86 | Архитектура MSBuild. Примечание. Если командная строка сборки вызывает **dotnet.exe сборки**, выберите параметр с **помощью .NET Core** .
| мсбуилдкоммандлине | строка | Усерпровидебуилдинфо = = Мсбуилдинфо | Верно |  |  | Полная командная строка сборки для компиляции решения или проектов.<br/><br/>Примечания. Командная строка должна начинаться с полного пути к **MSBuild.exe** или **dotnet.exe**.<br/>Команда будет запущена с параметром $ (Build. SourcesDirectory) в качестве рабочего каталога.
| рулесетнаме | Поля выбора | always | Неверно | Рекомендуемая | Настраиваемое, нет, рекомендуется, обязательно | Именованный набор правил для использования.<br/><br/>Если `Ruleset Configured In Your Visual Studio Project File(s)` выбрано значение, будет использоваться набор правил, предварительно настроенный в файлах проекта VS. Если `Custom` выбрано значение, можно задать параметр настраиваемого пути набора правил.
| Версия набора правил | Поля выбора | Рулесетнаме = = Required или Рулесетнаме = = рекомендуется | Неверно | Latest | 8,0, 8,1, 8,2, последняя, Латестпререлеасе | Версия выбранного набора правил SDL.
| кустомрулесет | строка | Рулесетнаме = пользовательский | Неверно |  |  | Доступный путь к набору правил для использования. Относительные пути будут нормализованы до корня исходного репозитория ( `$(Build.SourcesDirectory)` ).<br/><br/>Если набор правил задает `Rules` параметр со `Actions` значением `Error` , задача сборки завершится ошибкой. Чтобы использовать набор правил, который делает это, проверьте, `Continue on error` есть ли задача сборки `Control Options` .
| микрософтанализерсверсион | Поля выбора | always | Неверно | Latest | 2.9.3, 2.9.4, 2.9.6, Latest, Латестпререлеасе | Версия пакета [Microsoft. CodeAnalysis. фкскопанализерс](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) для запуска.
| суппрессионфилефоркомпилерварнингс | filePath | always | Неверно |  |  | Файл подавлений для подавления предупреждений компилятора C# и VB.<br/><br/>Обычный текстовый файл с каждым ИДЕНТИФИКАТОРом предупреждения, указанным в отдельной строке.<br/>Для предупреждений компилятора укажите только числовую часть идентификатора предупреждения. Например, 1018 будет подавлять CS1018, а CA1501 подавление CA1501.<br/><br/>Относительный путь к файлу будет добавлен к корню исходного репозитория ( `$(Build.SourcesDirectory)` ).

## <a name="tslint-task"></a>Задача TSLint

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| рулелибрари | Поля выбора | always | Верно | tslint | Custom, Microsoft, tslint | Все результаты включают правила, поставляемые с выбранной версией TSLint (**только базовая** версия).<br/><br/>**Только базовая —** Только правила, поставляемые с TSLint.<br/><br/>**Включить правила Майкрософт —** Скачивает [tslint-Microsoft-от участников сообщества](https://github.com/Microsoft/tslint-microsoft-contrib) и включает правила, доступные для использования в tslint запуске. При выборе этого параметра флажок скрывается `Type Checking` , так как он требуется для правил Майкрософт и будет автоматически использоваться. Он также скрывает `Microsoft Contribution Version` поле, позволяя `tslint-microsoft-contrib` выбрать версию из [NPM](https://www.npmjs.com/package/tslint-microsoft-contrib) .<br/><br/>**Включить настраиваемые правила —** Скрывает `Rules Directory` поле, которое принимает доступный путь к каталогу правил TSLint, доступных для использования в TSLintном запуске.<br/><br/>**Примечание.** Значение по умолчанию изменено на tslint, так как у многих пользователей возникли проблемы с настройкой набора правил Microsoft. Сведения о конфигурации конкретной версии см. [на сайте tslint-Microsoft-от участников сообщества на сайте GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| рулесдиректори | строка | Рулелибрари = = пользовательский | Верно |  |  | Доступный каталог, содержащий дополнительные правила TSLint, которые будут доступны для использования в TSLint запуске.
| Набора правил | Поля выбора | Рулелибрари! = Microsoft | Верно | тсрекоммендед | Custom, тслатест, тсрекоммендед | Определяет правила для выполнения с файлами TypeScript.<br/><br/>**[tslint: Последняя](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может привести к критическим изменениям в дополнительных выпусках, так как включены новые правила, вызывающие сбои lint в коде. Когда TSLint достигает основного выпуклого номера версии, `tslint:recommended` будет обновляться так же, как и `tslint:latest` .<br/><br/>**[tslint: рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Стабильный, довольно упрямого набор правил, которые TSLint способствует общему программированию TypeScript. Эта конфигурация имеет следующий вид `semver` , поэтому она *не* будет иметь критических изменений во вспомогательных выпусках или исправлениях.
| рулесетмикрософт | Поля выбора | Рулелибрари = = Microsoft | Верно | мссдлрекуиред | Custom, мсрекоммендед, мссдлрекоммендед, мссдлрекуиред, тслатест, тсрекоммендед | Определяет правила для выполнения с файлами TypeScript.<br/><br/>**[Майкрософт: требуется SDL](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Выполните все доступные проверки, предоставляемые tslint, и правила tslint-Microsoft-от участников сообщества, которые соответствуют *необходимым* политикам [жизненного цикла разработки безопасности (SDL)](https://www.microsoft.com/sdl/) .<br/><br/>**[Майкрософт: рекомендуется](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Выполните все доступные проверки, предоставляемые tslint, и правила tslint-Microsoft-от участников сообщества, которые соответствуют *необходимым и рекомендованным* политикам [жизненного цикла разработки безопасности (SDL)](https://www.microsoft.com/sdl/) .<br/><br/>**Майкрософт: рекомендуется** Все проверки, рекомендованные авторами правил tslint-Microsoft-от участников сообщества. Сюда входят проверки безопасности и не относящиеся к безопасности.<br/><br/>**[tslint: Последняя](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может привести к критическим изменениям в дополнительных выпусках, так как включены новые правила, вызывающие сбои lint в коде. Когда TSLint достигает основного выпуклого номера версии, `tslint:recommended` будет обновляться так же, как и `tslint:latest` .<br/><br/>**[tslint: рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Стабильный, довольно упрямого набор правил, которые TSLint способствует общему программированию TypeScript. Эта конфигурация имеет следующий вид `semver` , поэтому она *не* будет иметь критических изменений во вспомогательных выпусках или исправлениях.
| рулесетфиле | строка | RuleSet = = Custom или Рулесетмикрософт = = Custom | Верно |  |  | [Файл конфигурации](https://palantir.github.io/tslint/usage/cli/) , указывающий, какие правила следует выполнить.<br/><br/>Путь к конфигурации будет добавлен в качестве пути для [настраиваемых правил](https://palantir.github.io/tslint/develop/custom-rules/).
| филеселектионтипе | Поля выбора | always | Верно | филеглоб | Филеглоб, projectFile | 
| Файлы | строка | Филеселектионтипе = = Филеглоб | Верно | **\*. TS |  | [Стандартная маска](https://www.npmjs.com/package/glob) файла, который определяет, какие файлы следует обработать. Пути задаются относительно `Build.SourcesDirectory` значения.<br/><br/>Для использования библиотеки публикаций Майкрософт требуется файл проекта. Если вы используете библиотеку публикаций Майкрософт с `File Glob Pattern` параметром, будет создан файл проекта.
| ECMAScriptVersion | Поля выбора | Филеселектионтипе = = Филеглоб && Рулелибрари = = Microsoft | Верно | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Целевая версия ECMAScript, настроенная с помощью компилятора TypeScript. При использовании файла проекта это поле Компилероптионс. Target tsconfig.jsв файле TypeScript.
| Project | строка | Филеселектионтипе = = projectFile | Верно |  |  | Путь к [tsconfig.jsв](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) файле, указывающий файлы TypeScript для запуска TSLint. Пути задаются относительно `Build.SourcesDirectory` значения.
| типечекк | Логическое | Рулелибрари! = Microsoft && Филеселектионтипе = = projectFile | Неверно | true |  | Включает средство проверки типов при выполнении правил linting.
| ексклудефилес | строка | always | Неверно |  |  | Объект [стандартная маска](https://www.npmjs.com/package/glob) , который указывает файлы, исключаемые из linting. Пути задаются относительно `Build.SourcesDirectory` значения. Можно указать несколько значений, разделяя их точкой с запятой.
| OutputFormat | Поля выбора | always | Верно | json | Checkstyle, Кодефраме, Филеслист, JSON, MSBuild, PMD, prose, стильный, Verbose, VSO | [Модуль форматирования](https://palantir.github.io/tslint/formatters/) , используемый для создания выходных данных. Обратите внимание, что формат JSON совместим с анализом после анализа.
| нодемемори | строка | always | Неверно |  |  | Явный объем памяти (в МБ), выделяемой узлу для запуска TSLint. Пример: 8000<br/><br/>Сопоставляется с `--max_old_space=<value>` параметром CLI для Node, который является `v8 option` .
|  ToolVersion | Поля выбора | Рулелибрари! = Microsoft | Верно | последняя | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, Latest | [Версия](https://github.com/palantir/tslint/releases) TSLint для скачивания и запуска.
| типескриптверсион | Поля выбора | always | Верно | последняя | 0.8.0, 0.8.1, не ниже 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2,, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8,, | Версия [typescript](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание.** Это должна быть та же версия TypeScript, что используется для компиляции кода.
| типескриптверсионкустом | строка | Типескриптверсион = = пользовательский | Верно | последняя |  | Версия [typescript](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание.** Это должна быть та же версия TypeScript, что используется для компиляции кода.
| микрософтконтрибверсион | Поля выбора | Рулелибрари = = Microsoft |  | последняя | 4.0.0, 4.0.1, 5.0.0, 5.0.1, последний | Версия [tslint-Microsoft-от участников сообщества](https://www.npmjs.com/package/tslint-microsoft-contrib) (правила SDL) для загрузки и использования.</br>**Примечание.** Будет выбрана версия [tslint](https://www.npmjs.com/package/tslint) , совместимая с версией, выбранной для tslint-Microsoft-от участников сообщества. Обновления для tslint — Microsoft-от участников сообщества будут наследоваться этой задачей сборки до тех пор, пока не будет выполнен период тестирования.

## <a name="publish-security-analysis-logs-task"></a>Задача публикации журналов анализа безопасности

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ArtifactName | строка | always | Верно | кодеаналисислогс |  | Имя создаваемого артефакта.
| ArtifactType | Поля выбора | always | Верно | Контейнер | Контейнер, путь к файлу | Тип создаваемого артефакта.
| TargetPath | строка | ArtifactType = FilePath | Неверно | \\ми\шаре \$ (сборка. DefinitionName)<br>\$(Сборка. BuildNumber) |  | Общая папка, в которую копируются файлы
| аллтулс | Логическое | always | Верно | true |  | Публикация результатов, созданных всеми задачами, выполняемыми при разработке средств безопасной разработки.
| Антивредоносной программы | Логическое | Аллтулс = false | Верно | true |  | Публикация результатов, созданных задачами сборки антивредоносного по.
| бинским | Логическое | Аллтулс = false | Верно | true |  | Публикация результатов, созданных задачами сборки Бинским.
| кредскан | Логическое | Аллтулс = false | Верно | true |  | Публикация результатов, сформированных задачами сборки сканера учетных данных.
| рослинанализерс | Логическое | Аллтулс = false | Верно | false |  | Публикация результатов, формируемых задачами сборки Roslyn Analyzer.
| TSLint | Логическое | Аллтулс = false | Верно | true |  | Публикация результатов, созданных задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| туллогснотфаундактион | поля выбора | always | Верно | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.

## <a name="security-report-task"></a>Задача "отчет о безопасности"

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| встсконсоле | Логическое | always | Неверно | true |  | Запись результатов в консоль конвейера.
| тсвфиле | Логическое | always | Неверно | true |  | Создание TSV-файла (разделенных табуляцией) с одной строкой на найденный результат и табуляцией, разделяющими сведения для результата.
| хтмлфиле | Логическое | always | Неверно | true |  | Создание файла HTML-отчета.
| аллтулс | Логическое | always | Верно | false |  | Результаты отчета, созданные всеми задачами по обеспечению безопасной разработки.
| бинским | Логическое | Аллтулс = false | Верно | false |  | Результаты отчета, созданные задачами сборки Бинским.
| бинскимбреакон | Поля выбора | Аллтулс = true или Бинским = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| кредскан | Логическое | Аллтулс = false | Верно | false |  | Результаты отчета, сформированные задачами сборки сканера учетных данных.
| рослинанализерс | Логическое | Аллтулс = false | Верно | false |  | Результаты отчета, созданные задачами сборки Roslyn Analyzer.
| рослинанализерсбреакон | Поля выбора | Аллтулс = true или Рослинанализерс = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| TSLint | Логическое | Аллтулс = false | Верно | false |  | Результаты отчета, созданные задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| тслинтбреакон | Поля выбора | Аллтулс = true или TSLint = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| туллогснотфаундактион | поля выбора | always | Верно | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.
| кустомлогсфолдер | строка | always | Неверно |  |  | Базовая папка, в которой находятся журналы средств анализа; отдельные файлы журналов будут находиться во вложенных папках, названных каждым средством, под этим путем.

## <a name="post-analysis-task"></a>Задача после анализа

| **InputType**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| аллтулс | Логическое | always | Верно | false |  | Разбейте сборку, если любая из задач сборки анализа кода безопасности Майкрософт обнаруживает проблемы.
| бинским | Логическое | Аллтулс = false | Верно | false |  | Разбейте сборку при обнаружении любых проблем Бинским в соответствии с выбранным параметром прерывать на.
| бинскимбреакон | Поля выбора | Аллтулс = true или Бинским = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| кредскан | Логическое | Аллтулс = false | Верно | false |  | Разбейте сборку, если обнаружены проблемы с сканером учетных данных.
| рослинанализерс | Логическое | Аллтулс = false | Верно | false |  | Разбейте сборку, если обнаружены проблемы с Roslyn Analyzer.
| рослинанализерсбреакон | Поля выбора | Аллтулс = true или Рослинанализерс = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| TSLint | Логическое | Аллтулс = false | Верно | false |  | Разбейте сборку при обнаружении любых проблем TSLint. Обратите внимание, что после анализа поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| тслинтбреакон | Поля выбора | Аллтулс = true или TSLint = true | Верно | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| встсконсоле | Логическое | always | Неверно | true |  | Запись результатов в консоль конвейера.
| туллогснотфаундактион | поля выбора | always | Верно | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.

## <a name="next-steps"></a>Следующие шаги

Если у вас есть дополнительные вопросы о расширении анализа кода безопасности и предлагаемых средствах, ознакомьтесь со [страницей часто задаваемых вопросов](security-code-analysis-faq.md).