---
title: Безопасная загрузка встроенного по — безопасность Azure
description: Технический обзор безопасной загрузки встроенного по Azure.
author: yosharm
ms.service: security
ms.subservice: security-fundamentals
ms.topic: article
ms.author: terrylan
manager: rkarlin
ms.date: 11/10/2020
ms.openlocfilehash: feb28b1d448d0146046ed789d1389a3a42f344de
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94557849"
---
# <a name="secure-boot"></a>Безопасная загрузка

Безопасная загрузка — это функция [единый интерфейс EFI](https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface) (UEFI), которая требует проверки всех компонентов микропрограммы и программного обеспечения нижнего уровня перед загрузкой. Во время загрузки безопасная Загрузка UEFI проверяет подпись каждой части программного обеспечения загрузки, включая драйверы встроенного по UEFI (также называемые опциональными ПЗУ), приложения EFI, а также драйверы и двоичные файлы операционной системы. Если подписи действительны или являются доверенными для изготовителя оборудования (OEM), компьютер загружается, а встроенное по обеспечивает управление операционной системой.

## <a name="components-and-process"></a>Компоненты и процессы

Безопасная загрузка зависит от этих критических компонентов:

- Ключ платформы (PK) — устанавливает отношение доверия между владельцем платформы (Майкрософт) и встроенным по. Открытая половина — Пкпуб, а частная половина — Пкприв.
- База данных ключей регистрации ключей (KEK) — устанавливает отношение доверия между операционной системой и встроенным по платформы. Открытая половина — Кекпуб, а частная половина — Кекприв.
- База данных сигнатур (DB) — содержит дайджесты для доверенных подписывающих (открытых ключей и сертификатов) программного обеспечения и модулей кода программного обеспечения, имеющих право взаимодействовать с встроенным по платформы.
- База данных отозванных подписей (DBX) — содержит отозванные дайджесты модулей кода, которые были идентифицированы как вредоносные, уязвимые, скомпрометированные или ненадежные. Если хэш-код находится в базе данных сигнатуры и отозванной подписи, то она имеет приоритет над отозванными сигнатурами.

На следующем рисунке и в этом процессе объясняется, как обновляются эти компоненты.

![Схема, на которой показаны компоненты безопасной загрузки.](./media/secure-boot/secure-boot.png)

Изготовитель оборудования хранит дайджесты безопасной загрузки в энергонезависимом ОЗУ компьютера (NV-RAM) во время производства.

1. База данных сигнатур (DB) заполняется хэшами подписывающих или образов приложений UEFI, загрузчиками операционной системы (например, загрузчиком операционной системы Майкрософт или диспетчером загрузки), а также доверенными драйверами UEFI.
2. База данных отозванных подписей (DBX) заполняется дайджестами модулей, которые больше не являются доверенными.
3. База данных ключа регистрации ключей (KEK) заполняется ключами подписывания, которые можно использовать для обновления базы данных сигнатур и отзыва базы данных сигнатур. Базы данных могут быть изменены с помощью обновлений, подписанных правильным ключом или через обновления физически представленным полномочным пользователем с помощью меню встроенного по.
4. После добавления баз данных Database, dbx и KEK и окончательной проверки встроенного по и завершения тестирования изготовитель оборудования блокирует редактирование встроенного по и создает ключ платформы (PK). Ключ PK можно использовать для подписывания обновлений KEK или для отключения безопасной загрузки.

На каждом этапе процесса загрузки вычисляются дайджесты встроенного по, загрузчика, операционной системы, драйверов ядра и других артефактов цепочки загрузки и сравниваются с допустимыми значениями. Загрузка встроенного по и программного обеспечения, которые не являются доверенными, не разрешена. Таким случаем вредоносные атаки на вредоносные программы или перед загрузкой могут быть заблокированы.

## <a name="secure-boot-on-the-azure-fleet"></a>Безопасная загрузка на парке Azure
Сегодня каждый компьютер, подключенный и развернутый на подсистеме вычислений Azure для размещения рабочих нагрузок клиентов, поступает из производственных этажей с включенной безопасной загрузкой. Целевые средства и процессы на каждом этапе в конвейере сборки и интеграции оборудования гарантируют, что включение безопасной загрузки не будет отменено случайно или злонамеренным намерением.

Проверка правильности дайджестов баз данных и dbx гарантирует следующее:

- В одной из записей базы данных находится загрузчик
- Подпись загрузчика допустима
- Узел загружается с доверенным программным обеспечением

 Проверив сигнатуры Кекпуб и Пкпуб, мы можем подтвердить, что только доверенные стороны имеют разрешение на изменение определений того, какое программное обеспечение считается доверенным. Наконец, убедившись в том, что безопасная загрузка активна, мы можем проверить, применяются эти определения.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о том, что мы делаем для обеспечения целостности и безопасности платформы, см. в следующих статьях:

- [Безопасность встроенного ПО](firmware.md)
- [Измеряемая Загрузка и аттестация узла](measured-boot-host-attestation.md)
- [Проект Cerberus](project-cerberus.md)
- [Шифрование при хранении](encryption-atrest.md)
- [Безопасность гипервизора](hypervisor.md)