---
title: Безопасность низкоуровневой оболочки в Azure — безопасность Azure
description: Технический обзор безопасности гипервизора на парке Azure.
author: yosharm
ms.service: security
ms.subservice: security-fundamentals
ms.topic: article
ms.author: terrylan
manager: rkarlin
ms.date: 11/10/2020
ms.openlocfilehash: 766266edd663b75b893a5883e30bb48eed7bbfdf
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94696121"
---
# <a name="hypervisor-security-on-the-azure-fleet"></a>Безопасность низкоуровневой оболочки на парке Azure

Система низкоуровневой оболочки Azure основана на Windows Hyper-V. Система низкоуровневой оболочки позволяет администратору компьютера указывать гостевые секции с отдельными адресными пространствами. Отдельные адресные пространства позволяют загружать операционную систему и приложения, работающие в параллельной операционной системе (узле), которая выполняется в корневом разделе компьютера. Операционная система узла (также называемая привилегированным корневым разделом) имеет прямой доступ ко всем физическим устройствам и периферийным ресурсам системы (контроллеры хранилища, сетевые адаптации). ОС узла позволяет гостевым секциям совместно использовать эти физические устройства, предоставляя "виртуальные устройства" каждому гостевому разделу. Поэтому операционная система, которая выполняется в гостевом разделе, имеет доступ к виртуализированным периферийным устройствам, предоставляемым службами виртуализации, которые выполняются в корневом разделе.

В основе гипервизора Azure встроены следующие цели безопасности:

| Назначение | Источник |
|--|--|
| Изоляция | Политика безопасности не требует передавать данные между виртуальными машинами. Это ограничение требует наличия возможностей в диспетчер виртуальных машин (VMM) и оборудовании для изоляции памяти, устройств, сети и управляемых ресурсов, таких как материализованные данные. |
| Целостность VMM | Для достижения общей целостности системы целостность отдельных компонентов гипервизора устанавливается и сохраняется. |
| Целостность платформы | Целостность гипервизора зависит от целостности оборудования и программного обеспечения, на котором оно основано. Хотя гипервизор не имеет прямого контроля над целостностью платформы, Azure использует механизмы оборудования и встроенного по, такие как микросхема [Cerberus](project-cerberus.md) , для защиты и обнаружения целостности базовой платформы. При компрометации целостности платформы работа VMM и гостей запрещается. |
| Ограниченный доступ | Функции управления применяются только полномочными администраторами, подключенными к защищенным подключениям. Принцип наименьших привилегий обеспечивается механизмом управления доступом на основе ролей Azure (Azure RBAC). |
| Аудит | Azure позволяет функциям аудита записывать и защищать данные о том, что происходит в системе, чтобы впоследствии можно было проверить его. |

Подход корпорации Майкрософт к усилению защиты низкоуровневой оболочки Azure и подсистемы виртуализации можно разделить на следующие три категории.

## <a name="strongly-defined-security-boundaries-enforced-by-the-hypervisor"></a>Строго определенные границы безопасности, реализованные гипервизором

Гипервизор Azure обеспечивает применение нескольких границ безопасности между:

- Виртуализированные "гостевые" разделы и привилегированный раздел ("узел")
- Несколько гостей
- И узел
- Сам и все гости

Конфиденциальность, целостность и доступность гарантированы для границ безопасности гипервизора. Границы защищаются от ряда атак, включая утечку информации на стороне канала, отказ в обслуживании и повышение привилегий.

Граница безопасности гипервизора также обеспечивает сегментацию между клиентами для сетевого трафика, виртуальных устройств, хранилища, ресурсов вычислений и всех остальных ресурсов виртуальной машины.

## <a name="defense-in-depth-exploit-mitigations"></a>Глубокая защита от несанкционированного использования

В маловероятной ситуации, когда безопасность связана с уязвимостью, гипервизор Azure включает несколько уровней защиты, в том числе:

- Изоляция процессов, размещенных в разных виртуальных машинах, на уровне узла
- Безопасность на основе виртуализации (VBS) для обеспечения целостности компонентов пользовательского и режима ядра в безопасном мире
- Несколько уровней защиты от эксплойтов. К устранению рисков относятся Случайное расположение макета адресного пространства (ASLR), предотвращение выполнения данных (DEP), произвольная защита кода, целостность потока управления и предотвращение повреждений данных.
- Автоматическая инициализация переменных стека на уровне компилятора
- API-интерфейсы ядра, которые автоматически инициализируют выделение памяти в куче ядра, выполняемом Hyper-V

Эти способы устранения уязвимости предназначены для того, чтобы не допустить атаки с использованием нескольких виртуальных машин.

## <a name="strong-security-assurance-processes"></a>Надежные процессы обеспечения безопасности

Контактная зона, связанная с гипервизором, включает в себя программное обеспечение сети, виртуальные устройства и все поверхности виртуальной машины. Контактная зона отбирается с помощью автоматизированной интеграции сборок, которая запускает периодические проверки безопасности.

Все поверхности атаки на виртуальную машину являются смоделированными, протестированными, нечеткими и проверенными в нашей красной группе на предмет нарушений границ безопасности. Корпорация Майкрософт выпустила [программу Bug поощрения](https://www.microsoft.com/msrc/bounty-hyper-v) , которая выплачивает награду за соответствующие уязвимости в соответствующих версиях продуктов для Microsoft Hyper-V.

> [!NOTE]
> Дополнительные сведения о [надежных процессах обеспечения безопасности](../../azure-government/azure-secure-isolation-guidance.md#strong-security-assurance-processes) в Hyper-V.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о том, что мы делаем для обеспечения целостности и безопасности платформы, см. в следующих статьях:

- [Безопасность встроенного ПО](firmware.md)
- [Безопасная загрузка](secure-boot.md)
- [Измеряемая Загрузка и аттестация узла](measured-boot-host-attestation.md)
- [Проект Cerberus](project-cerberus.md)
- [Шифрование при хранении](encryption-atrest.md)