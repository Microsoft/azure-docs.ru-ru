---
title: Защита приложений PaaS с помощью службы хранилища Azure | Документация Майкрософт
description: Ознакомьтесь с рекомендациями по безопасности службы хранилища Azure, чтобы защитить свои веб-приложения и мобильные приложения PaaS.
services: security
documentationcenter: na
author: TomShinder
manager: barbkess
editor: ''
ms.assetid: ''
ms.service: security
ms.subservice: security-fundamentals
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 09/28/2018
ms.author: tomsh
ms.openlocfilehash: 12cce0eac3827046ae9171f3dd5696ae5905c802
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "101093986"
---
# <a name="best-practices-for-securing-paas-web-and-mobile-applications-using-azure-storage"></a>Рекомендации по защите мобильных приложений и веб-приложений PaaS с помощью службы хранилища Azure
В этой статье рассматривается набор рекомендаций по безопасности службы хранилища Azure, предназначенных для защиты веб-приложений PaaS и мобильных приложений PaaS. Эти рекомендации основаны на нашем опыте, полученном в процессе использования Azure AD, и на отзывах других пользователей.

Azure позволяет развертывать и использовать хранилище способами, которых сложно достичь в локальной среде. Благодаря службе хранилища Azure можно относительно легко достичь высокого уровня масштабируемости и доступности. Служба хранилища Azure является не только основой для виртуальных машин Azure под управлением Windows и Linux, она также поддерживает большие распределенные приложения.

Службы хранилища Azure включают хранилище BLOB-объектов, а также хранилища таблиц, очередей и файлов. Дополнительные сведения см. в статье [Introduction to Microsoft Azure Storage](../../storage/common/storage-introduction.md) (Введение в службу хранилища Microsoft Azure).

[Руководство по безопасности службы хранилища Azure](../../storage/blobs/security-recommendations.md) является отличным источником сведений о службе хранилища Azure и ее безопасности. В этой статье рекомендаций более подробно рассматриваются некоторые основные понятия, содержащиеся в руководстве по безопасности, а также представлены ссылки на руководство по безопасности и другие источники.

В этой статье рассматриваются следующие рекомендации:

- Подписанные URL-адреса (SAS)
- Управление доступом Azure на основе ролей (Azure RBAC)
- шифрование на стороне клиента для важных данных;
- Шифрование службы хранилища


## <a name="use-a-shared-access-signature-instead-of-a-storage-account-key"></a>Использование подписанного URL-адреса вместо ключа учетной записи хранения
Управление доступом является критически важным. Чтобы помочь вам контролировать доступ к службе хранилища Azure, при создании учетной записи хранения Azure создаст два 512-разрядных ключа доступа (SAK). Уровень избыточности ключа позволяет избежать прерывания службы во время процедуры смены ключей. 

Ключи доступа к хранилищу являются секретами с высоким приоритетом и должны быть доступны только тем, кто отвечает за управление доступом к хранилищу. Если посторонние лица получат доступ к этим ключам, они смогут полностью контролировать хранилище, а также заменять, удалять или добавлять содержащиеся в нем файлы. Сюда входит вредоносное ПО и другие типы содержимого, которые могут потенциально поставить под угрозу вашу организацию или ваших клиентов.

Вам по-прежнему потребуется способ предоставления доступа к объектам в хранилище. Чтобы обеспечить более точные условия доступа, можно воспользоваться преимуществами подписанного URL-адреса (SAS). SAS позволяет обмениваться конкретными объектами в хранилище в течение заранее определенного интервала времени с конкретными разрешениями. Подписанный URL-адрес позволяет определить следующее:

- Период действия SAS, включая время начала и окончания срока действия.
- Разрешения, предоставляемые с помощью SAS. Например, SAS для большого двоичного объекта может предоставить разрешения на чтение и запись для него, но не разрешение на удаление.
- Дополнительный IP-адрес или диапазон IP-адресов, по которым служба хранилища Azure будет принимать SAS. Например, можно указать диапазон IP-адресов, принадлежащих организации. Таким образом обеспечивается еще одна мера безопасности для SAS.
- Протокол, по которому служба хранилища Azure будет принимать SAS. С помощью этого необязательного параметра можно ограничить доступ к клиентам, использующим протокол HTTPS.

SAS позволяет совместно использовать содержимое таким образом, чтобы предоставить к нему доступ, не отдавая свои ключи учетной записи хранения. Постоянное использование SAS в приложениях — это безопасный способ предоставления общего доступа к ресурсам хранилища без ущерба для ключей учетной записи хранения.

Дополнительные сведения о подписанных URL-адресах см. в статье [Использование подписанных URL-адресов (SAS)](../../storage/common/storage-sas-overview.md). 

## <a name="use-azure-role-based-access-control"></a>Использование управления доступом на основе ролей в Azure
Другим способом управления доступом является использование [управления доступом на основе ролей Azure (Azure RBAC)](../../role-based-access-control/overview.md). С помощью Azure RBAC вы Сосредоточьтесь на предоставлении сотрудникам нужных им разрешений, исходя из необходимости знания и минимальных принципов безопасности. Слишком большое число разрешений делает учетную запись уязвимой для злоумышленников. Недостаточное число разрешений мешает эффективной работе сотрудников. Azure RBAC помогает решить эту проблему, предлагая детальное управление доступом для Azure. Это крайне важно для организаций, которые планируют применять политики безопасности для доступа к данным.

Для назначения привилегий пользователям можно использовать встроенные роли Azure в Azure. Например, для облачных операторов, которым нужно управлять учетными записями хранения, используйте роль "Участник учетной записи хранения", а для управления классическими учетными записями хранения — "Участник классической учетной записи хранения". Облачным операторам, которым нужно управлять виртуальными машинами, но не виртуальными сетями и учетными записями хранения, к каким они подключены, вы можете назначать роль "Участник виртуальной машины".

Организации, не применяющие управление доступом к данным с помощью таких возможностей, как Azure RBAC, могут предоставлять больше привилегий, чем необходимо для пользователей. Это может привести к компрометации данных, так как пользователи смогут получить доступ к таким данным, которые не должны быть им доступны.

Дополнительные сведения о Azure RBAC см. в следующих статьях:

- [Назначение ролей Azure с помощью портала Azure](../../role-based-access-control/role-assignments-portal.md)
- [Встроенные роли Azure](../../role-based-access-control/built-in-roles.md)
- [Руководство по безопасности службы хранилища Azure](../../storage/blobs/security-recommendations.md) 

## <a name="use-client-side-encryption-for-high-value-data"></a>Использование шифрования на стороне клиента для важных данных
Шифрование на стороне клиента позволяет программно шифровать передаваемые данные до отправки в службу хранилища Azure и расшифровывать их при извлечении. Таким образом обеспечивается шифрование передаваемых и неактивных данных. Шифрование на стороне клиента является наиболее безопасным методом шифрования данных, который, однако, требует внесения программных изменений в приложение и реализации процессов управления ключами.

Шифрование на стороне клиента также позволяет обеспечить исключительный контроль над ключами шифрования. Вы можете создавать собственные ключи шифрования и управлять ими. Шифрование на стороне клиента использует конвертный метод, когда клиентская библиотека службы хранилища Azure создает ключ шифрования содержимого (CEK), который затем зашифровывается с помощью ключа шифрования ключей (KEK). Ключ шифрования ключей определяется идентификатором ключа и может быть парой асимметричных ключей или симметричным ключом. Вы можете управлять им локально или хранить его в [хранилище ключей Azure](../../key-vault/general/overview.md).

Шифрование на стороне клиента встроено в библиотеки хранилищ Java и .NET. Дополнительные сведения о шифровании данных в клиентских приложениях и создании собственных ключей шифрования и управлении ими см. в разделе [Шифрование на стороне клиента и Azure Key Vault для Служба хранилища Microsoft Azure](../../storage/common/storage-client-side-encryption.md) .

## <a name="enable-storage-service-encryption-for-data-at-rest"></a>Включение функции "Шифрование службы хранилища" для неактивных данных
Когда [шифрование службы хранения](../../storage/common/storage-service-encryption.md) для хранилища файлов включено, данные шифруются автоматически с использованием шифрования AES-256. Корпорация Майкрософт полностью обеспечивает шифрование, расшифровку и управление ключами. Эта функция доступна для типов избыточности LRS и GRS.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье представлен набор рекомендаций по безопасности службы хранилища Azure, предназначенных для защиты веб-приложений и мобильных приложений PaaS. Дополнительные сведения о безопасности развернутых служб PaaS см. в следующих статьях:

- [Защита развернутых служб PaaS](paas-deployments.md)
- [Защита мобильных приложений и веб-приложений PaaS с помощью служб приложений Azure](paas-applications-using-app-services.md)
- [Защита баз данных PaaS в Azure](paas-applications-using-sql.md)