---
title: Базовый план безопасности Azure для Управления API
description: Базовый план безопасности управления API содержит рекомендации и ресурсы для реализации рекомендаций по безопасности, указанных в статье о производительности системы безопасности Azure.
author: msmbaldwin
ms.service: api-management
ms.topic: conceptual
ms.date: 02/17/2021
ms.author: mbaldwin
ms.custom: subject-security-benchmark
ms.openlocfilehash: 7c5fbbd8cdfd75819bffcfb93fc81900feb4a612
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "101652374"
---
# <a name="azure-security-baseline-for-api-management"></a>Базовый план безопасности Azure для Управления API

Этот базовый план безопасности применяет рекомендации из [контрольного показателя безопасности Azure версии 1,0 к службе](../security/benchmarks/overview-v1.md) управления API. Azure Security Benchmark содержит рекомендации по обеспечению безопасности облачных решений в Azure.
Содержимое группируются по **элементам управления безопасностью** , определенным в производительности системы безопасности Azure, и связанным рекомендациям, применимым к управлению API. **Элементы управления** , неприменимые к УПРАВЛЕНИю API, были исключены.

 
Чтобы узнать, как служба управления API полностью сопоставляется с тестовым показателем безопасности Azure, см. [полный файл сопоставления базовых показателей безопасности управления API](https://github.com/MicrosoftDocs/SecurityBenchmarks/tree/master/Azure%20Offer%20Security%20Baselines).

## <a name="network-security"></a>Безопасность сети

*Дополнительные сведения см. в статье [Azure Security Benchmark: безопасность сети](../security/benchmarks/security-control-network-security.md).*

### <a name="11-protect-azure-resources-within-virtual-networks"></a>1,1: защита ресурсов Azure в виртуальных сетях

**Руководство**. Службу Управления API Azure можно развернуть в пределах виртуальной сети Azure, обеспечив доступ к серверным службам в этой сети. Портал разработчика и шлюз Управления API можно настроить для предоставления доступа как из Интернета (внешний доступ), так и только в пределах виртуальной сети (внутренний доступ).

- Внешний: шлюз Управления API и портал разработчика доступны из общедоступного Интернета через внешнюю подсистему балансировки нагрузки. Шлюз может обращаться к ресурсам в виртуальной сети.

- Внутренний: шлюз Управления API и портал разработчика доступны только из виртуальной сети через внутреннюю подсистему балансировки нагрузки. Шлюз может обращаться к ресурсам в виртуальной сети.

Входящим и исходящим трафиком в подсети, в которой развернута служба Управления API, можно управлять с помощью группы безопасности сети.

- [Как использовать управление API Azure с виртуальными сетями](api-management-using-with-vnet.md)

- [Использование службы управления API Azure совместно с внутренней виртуальной сетью](api-management-using-with-internal-vnet.md)

- [Интеграция службы Управления API во внутреннюю сеть со Шлюзом приложений](api-management-howto-integrate-internal-vnet-appgateway.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="12-monitor-and-log-the-configuration-and-traffic-of-virtual-networks-subnets-and-network-interfaces"></a>1,2. Мониторинг и запись конфигурации и трафика виртуальных сетей, подсетей и сетевых интерфейсов

**Руководство**. Входящим и исходящим трафиком в подсети, в которой развернута служба Управления API, можно управлять с помощью групп безопасности сети. Разверните группу безопасности сети в подсети Управления API, включите журналы потоков для группы безопасности сети и отправьте журналы в учетную запись хранения Azure для аудита трафика. Вы также можете отправить журналы потоков для группы безопасности сети в рабочую область Log Analytics и использовать аналитику трафика для получения ценных сведений о потоке трафика в облаке Azure. Некоторые преимущества Аналитики трафика — это возможность визуализировать сетевые активности и определять горячие участки, выявлять угрозы безопасности, анализировать шаблоны потоков трафика и выявлять некорректные сетевые настройки.

Внимание! При настройке группы безопасности сети в подсети Управления API необходимо открыть ряд портов. Если какой-либо из этих портов недоступен, служба управления API может не работать должным образом и даже стать недоступной.

- [Общие сведения о конфигурациях групп безопасности сети для Управления API Azure](https://docs.microsoft.com/azure/api-management/api-management-using-with-vnet#-common-network-configuration-issues)

- [Как включить журналы потоков NSG](../network-watcher/network-watcher-nsg-flow-logging-portal.md)

- [Как включать и использовать Аналитику трафика](../network-watcher/traffic-analytics.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="13-protect-critical-web-applications"></a>1.3. Защита критических веб-приложений

**Руководство**. Чтобы защитить критически важные API-интерфейсы Интернета и HTTP, настройте Управление API в виртуальной сети во внутреннем режиме и настройте Шлюз приложений Azure. Шлюз приложений — это служба PaaS. Он действует как обратный прокси-сервер и обеспечивает балансировку нагрузки уровня 7, маршрутизацию, брандмауэр веб-приложения (WAF) и другие службы.

Объединяя возможности службы Управления API, работающей во внутренней виртуальной сети, и интерфейса шлюза приложений, вы можете реализовать описанные ниже сценарии.
- Использование одного ресурса Управления API для предоставления всех интерфейсов API одновременно и для внешних, и для внутренних потребителей.
- Использование одного ресурса Управления API для предоставления подмножества интерфейсов API для внешних потребителей.
- Обеспечение способа включения и отключения доступа из общедоступного Интернета к Управлению API.

Примечание. Эта функция доступна в ценовых категориях "Премиум" и "Разработка" Управления API.

- [Интеграция службы Управления API во внутреннюю виртуальную сеть со Шлюзом приложений](api-management-howto-integrate-internal-vnet-appgateway.md)

- [Общие сведения о Шлюзе приложений Azure](/azure/application-gateway/)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="14-deny-communications-with-known-malicious-ip-addresses"></a>1,4: запретите обмен данными с известными вредоносными IP-адресами

**Руководство**. Настройте Управление API в виртуальной сети во внутреннем режиме и настройте Шлюз приложений Azure. Шлюз приложений — это служба PaaS. Он действует как обратный прокси-сервер и обеспечивает балансировку нагрузки уровня 7, маршрутизацию, брандмауэр веб-приложения (WAF) и другие службы.

Объединяя возможности службы Управления API, работающей во внутренней виртуальной сети, и интерфейса шлюза приложений, вы можете реализовать описанные ниже сценарии.
- Использование одного ресурса Управления API для предоставления всех интерфейсов API одновременно и для внешних, и для внутренних потребителей.
- Использование одного ресурса Управления API для предоставления подмножества интерфейсов API для внешних потребителей.
- Обеспечение способа включения и отключения доступа из общедоступного Интернета к Управлению API.

Примечание. Эта функция доступна в ценовых категориях "Премиум" и "Разработка" Управления API.

Используйте интегрированную аналитику угроз Центра безопасности Azure, чтобы запретить обмен данными с известными вредоносными или неиспользуемыми IP-адресами Интернета.

- [Интеграция службы Управления API во внутреннюю виртуальную сеть со Шлюзом приложений](api-management-howto-integrate-internal-vnet-appgateway.md)

- [Общие сведения о Шлюзе приложений Azure](/azure/application-gateway/)

- [Общие сведения об интегрированной аналитике угроз в Центре безопасности Azure](../security-center/azure-defender.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="15-record-network-packets"></a>1,5: запись сетевых пакетов

**Руководство**. Входящим и исходящим трафиком в подсети, в которой развернута служба Управления API, можно управлять с помощью групп безопасности сети. Разверните группу безопасности сети в подсети Управления API, включите журналы потоков для группы безопасности сети и отправьте журналы в учетную запись хранения Azure для аудита трафика. Вы также можете отправить журналы потоков для группы безопасности сети в рабочую область Log Analytics и использовать аналитику трафика для получения ценных сведений о потоке трафика в облаке Azure. Некоторые преимущества Аналитики трафика — это возможность визуализировать сетевые активности и определять горячие участки, выявлять угрозы безопасности, анализировать шаблоны потоков трафика и выявлять некорректные сетевые настройки.

Внимание! При настройке группы безопасности сети в подсети Управления API необходимо открыть ряд портов. Если какой-либо из этих портов недоступен, служба управления API может не работать должным образом и даже стать недоступной.

- [Общие сведения о конфигурациях групп безопасности сети для Управления API Azure](https://docs.microsoft.com/azure/api-management/api-management-using-with-vnet#-common-network-configuration-issues)

- [Как включить журналы потоков NSG](../network-watcher/network-watcher-nsg-flow-logging-portal.md)

- [Как включать и использовать Аналитику трафика](../network-watcher/traffic-analytics.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="16-deploy-network-based-intrusion-detectionintrusion-prevention-systems-idsips"></a>1,6: развертывание системы обнаружения вторжений на основе сети и предотвращения вторжения (ИДЕНТИФИКАТОРы и IP-адреса)

**Руководство**. Настройте Управление API в виртуальной сети во внутреннем режиме и настройте Шлюз приложений Azure. Шлюз приложений — это служба PaaS. Он действует как обратный прокси-сервер и обеспечивает балансировку нагрузки уровня 7, маршрутизацию, брандмауэр веб-приложения (WAF) и другие службы. Брандмауэр веб-приложения для Шлюза приложений обеспечивает защиту от распространенных эксплойтов и уязвимых мест в системе безопасности и может работать в следующих двух режимах.
- Режим обнаружения. Отслеживает и регистрирует все оповещения об угрозах. Ведение журнала диагностики для Шлюза приложений можно включить в разделе "Диагностика". Нужно убедиться в том, что выбран и включен параметр ведения журнала WAF. Брандмауэр веб-приложения не блокирует входящие запросы, когда он работает в режиме обнаружения.
- Режим предотвращения. Блокирует вторжения и атаки, обнаруженные правилами. Злоумышленник получает сообщение "403 unauthorized access" (несанкционированный доступ) и такое подключение прерывается. В режиме предотвращения подобные атаки также заносятся в журналы WAF.

Объединяя возможности службы Управления API, работающей во внутренней виртуальной сети, и интерфейса шлюза приложений, вы можете реализовать описанные ниже сценарии.
- Использование одного ресурса Управления API для предоставления всех интерфейсов API одновременно и для внешних, и для внутренних потребителей.
- Использование одного ресурса Управления API для предоставления подмножества интерфейсов API для внешних потребителей.
- Обеспечение способа включения и отключения доступа из общедоступного Интернета к Управлению API.

Примечание. Эта функция доступна в ценовых категориях "Премиум" и "Разработка" Управления API.

- [Интеграция службы Управления API во внутреннюю виртуальную сеть со Шлюзом приложений](api-management-howto-integrate-internal-vnet-appgateway.md)

- [Общие сведения о брандмауэре веб-приложения в Шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="17-manage-traffic-to-web-applications"></a>1.7. Управление трафиком к веб-приложениям

**Руководство**. Чтобы управлять трафиком, передаваемым в интерфейсы API Интернета и HTTP, разверните Управление API в виртуальной сети, связанной со Средой службы приложений, во внешнем или внутреннем режиме.

Во внутреннем режиме настройте Шлюз приложений Azure перед Управлением API. Шлюз приложений — это служба PaaS. Он действует как обратный прокси-сервер и обеспечивает балансировку нагрузки уровня 7, маршрутизацию, брандмауэр веб-приложения (WAF) и другие службы. Брандмауэр веб-приложения для Шлюза приложений обеспечивает защиту от распространенных эксплойтов и уязвимых мест в системе безопасности.

Объединяя возможности службы Управления API, работающей во внутренней виртуальной сети, и интерфейса шлюза приложений, вы можете реализовать описанные ниже сценарии.
- Использование одного ресурса Управления API для предоставления всех интерфейсов API одновременно и для внешних, и для внутренних потребителей.
- Использование одного ресурса Управления API для предоставления подмножества интерфейсов API для внешних потребителей.
- Обеспечение способа включения и отключения доступа из общедоступного Интернета к Управлению API.

Примечание. Эта функция доступна в ценовых категориях "Премиум" и "Разработка" Управления API.

- [Предоставление доступа к частным интерфейсам API для внешних потребителей](/azure/architecture/example-scenario/apps/publish-internal-apis-externally)

- [Использование Управления API в виртуальной сети](api-management-using-with-vnet.md)

- [Подробные сведения о брандмауэре веб-приложения Azure в Шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

- [Общие сведения о Шлюзе приложений Azure](/azure/application-gateway/overview)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="18-minimize-complexity-and-administrative-overhead-of-network-security-rules"></a>1.8. Уменьшение сложности и дополнительных затрат на администрирование в правилах безопасности сети

**Руководство**. Используйте теги службы виртуальной сети для определения элементов управления доступом к сети в группах безопасности сети, используемых в подсетях Управления API. Теги служб можно использовать вместо определенных IP-адресов при создании правил безопасности. Указав имя тега службы (например, ApiManagement) в соответствующем исходном поле или поле назначения правила, можно разрешить или запретить трафик для соответствующей службы. Корпорация Майкрософт управляет префиксами адресов, входящих в тег службы, и автоматически обновляет этот тег при изменении адресов.

Внимание! При настройке группы безопасности сети в подсети Управления API необходимо открыть ряд портов. Если какой-либо из этих портов недоступен, служба управления API может не работать должным образом и даже стать недоступной.

- [Основные сведения о тегах служб и их использование](../virtual-network/service-tags-overview.md)

- [Порты, необходимые для Управления API](https://docs.microsoft.com/azure/api-management/api-management-using-with-vnet#-common-network-configuration-issues)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="19-maintain-standard-security-configurations-for-network-devices"></a>1.9. Поддержание стандартных конфигураций безопасности для сетевых устройств

**Руководство**. Определите и реализуйте стандартные конфигурации безопасности для параметров сети, связанных с развертываниями Управления API Azure. Используйте псевдонимы Политики Azure в пространствах имен Microsoft.ApiManagement и Microsoft.Network для создания настраиваемых политик, предназначенных для аудита или принудительного применения конфигурации сети для развертываний Управления API Azure и связанных ресурсов.

Вы также можете использовать схемы Azure для упрощения крупномасштабных развертываний Azure с помощью ключевых артефактов среды пакетов, таких как шаблоны Azure Resource Manager, управление доступом на основе ролей Azure (Azure RBAC) и политики в одном определении схемы. Вы можете легко применять схему к новым подпискам и средам, а также точно управлять настройкой с помощью версионирования.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Создание схемы Azure](../governance/blueprints/create-blueprint-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="110-document-traffic-configuration-rules"></a>1.10. Документация по правилам конфигурации трафика

**Руководство**. Используйте теги для групп безопасности сети и других ресурсов, связанных с сетевой безопасностью и потоком трафика. Для отдельных правил группы безопасности сети можно использовать поле "Описание", чтобы указать бизнес-потребности и длительность (и т. д.) любых правил, которые разрешают трафик в сеть и из нее.

- [Создание и использование тегов](/azure/azure-resource-manager/resource-group-using-tags)

- [Создание виртуальной сети](../virtual-network/quick-create-portal.md)

- [Создание группы безопасности сети с конфигурацией безопасности](../virtual-network/tutorial-filter-network-traffic.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="111-use-automated-tools-to-monitor-network-resource-configurations-and-detect-changes"></a>1.11. Использование автоматизированных средств для мониторинга конфигураций сетевых ресурсов и обнаружения изменений

**Руководство**. Используйте журнал действий Azure для мониторинга конфигураций сетевых ресурсов и обнаружения изменений в сетевых ресурсах, связанных с развертываниями Управления API Azure. Создавайте оповещения в Azure Monitor, которые будут запускаться при изменении критических сетевых ресурсов.

- [Как просматривать и извлекать события журнала действий Azure](/azure/azure-monitor/platform/activity-log-view)

- [Как создать оповещения в службе Azure Monitor](/azure/azure-monitor/platform/alerts-activity-log)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="logging-and-monitoring"></a>Ведение журналов и мониторинг

*Дополнительные сведения см. в статье [производительность системы безопасности Azure: ведение журнала и мониторинг](../security/benchmarks/security-control-logging-monitoring.md).*

### <a name="22-configure-central-security-log-management"></a>2.2. Настройка централизованного управления журналами безопасности

**Руководство**. В Azure Monitor используйте рабочие области Log Analytics для запроса и выполнения анализа, отправляйте журналы в службу хранилища Azure для долгосрочного и архивного хранения либо автономного анализа или экспортируйте журналы в другое аналитическое решение в Azure или на другой платформе с помощью Центров событий Azure. Служба управления API Azure по умолчанию передает журналы и метрики в Azure Monitor. Уровень детализации ведения журнала можно настроить на уровне службы и на уровне отдельных API.

Помимо Azure Monitor, службу Управления API Azure можно интегрировать с одной или несколькими службами Azure Application Insights. Параметры ведения журнала для Application Insights можно настроить как для каждой службы, так и для отдельных интерфейсов API.

Кроме того, можно включить и подключить данные к Azure Sentinel или сторонним системам управления информационной безопасностью и событиями безопасности (SIEM).

- [Как настроить параметры диагностики](/azure/azure-monitor/platform/diagnostic-settings#create-in-azure-portal)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

- [Начало работы с Azure Monitor и интеграция SIEM стороннего производителя](https://azure.microsoft.com/blog/use-azure-monitor-to-integrate-with-siem-tools/)

- [Создание настраиваемого конвейера для ведения журнала и аналитики](api-management-howto-log-event-hubs.md)

- [Интеграция с Azure Application Insights](api-management-howto-app-insights.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="23-enable-audit-logging-for-azure-resources"></a>2.3. Включение журналов аудита для ресурсов Azure

**Руководство**. Для ведения журнала аудита на уровне управления включите параметры диагностики журнала действий Azure и отправьте журналы действий в рабочую область Log Analytics для создания отчетов и анализа, в службу хранилища Azure для долгосрочного хранения или в Центры событий Azure для экспорта в другие решения аналитики в Azure или на другой платформе. С помощью данных журнала действий Azure вы можете определить, что нужно сделать, с чем и когда, для операций записи (PUT, POST, DELETE), выполненных на уровне управления для службы Управления API Azure.

Для ведения журнала аудита на уровне управления журналы диагностики предоставляют подробные сведения об операциях и ошибках, которые важны для аудита, а также для устранения неполадок. Журналы диагностики отличаются от журналов действий. Журналы действий позволяют подробно проанализировать операции, выполненные с ресурсами Azure. Журналы диагностики дают представление об операциях, выполняемых ресурсом.

- [Как включить параметры диагностики для журнала действий Azure](/azure/azure-monitor/platform/activity-log)

- [Как включить параметры диагностики для Управления API Azure](/Azure/api-management/api-management-howto-use-azure-monitor#resource-logs)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="25-configure-security-log-storage-retention"></a>2.5. Настройка хранения журнала безопасности

**Руководство**. В Azure Monitor задайте период хранения для рабочей области Log Analytics согласно нормативным требованиям вашей организации. Используйте учетные записи хранения Azure для долгосрочного и архивного хранения.

- [Задание параметров хранения журналов для рабочих областей Log Analytics](/azure/azure-monitor/platform/manage-cost-storage#change-the-data-retention-period)

- [Архивация журналов в учетной записи хранения Azure](/azure/azure-monitor/platform/resource-logs#send-to-azure-storage)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="26-monitor-and-review-logs"></a>2,6: мониторинг и просмотр журналов

**Руководство**. Служба Управления API Azure непрерывно передает журналы и метрики в Azure Monitor, позволяя отслеживать состояние и работоспособность API-интерфейсов практически в реальном времени. С помощью Azure Monitor и рабочих областей Log Analytics можно проверять, запрашивать, визуализировать, маршрутизировать, архивировать и настраивать оповещения, а также принимать меры на основе метрик и журналов, полученных от Управления API и связанных ресурсов. Анализируйте и отслеживайте журналы для получения результатов регулярной проверки и аномального поведения.

При необходимости интегрируйте Управление API с Azure Application Insights и используйте его в качестве основного или дополнительного средства мониторинга, трассировки, создания отчетов и оповещений.

- [Мониторинг и проверка журналов для службы Управления API Azure](/Azure/api-management/api-management-howto-use-azure-monitor)

- [Выполнение пользовательских запросов в Azure Monitor](/azure/azure-monitor/log-query/get-started-queries)

- [Общие сведения о рабочей области Log Analytics](/azure/azure-monitor/log-query/log-analytics-tutorial)

- [Интеграция с Azure Application Insights](api-management-howto-app-insights.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="27-enable-alerts-for-anomalous-activities"></a>2,7: Включение оповещений для аномальных действий

**Руководство**. Включите параметры диагностики журнала действий Azure, а также параметры диагностики для экземпляров Управления API Azure и отправьте журналы в рабочую область Log Analytics. Выполняйте запросы в Log Analytics для поиска терминов, определения тенденций, анализа шаблонов и предоставления многих других сведений на основе собранных данных. Оповещения можно создавать на основе запросов к рабочей области Log Analytics.

Создавайте оповещения по метрикам, чтобы получать информацию о непредвиденных ситуациях. Например, получайте уведомления, если размер экземпляра Управления API Azure превышает ожидаемую пиковую емкость в течение определенного периода времени или если имеется определенное количество неавторизованных запросов или ошибок шлюза в течение заданного периода времени.

При необходимости интегрируйте Управление API с Azure Application Insights и используйте его в качестве основного или дополнительного средства мониторинга, трассировки, создания отчетов и оповещений.

Кроме того, вы можете включить и подключить данные к Azure Sentinel или сторонним SIEM.

- [Как включить параметры диагностики для журнала действий Azure](/azure/azure-monitor/platform/activity-log)

- [Как включить параметры диагностики для Управления API Azure](https://docs.microsoft.com/azure/api-management/api-management-howto-use-azure-monitor#resource-logs)

- [Настройка правила генерации оповещений для службы управления API Azure](/Azure/api-management/api-management-howto-use-azure-monitor#set-up-an-alert-rule-for-unauthorized-request)

- [Просмотр метрик емкости для экземпляра службы Управления API Azure](api-management-capacity.md)

- [Интеграция с Azure Application Insights](api-management-howto-app-insights.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="identity-and-access-control"></a>Идентификатор и управление доступом

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: идентификация и управление доступом](../security/benchmarks/security-control-identity-access-control.md).*

### <a name="31-maintain-an-inventory-of-administrative-accounts"></a>3.1. Инвентаризация учетных записей администраторов

**Руководство**. Настройте инвентаризацию учетных записей, имеющих административный доступ к уровню управления (порталу Azure) для службы Управления API.

Azure Active Directory (Azure AD) содержит встроенные роли, которые должны быть явно назначены и доступны для запросов. Служба Управления API использует эти роли и управление доступом на основе ролей для детализированного контроля доступа к службам и сущностям Управления API.

Кроме того, Управление API содержит встроенную группу администраторов в пользовательской системе Управления API. Группы в службе Управлении API позволяют управлять доступностью интерфейсов API на портале разработчика. Члены группы "Администраторы" могут просматривать все интерфейсы API.

Следуйте рекомендациям Центра безопасности Azure по управлению административными учетными записями и их обслуживанию.

- [Практическое руководство по использованию управления доступом на основе ролей в службе "Управление API Azure"](api-management-role-based-access-control.md)

- [Получение списка пользователей из экземпляра службы Управления API Azure](/powershell/module/az.apimanagement/get-azapimanagementuser)

- [Получение списка пользователей, назначенных роли каталога в Azure AD, с помощью PowerShell](/powershell/module/az.resources/get-azroleassignment)

- [Получение определения роли каталога в Azure AD с помощью PowerShell](/powershell/module/az.resources/get-azroledefinition)

- [Рекомендации по идентификации и доступу из Центра безопасности Azure](https://docs.microsoft.com/azure/security-center/recommendations-reference#identityandaccess-recommendations)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="32-change-default-passwords-where-applicable"></a>3.2. Изменение паролей по умолчанию, где применимо

**Руководство**. В службе Управления API Azure нет концепции паролей или ключа по умолчанию.

Однако подписки на службу Управления API Azure, которые являются одним из способов защиты доступа к интерфейсам API, имеют пару генерируемых ключей подписки. Клиенты могут повторно генерировать эти ключи в любое время.

- [Общие сведения о подписках на службу Управления API Azure](api-management-subscriptions.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="33-use-dedicated-administrative-accounts"></a>3.3. Применение выделенных административных учетных записей

**Руководство**. Создайте стандартные операционные процедуры для использования выделенных административных учетных записей. Используйте учетную запись Центра безопасности Azure и управление доступом для мониторинга количества административных учетных записей.

Кроме того, чтобы отслеживать выделенные административные учетные записи, вы можете использовать рекомендации из Центра безопасности Azure или встроенные политики Azure, например следующие:
- Подписке должно быть назначено несколько владельцев.
- Устаревшие учетные записи с разрешениями владельца следует удалять из подписки.
- Внешние учетные записи с разрешениями владельца следует удалять из подписки.

- [Использование Центра безопасности Azure для мониторинга идентификации и доступа (предварительная версия)](../security-center/security-center-identity-access.md)

- [Использование Политики Azure](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="34-use-azure-active-directory-single-sign-on-sso"></a>3,4. Использование единого входа Azure Active Directory (SSO)

**Руководство**. в службе управления API Azure можно настроить использование Azure Active Directory (Azure AD) в качестве поставщика удостоверений для проверки подлинности пользователей на портале разработчика, чтобы воспользоваться возможностями единого входа, предлагаемыми Azure AD. После настройки новые пользователи портала разработчика могут использовать готовый процесс регистрации, сначала проходя проверку подлинности в Azure AD, а затем завершая процесс регистрации на портале.

- [Авторизация учетных записей разработчиков с помощью Azure AD в службе управления API Azure](api-management-howto-aad.md)

Кроме того, для процесса входа и регистрации можно дополнительно настроить делегирование. Делегирование позволяет использовать ваш существующий веб-сайт для обработки входа и регистрации разработчика и подписки на продукты вместо применения встроенной функции на портале разработчика. В результате этого веб-сайт будет владеть пользовательскими данными и проверять эти шаги в соответствии с вашими настройками.

- [Как делегировать регистрацию пользователей и подписку продуктов](api-management-howto-setup-delegation.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="35-use-multi-factor-authentication-for-all-azure-active-directory-based-access"></a>3,5: используйте многофакторную проверку подлинности для всех Azure Active Directory доступа

**Руководство**. Включение многофакторной проверки подлинности в Azure Active Directory (Azure AD) и следование рекомендациям по управлению удостоверениями и доступом в центре безопасности Azure.

- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

- [Мониторинг идентификации и доступа в Центре безопасности Azure](../security-center/security-center-identity-access.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="36-use-dedicated-machines-privileged-access-workstations-for-all-administrative-tasks"></a>3.6. Использование выделенных компьютеров (рабочих станций с привилегированным доступом) для всех административных задач

**Руководство**. Использование рабочих станций привилегированного доступа (привилегированным доступом) с многофакторной проверкой подлинности, настроенной для входа и настройки ресурсов Azure.

- [Использование рабочих станций с привилегированным доступом](https://4sysops.com/archives/understand-the-microsoft-privileged-access-workstation-paw-security-model/)
  
- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="37-log-and-alert-on-suspicious-activities-from-administrative-accounts"></a>3,7: журналы и оповещения о подозрительных действиях учетных записей администраторов

**Руководство**. Использование Azure Active Directory (Azure AD) Управление привилегированными пользователями (PIM) для создания журналов и оповещений при возникновении подозрительных или ненадежных действий в среде.

Кроме того, используйте обнаружение рисков Azure AD для просмотра оповещений и отчетов об опасном поведении пользователя.

- [Развертывание Privileged Identity Management (PIM)](../active-directory/privileged-identity-management/pim-deployment-plan.md)

- [Общие сведения об обнаружении рисков в Azure AD](/azure/active-directory/reports-monitoring/concept-risk-events)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="38-manage-azure-resources-from-only-approved-locations"></a>3.8. Управление ресурсами Azure только из утвержденных расположений

**Руководство**. Используйте именованные расположения с условным доступом, чтобы разрешить доступ к порталу Azure только из конкретных логических групп диапазонов IP-адресов или стран и регионов.

- [Настройка именованных расположений в Azure](../active-directory/reports-monitoring/quickstart-configure-named-locations.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="39-use-azure-active-directory"></a>3.9. Использование Azure Active Directory

**Рекомендации**. когда это возможно, используйте Azure Active Directory (Azure AD) в качестве централизованной системы проверки подлинности и авторизации. Azure AD защищает данные с помощью надежного шифрования для хранимых и транзитных данных. Кроме того, в Azure AD используются salt-записи, хэши и безопасное хранение учетных данных пользователей.

Настройте на портале разработчика службы управления API Azure проверку подлинности учетных записей разработчиков с помощью Azure AD.

Настройте экземпляр службы управления API Azure для защиты API с помощью протокола OAuth 2,0 в Azure AD.

- [Как авторизовать учетные записи разработчиков с помощью Azure AD в службе управления API Azure](api-management-howto-aad.md)

- [Как защитить API с помощью OAuth 2,0 и Azure AD и службы управления API](api-management-howto-protect-backend-with-aad.md)

- [Создание и настройка экземпляра Azure AD](../active-directory/fundamentals/active-directory-access-create-new-tenant.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="310-regularly-review-and-reconcile-user-access"></a>3.10. Регулярная проверка и согласование доступа пользователей

**Руководство**. Azure Active Directory (Azure AD) предоставляет журналы для облегчения поиска устаревших учетных записей. Клиенты могут использовать проверку доступа удостоверений Azure для эффективного управления членством в группах, доступа к корпоративным приложениям и назначения ролей. Доступ пользователей можно проверять на регулярной основе, чтобы только у авторизованных пользователей был постоянный доступ.

Клиенты могут вести инвентаризацию учетных записей пользователей Управления API и выверять доступ по мере необходимости. В службе Управления API разработчики — это пользователи интерфейсов API, которые предоставляются с помощью службы Управления API. По умолчанию недавно созданные учетные записи разработчика являются активными и связаны с группой "Разработчики". Учетные записи разработчика, которые находятся в активном состоянии, можно использовать для доступа ко всем интерфейсам API, на которые у них есть подписки.

Администраторы могут создавать настраиваемые группы или использовать внешние группы в связанных клиентах Azure AD. Чтобы обеспечить разработчикам видимость и предоставить доступ к продуктам API, пользовательские и внешние группы можно использовать вместе с системными группами.

- [Управление учетными записями пользователей в службе управления API Azure](api-management-howto-create-or-invite-developers.md)

- [Получение списка пользователей Управления API](/powershell/module/az.apimanagement/get-azapimanagementuser)

- [Как создавать и использовать группы для управления учетными записями разработчика в службе управления Azure API](api-management-howto-create-groups.md)

- [Использование проверок доступа для идентификации Azure](../active-directory/governance/access-reviews-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="311-monitor-attempts-to-access-deactivated-credentials"></a>3,11: монитор пытается получить доступ к отключенным учетным данным

**Руководство**. Настройка экземпляра службы управления API Azure для проверки подлинности учетных записей разработчиков с помощью Azure Active Directory (Azure AD) в качестве поставщика удостоверений в службе управления API Azure.

Настройте экземпляр службы управления API Azure для защиты API с помощью протокола OAuth 2,0 в Azure AD.

Настройте политику проверки JWT для входящих запросов API, чтобы обеспечить существование и допустимость токена.

Создайте параметры диагностики для учетных записей пользователей Azure AD и отправляйте журналы аудита и журналы входа в рабочую область Log Analytics. Настройте необходимые оповещения в Log Analytics. Кроме того, вы можете подключить рабочую область Log Analytics к Azure Sentinel или сторонним SIEM.

Настройте расширенный мониторинг с помощью службы Управления API, используя политику `log-to-eventhub`, запишите все дополнительные сведения о контексте, необходимые для анализа безопасности, и отправьте их в Azure Sentinel или стороннюю систему SIEM.

- [Как авторизовать учетные записи разработчиков с помощью Azure AD в службе управления API Azure](api-management-howto-aad.md)

- [Как защитить API с помощью OAuth 2,0 и Azure AD и службы управления API](api-management-howto-protect-backend-with-aad.md)

- [Политики ограничения доступа в службе управления API](api-management-access-restriction-policies.md)

- [Интеграция журналов Azure AD в Azure Monitor](../active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

- [Расширенный мониторинг интерфейсов API](api-management-log-to-eventhub-sample.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="312-alert-on-account-sign-in-behavior-deviation"></a>3,12: предупреждение об отклонении при входе в учетную запись

**Руководство**. при отклонениях поведения учетной записи для входа в плоскость управления (портал Azure) Azure Active Directory используйте функции защиты идентификации (Azure AD) и средства обнаружения рисков, чтобы настроить автоматические ответы на обнаруженные подозрительные действия, связанные с удостоверениями пользователей. Вы также можете включить данные в Azure Sentinel для дальнейшего изучения.

- [Просмотр рискованных входов в Azure AD](/azure/active-directory/reports-monitoring/concept-risky-sign-ins)

- [Как настроить и включить политики рисков с помощью защиты идентификации](../active-directory/identity-protection/howto-identity-protection-configure-risk-policies.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="313-provide-microsoft-with-access-to-relevant-customer-data-during-support-scenarios"></a>3.13. Предоставление корпорации Майкрософт доступа к соответствующим данным клиентов в рамках сценариев поддержки

**Руководство**. В настоящее время недоступно; защищенное хранилище в настоящее время не поддерживается для Управления API Azure.

- [Список поддерживаемых служб защищенного хранилища](https://docs.microsoft.com/azure/security/fundamentals/customer-lockbox-overview#supported-services-and-scenarios-in-general-availability)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-protection"></a>Защита данных

*Дополнительные сведения см. в статье [Azure Security Benchmark: защита данных](../security/benchmarks/security-control-data-protection.md).*

### <a name="41-maintain-an-inventory-of-sensitive-information"></a>4.1. Инвентаризация конфиденциальных данных

**Руководство**. Используйте теги для пометки ресурсов Azure, в которых хранятся или обрабатываются конфиденциальные данные.

- [Создание и использование тегов](/azure/azure-resource-manager/resource-group-using-tags)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="42-isolate-systems-storing-or-processing-sensitive-information"></a>4.2. Изолирование систем, хранящих или обрабатывающих конфиденциальные данные

**Руководство**. Реализуйте отдельные подписки и группы управления для разработки, тестирования и производства. Экземпляры службы Управления API Azure должны быть разделены по виртуальным сетям и подсетям и помечены соответствующим образом.

- [Создание дополнительных подписок Azure](/azure/billing/billing-create-subscription)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](/azure/azure-resource-manager/resource-group-using-tags)

- [Как использовать управление API Azure с виртуальными сетями](api-management-using-with-vnet.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="43-monitor-and-block-unauthorized-transfer-of-sensitive-information"></a>4.3. Мониторинг и блокирование несанкционированной передачи конфиденциальной информации

**Руководство**. В настоящее время недоступно. Функции идентификации, классификации и предотвращения потери данных в настоящее время недоступны для Управления API Azure.

Корпорация Майкрософт управляет базовой инфраструктурой Управления API Azure и реализовала надежные элементы управления для предотвращения потери или раскрытия данных клиента.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="44-encrypt-all-sensitive-information-in-transit"></a>4.4. Шифрование любой конфиденциальной информации при передаче

**Руководство**. Вызовы плоскости управления выполняются через Azure Resource Manager по протоколу TLS. Требуется допустимый веб-маркер JSON (JWT). Вызовы плоскости данных можно защищать с помощью TLS и одного из поддерживаемых механизмов проверки подлинности (например, сертификата клиента или JWT).

- [Общие сведения о защите данных в службе Управления API Azure](/azure/api-management/api-management-security-controls#data-protection)

- [Управление параметрами TLS в службе Управления API Azure](api-management-howto-manage-protocols-ciphers.md)

- [Защита API в службе управления API Azure с помощью Azure Active Directory (Azure AD)](api-management-howto-protect-backend-with-aad.md)

- [Защита API в службе управления API Azure с помощью Azure AD B2C](howto-protect-backend-frontend-azure-ad-b2c.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="45-use-an-active-discovery-tool-to-identify-sensitive-data"></a>4.5. Использование средства активного обнаружения для распознавания конфиденциальных данных

**Руководство**: еще не доступно; функции защиты от идентификации, классификации и предотвращения потери данных пока недоступны для управления API Azure. Пометьте службы Управления API Azure, которые могут обрабатывать конфиденциальную информацию, и реализуйте сторонние решения, если это необходимо для обеспечения соответствия требованиям.

Для базовой платформы, управляемой корпорацией Майкрософт, корпорация Майкрософт считает все содержимое клиента конфиденциальным и предпринимает все возможные усилия для защиты клиентов от потери данных и раскрытия информации. Чтобы обеспечить безопасность данных клиентов в Azure, корпорация Майкрософт реализовала и поддерживает набор надежных элементов управления и возможностей защиты данных.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="46-use-azure-rbac-to-control-access-to-resources"></a>4.6. Контроль доступа к ресурсам с помощью RBAC 

**Руководство**. Использование управления доступом на основе ролей Azure (Azure RBAC) для управления доступом к управлению API Azure. Служба управления API Azure использует управление доступом на основе ролей Azure для обеспечения точного управления доступом к службам и сущностям управления API (например, к API и политикам).

- [Как использовать управление доступом на основе ролей Azure в службе управления API Azure](api-management-role-based-access-control.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="47-use-host-based-data-loss-prevention-to-enforce-access-control"></a>4.7. Использование защиты от потери данных на основе узла для обеспечения контроля доступа

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

Корпорация Майкрософт управляет базовой инфраструктурой Управления API Azure и реализовала надежные элементы управления для предотвращения потери или раскрытия данных клиента.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="49-log-and-alert-on-changes-to-critical-azure-resources"></a>4.9. Включение в журнал и создание оповещений по изменениям критических ресурсов Azure

**Руководство**. Используйте Azure Monitor с журналом действий Azure для создания оповещений об изменениях в приложениях Функций Azure и других важных и связанных с ними ресурсах.

- [Создание оповещений для событий журнала действий Azure](/azure/azure-monitor/platform/alerts-activity-log)

- [Использование Azure Monitor и журнала действий Azure в службе Управления API Azure](api-management-howto-use-azure-monitor.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="vulnerability-management"></a>Управление уязвимостями

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Управление уязвимостью](../security/benchmarks/security-control-vulnerability-management.md).*

### <a name="51-run-automated-vulnerability-scanning-tools"></a>5.1. Выполнение автоматизированных средства анализа уязвимостей

**Руководство**. В настоящее время недоступно; оценка уязвимостей в Центре безопасности Azure в настоящее время недоступна для Управления API Azure.

Проверка базовой платформы и внесение исправлений в нее осуществляется корпорацией Майкрософт. Проверяйте доступные элементы управления безопасностью для сокращения количества уязвимостей, связанных с конфигурацией службы.

- [Общие сведения об элементах управления безопасностью, доступных для Управления API Azure](/azure/api-management/api-management-security-controls)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="52-deploy-automated-operating-system-patch-management-solution"></a>5.2. Развертывание автоматизированного решения для управления исправлениями операционной системы

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="53-deploy-automated-patch-management-solution-for-third-party-software-titles"></a>5,3: Развертывание автоматизированного решения по управлению исправлениями для программ сторонних разработчиков

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="54-compare-back-to-back-vulnerability-scans"></a>5.4. Сравнение проверок смежных уязвимостей

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="55-use-a-risk-rating-process-to-prioritize-the-remediation-of-discovered-vulnerabilities"></a>5.5. Использование процесса оценки рисков для определения приоритета в устранении обнаруженных уязвимостей

**Руководство**. В настоящее время недоступно; оценка уязвимостей в Центре безопасности Azure в настоящее время недоступна для Управления API Azure.

Проверка базовой платформы и внесение исправлений в нее осуществляется корпорацией Майкрософт. Клиенту следует проверять доступные элементы управления безопасностью для сокращения количества уязвимостей, связанных с конфигурацией службы.

- [Общие сведения об элементах управления безопасностью, доступных для Управления API Azure](/azure/api-management/api-management-security-controls)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="inventory-and-asset-management"></a>Инвентаризация и управление ресурсами

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Инвентаризация и управление активами](../security/benchmarks/security-control-inventory-asset-management.md).*

### <a name="61-use-automated-asset-discovery-solution"></a>6,1. Использование автоматизированного решения для обнаружения ресурсов

**Руководство**. Используйте Azure Resource Graph для запроса и обнаружения всех ресурсов (например, вычислений, хранилища, сети, портов, протоколов и т. д.) в ваших подписках. Убедитесь в том, что в вашем клиенте есть соответствующие разрешения (на чтение) и вы можете перечислить все подписки Azure, а также ресурсы в ваших подписках.

Хотя классические ресурсы Azure можно обнаружить через Resource Graph, настоятельно рекомендуется в дальнейшем создавать и использовать ресурсы Azure Resource Manager.

- [Как создавать запросы с помощью Azure Resource Graph](../governance/resource-graph/first-query-portal.md)

- [Как просматривать подписки Azure](https://docs.microsoft.com/powershell/module/az.accounts/get-azsubscription?view=azps-4.8.0&amp;preserve-view=true)

- [Общие сведения об Azure RBAC](../role-based-access-control/overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="62-maintain-asset-metadata"></a>6.2. Ведение метаданных активов

**Руководство**. Применяйте к ресурсам Azure теги, чтобы логически классифицировать их на основе метаданных.

- [Создание и использование тегов](/azure/azure-resource-manager/resource-group-using-tags)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="63-delete-unauthorized-azure-resources"></a>6.3. Удаление неавторизованных ресурсов Azure

**Руководство**. При необходимости используйте теги, группы управления и отдельные подписки, чтобы упорядочить и отслеживать ресурсы Azure. Регулярно сверяйте ресурсы, чтобы своевременно удалять неавторизованные ресурсы из подписки.

Кроме того, используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.
- Недопустимые типы ресурсов
- Допустимые типы ресурсов

- [Создание дополнительных подписок Azure](/azure/billing/billing-create-subscription)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](/azure/azure-resource-manager/resource-group-using-tags)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="64-define-and-maintain-inventory-of-approved-azure-resources"></a>6,4: определение и обслуживание инвентаризации утвержденных ресурсов Azure

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="65-monitor-for-unapproved-azure-resources"></a>6.5. Отслеживание неутвержденных ресурсов Azure

**Руководство**. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в ваших подписках, используя следующие встроенные определения политик.
- Недопустимые типы ресурсов
- Допустимые типы ресурсов

Используйте Azure Resource Graph для запроса или обнаружения ресурсов в подписках. Убедитесь в том, что все ресурсы Azure, представленные в среде, утверждены.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="66-monitor-for-unapproved-software-applications-within-compute-resources"></a>6.6. Отслеживание неутвержденных программных приложений в рамках ресурсов вычислений

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="67-remove-unapproved-azure-resources-and-software-applications"></a>6.7. Удаление неутвержденных ресурсов Azure и программных приложений

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="68-use-only-approved-applications"></a>6.8. Использование только утвержденных приложений

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="69-use-only-approved-azure-services"></a>6.9. Использование только утвержденных служб Azure

**Руководство**. Используйте Политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.
- Недопустимые типы ресурсов
- Допустимые типы ресурсов

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как отказаться от определенного типа ресурса с помощью Политики Azure](https://docs.microsoft.com/azure/governance/policy/samples/built-in-policies#general)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="610-maintain-an-inventory-of-approved-software-titles"></a>6,10: ведение инвентаризации утвержденных наименований программного обеспечения

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="611-limit-users-ability-to-interact-with-azure-resource-manager"></a>6,11: ограничьте возможность пользователей работать с Azure Resource Manager

**Руководство**. Настройте условный доступ Azure, чтобы ограничить возможность пользователей взаимодействовать с Azure Resource Manager путем настройки "Блокировать доступ" для приложения "Управление Microsoft Azure".

- [Как настроить условный доступ для блокировки доступа к Azure Resource Manager](../role-based-access-control/conditional-access-azure-management.md)

- [Управление доступом на основе ролей в службе Управления API Azure](api-management-role-based-access-control.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="612-limit-users-ability-to-execute-scripts-within-compute-resources"></a>6.12. Ограничение возможности пользователей выполнять сценарии в ресурсах вычислений

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="613-physically-or-logically-segregate-high-risk-applications"></a>6.13. Физическое или логическое разделение приложений с высоким риском

**Руководство**. Неприменимо; эта рекомендация предназначена для веб-приложений, работающих в службе приложений Azure или в ресурсах вычислений.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="secure-configuration"></a>Настройка безопасности

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: безопасная конфигурация](../security/benchmarks/security-control-secure-configuration.md).*

### <a name="71-establish-secure-configurations-for-all-azure-resources"></a>7.1. Установка безопасных конфигураций для всех ресурсов Azure

**Руководство**. Определите и реализуйте стандартные конфигурации безопасности для службы Управления API Azure с помощью Политики Azure. Используйте псевдонимы Политик Azure в пространстве имен Microsoft.ApiManagement для создания настраиваемых политик, предназначенных для аудита или принудительного применения конфигурации для служб Управления API Azure.

- [Просмотр доступных псевдонимов политик Azure](https://docs.microsoft.com/powershell/module/az.resources/get-azpolicyalias?view=azps-4.8.0&amp;preserve-view=true)

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="72-establish-secure-operating-system-configurations"></a>7.2. Сохранение безопасных конфигураций для операционных систем

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="73-maintain-secure-azure-resource-configurations"></a>7.3. Сохранение безопасных конфигураций для ресурсов Azure

**Руководство**. Определите и реализуйте стандартные конфигурации безопасности для служб Управления API Azure с помощью Политики Azure. Используйте псевдонимы Политик Azure в пространстве имен Microsoft.ApiManagement для создания настраиваемых политик, предназначенных для аудита или принудительного применения конфигурации для экземпляров Управления API Azure. Используйте политику Azure [отказывать] и [развернуть, если не существует], чтобы обеспечить безопасность параметров в ресурсах Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Сведения о действии Политик Azure](../governance/policy/concepts/effects.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="74-maintain-secure-operating-system-configurations"></a>7.4. Сохранение безопасных конфигураций для операционных систем

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="75-securely-store-configuration-of-azure-resources"></a>7.5. Безопасное хранение конфигурации ресурсов Azure

**Руководство**. Если вы используете пользовательские определения политик Azure, используйте Azure DevOps или Azure Repos для безопасного хранения конфигурации службы Управления API Azure и управления ею.

- [Хранение файлов в Azure DevOps](/azure/devops/repos/git/gitworkflow)

- [Документация по Azure Repos](/azure/devops/repos/)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="76-securely-store-custom-operating-system-images"></a>7.6. Безопасное хранение пользовательских образов операционной системы

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="77-deploy-configuration-management-tools-for-azure-resources"></a>7,7: развертывание средств управления конфигурацией для ресурсов Azure

**Руководство**. Определите и реализуйте стандартные конфигурации безопасности для служб Управления API Azure с помощью Политики Azure. Используйте псевдонимы Политик Azure в пространстве имен Microsoft.ApiManagement для создания настраиваемых политик, предназначенных для аудита или принудительного применения конфигурации для экземпляров Управления API Azure. Используйте политику Azure [отказывать] и [развернуть, если не существует], чтобы обеспечить безопасность параметров в ресурсах Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Сведения о действии Политик Azure](../governance/policy/concepts/effects.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="78-deploy-configuration-management-tools-for-operating-systems"></a>7,8: развертывание средств управления конфигурацией для операционных систем

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="79-implement-automated-configuration-monitoring-for-azure-resources"></a>7,9. Реализация автоматического мониторинга конфигурации для ресурсов Azure

**Руководство**. Используйте набор ресурсов DevOps для Управления API Azure с целью управления конфигурацией для службы Управления API Azure.

Кроме того, определите и реализуйте стандартные конфигурации безопасности для служб Управления API Azure с помощью Политики Azure. Используйте псевдонимы Политик Azure в пространстве имен Microsoft.ApiManagement для создания настраиваемых политик, предназначенных для аудита или принудительного применения конфигурации для экземпляров Управления API Azure. Используйте политику Azure [отказывать] и [развернуть, если не существует], чтобы обеспечить безопасность параметров в ресурсах Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Сведения о действии Политик Azure](../governance/policy/concepts/effects.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="710-implement-automated-configuration-monitoring-for-operating-systems"></a>7.10. Реализация автоматизированного мониторинга конфигурации для операционных систем

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="712-manage-identities-securely-and-automatically"></a>7.12. Безопасное и автоматическое управление удостоверениями

**Руководство**. Используйте управляемое удостоверение службы, созданные Azure Active Directory (Azure AD), чтобы ваш экземпляр управления API был легко и безопасно получать доступ к другим ресурсам, защищенным Azure AD, таким как Azure Key Vault.

- [Создание управляемого удостоверения для экземпляра Управления API](api-management-howto-use-managed-service-identity.md)

- [Политика для проверки подлинности с помощью управляемого удостоверения](https://docs.microsoft.com/azure/api-management/api-management-authentication-policies#ManagedIdentity)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="713-eliminate-unintended-credential-exposure"></a>7.13. Устранение непреднамеренного раскрытия учетных данных

**Руководство**. Реализуйте сканер учетных данных для обнаружения учетных данных в коде. Сканер учетных данных также рекомендует перемещать обнаруженные учетные данные в более безопасные расположения, такие как Azure Key Vault.

- [Как настроить сканер учетных данных](https://secdevtools.azurewebsites.net/helpcredscan.html)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="malware-defense"></a>Защита от вредоносных программ

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: защита от вредоносных программ](../security/benchmarks/security-control-malware-defense.md).*

### <a name="81-use-centrally-managed-anti-malware-software"></a>8,1. Использование централизованно управляемого программного обеспечения для защиты от вредоносных программ

**Руководство**. Неприменимо; эта рекомендация предназначена для вычислительных ресурсов.

Защита от вредоносных программ Майкрософт включена в базовом узле, поддерживающем службы Azure (например, службу Управления API Azure), но не выполняется в содержимом клиента.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="82-pre-scan-files-to-be-uploaded-to-non-compute-azure-resources"></a>8.2. Предварительная проверка файлов для отправки в ресурсы Azure, не являющиеся вычислительными

**Руководство**. Неприменимо; эта рекомендация предназначена для невычислительных ресурсов, которые служат для хранения данных.

Защита от вредоносных программ Майкрософт включена в базовом узле, поддерживающем службы Azure (например, службу Управления API Azure), но не выполняется в содержимом клиента.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="83-ensure-anti-malware-software-and-signatures-are-updated"></a>8.3. Своевременное обновление программного обеспечения для защиты от вредоносных программ и подписей

**Руководство**. Неприменимо; эта рекомендация предназначена для невычислительных ресурсов, которые служат для хранения данных.

Защита от вредоносных программ Майкрософт включена в базовом узле, поддерживающем службы Azure (например, службу Управления API Azure), но не выполняется в содержимом клиента.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-recovery"></a>Восстановление данных

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: восстановление данных](../security/benchmarks/security-control-data-recovery.md).*

### <a name="91-ensure-regular-automated-back-ups"></a>9,1: Обеспечьте регулярное автоматическое резервное копирование

**Руководство**. Опубликовав интерфейсы API и управляя ими с помощью службы управления API Azure, вы получаете возможности по обеспечению отказоустойчивости и организации инфраструктуры, которые в противном случае вам пришлось бы проектировать и внедрять вручную. Управление API поддерживает развертывание в нескольких регионах, что делает плоскость данных устойчивой к региональным сбоям без дополнительных эксплуатационных издержек.

Функции резервного копирования и восстановления службы Управления API обеспечивают необходимые стандартные блоки для реализации стратегии аварийного восстановления. Операции резервного копирования и восстановления могут выполняться вручную или автоматически.

- [Развертывание плоскости данных Управления API в нескольких регионах](api-management-howto-deploy-multi-region.md)

- [Реализация аварийного восстановления с помощью функций резервного копирования и восстановления службы в Azure API Management](https://docs.microsoft.com/azure/api-management/api-management-howto-disaster-recovery-backup-restore#calling-the-backup-and-restore-operations)

- [Вызов операции резервного копирования Управления API](/rest/api/apimanagement/2019-01-01/apimanagementservice/backup)

- [Вызов операции восстановления Управления API](/rest/api/apimanagement/2019-01-01/apimanagementservice/restore)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="92-perform-complete-system-backups-and-backup-any-customer-managed-keys"></a>9,2: выполните полное резервное копирование системы и резервное копирование ключей, управляемых клиентом

**Руководство**. Операции резервного копирования и восстановления, предоставляемые службой Управления API Azure, выполняют полное резервное копирование и восстановление системы.

Управляемые удостоверения можно использовать для получения сертификатов из Azure Key Vault для имен личных доменов Управления API. Создайте резервную копию всех сертификатов, хранящихся в Azure Key Vault.

- [Реализация аварийного восстановления с помощью функций резервного копирования и восстановления службы в Azure API Management](https://docs.microsoft.com/azure/api-management/api-management-howto-disaster-recovery-backup-restore#calling-the-backup-and-restore-operations)

- [Резервное копирование сертификатов Azure Key Vault](https://docs.microsoft.com/powershell/module/az.keyvault/backup-azkeyvaultcertificate?view=azps-4.8.0&amp;preserve-view=true)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="93-validate-all-backups-including-customer-managed-keys"></a>9,3: Проверьте все резервные копии, включая управляемые клиентом ключи.

**Руководство**. Проверьте резервные копии, выполнив тестовое восстановление службы и сертификатов из них.

- [Вызов операции восстановления Управления API](/rest/api/apimanagement/2019-12-01/apimanagementservice/restore)

- [Восстановление сертификатов Azure Key Vault](/powershell/module/az.keyvault/restore-azkeyvaultcertificate)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="94-ensure-protection-of-backups-and-customer-managed-keys"></a>9,4: Обеспечьте защиту резервных копий и ключей, управляемых клиентом

**Руководство**. Служба Управления API Azure записывает резервные копии в учетные записи хранения Azure, принадлежащие клиенту. Чтобы защитить резервную копию, следуйте рекомендациям по безопасности службы хранилища Azure.

- [Реализация аварийного восстановления с помощью функций резервного копирования и восстановления службы в Azure API Management](https://docs.microsoft.com/azure/api-management/api-management-howto-disaster-recovery-backup-restore#calling-the-backup-and-restore-operations)

- [Рекомендация по обеспечению безопасности для хранилища BLOB-объектов](../storage/blobs/security-recommendations.md)

Включите обратимое удаление в Key Vault для защиты ключей от случайного или злонамеренного удаления.

- [Как включить обратимое удаление в Key Vault](../storage/blobs/soft-delete-blob-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="incident-response"></a>реагирование на инциденты.

*Дополнительные сведения см. в статье [Azure Security Benchmark: реагирование на инциденты](../security/benchmarks/security-control-incident-response.md).*

### <a name="101-create-an-incident-response-guide"></a>10.1. Создание руководства по реагированию на инциденты

**Руководство**. Создайте руководство по реагированию на инциденты для вашей организации. Убедитесь в том, что имеются письменные планы реагирования на инциденты, которые определяют все действия персонала, а также этапы обработки инцидентов и управления ими для проверки после инцидента.

- [Руководство по созданию собственного процесса реагирования на инциденты безопасности](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/)

- [Анатомия инцидента Центра Майкрософт по реагированию на угрозы](https://msrc-blog.microsoft.com/2019/06/27/inside-the-msrc-anatomy-of-a-ssirp-incident/)

- [Использование руководства по обработке инцидентов безопасности компьютера от NIST для создания собственного плана реагирования на инциденты](https://csrc.nist.gov/publications/detail/sp/800-61/rev-2/final)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="102-create-an-incident-scoring-and-prioritization-procedure"></a>10.2. Создание процедуры оценки инцидента и определения приоритетов

**Руководство**. Центр безопасности назначает каждому оповещению серьезность, которая поможет определить, какие предупреждения следует расследовать первыми. Серьезность основывается на том, насколько надежным является центр безопасности в поиске или аналитике, используемой для выдаче оповещения, а также об уровне достоверности, который был вредоносным намерением для действия, вызвавшего оповещение.

Кроме того, четко помечайте подписки тегами (например, рабочие, нерабочие) и создайте систему именования, чтобы четко определить и классифицировать ресурсы Azure, особенно обрабатывающие конфиденциальные данные. Вы несете ответственность за назначение приоритета оповещениям, требующим действий по исправлению, в зависимости от важности ресурсов Azure и среды, в которой произошел инцидент.

- [Оповещения безопасности в Центре безопасности Azure](../security-center/security-center-alerts-overview.md)

- [использование тегов для упорядочения ресурсов в Azure](/azure/azure-resource-manager/resource-group-using-tags)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="103-test-security-response-procedures"></a>10.3. Проверка процедур реагирования на угрозы

**Руководство**. Выполняйте упражнения, чтобы периодически тестировать возможности ваших систем реагировать на угрозы для защиты ресурсов Azure. Выявите слабые точки и пробелов и пересмотрите план по мере необходимости.

- [Публикация NIST — руководство по тестированию, обучению и выполнению программ для ИТ-планов и возможностей](https://csrc.nist.gov/publications/detail/sp/800-84/final)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="104-provide-security-incident-contact-details-and-configure-alert-notifications-for-security-incidents"></a>10.4. Предоставление контактных сведений и настройка уведомлений по инцидентам безопасности

**Руководство**. Корпорация Майкрософт будет использовать информацию об инциденте безопасности для связи с вами, если центр Microsoft Security Response Center (MSRC) обнаружит, что к вашим данным был получен незаконный или несанкционированный доступ. Проверьте инциденты после факта обращения, чтобы убедиться в том, что проблемы устранены.

- [Как задать контакт безопасности Центра безопасности Azure](../security-center/security-center-provide-security-contact-details.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="105-incorporate-security-alerts-into-your-incident-response-system"></a>10.5. Включение оповещений системы безопасности в систему реагирования на инциденты

**Руководство**. Экспортируйте оповещения и рекомендации Центра безопасности Azure с помощью функции непрерывного экспорта с целью выявления рисков для ресурсов Azure. Непрерывный экспорт позволяет экспортировать предупреждения и рекомендации как вручную, так и в постоянном, непрерывном режиме. Вы можете использовать соединитель данных Центра безопасности Azure для потоковой передачи оповещений в Azure Sentinel.

- [Настройка непрерывного экспорта данных](../security-center/continuous-export.md)

- [Как выполнить потоковую передачу оповещений в Azure Sentinel](../sentinel/connect-azure-security-center.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="106-automate-the-response-to-security-alerts"></a>10.6. Автоматизация реагирования на оповещения системы безопасности

**Руководство**. Используйте функцию автоматизации рабочих процессов в Центре безопасности Azure для автоматического запуска ответов с помощью Logic Apps в оповещениях и рекомендациях системы безопасности.

- [Как настроить автоматизацию рабочего процесса и Logic Apps](../security-center/workflow-automation.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="penetration-tests-and-red-team-exercises"></a>Тесты на проникновение и попытки нарушения безопасности "красной командой"

*Дополнительные сведения см. в статье [тесты производительности системы безопасности Azure: испытания на проникновение и команды красных команд](../security/benchmarks/security-control-penetration-tests-red-team-exercises.md).*

### <a name="111-conduct-regular-penetration-testing-of-your-azure-resources-and-ensure-remediation-of-all-critical-security-findings"></a>11,1. Проведите регулярное тестирование на проникновение ресурсов Azure и обеспечьте исправление всех критических результатов безопасности.

**Рекомендации**. Следуйте правилам взаимодействия Майкрософт, чтобы убедиться, что тесты на проникновение не нарушают политики Майкрософт: https://www.microsoft.com/msrc/pentest-rules-of-engagement?rtc=1 .

- [Дополнительные сведения о стратегии корпорации Майкрософт и реализации "красной команды", а также о тестировании сайтов на проникновение для облачной инфраструктуры, служб и приложений Майкрософт см. здесь.](https://gallery.technet.microsoft.com/Cloud-Red-Teaming-b837392e)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="next-steps"></a>Следующие шаги

- См. [Обзор Azure Security Benchmark версии 2](/azure/security/benchmarks/overview)
- Дополнительные сведения о [базовой конфигурации безопасности Azure](/azure/security/benchmarks/security-baselines-overview).
