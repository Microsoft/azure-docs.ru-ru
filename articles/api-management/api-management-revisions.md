---
title: Исправления в службе управления API Azure | Документация Майкрософт
description: Ознакомьтесь с концепцией редакций в службе управления API Azure.
services: api-management
documentationcenter: ''
author: johndowns
ms.service: api-management
ms.topic: article
ms.date: 06/12/2020
ms.author: jodowns
ms.custom: fasttrack-new
ms.openlocfilehash: 9a20a7966daff372cf5c0abc9b7b1dbbfd459838
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91403244"
---
# <a name="revisions-in-azure-api-management"></a>Исправления в службе управления API Azure

Исправления позволяют вносить изменения в интерфейсы API управляемым и надежным способом. Если необходимо внести изменения, создайте новую редакцию. Затем можно изменить и протестировать API, не нарушая работу потребителей API. Когда вы будете готовы, вы сделаете текущую редакцию текущей. В то же время можно при необходимости отправить запись в журнал изменений, чтобы ваши потребители API были обновлены с учетом изменений. Журнал изменений публикуется на портале разработчика.

> [!NOTE]
> Портал разработчика недоступен для ценовой категории "Потребление".

С помощью редакций можно:

- Безопасно вносите изменения в определения API и политики, не нарушая рабочий API.
- Испытайте изменения перед публикацией.
- Задокументируйте вносимые изменения, чтобы разработчики могли понять, что нового.
- При обнаружении проблем выполните откат.

[Начните работу с редакциями, следуя нашему пошаговому руководству.](./api-management-get-started-revise-api.md)

## <a name="accessing-specific-revisions"></a>Доступ к конкретным редакциям

Доступ к каждой редакции API можно получить с помощью специально сформированного URL-адреса. Добавьте `;rev={revisionNumber}` в конец URL-адреса API, но перед строкой запроса, чтобы получить доступ к определенной редакции этого API. Например, этот URL-адрес можно использовать для доступа к редакции 3 `customers` API:

`https://apis.contoso.com/customers;rev=3?customerId=123`

По умолчанию каждая редакция имеет те же параметры безопасности, что и текущая редакция. Вы можете намеренно изменить политики для конкретной редакции, если для каждой редакции необходимо применить разные правила безопасности. Например, может потребоваться добавить [политику фильтрации IP-адресов](./api-management-access-restriction-policies.md#RestrictCallerIPs) , чтобы внешние вызывающие объекты не могли получить доступ к редакции, находясь в процессе разработки.

Версию можно перевести в автономный режим, что делает ее недоступной для вызывающих объектов, даже если они пытаются получить доступ к редакции по его URL-адресу. Вы можете пометить редакцию как автономную, используя портал Azure. При использовании PowerShell можно использовать `Set-AzApiManagementApiRevision` командлет и присвоить `Path` аргументу значение `$null` .

> [!NOTE]
> Если вы не используете их для тестирования, мы рекомендуем делать изменения в автономном режиме.

## <a name="current-revision"></a>Текущая редакция

В качестве *текущей* редакции можно задать одну редакцию. Эта редакция будет использоваться для всех запросов API, которые не указывают явный номер редакции в URL-адресе. Можно выполнить откат к предыдущей редакции, задав эту редакцию Current.

Вы можете установить текущую редакцию с помощью портал Azure. При использовании PowerShell можно использовать `New-AzApiManagementApiRelease` командлет.

## <a name="revision-descriptions"></a>Описания редакций

При создании редакции можно задать описание для собственных целей отслеживания. Описания не воспроизводятся для пользователей API.

При установке редакции в качестве текущей можно также указать общую заметку журнала изменений. Журнал изменений включен на портал разработчика для просмотра пользователями API. Вы можете изменить заметку журнала изменений с помощью `Update-AzApiManagementApiRelease` командлета PowerShell.

## <a name="versions-and-revisions"></a>Версии и редакции

Версии и редакции — это отдельные функции. Каждая версия может иметь несколько редакций, как и API без версии. Вы можете использовать редакции без использования версий или наоборот. Обычно версии используются для разделения версий API с критическими изменениями, в то время как редакции можно использовать для небольших и некритических изменений в API.

Если вы обнаружите, что в редакции внесены критические изменения, или если вы хотите формально преобразовать свою редакцию в пробную или тестовую версию, можно создать версию из редакции. С помощью портал Azure выберите пункт "создать версию из редакции" в контекстном меню редакции на вкладке "редакции".
