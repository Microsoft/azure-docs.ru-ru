---
title: Руководство. Импорт и публикация вашего первого API в Управление API Azure
description: В этом руководстве описывается импорт программного интерфейса спецификации OpenAPI в Управление API Azure и проверка API на портале Azure.
author: mikebudzynski
ms.service: api-management
ms.custom: mvc
ms.topic: tutorial
ms.date: 09/30/2020
ms.author: apimpm
ms.openlocfilehash: 9ff64f57e61002101b4e2c560bdcd91863cc461e
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2021
ms.locfileid: "91626981"
---
# <a name="tutorial-import-and-publish-your-first-api"></a>Руководство по Импорт и публикация первого API

В этом руководстве показано, как импортировать API серверной части спецификации OpenAPI в формате JSON в Управление API Azure. Корпорация Майкрософт предоставляет используемый в этом примере API серверной части в Azure по адресу [https://conferenceapi.azurewebsites.net?format=json](https://conferenceapi.azurewebsites.net?format=json).

Когда API серверной части будет импортирован в службу "Управление API", ваш программный интерфейс Управления API будет использоваться как фасад для API серверной части. Вы можете настраивать фасад в Управлении API согласно своим потребностям, не используя API серверной части. Дополнительные сведения см. в статье [Transform and protect your API](transform-api.md) (Преобразование и защита API).

В этом руководстве описано следующее:

> [!div class="checklist"]
> * импорт API в Управление API;
> * проверка API на портале Azure;

После импорта API-интерфейсом можно управлять на портале Azure.

:::image type="content" source="media/import-and-publish/created-api.png" alt-text="Новый API в Управлении API":::

## <a name="prerequisites"></a>Предварительные требования

- Ознакомьтесь с [терминологией службы "Управление API" в Azure](api-management-terminology.md).
- [Создание экземпляра службы управления API Azure](get-started-create-service-instance.md).

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-navigate-to-instance.md)]

## <a name="import-and-publish-a-backend-api"></a>Импорт и публикация API серверной части

В этом разделе показано, как импортировать и опубликовать API серверной части "Спецификация OpenAPI".

1. В области навигации экземпляра Управления API слева выберите **API**.
1. Выберите плитку **OpenAPI**.
1. В окне **Создание из спецификации OpenAPI** выберите **Полный**.
1. Введите значения из следующей таблицы. Затем щелкните **Создать**, чтобы создать API.

   Можно задать значения API во время создания или позже, перейдя на вкладку **Параметры**.

   :::image type="content" source="media/import-and-publish/create-api.png" alt-text="Создание API":::


   |Параметр|Значение|Описание|
   |-------|-----|-----------|
   |**Спецификация OpenAPI**|*https:\//conferenceapi.azurewebsites.net?format=json*|Служба, которая реализует API. Управление API направляет запросы по этому адресу.|
   |**Отображаемое имя**|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Это имя отображается на [портале разработчика](api-management-howto-developer-portal.md).|
   |**имя**;|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Уникальное имя API.|
   |**Описание**|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Необязательное описание API.|
   |**Схема URL-адресов**|**HTTPS**|Определяет, какие протоколы можно использовать для доступа к этому API.|
   |**Суффикс URL-адреса API**|*conference*|Этот суффикс добавляется к основному URL-адресу службы "Управление API". Управление API различает API по их суффиксу. Поэтому у каждого API для заданного издателя суффикс должен быть уникальным.|
   |**Теги**| |Теги для упорядочивания API для поиска, группирования или фильтрации.|
   |**Продукты**|**Unlimited**|Ассоциация из одного или нескольких API. Каждый экземпляр "Управление API" поставляется с двумя демонстрационными продуктами: **Starter** и **Unlimited**. Чтобы опубликовать API, его нужно связать с определенным продуктом, в этом примере — с продуктом **Unlimited**.<br/><br/> Вы можете объединить в продукте несколько API и предлагать их разработчикам через портал разработчика. Чтобы добавить этот API в другой продукт, введите или выберите название продукта. Повторите этот шаг, чтобы добавить API в несколько продуктов. Вы также можете добавить API в продукты позже на странице **Параметры**.<br/><br/>  Дополнительные сведения о продуктах см. в статье [Создание и публикация продукта](api-management-howto-add-products.md).|
   |**Шлюзы**|**Управляемые**|Шлюзы API, которые предоставляют API. Это поле доступно только в службах уровня **Разработка** и **Премиум**.<br/><br/>**Управляемый** обозначает шлюз, встроенный в службу управления API и размещенный корпорацией Майкрософт в Azure. [Локальные шлюзы](self-hosted-gateway-overview.md) доступны только в службах уровня "Разработка" и "Премиум". Вы можете развернуть их локально или в других облаках.<br/><br/> Если шлюзы не выбраны, API не будет доступен и запросы к API не будут выполнены.|
   |**Версия этого API**|Установите или снимите флажок|Дополнительные сведения см. в статье [Публикация нескольких версий API предсказуемым способом](api-management-get-started-publish-versions.md).|

   > [!NOTE]
   > Чтобы опубликовать API для потребителей, его нужно связать с определенным продуктом.

2. Нажмите кнопку **создания**.

Если вы столкнулись с проблемами при импорте определения API, см. [список известных проблем и ограничений](api-management-api-import-restrictions.md).

## <a name="test-the-new-api-in-the-azure-portal"></a>Проверка нового API на портале Azure

Операции API можно вызывать напрямую на портале Azure. Это удобный способ просмотра и проверки операций.

1. В области навигации экземпляра Управления API слева выберите **API** > **Demo Conference API**.
1. Выберите вкладку **Тест**, а затем — **GetSpeakers**. На странице будут показаны **параметры запроса** и **заголовки**, если они есть. Параметр **Ocp-Apim-Subscription-Key** заполняется автоматически ключом подписки, связанным с этим API.
1. Нажмите кнопку **Отправить**.

   :::image type="content" source="media/import-and-publish/01-import-first-api-01.png" alt-text="Тестирование API на портале Azure":::

   Служба серверной части вернет ответ **200 — ОК** и другие данные.

## <a name="next-steps"></a>Дальнейшие действия

В этом руководстве вы узнали, как выполнять следующие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;

Перейдите к следующему учебнику, чтобы узнать, как создать и опубликовать продукт:

> [!div class="nextstepaction"]
> [Создание и публикация продукта](api-management-howto-add-products.md)
