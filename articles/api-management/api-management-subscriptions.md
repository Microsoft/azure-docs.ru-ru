---
title: Подписки в службе управления API Azure | Документация Майкрософт
description: Сведения о концепции подписок в службе управления API Azure. Потребители получают доступ к API с помощью подписок в службе управления API Azure.
services: api-management
documentationcenter: ''
author: miaojiang
manager: cfowler
editor: ''
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 11/14/2018
ms.author: apimpm
ms.openlocfilehash: cdc7668b06308bd5532f4885d0e1365fc34ae989
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "97511252"
---
# <a name="subscriptions-in-azure-api-management"></a>Подписки в службе управления API Azure

Подписки — это важная концепция в Управлении API в Azure. Это самый простой способ для пользователей API получить доступ к API, опубликованным в экземпляре Управления API. В статье представлен обзор этой концепции.

## <a name="what-are-subscriptions"></a>Что такое подписки?

При публикации API в Управлении API использование ключей подписки является самым простым способом защитить доступ к этим интерфейсам API. Разработчики, которым требуется использовать опубликованные API, должны включать действительный ключ подписки в HTTP-запросах при выполнении вызовов к этим API. Иначе все вызовы немедленно игнорируются шлюзом Управления API. Они не передаются в серверные службы.

Чтобы получить ключ подписки для доступа к API, нужна подписка. Подписка по сути является именованным контейнером для пары ключей подписки. Разработчики, которым требуется доступ к опубликованным API, могут получить подписки. Им не требуется согласие издателей API. Издатели API могут самостоятельно создавать подписки напрямую для пользователей API.

> [!TIP]
> Управление API поддерживает также другие механизмы для защиты доступа к API, среди них:
> - OAuth2.0 (дополнительные сведения см. [здесь](api-management-howto-protect-backend-with-aad.md));
> - [Сертификаты клиента](api-management-howto-mutual-certificates-for-clients.md)
> - [Ограничение IP-адресов вызывающего объекта](./api-management-access-restriction-policies.md#RestrictCallerIPs)

## <a name="scope-of-subscriptions"></a>Область подписок

Подписки можно связывать с разными областями, включая продукты, все API или отдельные API.

### <a name="subscriptions-for-a-product"></a>Подписки для продукта

Традиционно подписки в службе управления API связывались с одной областью [продукта API](api-management-terminology.md). Разработчики находят список продуктов на портале разработчика. Потом они отправляют запросы на подписку на продукт, который желают использовать. После утверждения запроса на подписку (автоматически или издателем API) разработчик может использовать ключи этой подписки для доступа ко всем API в выбранном продукте. В настоящее время на портале разработчика отображаются подписки уровня продукта в разделе Профиль пользователя. 

![Подписки для продукта](./media/api-management-subscriptions/product-subscription.png)

> [!TIP]
> В некоторых ситуациях издатели API предпочитают публиковать общедоступный продукт API, не требуя использовать подписки. Они могут отменить выбор параметра **Require subscription** (Требуется подписка) на странице продукта **Параметры** на портале Azure. В этом случае все API в составе этого продукта будут доступны без ключа API.

### <a name="subscriptions-for-all-apis-or-an-individual-api"></a>Подписки для всех API или отдельных API

Представив уровень [Потребление](https://aka.ms/apimconsumptionblog) службы "Управление API", мы реализовали ряд изменений, чтобы упростить управление ключами.
- Во-первых, появились две новые области действия подписки: все API и один API. Теперь область действия подписок не ограничивается исключительно продуктом API. Теперь можно создавать ключи, предоставляющие доступ к одному API (или всем API в экземпляре службы управления API) без необходимости создавать продукт и добавлять к нему API. Кроме того, каждый экземпляр Управления API теперь поставляется с неизменяемой подпиской на все API. Эта подписка упрощает и ускоряет тестирование и отладку API в консоли тестирования.

- Во-вторых, служба "Управление API" теперь поддерживает **автономные** подписки. Это означает, что подписки не обязательно должны быть связаны с учетной записью разработчика. Эта функция полезна в сценариях, когда одна подписка совместно используется несколькими разработчиками или группами.

- Наконец, издатели API теперь могут [создавать подписки](api-management-howto-create-subscriptions.md) непосредственно в портал Azure:

    ![Гибкие подписки](./media/api-management-subscriptions/flexible-subscription.png)

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о службе управления API:

+ Ознакомьтесь с другими [концепциями](api-management-terminology.md) в управлении API.
+ Чтобы узнать больше об управлении API, следуйте нашим [руководствам](import-and-publish.md) .
+ Часто задаваемые вопросы см. на [странице часто задаваемых](api-management-faq.md) вопросов.
