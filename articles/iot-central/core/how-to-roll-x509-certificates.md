---
title: Развертывание сертификатов X. 509 в Azure IoT Central
description: Как выполнить откат сертификатов X. 509 с помощью приложения IoT Central
author: dominicbetts
ms.author: dobett
ms.date: 07/31/2020
ms.topic: how-to
ms.service: iot-central
services: iot-central
ms.openlocfilehash: a9e35c7d4d64279c65971dd512bcd2107dad6594
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "92000067"
---
# <a name="how-to-roll-x509-device-certificates-in-iot-central-application"></a>Как выполнить откат сертификатов устройств X. 509 в приложении IoT Central

В течение жизненного цикла вашего решения Центра Интернета вещей вам нужно будет развертывать сертификаты. В основном это необходимо делать по двум причинам: бреши в системе безопасности и истечение срока действия сертификата.

При нарушении безопасности Пошаговые сертификаты являются рекомендуемой практикой для обеспечения безопасности системы. В рамках руководства [Microsoft Enterprise Cloud Red Teaming](https://download.microsoft.com/download/C/1/9/C1990DBA-502F-4C2A-848D-392B93D9B9C3/Microsoft_Enterprise_Cloud_Red_Teaming.pdf) корпорация Майкрософт объясняет необходимость внедрения реактивных процессов по обеспечению безопасности наряду с превентивными мерами. Развертывание сертификатов устройств относится к этим процессам безопасности. Частота, с которой вы развертываете сертификаты, будет зависеть от требований безопасности вашего решения. Клиенты с решениями, содержащими конфиденциальные данные, могут развертывать сертификаты ежедневно, а остальные — каждые два года.


## <a name="obtain-new-x509-certificates"></a>Получение новых сертификатов X. 509

Вы можете создавать собственные сертификаты X. 509 с помощью такого средства, как OpenSSL. Этот способ отлично подходит для тестирования сертификатов X.509, однако он предоставляет всего лишь несколько гарантий безопасности. Этот подход следует использовать только для тестирования, если только вы не подготовили себя к работе в качестве собственного поставщика ЦС.

## <a name="enrollment-groups-and-security-breaches"></a>Группы регистрации и бреши в системе безопасности

Чтобы обновить регистрацию группы в ответ на нарушение безопасности, следует использовать следующий подход, который немедленно обновляет текущий сертификат:

1. Перейдите в раздел **Администрирование**  в левой области и выберите **Подключение устройства**.

2. Выберите **группы регистрации** и укажите имя группы в списке.

3. Для обновления сертификата выберите **Управление первичной** **репликой или управление вторичными**.

4. Добавьте и проверьте корневой сертификат X. 509 в группе регистрации.

   Выполните эти действия для первичного и вторичного сертификатов, если они скомпрометированы.

## <a name="enrollment-groups-and-certificate-expiration"></a>Группы регистрации и истечение срока действия сертификата

Если вы используете несколько сертификатов для обработки истечения срока действия сертификата, используйте следующий подход для немедленного обновления текущего сертификата:

1. Перейдите в раздел **Администрирование**  в левой области и выберите **Подключение устройства**.

2. Выберите **группы регистрации** и укажите имя группы в списке.

3. Для обновления сертификата выберите **Управление первичной** репликой.

4. Добавьте и проверьте корневой сертификат X. 509 в группе регистрации.

5. Позже, когда истечет срок действия вторичного сертификата, вернитесь и обновите этот вторичный сертификат.

## <a name="individual-enrollments-and-security-breaches"></a>Индивидуальные регистрации и бреши в системе безопасности

Если вы выполняете откат сертификатов в ответ на нарушение безопасности, используйте следующий подход для немедленного обновления текущего сертификата:

1. Выберите **устройства** и выберите устройство.

2. Выберите **подключить** и выберите метод подключения как **отдельная регистрация** .

3. В качестве механизма выберите **Certificates (X. 509)** .

    ![Управление индивидуальными регистрациями](./media/how-to-roll-x509-certificates/certificate-update.png)

4. Для обновления сертификата щелкните значок папки, чтобы выбрать новый сертификат для отправки для записи регистрации. Щелкните **Сохранить**.

    Выполните эти действия для первичного и вторичного сертификатов, если обе из них скомпрометированы

## <a name="individual-enrollments-and-certificate-expiration"></a>Индивидуальные регистрации и истечение срока действия сертификата

Если вы развертываете сертификаты из-за истечения срока действия предыдущих, используйте конфигурацию вторичного сертификата следующим образом, чтобы сократить время простоя для устройств, пытающихся выполнить подготовку.

Если дополнительный сертификат приближается к истечению срока действия и необходимо выполнить откат, можно использовать основную конфигурацию. Таким образом, переключение между первичным и вторичным сертификатами сокращает время простоя для устройств, пытающихся выполнить подготовку.

1. Выберите **устройства** и выберите устройство.

2. Выберите **подключить** и выберите метод подключения как **отдельная регистрация** .

3. В качестве механизма выберите **Certificates (X. 509)** .

    ![Управление индивидуальными регистрациями](./media/how-to-roll-x509-certificates/certificate-update.png)

4. Для дополнительного обновления сертификата щелкните значок папки, чтобы выбрать новый сертификат для отправки для записи регистрации. Щелкните **Сохранить**.

5. Позже, когда истечет срок действия основного сертификата, вернитесь и обновите этот основной сертификат.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как выполнить откат сертификатов X. 509 в приложении IoT Central Azure, вы можете [подключиться к azure IOT Central](concepts-get-connected.md).


