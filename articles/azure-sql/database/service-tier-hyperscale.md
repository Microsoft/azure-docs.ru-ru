---
title: Что такое уровень службы "горизонтальное масштабирование"?
description: В этой статье описывается уровень службы Виртуальное ядро в модели приобретения в базе данных SQL Azure и объясняется, чем он отличается от уровней служб общего назначения и критически важный для бизнеса.
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: sqldbrb=1
ms.devlang: ''
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: ''
ms.date: 1/13/2021
ms.openlocfilehash: a167fedcb42560dec55cdbce40e36180d65e0179
ms.sourcegitcommit: ac035293291c3d2962cee270b33fca3628432fac
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/24/2021
ms.locfileid: "104951803"
---
# <a name="hyperscale-service-tier"></a>Уровень служб "Гипермасштабирование"

База данных SQL Azure основана на архитектуре ядра СУБД SQL Server, которая соответствует облачной среде, чтобы даже в случае сбоя инфраструктуры обеспечить доступность на уровне 99,99 %. Существует три модели архитектуры, которые используются в Базе данных SQL Azure.

- уровни "Общего назначения" или "Стандартный";
- Гипермасштабирование
- уровни "Критически важный для бизнеса" или "Премиум";

Уровень служб "Гипермасштабирование" в Базе данных SQL Azure — это новейший уровень в рамках модели приобретения на основе виртуальных ядер. Этот высокомасштабируемый уровень производительности ресурсов хранения и вычислений, который использует архитектуру Azure для масштабирования этих ресурсов для службы "База данных SQL Azure" за пределы, доступные для уровней служб "Общего назначения" и "Критически важный для бизнеса".

> [!NOTE]
>
> - См. подробнее об уровнях служб [Общего назначения](service-tier-general-purpose.md) и [Критически важный для бизнеса](service-tier-business-critical.md) в рамках модели приобретения на основе виртуальных ядер. Сравнение модели приобретения на основе виртуальных ядер и DTU см. в статье [Ресурсы и модели приобретения для Базы данных SQL Azure](purchasing-models.md).
> - Уровень службы "горизонтальное масштабирование" сейчас доступен только для базы данных SQL Azure, а не Управляемый экземпляр Azure SQL.

## <a name="what-are-the-hyperscale-capabilities"></a>Каковы возможности ценовой категории "Гипермасштабирование"?

Уровень служб "Гипермасштабирование" в службе "База данных SQL Azure" предоставляет следующие дополнительные возможности:

- Поддержка размера базы данных до 100 ТБ.
- Почти мгновенное резервное копирование базы данных (на основе моментальных снимков файлов, хранящихся в хранилище BLOB-объектов Azure) независимо от размера без влияния ввода-вывода на ресурсы вычислений  
- Быстрое восстановление баз данных (на основе файлов моментальных снимков) за несколько минут, а не часов или дней (вне зависимости от размера операции с данными).
- Более высокая общая производительность благодаря высокой пропускной способности ведения журнала и ускоренному выполнению транзакций независимо от объемов данных.
- Быстрое горизонтальное масштабирование. Вы можете подготовить один или несколько узлов только для чтения, чтобы переносить на них рабочие нагрузки чтения и использовать эти узлы в качестве узлов горячей замены.
- Быстрое масштабирование. Вы можете в постоянного времени масштабировать ресурсы вычислений, чтобы они соответствовали большим рабочим нагрузкам, а затем масштабировать ресурсы при необходимости.

Уровень служб "Гипермасштабирование" устраняет многие практические ограничения, традиционно наблюдаемые в облачных базах данных. В то время как большинство других баз данных ограничены ресурсами, доступными на одном узле, базы данных на уровне служб "Гипермасштабирование" не имеют таких ограничений. Благодаря гибкой архитектуре хранилища его объем растет по мере необходимости. Фактически, базы данных масштаба не создаются с определенным максимальным размером. При необходимости база данных с поддержкой масштабирования увеличивается, и плата взимается только за используемую емкость. Для рабочих нагрузок интенсивного чтения уровень служб "Гипермасштабирование" обеспечивает быстрое горизонтальное масштабирование путем подготовки дополнительных реплик чтения при необходимости перенести рабочие нагрузки.

Кроме того, время, необходимое для создания резервных копий базы данных или увеличения/уменьшения масштаба, больше не привязано к объему данных в базе данных. Резервные копии баз данных уровня "Гипермасштабирование" могут создаваться практически мгновенно. Увеличивать или уменьшать масштаб баз данных с десятками терабайт данных можно за считаные минуты. Вы больше не ограничены первоначальными вариантами конфигурации.

Дополнительные сведения о размерах вычислительных ресурсов для уровня служб "Гипермасштабирование" см. в разделе [Характеристики уровней служб](service-tiers-vcore.md#service-tiers).

## <a name="who-should-consider-the-hyperscale-service-tier"></a>Кому рекомендуется использовать уровень служб "Гипермасштабирование"

Уровень службы "горизонтальное масштабирование" предназначен для большинства рабочих нагрузок, так как обеспечивает большую гибкость и высокую производительность с помощью независимо масштабируемых ресурсов вычислений и хранилища. Благодаря возможности автоматического масштабирования хранилища до 100 ТБ это отличный вариант для клиентов, которые:

- Размещайте большие базы данных в локальной среде и хотите модернизировать свои приложения, перемещаясь в облако
- Уже находятся в облаке и ограничены максимальными ограничениями на размер базы данных для других уровней служб (1-4 ТБ).
- Имеют меньшие объемы баз данных, но для них требуется быстрое вертикальное и горизонтальное масштабирование вычислений, высокая производительность, Мгновенное резервное копирование и быстрое восстановление базы данных.

Уровень службы "горизонтальное масштабирование" поддерживает широкий спектр SQL Server рабочих нагрузок, от чистой OLTP до чистого анализа, но в основном оптимизированных для рабочих нагрузок OLTP и гибридных транзакций и аналитической обработки (HTAP).

> [!IMPORTANT]
> Эластичные пулы не поддерживают уровень служб "Гипермасштабирование".

## <a name="hyperscale-pricing-model"></a>Модель ценообразования для ценовой категории "Гипермасштабирование"

Уровень служб "Гипермасштабирование" доступен только в [модели на основе виртуальных ядер](service-tiers-vcore.md). Ввиду новой архитектуры модель ценообразования несколько отличается от уровней служб "Общего назначения" или "Критически важный для бизнеса".

- **Вычисление**:

  Цена за единицу вычислений ценовой категории "Гипермасштабирование" на реплику. Цена [Преимущества гибридного использования Azure](https://azure.microsoft.com/pricing/hybrid-benefit/) автоматически применяется к репликам с масштабированием для чтения. По умолчанию создается первичная реплика и одна реплика только для чтения на каждую базу данных масштаба.  Пользователи могут изменять общее число реплик, включая первичную версию с 1-5.

- **Хранилище**.

  Указывать максимальный объем данных при настройке базы данных ценовой категории "Гипермасштабирование" не нужно. На уровне "горизонтальный" вы платите за хранилище для базы данных на основе фактического распределения. Хранилище автоматически выделяется между 40 ГБ и 100 ТБ с шагом в 10 ГБ. При необходимости несколько файлов данных могут увеличиваться одновременно. База данных с масштабированием создается с начальным размером 10 ГБ и начинает расти на 10 ГБ каждые 10 минут, пока не достигнет размера 40 ГБ.

Дополнительные сведения о ценах категории "Гипермасштабирование" см. в разделе [цен на Базу данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-database/single/).

## <a name="distributed-functions-architecture"></a>Архитектура распределенных функций

В отличие от традиционных ядер СУБД, в которых все функции управления данными централизованы в одном месте или процессе (даже в так называемых распределенных базах данных есть несколько копий монолитного механизма обработки данных), база данных уровня "Гипермасштабирование" отделяет механизм обработки запросов, где семантики различных модулей обработки данных расходятся, от компонентов, которые обеспечивают долговременное хранение и устойчивость данных. Таким образом, емкость хранилища может быть плавно масштабирована по мере необходимости (исходная цель составляет 100 ТБ). Реплики только для чтения используют одни и те же компоненты хранилища, поэтому копирование данных для новой доступной для чтения реплики не требуется.

На следующей схеме представлены различные типы узлов в базе данных уровня "Гипермасштабирование".

![архитектура](./media/service-tier-hyperscale/hyperscale-architecture.png)

База данных в масштабе служб содержит следующие различные типы компонентов:

### <a name="compute"></a>Службы вычислений

Кластерный узел — это место, где находится реляционный механизм. Здесь выполняется обработка на языке, запросах и транзакциях. Все взаимодействия пользователя с базой данных уровня "Гипермасштабирование" происходят через эти вычислительные узлы. На вычислительных узлах выполняется кэширование на основе дисков SSD (именуемое на предыдущей схеме как RBPEX — отказоустойчивое расширение пула), чтобы минимизировать количество круговых путей в сети, необходимых для получения страницы данных. Существует один первичный вычислительный узел, где обрабатываются все транзакции и рабочие нагрузки чтения и записи. При этом есть один или несколько вторичных вычислительных узлов, которые выступают в качестве резервных узлов на случай отработки отказа, а также действуют как вычислительные узлы только для чтения для переноса рабочих нагрузок чтения (если эта функция необходима).

Ядро СУБД, работающее на масштабируемых масштабных узлах, такое же, как и на других уровнях служб базы данных SQL Azure. Когда пользователи взаимодействуют с ядром СУБД на масштабируемых вычислительных узлах, поддерживаемая контактная зона и поведение подсистемы будут такими же, как и на других уровнях служб, за исключением [известных ограничений](#known-limitations).

### <a name="page-server"></a>Сервер страниц

Серверы страниц — это системы, представляющие горизонтально масштабируемую подсистему хранилища.  Каждый сервер страниц отвечает за подмножество страниц в базе данных.  По номиналу, каждый сервер страниц управляет размером до 128 ГБ или до 1 ТБ данных. Нет общих данных на нескольких серверах страниц (за пределами реплик сервера, которые поддерживают избыточность и доступность). Задача сервера страниц заключается в том, чтобы предоставлять страницы базы данных для вычислительных узлов по требованию и обновлять страницы, когда транзакции обновляют данные. Серверы страниц хранятся в актуальном состоянии путем воспроизведения записей журнала из службы журналов. Серверы страниц также поддерживают кэши на основе SSD для повышения производительности. Для обеспечения дополнительной надежности за долгосрочное хранение страниц данных отвечает служба хранилища Azure.

### <a name="log-service"></a>Служба журналов

Служба журналов принимает записи журнала из первичной вычислительной реплики, сохраняет их в устойчивом кэше и пересылает записи журнала остальным вычислительным репликам (так что они могут обновить свои кэши), а также соответствующие серверы страниц, чтобы данные можно было обновить. Таким образом все изменения данных из основной реплики вычислений распространяются через службу журналов на все вторичные реплики вычислений и серверы страниц. Наконец, записи журнала отправляются в долгосрочное хранение в службе хранилища Azure, которое является практически бесконечным репозиторием хранилища. Этот механизм устраняет необходимость частого усечения журнала. Служба журнала также имеет локальную память и кэши SSD для ускорения доступа к записям журнала.

### <a name="azure-storage"></a>Хранилище Azure

Служба хранилища Azure содержит все файлы данных в базе данных. Серверы страниц хранят файлы данных в службе хранилища Azure в актуальном состоянии. Это хранилище используется для резервного копирования, а также для репликации между регионами Azure. Резервные копии реализуются с помощью моментальных снимков хранилища файлов данных. Операции восстановления с использованием моментальных снимков выполняются быстро, независимо от размера данных. Данные можно восстановить в любой момент времени в течение срока хранения резервной копии базы данных.

## <a name="backup-and-restore"></a>Резервное копирование и восстановление

Резервные копии основаны на моментальном снимке файлов, поэтому они практически мгновенно. Разделение хранилища и вычислений позволяет принудительно выполнять операции резервного копирования и восстановления на уровне хранилища, чтобы снизить нагрузку на первичную вычислительную реплику. В результате резервное копирование базы данных не влияет на производительность основного расчетного узла. Аналогично, восстановление на момент времени (PITR) выполняется путем возврата к моментальным снимкам файлов, так как это не размер операции с данными. Восстановление базы данных с масштабированием в том же регионе Azure — это операция постоянного времени, и даже несколько терабайтных баз данных могут быть восстановлены за считаные минуты, а не часы или дни. Создание новых баз данных путем восстановления существующей резервной копии также использует преимущества этой функции: создание копий базы данных для разработки или тестирования, даже для баз данных с несколькими терабайтами, выполнимо в минутах.

Сведения о географической восстановлении баз данных для масштабирования см. в разделе [Восстановление базы данных с масштабированием в другой регион](#restoring-a-hyperscale-database-to-a-different-region).

## <a name="scale-and-performance-advantages"></a>Преимущества масштабирования и производительности

Благодаря возможности быстро развертывать и свертывать дополнительные вычислительные узлы, предназначенные только для чтения, архитектура уровня "Гипермасштабирование" предоставляет значительные возможности масштабирования для чтения и также может освобождать первичный вычислительный узел для обслуживания большего количества запросов на запись. Кроме того, вычислительные узлы можно быстро увеличивать или уменьшать в масштабе благодаря архитектуре уровня "Гипермасштабирование" с общим хранилищем.

## <a name="create-a-hyperscale-database"></a>Создание базы данных для масштабирования

Базу данных можно создать с помощью [портал Azure](https://portal.azure.com), [T-SQL](/sql/t-sql/statements/create-database-transact-sql), [PowerShell](/powershell/module/azurerm.sql/new-azurermsqldatabase)или [CLI](/cli/azure/sql/db#az-sql-db-create). Масштабируемые базы данных доступны только с использованием [модели приобретения на основе виртуальное ядро](service-tiers-vcore.md).

Следующая команда T-SQL создает базу данных ценовой категории "Гипермасштабирование". Необходимо указать целевые выпуск и службу в инструкции `CREATE DATABASE`. Список допустимых целей обслуживания см. в разделе [ограничения ресурсов](./resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen4) .

```sql
-- Create a Hyperscale Database
CREATE DATABASE [HyperscaleDB1] (EDITION = 'Hyperscale', SERVICE_OBJECTIVE = 'HS_Gen5_4');
GO
```

При этом будет создана база данных для масштабирования на го поколения оборудовании с четырьмя ядрами.

## <a name="upgrade-existing-database-to-hyperscale"></a>Обновление существующей базы данных до масштаба

Вы можете переместить имеющиеся базы данных в базе данных SQL Azure в масштабирование с помощью [портал Azure](https://portal.azure.com), [T-SQL](/sql/t-sql/statements/alter-database-transact-sql), [PowerShell](/powershell/module/azurerm.sql/set-azurermsqldatabase)или [CLI](/cli/azure/sql/db#az-sql-db-update). В настоящее время это односторонняя миграция. Нельзя переместить базы данных из масштаба в другой уровень служб, кроме экспорта и импорта данных. Для подтверждения концепции (POC) рекомендуется сделать копию рабочих баз данных и перенести ее в масштабе. Перенос существующей базы данных в базе данных SQL Azure на уровень "горизонтальный" — это размер операции с данными.

Следующие команды T-SQL перемещает базу данных на уровень служб ценовой категории "Гипермасштабирование". Необходимо указать целевые выпуск и службу в инструкции `ALTER DATABASE`.

```sql
-- Alter a database to make it a Hyperscale Database
ALTER DATABASE [DB2] MODIFY (EDITION = 'Hyperscale', SERVICE_OBJECTIVE = 'HS_Gen5_4');
GO
```

## <a name="connect-to-a-read-scale-replica-of-a-hyperscale-database"></a>Подключение к реплике базы данных ценовой категории "Гипермасштабирование", доступной только для чтения

В базах данных с поддержкой масштабирования `ApplicationIntent` аргумент в строке подключения, предоставленной клиентом, определяет, будет ли соединение направляться к реплике записи или к вторичной реплике только для чтения. Если `ApplicationIntent` для параметра задано значение `READONLY` и в базе данных нет вторичной реплики, соединение будет направляться в первичную реплику, а по умолчанию — к `ReadWrite` поведению.

```cmd
-- Connection string with application intent
Server=tcp:<myserver>.database.windows.net;Database=<mydatabase>;ApplicationIntent=ReadOnly;User ID=<myLogin>;Password=<myPassword>;Trusted_Connection=False; Encrypt=True;
```

Вторичные реплики в масштабе масштабируются одинаково с использованием той же цели уровня обслуживания, что и первичная реплика. Если имеется более одной вторичной реплики, то Рабочая нагрузка распределяется по всем доступным получателям. Каждая вторичная реплика обновляется независимо друг от друга. Поэтому разные реплики могут иметь разную задержку данных относительно первичной реплики.

## <a name="database-high-availability-in-hyperscale"></a>Высокая доступность базы данных в масштабе

Как и на всех других уровнях служб, в процессе масштабирования гарантируется устойчивость данных для зафиксированных транзакций независимо от наличия реплики вычислений. Степень простоя, обусловленная первичной репликой, становится недоступной, зависит от типа отработки отказа (Запланированная и незапланированная) и наличия по крайней мере одной вторичной реплики. В плановой отработке отказа (т. е. событие обслуживания) система либо создает новую первичную реплику перед началом отработки отказа, либо использует существующую вторичную реплику в качестве цели отработки отказа. В внеплановой отработке отказа (т. е. сбое оборудования на первичной реплике) система использует вторичную реплику в качестве целевого объекта отработки отказа, если таковая существует, или создает новую первичную реплику из пула доступных ресурсов вычислений. В последнем случае длительность простоя больше всего из-за дополнительных действий, необходимых для создания новой первичной реплики.

Сведения об уровне обслуживания для этой службы см. в статье [соглашение об уровне обслуживания для базы данных SQL Azure](https://azure.microsoft.com/support/legal/sla/sql-database/).

## <a name="disaster-recovery-for-hyperscale-databases"></a>Аварийное восстановление для баз данных с масштабированием

### <a name="restoring-a-hyperscale-database-to-a-different-region"></a>Восстановление базы данных с масштабированием в другой регион

Если необходимо восстановить базу данных в базе данных SQL Azure в регионе, отличном от того, на котором она размещена, в рамках операции аварийного восстановления или детализации, перемещения или любой другой причины, основной метод заключается в выполнении географического восстановления базы данных. Это включает в себя те же действия, что и при восстановлении любой другой базы данных в базе данных SQL в другом регионе:

1. Создайте [сервер](logical-servers.md) в целевом регионе, если у вас еще нет соответствующего сервера.  Этот сервер должен принадлежать той же подписке, что и исходный (исходный) сервер.
2. Следуйте инструкциям в разделе о [геовосстановлении](./recovery-using-backups.md#geo-restore) на странице Восстановление базы данных из базы данных SQL Azure из автоматических резервных копий.

> [!NOTE]
> Так как исходный и целевой объекты находятся в разных регионах, база данных не может совместно использовать хранилище моментальных снимков с базой данных-источником, как и в случае географического восстановления, что позволяет быстро завершить работу независимо от размера базы данных. В случае географического восстановления базы данных с масштабированием это будет операция с размером данных, даже если целевой объект находится в парной области геореплицированного хранилища. Таким образом, геовосстановление займет некоторое время, пропорциональное размеру восстанавливаемой базы данных. Если целевой объект находится в парном регионе, то перенос данных будет выполняться в пределах региона, который будет выполняться значительно быстрее, чем перемещение данных между регионами, но он по-прежнему будет операцией с размером данных.

## <a name="available-regions"></a><a name=regions></a>Доступные регионы

Уровень масштабирования базы данных SQL Azure доступен во всех регионах, но включен по умолчанию в следующих регионах, перечисленных ниже. Если вы хотите создать базу данных для масштабирования в регионе, где по умолчанию не включено масштабирование, можно отправить запрос на подключение с помощью портал Azure. Инструкции см. в статье об [увеличении квот запросов для базы данных SQL Azure](quota-increase-request.md) . При отправке запроса используйте следующие рекомендации.

- Используйте тип квоты базы данных SQL для [регионов доступа](quota-increase-request.md#region) .
- В описании добавьте вычисление SKU/общее количество ядер, включая доступные для чтения реплики, и укажите, что вы запрашиваете емкость с помощью технологии масштабирования.
- Также укажите проекцию общего размера всех баз данных с течением времени в ТБ.

Включенные регионы:
- Восточная Австралия
- Юго-Восточная часть Австралии
- Центральная Австралия
- Южная Бразилия
- Центральная Канада
- Центральная часть США
- Восточный Китай 2
- Северный Китай 2
- Восточная Азия
- Восточная часть США
- Восточная часть США 2
- Центральная Франция
- Центрально-Западная Германия
- Восточная Япония
- Западная Япония
- Республика Корея, центральный регион
- Республика Корея, южный регион
- Центрально-северная часть США
- Северная Европа
- Восточная Норвегия;
- Западная Норвегия
- Северная часть ЮАР;
- Центрально-южная часть США
- Юго-Восточная Азия
- Западная Швейцария
- южная часть Соединенного Королевства
- западная часть Соединенного Королевства
- центральный регион US DoD
- восточный регион US DoD
- Govt США
- US Govt Техас
- центрально-западная часть США
- Западная Европа
- западная часть США
- западная часть США 2

## <a name="known-limitations"></a>Известные ограничения

Это текущие ограничения для уровня службы "линейка" в общедоступной версии.  Мы активно работаем над удалением максимально возможного множества этих ограничений.

| Проблема | Описание |
| :---- | :--------- |
| На панели «Управление резервными копиями» для сервера не отображаются базы данных с масштабированием. Они будут отфильтрованы из представления.  | У меня есть отдельный метод управления резервными копиями, поэтому не применяются параметры хранения Long-Term и хранения резервных копий на момент времени. Соответственно, в области Управление резервным копированием не отображаются базы данных с масштабированием.<br><br>Для баз данных, перенесенных в масштабах из других уровней служб базы данных SQL Azure, резервные копии перед миграцией сохраняются в течение срока [хранения резервной](automated-backups-overview.md#backup-retention) копии базы данных-источника. Эти резервные копии можно использовать для [восстановления](recovery-using-backups.md#programmatic-recovery-using-automated-backups) базы данных-источника до точки во времени до миграции.|
| Восстановление на момент времени | Невозможно восстановить базу данных без возможности масштабирования в качестве базы данных для масштабирования, а базу данных нельзя восстановить в качестве базы данных без возможности масштабирования. Для базы данных, отличной от для масштабирования, которая была перенесена в масштабируемый процесс путем изменения ее уровня служб, восстановите до точки во времени перед миграцией и в течение срока хранения резервной копии базы данных будет поддерживаться [программно](recovery-using-backups.md#programmatic-recovery-using-automated-backups). Восстановленная база данных будет работать без масштабирования. |
| При изменении уровня служб базы данных SQL Azure на "горизонтальное масштабирование" операция завершается ошибкой, если в базе данных есть файлы данных размером более 1 ТБ. | В некоторых случаях эту ошибку можно обойти, [уменьшая](file-space-manage.md#shrinking-data-files) размер больших файлов до 1 ТБ, прежде чем пытаться изменить уровень служб на масштабирование. Используйте следующий запрос, чтобы определить текущий размер файлов базы данных. `SELECT file_id, name AS file_name, size * 8. / 1024 / 1024 AS file_size_GB FROM sys.database_files WHERE type_desc = 'ROWS'`;|
| Управляемый экземпляр SQL | Управляемый экземпляр Azure SQL в настоящее время не поддерживается для баз данных с поддержкой масштабирования. |
| Эластичные пулы |  В настоящее время эластичные пулы не поддерживаются в масштабе.|
| Сейчас переход на ценовую категорию "Гипермасштабирование" является необратимой операцией. | После миграции базы данных на масштабирование ее нельзя перенести непосредственно на уровень служб, отличный от. В настоящее время единственным способом миграции базы данных из масштабов в нелинейную шкалу является экспорт и импорт с помощью BACPAC-файла или других технологий перемещения данных (массового копирования, фабрики данных Azure, Azure Databricks, служб SSIS и т. д.). Экспорт и импорт BACPAC из портал Azure из PowerShell с помощью командлета [New-азсклдатабасикспорт](/powershell/module/az.sql/new-azsqldatabaseexport) или [New-азсклдатабасеимпорт](/powershell/module/az.sql/new-azsqldatabaseimport)из Azure CLI с помощью команды [AZ SQL DB Export](/cli/azure/sql/db#az-sql-db-export) и [AZ SQL DB Import](/cli/azure/sql/db#az-sql-db-import)и FROM [REST API](/rest/api/sql/) не поддерживается. Импорт и экспорт BACPAC для небольших масштабируемых баз данных (до 200 ГБ) поддерживается с помощью SSMS и [SqlPackage](/sql/tools/sqlpackage) версии 18,4 и более поздних версий. Для больших баз данных экспорт/импорт BACPAC может занять много времени и может завершиться ошибкой по различным причинам.|
| Миграция баз данных с помощью объектов In-Memory OLTP | В режиме "горизонтальное масштабирование" поддерживается подмножество объектов OLTP In-Memory, включая оптимизированные для памяти табличные типы, табличные переменные и модули, скомпилированные в собственном формате. Однако при наличии в переносимой базе данных любого типа In-Memory объектов OLTP миграция с уровней "Премиум" и "критически важный для бизнеса" на "горизонтальное" не поддерживается. Чтобы перенести такую базу данных в горизонтальное масштабирование, все объекты In-Memory OLTP и их зависимости должны быть удалены. После переноса базы данных эти объекты можно создать заново. Устойчивые и неустойчивые таблицы, оптимизированные для памяти, в настоящее время не поддерживаются в масштабах и должны быть изменены на дисковые таблицы.|
| Георепликация  | Вы еще не можете настроить георепликацию для масштабирования базы данных SQL Azure. |
| Копирование базы данных | Копия базы данных в режиме масштабирования теперь доступна в общедоступной предварительной версии. |
| Интеллектуальные функции баз данных | За исключением параметра "принудительный план", все другие параметры автоматической настройки, пока не поддерживаются в режиме "изменить масштаб", могут быть включены, но не будут применяться никакие рекомендации или действия. |
| Сведения о производительности запросов | Аналитика производительности запросов в настоящее время не поддерживается для баз данных с поддержкой масштабирования. |
| Сжатие базы данных | DBCC SHRINKDATABASE или DBCC SHRINKFILE в настоящее время не поддерживается для баз данных с поддержкой масштабирования. |
| Проверка целостности базы данных | В настоящее время DBCC CHECKDB не поддерживается для баз данных с поддержкой масштабирования. В качестве обходного пути можно использовать инструкции DBCC CHECKFILEGROUP и DBCC CHECKTABLE. Дополнительные сведения об управлении целостностью данных в базе данных SQL Azure см. [в статье целостность данных в базе данных SQL Azure](https://azure.microsoft.com/blog/data-integrity-in-azure-sql-database/) . |

## <a name="next-steps"></a>Дальнейшие действия

- Вопросы и ответы о ценовой категории "Гипермасштабирование" приведены в разделе [часто задаваемых вопросов о ценовой категории "Гипермасштабирование"](service-tier-hyperscale-frequently-asked-questions-faq.md).
- Дополнительные сведения об уровнях служб см. в разделе [уровни служб](purchasing-models.md) .
- Сведения об ограничениях на уровне сервера и подписки см. [в разделе Обзор ограничений ресурсов на сервере](resource-limits-logical-server.md) .
- Ограничения моделей приобретения для отдельной базы данных описаны в разделе [Ограничения ресурсов для отдельной базы данных в Базе данных SQL Azure при использовании модели приобретения на основе виртуальных ядер](resource-limits-vcore-single-databases.md).
- Сведения о функциях и список сравнения см. в статье [Сравнение функций Базы данных SQL Azure и SQL Server](features-comparison.md).
