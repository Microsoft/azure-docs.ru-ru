---
title: Что такое уровень служб "Гипермасштабирование"?
description: В этой статье описывается уровень служб ценовой категории "Гипермасштабирование" в рамках модели приобретения на основе виртуальных ядер в службе "База данных SQL Azure" и объясняется, как он отличается от уровней служб ценовых категорий "Общего назначения" и "Критически важный для бизнеса".
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: sqldbrb=1
ms.devlang: ''
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: ''
ms.date: 1/13/2021
ms.openlocfilehash: e0982b4a43a931552574e447d5639d3fa92402d8
ms.sourcegitcommit: 4b0e424f5aa8a11daf0eec32456854542a2f5df0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/20/2021
ms.locfileid: "107773778"
---
# <a name="hyperscale-service-tier"></a>Уровень служб "Гипермасштабирование"

База данных SQL Azure основана на архитектуре ядра СУБД SQL Server, которая соответствует облачной среде, чтобы даже в случае сбоя инфраструктуры обеспечить доступность на уровне 99,99 %. Существует три модели архитектуры, которые используются в Базе данных SQL Azure.

- уровни "Общего назначения" или "Стандартный";
- Гипермасштабирование
- уровни "Критически важный для бизнеса" или "Премиум";

Уровень служб "Гипермасштабирование" в Базе данных SQL Azure — это новейший уровень в рамках модели приобретения на основе виртуальных ядер. Этот высокомасштабируемый уровень производительности ресурсов хранения и вычислений, который использует архитектуру Azure для масштабирования этих ресурсов для службы "База данных SQL Azure" за пределы, доступные для уровней служб "Общего назначения" и "Критически важный для бизнеса".

> [!NOTE]
>
> - См. подробнее об уровнях служб [Общего назначения](service-tier-general-purpose.md) и [Критически важный для бизнеса](service-tier-business-critical.md) в рамках модели приобретения на основе виртуальных ядер. Сравнение модели приобретения на основе виртуальных ядер и DTU см. в статье [Ресурсы и модели приобретения для Базы данных SQL Azure](purchasing-models.md).
> - Уровень службы "Гипермасштабирование" сейчас доступен для базы данных SQL Azure и недоступен для Управляемых экземпляров Azure SQL.

## <a name="what-are-the-hyperscale-capabilities"></a>Каковы возможности ценовой категории "Гипермасштабирование"?

Уровень служб "Гипермасштабирование" в службе "База данных SQL Azure" предоставляет следующие дополнительные возможности:

- Поддержка размера базы данных до 100 ТБ.
- Практически мгновенное создание резервных копий баз данных (на основе файлов моментальных снимков, хранящихся в хранилище BLOB-объектов Azure) независимо от размера, которое не влияет на операции ввода-вывода вычислительных ресурсов  
- Быстрое восстановление баз данных (на основе файлов моментальных снимков) за несколько минут, а не часов или дней (вне зависимости от размера операции с данными).
- Более высокая общая производительность благодаря высокой пропускной способности ведения журнала и ускоренному выполнению транзакций независимо от объемов данных.
- Быстрое горизонтальное масштабирование. Вы можете подготовить один или несколько узлов только для чтения, чтобы переносить на них рабочие нагрузки чтения и использовать эти узлы в качестве узлов горячей замены.
- Быстрое увеличение масштаба. Вы можете постоянно увеличивать масштаб вычислительных ресурсов, чтобы размещать крупные рабочие нагрузки по мере необходимости, а затем уменьшать их масштаб, когда они не нужны.

Уровень служб "Гипермасштабирование" устраняет многие практические ограничения, традиционно наблюдаемые в облачных базах данных. В то время как большинство других баз данных ограничены ресурсами, доступными на одном узле, базы данных на уровне служб "Гипермасштабирование" не имеют таких ограничений. Благодаря гибкой архитектуре хранилища его объем растет по мере необходимости. На самом деле базы данных уровня "Гипермасштабирование" не создаются с определенным максимальным размером. База данных уровня "Гипермасштабирование" растет по мере необходимости, поэтому плата взимается только за ту емкость, которую вы используете. Для рабочих нагрузок интенсивного чтения уровень служб "Гипермасштабирование" обеспечивает быстрое горизонтальное масштабирование путем подготовки дополнительных реплик чтения при необходимости перенести рабочие нагрузки.

Кроме того, время, необходимое для создания резервных копий базы данных или увеличения/уменьшения масштаба, больше не привязано к объему данных в базе данных. Резервные копии баз данных уровня "Гипермасштабирование" могут создаваться практически мгновенно. Увеличивать или уменьшать масштаб баз данных с десятками терабайт данных можно за считаные минуты. Вы больше не ограничены первоначальными вариантами конфигурации.

Дополнительные сведения о размерах вычислительных ресурсов для уровня служб "Гипермасштабирование" см. в разделе [Характеристики уровней служб](service-tiers-vcore.md#service-tiers).

## <a name="who-should-consider-the-hyperscale-service-tier"></a>Кому рекомендуется использовать уровень служб "Гипермасштабирование"

Уровень служб "Гипермасштабирование" предназначен для большинства рабочих нагрузок, поскольку обеспечивает большую гибкость и высокую производительность благодаря независимо масштабируемым вычислительным ресурсам и ресурсам хранилища. Благодаря возможности автоматического масштабирования хранилища до 100 ТБ это отличный вариант для клиентов, которые:

- размещают большие базы данных в локальной среде и хотят модернизировать свои приложения, переместив их в облако;
- уже находятся в облаке и ограничены максимальными ограничениями на размер базы данных для других уровней служб (1–4 ТБ);
- имеют меньшие объемы баз данных, но для них требуется быстрое вертикальное и горизонтальное масштабирование вычислений, высокая производительность, мгновенное резервное копирование и быстрое восстановление базы данных.

Уровень службы "Гипермасштабирование" поддерживает широкий спектр рабочих нагрузок SQL Server, от OLTP до аналитики, но в основном оптимизирован для OLTP и гибридной транзакционной и аналитической обработки (HTAP).

> [!IMPORTANT]
> Эластичные пулы не поддерживают уровень служб "Гипермасштабирование".

## <a name="hyperscale-pricing-model"></a>Модель ценообразования для ценовой категории "Гипермасштабирование"

Уровень служб "Гипермасштабирование" доступен только в [модели на основе виртуальных ядер](service-tiers-vcore.md). Ввиду новой архитектуры модель ценообразования несколько отличается от уровней служб "Общего назначения" или "Критически важный для бизнеса".

- **Среда выполнения приложений**

  Цена за единицу вычислений ценовой категории "Гипермасштабирование" на реплику. Цена [Преимущества гибридного использования Azure](https://azure.microsoft.com/pricing/hybrid-benefit/) автоматически применяется к репликам с масштабированием для чтения. По умолчанию создается первичная реплика и одна реплика только для чтения на каждую базу данных уровня "Гипермасштабирование".  Пользователи могут изменять общее число реплик, включая первичную, от 1 до 5.

- **Хранилище**.

  Указывать максимальный объем данных при настройке базы данных ценовой категории "Гипермасштабирование" не нужно. На уровне служб "Гипермасштабирование" счета за использование хранилища для базы данных выставляются в зависимости от фактического использования. Динамически выделяемый объем хранилища — от 40 ГБ до 100 ТБ (с шагом в 10 ГБ). При необходимости несколько файлов данных могут увеличиваться одновременно. База данных уровня "Гипермасштабирование" создается с начальным размером 10 ГБ и увеличивается на 10 ГБ каждые 10 минут, пока не достигнет размера 40 ГБ.

Дополнительные сведения о ценах категории "Гипермасштабирование" см. в разделе [цен на Базу данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-database/single/).

## <a name="distributed-functions-architecture"></a>Архитектура распределенных функций

В отличие от традиционных ядер СУБД, в которых все функции управления данными централизованы в одном месте или процессе (даже в так называемых распределенных базах данных есть несколько копий монолитного механизма обработки данных), база данных уровня "Гипермасштабирование" отделяет механизм обработки запросов, где семантики различных модулей обработки данных расходятся, от компонентов, которые обеспечивают долговременное хранение и устойчивость данных. Таким образом, емкость хранилища может быть плавно масштабирована по мере необходимости (исходная цель составляет 100 ТБ). Реплики, доступные только для чтения, используют одни и те же компоненты хранилища, поэтому для развертывания новой такой реплики не требуется копия данных.

На следующей схеме представлены различные типы узлов в базе данных уровня "Гипермасштабирование".

![архитектура](./media/service-tier-hyperscale/hyperscale-architecture.png)

Ниже описаны типы компонентов, содержащиеся в базе данных уровня "Гипермасштабирование".

### <a name="compute"></a>Вычисления

Вычислительный узел — это место, где находится реляционный модуль. Здесь выполняется обработка языка, запросов и транзакций. Все взаимодействия пользователя с базой данных уровня "Гипермасштабирование" происходят через эти вычислительные узлы. На вычислительных узлах выполняется кэширование на основе дисков SSD (именуемое на предыдущей схеме как RBPEX — отказоустойчивое расширение пула), чтобы минимизировать количество круговых путей в сети, необходимых для получения страницы данных. Существует один первичный вычислительный узел, где обрабатываются все транзакции и рабочие нагрузки чтения и записи. При этом есть один или несколько вторичных вычислительных узлов, которые выступают в качестве резервных узлов на случай отработки отказа, а также действуют как вычислительные узлы только для чтения для переноса рабочих нагрузок чтения (если эта функция необходима).

Ядро СУБД, работающее на вычислительных узлах уровня служб "Гипермасштабирование" такое же, как и на других уровнях служб базы данных SQL Azure. Когда пользователи взаимодействуют с ядром СУБД на вычислительных узлах уровня служб "Гипермасштабирование", поддерживаемая контактная зона и поведение модуля будут такими же, как и на других уровнях служб, за исключением [известных ограничений](#known-limitations).

### <a name="page-server"></a>Сервер страниц

Серверы страниц — это системы, представляющие горизонтально масштабируемую подсистему хранилища.  Каждый сервер страниц отвечает за подмножество страниц в базе данных.  По номиналу каждый сервер страниц управляет размером до 128 ГБ или до 1 ТБ данных. Данные совместно размещаются только на одном сервере страниц (за пределами реплик сервера страниц, созданных для обеспечения избыточности и доступности). Задача сервера страниц заключается в том, чтобы предоставлять страницы базы данных для вычислительных узлов по требованию и обновлять страницы, когда транзакции обновляют данные. Актуальность данных на серверах страниц обеспечивается за счет воспроизведения записей журнала из службы журналов. Серверы страниц также поддерживают кэширование на основе диска SSD, чтобы повысить производительность. Для обеспечения дополнительной надежности за долгосрочное хранение страниц данных отвечает служба хранилища Azure.

### <a name="log-service"></a>Служба журналов

Служба журнала принимает записи журнала из реплики первичного вычислительного узла, сохраняет их в надежном кэше и отправляет на остальные реплики вычислительных узлов (чтобы они могли обновить свои кэши), а также соответствующие серверы страниц для обновления данных. Таким образом, все изменения данных с реплики основного вычислительного узла распространяются через службу журнала на все вторичные реплики вычислительных узлов и серверы страниц. Наконец, записи журнала вытесняются на долгосрочное хранение в службу хранилища Azure, которая представляет собой практически неограниченный репозиторий. Этот механизм устраняет необходимость в частом усечении журнала. Служба журнала также имеет локальную память и кэши на основе SSD для ускорения доступа к записям журнала.

### <a name="azure-storage"></a>Хранилище Azure

Служба хранилища Azure содержит все файлы данных в базе данных. Серверы страниц хранят файлы данных в службе хранилища Azure в актуальном состоянии. Это хранилище используется для целей резервного копирования, а также для репликации между регионами Azure. Резервные копии реализуются с помощью моментальных снимков файлов данных. Операции восстановления с использованием моментальных снимков выполняются быстро, независимо от размера данных. Данные можно восстановить в любой момент времени в течение срока хранения резервной копии базы данных.

## <a name="backup-and-restore"></a>Резервное копирование и восстановление

Резервные копии основаны на моментальных снимках файлов, поэтому они почти мгновенные. Благодаря разделению хранения и вычисления можно перенести операции резервного копирования или восстановления на уровень хранения, чтобы снизить нагрузку на реплику основного узла вычислений. В результате резервное копирование базы данных не влияет на производительность основного вычислительного узла. Аналогично, восстановление на момент времени (PITR) выполняется путем возврата к моментальным снимкам файлов и поэтому не является операцией с размером данных. Восстановление базы данных уровня "Гипермасштабирование" в том же регионе Azure — это операция постоянного времени, и даже базы данных размером в несколько терабайт могут быть восстановлены за считаные минуты, а не часы или дни. Создание новых баз данных путем восстановления существующей резервной копии также использует преимущества этой функции: создание копий базы данных для разработки или тестирования, даже для баз данных размером в несколько терабайт, выполнимо за минуты.

Сведения о географическом восстановлении баз данных уровня служб "Гипермасштабирование" см. в разделе [Восстановление базы данных уровня служб "Гипермасштабирование" в другом регионе](#restoring-a-hyperscale-database-to-a-different-region).

## <a name="scale-and-performance-advantages"></a>Преимущества масштабирования и производительности

Благодаря возможности быстро развертывать и свертывать дополнительные вычислительные узлы, предназначенные только для чтения, архитектура уровня "Гипермасштабирование" предоставляет значительные возможности масштабирования для чтения и также может освобождать первичный вычислительный узел для обслуживания большего количества запросов на запись. Кроме того, вычислительные узлы можно быстро увеличивать или уменьшать в масштабе благодаря архитектуре уровня "Гипермасштабирование" с общим хранилищем.

## <a name="create-a-hyperscale-database"></a>Создание базы данных ценовой категории "Гипермасштабирование"

Базу данных ценовой категории "Гипермасштабирование" можно создать с использованием [портала Azure](https://portal.azure.com), [T-SQL](/sql/t-sql/statements/create-database-transact-sql), [PowerShell](/powershell/module/azurerm.sql/new-azurermsqldatabase) или [интерфейса командной строки](/cli/azure/sql/db#az_sql_db_create). Базы данных ценовой категории "Гипермасштабирование"доступны только при использовании [модели приобретения на основе виртуальных ядер](service-tiers-vcore.md).

Следующая команда T-SQL создает базу данных ценовой категории "Гипермасштабирование". Необходимо указать целевые выпуск и службу в инструкции `CREATE DATABASE`. Список допустимых целей обслуживания см. в разделе [ограничения ресурсов](./resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen4).

```sql
-- Create a Hyperscale Database
CREATE DATABASE [HyperscaleDB1] (EDITION = 'Hyperscale', SERVICE_OBJECTIVE = 'HS_Gen5_4');
GO
```

При этом будет создана база данных уровня "Гипермасштабирование" 5-го поколения (Gen5) с четырьмя ядрами.

## <a name="upgrade-existing-database-to-hyperscale"></a>Обновление существующей базы данных до уровня "Гипермасштабирование"

Можно переместить существующие базы данных SQL Azure на уровень служб ценовой категории "Гипермасштабирование" с помощью [портала Azure](https://portal.azure.com), [T-SQL](/sql/t-sql/statements/alter-database-transact-sql), [PowerShell](/powershell/module/azurerm.sql/set-azurermsqldatabase) или [интерфейса командной строки](/cli/azure/sql/db#az_sql_db_update). В настоящее время это односторонняя миграция. Нельзя переместить базы данных из уровня "Гипермасштабирование" в другой уровень служб, кроме экспорта и импорта данных. Для подтверждения концепции (POC) рекомендуется сделать копию рабочих баз данных и перенести ее на уровень "Гипермасштабирование". Перенос существующей базы данных в базе данных SQL Azure на уровень "Гипермасштабирование"— это операция с размером данных.

Следующие команды T-SQL перемещает базу данных на уровень служб ценовой категории "Гипермасштабирование". Необходимо указать целевые выпуск и службу в инструкции `ALTER DATABASE`.

```sql
-- Alter a database to make it a Hyperscale Database
ALTER DATABASE [DB2] MODIFY (EDITION = 'Hyperscale', SERVICE_OBJECTIVE = 'HS_Gen5_4');
GO
```

## <a name="connect-to-a-read-scale-replica-of-a-hyperscale-database"></a>Подключение к реплике базы данных ценовой категории "Гипермасштабирование", доступной только для чтения

В базах данных ценовой категории "Гипермасштабирование" передаваемый клиентом аргумент `ApplicationIntent` в строке подключения определяет, куда направляется подключение: к реплике для записи или ко вторичной реплике только для чтения. Если параметру `ApplicationIntent` присвоено значение `READONLY` и у базы данных нет вторичной реплики, подключение будет направляться к первичной реплике в режиме по умолчанию `ReadWrite`.

```cmd
-- Connection string with application intent
Server=tcp:<myserver>.database.windows.net;Database=<mydatabase>;ApplicationIntent=ReadOnly;User ID=<myLogin>;Password=<myPassword>;Trusted_Connection=False; Encrypt=True;
```

Вторичные реплики уровня "Гипермасштабирование" одинаковы и используют ту же цель уровня обслуживания, что и первичная реплика. Если имеется более одной вторичной реплики, то рабочая нагрузка распределяется по всем доступным получателям. Каждая вторичная реплика обновляется независимо друг от друга. Поэтому разные реплики могут иметь разную задержку данных относительно первичной реплики.

## <a name="database-high-availability-in-hyperscale"></a>Высокий уровень доступности базы данных в варианте развертывания "Гипермасштабирование"

Как и со всеми другими уровнями служб, "Гипермасштабирование" гарантирует устойчивость данных для зафиксированных транзакций независимо от доступности реплики вычислений. Степень простоя, обусловленная первичной репликой, становится недоступной, зависит от типа отработки отказа (запланированная или незапланированная) и наличия по крайней мере одной вторичной реплики. В плановой отработке отказа (т. е. событии обслуживания) система либо создает новую первичную реплику перед началом отработки отказа, либо использует существующую вторичную реплику в качестве цели отработки отказа. Во внеплановой отработке отказа (т. е. сбое оборудования на первичной реплике) система использует вторичную реплику в качестве целевого объекта отработки отказа, если таковая существует, или создает новую первичную реплику из пула доступных ресурсов вычислений. В последнем случае продолжительность простоя выше из-за дополнительных действий, необходимых для создания новой первичной реплики.

Соглашение об уровне обслуживания для уровня служб "Гипермасштабирование" см. в статье [Соглашение об уровне обслуживания для базы данных SQL Azure](https://azure.microsoft.com/support/legal/sla/sql-database/).

## <a name="disaster-recovery-for-hyperscale-databases"></a>Аварийное восстановление для баз данных уровня "Гипермасштабирование"

### <a name="restoring-a-hyperscale-database-to-a-different-region"></a>Восстановление базы данных "Гипермасштабирование" в другом регионе

Если необходимо восстановить базу данных уровня "Гипермасштабирование" в базе данных SQL Azure в регионе, отличном от того, на котором она размещена, в рамках операции аварийного восстановления или детализации, перемещения или любой другой причины, основной метод заключается в выполнении географического восстановления базы данных. Оно включает в себя те же действия, что и при восстановлении любой другой базы данных в базе данных SQL в другом регионе.

1. Создайте [сервер](logical-servers.md) в целевом регионе, если у вас еще нет соответствующего сервера.  Этот сервер должен принадлежать той же подписке, что и оригинальный (исходный) сервер.
2. Следуйте инструкциям в разделе о [геовосстановлении](./recovery-using-backups.md#geo-restore) на странице, посвященной восстановлению базы данных из базы данных SQL Azure, используя автоматические резервные копии.

> [!NOTE]
> Так как исходный и целевой объекты находятся в разных регионах, база данных не может совместно использовать хранилище моментальных снимков с базой данных-источником, как это происходит в случае негеографического восстановления, которое быстро завершается независимо от размера базы данных. В случае географического восстановления базы данных уровня "Гипермасштабирование" это будет операция с размером данных, даже если целевой объект находится в парной области геореплицированного хранилища. Таким образом, геовосстановление займет некоторое время, пропорциональное размеру восстанавливаемой базы данных. Если целевой объект находится в парном регионе, то перенос данных будет выполняться в пределах региона, который будет выполняться значительно быстрее, чем перемещение данных между регионами, но он по-прежнему будет операцией с размером данных.

## <a name="available-regions"></a><a name=regions></a>Доступные регионы

Уровень "Гипермасштабирование" баз данных SQL Azure доступен во всех регионах, но включен по умолчанию в следующих регионах, перечисленных ниже. Если вы хотите создать базу данных уровня "Гипермасштабирование" в регионе, где по умолчанию не включено масштабирование, можно отправить запрос на подключение с помощью портала Azure. Инструкции см. в статье об [увеличении квот запросов для базы данных SQL Azure](quota-increase-request.md). При отправке запроса используйте следующие рекомендации.

- Используйте тип квоты базы данных SQL для [регионов доступа](quota-increase-request.md#region).
- В описании добавьте номер SKU вычисления/общее количество ядер, включая доступные для чтения реплики, и укажите, что вы запрашиваете емкость уровня служб "Гипермасштабирование".
- Также укажите ориентировочное значение общего размера всех баз данных на протяжении времени в ТБ.

Включенные регионы перечислены ниже.
- Восточная Австралия
- Юго-Восточная часть Австралии
- Центральная Австралия
- Южная Бразилия
- Центральная Канада
- Восточная Канада
- Центральная часть США
- Восточный Китай 2
- Северный Китай 2
- Восточная Азия
- Восточная часть США
- Восточная часть США 2
- Центральная Франция
- Центрально-Западная Германия
- Восточная Япония
- Западная Япония
- Республика Корея, центральный регион
- Республика Корея, южный регион
- Центрально-северная часть США
- Северная Европа
- Восточная Норвегия;
- Западная Норвегия
- Северная часть ЮАР;
- Центрально-южная часть США
- Юго-Восточная Азия
- Западная Швейцария
- южная часть Соединенного Королевства
- западная часть Соединенного Королевства
- центральный регион US DoD
- восточный регион US DoD
- Правительство США, Аризона
- Правительство США, Техас
- центрально-западная часть США
- Западная Европа
- западная часть США
- западная часть США 2

## <a name="known-limitations"></a>Известные ограничения

Это текущие ограничения для уровня служб "Гипермасштабирование" в общедоступной версии.  Мы активно работаем над удалением максимально возможного множества этих ограничений.

| Проблема | Описание |
| :---- | :--------- |
| В меню управления резервными копиями сервера не отображаются базы данных уровня "Гипермасштабирование". Они будут отфильтрованы из представления.  | Для ценовой категории "Гипермасштабирование" применяется отдельный метод управления резервными копиями, поэтому параметры "Долгосрочное хранение" и "Хранение резервных копий на определенный момент времени" не действуют. Следовательно, базы данных ценовой категории "Гипермасштабирование" не отображаются в области "Управление резервными копиями".<br><br>Для баз данных, перенесенных на уровень служб "Гипермасштабирование" из других уровней служб базы данных SQL Azure, резервные копии перед миграцией сохраняются на продолжительность срока [хранения резервной](automated-backups-overview.md#backup-retention) копии базы данных-источника. Эти резервные копии можно использовать для [восстановления](recovery-using-backups.md#programmatic-recovery-using-automated-backups) базы данных-источника до момента времени перед миграцией.|
| Восстановление на момент времени | Обычную базу данных невозможно восстановить так же, как базу данных уровня "Гипермасштабирование", и наоборот. Для обычной базы данных, которая была перенесена на уровень "Гипермасштабирование" путем изменения ее уровня служб, восстановление до момента времени перед миграцией и в течение срока хранения резервной копии базы данных поддерживается [программно](recovery-using-backups.md#programmatic-recovery-using-automated-backups). Восстановленная база данных не будет работать как база данных уровня "Гипермасштабирование". |
| При изменении уровня служб базы данных SQL Azure на "Гипермасштабирование" операция завершается ошибкой, если в базе данных есть файлы данных размером более 1 ТБ | В некоторых случаях эту ошибку можно обойти, [уменьшая](file-space-manage.md#shrinking-data-files) размер больших файлов до 1 ТБ, прежде чем пытаться изменить уровень служб до гипермасштабирования. Используйте следующий запрос, чтобы определить текущий размер файлов базы данных. `SELECT file_id, name AS file_name, size * 8. / 1024 / 1024 AS file_size_GB FROM sys.database_files WHERE type_desc = 'ROWS'`;|
| Управляемый экземпляр SQL | Управляемый экземпляр Azure SQL в настоящее время не поддерживается для баз данных с поддержкой гипермасштабирования. |
| Эластичные пулы |  В настоящее время эластичные пулы не поддерживаются с БД уровня "Гипермасштабирование".|
| Сейчас переход на ценовую категорию "Гипермасштабирование" является необратимой операцией. | После переноса базы данных на уровень служб ценовой категории "Гипермасштабирование" ее невозможно перенести непосредственно на другой уровень служб. В настоящее время единственным способом миграции базы данных из категории "Гипермасштабирование" в обычную является экспорт и импорт с помощью BACPAC-файла или других технологий перемещения данных (массового копирования, фабрики данных Azure, Azure Databricks, служб SSIS и т. д.). Экспорт и импорт BACPAC из портала Azure, из PowerShell с помощью команды [New-AzSqlDatabaseExport](/powershell/module/az.sql/new-azsqldatabaseexport) или [New-AzSqlDatabaseImport](/powershell/module/az.sql/new-azsqldatabaseimport), из интерфейса командной строки Azure с помощью команды [az sql db export](/cli/azure/sql/db#az_sql_db_export) и [az sql db import](/cli/azure/sql/db#az_sql_db_import), а также с использованием [REST API](/rest/api/sql/) не поддерживается. Импорт и экспорт BACPAC для баз данных (до 200 ГБ) уровня "Гипермасштабирование" поддерживается с помощью SSMS и [SqlPackage](/sql/tools/sqlpackage) версии 18.4 и более поздних. Для больших баз данных экспорт/импорт BACPAC может занять много времени и может завершиться ошибкой по различным причинам.|
| Миграция баз данных с помощью объектов In-Memory OLTP | В режиме "Гипермасштабирование" поддерживается подмножество объектов OLTP In-Memory, включая типы таблиц, оптимизированные для памяти, табличные переменные и модули, скомпилированные в собственном формате. Однако при наличии в переносимой базе данных любого типа объектов OLTP In-Memory миграция с уровней "Премиум" и "Критически важный для бизнеса" на "Гипермасштабирование" не поддерживается. Чтобы перенести такую базу данных на уровень "Гипермасштабирование", все объекты OLTP In-Memory и их зависимости должны быть удалены. После переноса базы данных эти объекты можно создать заново. Устойчивые и неустойчивые таблицы, оптимизированные для памяти, в настоящее время не поддерживаются в категории "Гипермасштабирование" и должны быть изменены на дисковые таблицы.|
| Георепликация  | Настроить георепликацию для базы данных SQL Azure уровня "Гипермасштабирование" еще невозможно. |
| Копирование базы данных | Копирование базы данных уровня служб "Гипермасштабирование" теперь возможно в общедоступной предварительной версии. |
| Интеллектуальные функции баз данных | За исключением параметра "принудительный план", все другие параметры автоматической настройки пока не поддерживаются в режиме "Гипермасштабирование": параметры могут быть доступны, но не будут применяться никакие рекомендации или действия. |
| Сведения о производительности запросов | Аналитика производительности запросов в настоящее время не поддерживается для баз данных уровня служб "Гипермасштабирование". |
| Сжатие базы данных | Команды DBCC SHRINKDATABASE или DBCC SHRINKFILE в настоящее время не поддерживаются для баз данных ценовой категории "Гипермасштабирование". |
| Проверка целостности базы данных | В настоящее время команда DBCC CHECKDB не поддерживается для баз данных уровня служб "Гипермасштабирование". В качестве обходного пути можно использовать инструкции DBCC CHECKFILEGROUP и DBCC CHECKTABLE. Дополнительные сведения об управлении целостностью данных в базе данных SQL Azure см. в статье [Целостность данных в базе данных SQL Azure](https://azure.microsoft.com/blog/data-integrity-in-azure-sql-database/). |

## <a name="next-steps"></a>Дальнейшие шаги

- Вопросы и ответы о ценовой категории "Гипермасштабирование" приведены в разделе [часто задаваемых вопросов о ценовой категории "Гипермасштабирование"](service-tier-hyperscale-frequently-asked-questions-faq.md).
- Сведения об уровнях служб см. в статье [Ресурсы и модели приобретения для базы данных SQL Azure](purchasing-models.md).
- Сведения об ограничениях на уровнях сервера и подписки см. в статье [Ограничения ресурсов Базы данных SQL для отдельных баз данных и баз данных в пуле на логическом сервере](resource-limits-logical-server.md).
- Ограничения моделей приобретения для отдельной базы данных описаны в разделе [Ограничения ресурсов для отдельной базы данных в Базе данных SQL Azure при использовании модели приобретения на основе виртуальных ядер](resource-limits-vcore-single-databases.md).
- Сведения о функциях и список сравнения см. в статье [Сравнение функций Базы данных SQL Azure и SQL Server](features-comparison.md).
