---
title: Общие сведения о модели приобретения Виртуальное ядро
titleSuffix: Azure SQL Database & Azure SQL Managed Instance
description: Модель приобретения Виртуальное ядро позволяет независимо масштабировать ресурсы вычислений и хранения, сопоставлять локальные показатели производительности и оптимизировать цены для базы данных SQL Azure и Azure SQL Управляемый экземпляр.
services: sql-database
ms.service: sql-db-mi
ms.subservice: features
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: sashan, moslake
ms.date: 01/15/2021
ms.openlocfilehash: 6589f451d4db8f2ed77ce70a2bdfa9d76927c1e2
ms.sourcegitcommit: 25d1d5eb0329c14367621924e1da19af0a99acf1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/16/2021
ms.locfileid: "98251222"
---
# <a name="vcore-model-overview---azure-sql-database-and-azure-sql-managed-instance"></a>Общие сведения о модели Виртуальное ядро: база данных SQL Azure и Azure SQL Управляемый экземпляр 
[!INCLUDE[appliesto-sqldb-sqlmi](../includes/appliesto-sqldb-sqlmi.md)]

Модель приобретения виртуальных ядер (Виртуальное ядро), используемая базой данных SQL Azure и Azure SQL Управляемый экземпляр предоставляет несколько преимуществ.

- Более высокие пределы вычислений, памяти, ввода-вывода и хранилища.
- Управление созданием оборудования для лучшего соответствия требованиям к вычислению и памяти рабочей нагрузки.
- Ценовые скидки для [преимущество гибридного использования Azure (АХБ)](../azure-hybrid-benefit.md) и [зарезервированного экземпляра (RI)](reserved-capacity-overview.md).
- Более большая прозрачность в сведениях об оборудовании, обеспечивающих вычисление, которое упрощает планирование миграции из локальных развертываний.

## <a name="service-tiers"></a>Уровни службы

Параметры уровня службы в модели Виртуальное ядро включают общего назначения, критически важный для бизнеса и масштабирование. Уровень служб обычно определяет архитектуру хранилища, ограничения пространства и ввода-вывода, а также параметры непрерывности бизнес-процессов, связанные с доступностью и аварийным восстановлением.

|-|**Общего назначения**|**Уровень "Критически важный для бизнеса"**|**Уровень "Гипермасштабирование"**|
|---|---|---|---|
|Сценарии применения|Большинства рабочих нагрузок. Предлагает бюджетные, сбалансированные и масштабируемые варианты вычислений и хранения. |Предоставляет бизнес-приложениям наивысшую устойчивость к сбоям с помощью нескольких изолированных реплик и обеспечивает наивысшую производительность ввода-вывода на реплику базы данных.|Большинство рабочих нагрузок с высоким уровнем масштабируемости и требованиями к масштабированию.  Обеспечивает более высокую устойчивость к сбоям, позволяя настраивать более одной изолированной реплики базы данных. |
|Память|Использует удаленное хранилище.<br/>**Подготовленное вычисление базы данных SQL**:<br/>От 5 ГБ до 4 ТБ<br/>**Бессерверные вычислений**:<br/>5 ГБ — 3 ТБ<br/>**Управляемый экземпляр SQL**: 32 ГБ-8 ТБ |Использует локальное хранилище SSD.<br/>**Подготовленное вычисление базы данных SQL**:<br/>От 5 ГБ до 4 ТБ<br/>**Управляемый экземпляр SQL**:<br/>от 32 ГБ до 4 ТБ |Гибкое автоматическое расширение хранилища при необходимости. Поддерживает до 100 ТБ хранилища. Использует локальное хранилище SSD для кэша локального буфера и локального хранилища данных. Использует удаленное хранилище Azure в качестве последнего долгосрочного хранилища данных. |
|Операции ввода-вывода и пропускная способность (приблизительная)|**База данных SQL**: см. раздел ограничения ресурсов для [отдельных баз данных](resource-limits-vcore-single-databases.md) и [эластичных пулов](resource-limits-vcore-elastic-pools.md).<br/>**SQL управляемый экземпляр**: см. раздел [Обзор ограничений ресурсов Azure SQL управляемый экземпляр](../managed-instance/resource-limits.md#service-tier-characteristics).|См. раздел ограничения ресурсов для [отдельных баз данных](resource-limits-vcore-single-databases.md) и [эластичных пулов](resource-limits-vcore-elastic-pools.md).|Масштабирование — многоуровневая архитектура с кэшированием на нескольких уровнях. Действующие операции ввода-вывода и пропускная способность будут зависеть от рабочей нагрузки.|
|Доступность|1 реплика, нет реплик для чтения и масштабирования|3 реплики, 1 [реплика чтения и масштабирования](read-scale-out.md),<br/>высокий уровень доступности избыточной зоны (HA)|1 реплика для чтения и записи, а также 0-4 [реплики чтения и масштабирования](read-scale-out.md)|
|Резервные копии|[Геоизбыточное хранилище с доступом на чтение (RA-GRS)](../../storage/common/geo-redundant-design.md), 7-35 дней (по умолчанию 7 дней)|[RA-GRS](../..//storage/common/geo-redundant-design.md), 7-35 дней (по умолчанию 7 дней)|Резервные копии на основе моментального снимка в удаленном хранилище Azure. Эти моментальные снимки используются для быстрого восстановления. Резервные копии создаются мгновенно и не влияют на производительность вычислений ввода-вывода. Восстановление выполняется быстро и не является операцией с объемом данных (в минутах, а не в часах или днях).|
|In-memory|Не поддерживается|Поддерживается|Не поддерживается|
|||


### <a name="choosing-a-service-tier"></a>Выбор уровня служб

Сведения о выборе уровня служб для конкретной рабочей нагрузки см. в следующих статьях:

- [Когда следует выбирать уровень служб общего назначения](service-tier-general-purpose.md#when-to-choose-this-service-tier)
- [Когда следует выбирать уровень служб критически важный для бизнеса](service-tier-business-critical.md#when-to-choose-this-service-tier)
- [Когда следует выбирать уровень службы "линейка"](service-tier-hyperscale.md#who-should-consider-the-hyperscale-service-tier)


## <a name="compute-tiers"></a>Уровни вычислений

Параметры уровня вычислений в модели Виртуальное ядро включают подготовленные и бессерверные уровни вычислений.


### <a name="provisioned-compute"></a>Подготовленные вычисления

Подготовленный уровень вычислений предоставляет определенный объем ресурсов вычислений, которые непрерывно подготавливаются независимо от активности рабочей нагрузки, и выставляются счета за указанный объем вычислений по фиксированной цене за час.


### <a name="serverless-compute"></a>Бессерверные вычисления

Масштабируемые ресурсы с [бессерверным уровнем вычислений](serverless-tier-overview.md) автомасштабирование на основе активности рабочей нагрузки, а также счета за количество вычислений, использованных в секунду.



## <a name="hardware-generations"></a>Поколения оборудования

Варианты создания оборудования в модели Виртуальное ядро включают серии 4/5, M-Series, серия fsv2 и DC. Создание оборудования обычно определяет ограничения вычислений и памяти, а также другие характеристики, влияющие на производительность рабочей нагрузки.

### <a name="gen4gen5"></a>Го поколения/го поколения

- Оборудование го поколения/го поколения предоставляет сбалансированные ресурсы вычислений и памяти и подходит для большинства рабочих нагрузок баз данных, которые не имеют более высоких объемов памяти, более Виртуальное ядро или более быстрые требования к Виртуальное ядро, предоставляемые сериями серия fsv2 или серии M.

Сведения о регионах, где доступна го поколения/го поколения, см. в разделе [доступность го поколения/го поколения](#gen4gen5-1).

### <a name="fsv2-series"></a>Серия Fsv2

- Серия серия fsv2 — это оптимизированный для вычислений аппаратный вариант, обеспечивающий низкую задержку процессора и высокую тактовую частоту для большинства ресурсоемких рабочих нагрузок.
- В зависимости от рабочей нагрузки серия fsv2-Series может доставлять больше производительности ЦП на виртуальное ядро, чем го поколения, а размер 72 Виртуальное ядро может обеспечить дополнительную производительность ЦП для менее затрат, чем 80 виртуальных ядер на го поколения. 
- Серия fsv2 предоставляет меньше памяти и tempdb на виртуальное ядро по сравнению с другим оборудованием, поэтому для рабочих нагрузок, зависящих от этих ограничений, может потребоваться использовать вместо него го поколения или серии M.  

Серия серия fsv2 поддерживается только на уровне общего назначения. Для регионов, где доступна серия серия fsv2, см. статью [доступность серии серия fsv2](#fsv2-series-1).

### <a name="m-series"></a>Серия M

- Серия M — это оптимизированное для памяти оборудование для рабочих нагрузок, которым требуется больший объем памяти и более высокие ограничения вычислений, чем предоставлено го поколения.
- Серия M предоставляет 29 ГБ на виртуальное ядро и до 128 виртуальных ядер, что увеличивает предельную объем памяти относительно го поколения до 4 ТБ.

Серия M поддерживается только на уровне критически важный для бизнеса и не поддерживает избыточность зоны.  Для регионов, где доступна серия M, см. статью [доступность рядов m](#m-series-1).

#### <a name="azure-offer-types-supported-by-m-series"></a>Типы предложений Azure, поддерживаемые сериями M

Для доступа к сериям M подписка должна быть платным типом предложения, включая оплату по мере использования или Соглашение Enterprise (EA).  Полный список типов предложений Azure, поддерживаемых сериями M, см. в разделе [текущие предложения без ограничений по затратам](https://azure.microsoft.com/support/legal/offer-details).

<!--
To enable M-series hardware for a subscription and region, a support request must be opened. The subscription must be a paid offer type including Pay-As-You-Go or Enterprise Agreement (EA).  If the support request is approved, then the selection and provisioning experience of M-series follows the same pattern as for other hardware generations. For regions where M-series is available, see [M-series availability](#m-series).
-->

### <a name="dc-series"></a>Серии DC

> [!NOTE]
> В настоящее время серия DC доступна в **общедоступной предварительной версии**.

- Оборудование серии DC использует процессоры Intel с технологией Software Guard Extensions (Intel SGX).
- Для [Always encrypted с защищенным енклавес](https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-enclaves), который не поддерживается в других конфигурациях оборудования, требуется серия DC.
- Серия DC предназначена для рабочих нагрузок, которые обрабатывают конфиденциальные данные и запрашивают конфиденциальные возможности обработки запросов, предоставляемые Always Encrypted с безопасным енклавес.
- Оборудование серии DC предоставляет сбалансированные ресурсы вычислений и памяти.

Серия контроллеров домена поддерживается только для подготовленных вычислений (бессерверный не поддерживается) и не поддерживает избыточность зоны. Сведения о том, где доступна серия DC, см. в статье [доступность серии](#dc-series-1)DC.

#### <a name="azure-offer-types-supported-by-dc-series"></a>Типы предложений Azure, поддерживаемые серией контроллеров домена

Для доступа к ряду DC подписка должна быть платным типом предложения, включая оплату по мере использования или Соглашение Enterprise (EA).  Полный список типов предложений Azure, поддерживаемых серией контроллеров домена, см. в разделе [текущие предложения без ограничений по затратам](https://azure.microsoft.com/support/legal/offer-details).

### <a name="compute-and-memory-specifications"></a>Спецификации вычислений и памяти


|Поколение оборудования  |Службы вычислений  |Память  |
|:---------|:---------|:---------|
|4-е поколение     |Процессоры Intel® с частотой 3 – 2673 v3 (Haswell) 2,4 ГГц<br>-Подготавливать до 24 виртуальных ядер (1 Виртуальное ядро = 1 физическое ядро)  |-7 ГБ на виртуальное ядро<br>— Подготавливается до 168 ГБ|
|5-го поколения     |**Подготовленные вычисления**<br>Процессоры Intel® с частотой 2,3 ГГц, Intel® SP-8160 (Skylake) \* и intel® 8272CL (Cascade Lake) 2,5 ГГц \*<br>— Подготавливается до 80 виртуальных ядер (1 Виртуальное ядро = 1 Hyper-Thread)<br><br>**Бессерверные вычисления**<br>Процессоры Intel® Skylake V4 (Broadwell) 2,3-ГГц и Intel® SP-8160 () *<br>— Автоматическое масштабирование до 40 виртуальных ядер (1 Виртуальное ядро = 1 Hyper-Thread)|**Подготовленные вычисления**<br>-5,1 ГБ на виртуальное ядро<br>— Подготавливается до 408 ГБ<br><br>**Бессерверные вычисления**<br>— Автоматическое масштабирование до 24 ГБ на виртуальное ядро<br>— Автоматическое масштабирование до 120 ГБ (максимум)|
|Серия Fsv2     |Процессоры Intel® 8168 (Skylake)<br>— Обеспечивается постоянная вся частота ядра Turbo 3,4 ГГц и максимальная скорость одного ядра с частотой в 3,7 ГГц.<br>— Подготавливается до 72 виртуальных ядер (1 Виртуальное ядро = 1 Hyper-Thread)|-1,9 ГБ на виртуальное ядро<br>— Подготавливается до 136 ГБ|
|Серия M     |Процессоры Intel® E7-8890 v3 2,5 ГГц и Intel® 8280M 2,7 ГГц (Cascade Lake)<br>— Подготавливается до 128 виртуальных ядер (1 Виртуальное ядро = 1 Hyper-Thread)|– 29 ГБ на виртуальное ядро<br>— Подготавливается до 3,7 ТБ|
|Серии DC     | — Процессоры Intel XEON E-2288G<br>— Оснащено расширением Intel Software Guard (Intel SGX))<br>-Готовить до 8 виртуальных ядер (1 Виртуальное ядро = 1 физическое ядро) | 4,5 ГБ на виртуальное ядро |

\* В динамическом административном представлении [sys.dm_user_db_resource_governance](/sql/relational-databases/system-dynamic-management-views/sys-dm-user-db-resource-governor-azure-sql-database) создание оборудования для баз данных с помощью процессоров Intel® SP-8160 (Skylake) отображается как Gen6, а создание оборудования для баз данных с помощью Intel® 8272CL (Cascade Lake) отображается как Gen7. Ограничения ресурсов для всех баз данных го поколения одинаковы независимо от типа процессора (Broadwell, Skylake или Cascade Lake).

Дополнительные сведения об ограничениях ресурсов см. в разделе [ограничения ресурсов для отдельных баз данных (Виртуальное ядро)](resource-limits-vcore-single-databases.md)или [ограничения ресурсов для эластичных пулов (Виртуальное ядро)](resource-limits-vcore-elastic-pools.md).

### <a name="selecting-a-hardware-generation"></a>Выбор создания оборудования

В портал Azure можно выбрать создание оборудования для базы данных или пула в базе данных SQL во время создания или изменить поколение оборудования существующей базы данных или пула.

**Выбор создания оборудования при создании базы данных или пула SQL**

Подробные сведения см. [в разделе Создание базы данных SQL](single-database-create-quickstart.md).

На вкладке " **основы** " выберите ссылку **настроить базу данных** в разделе " **Вычисление и хранилище** ", а затем щелкните ссылку " **изменить конфигурацию** ":

  ![настройка базы данных](./media/service-tiers-vcore/configure-sql-database.png)

Выберите нужное поколение оборудования:

  ![Выбор оборудования](./media/service-tiers-vcore/select-hardware.png)


**Изменение создания оборудования существующей базы данных или пула SQL**

Для базы данных на странице Обзор выберите ссылку **ценовая** Категория:

  ![изменение оборудования](./media/service-tiers-vcore/change-hardware.png)

Для пула на странице Обзор выберите **Настройка**.

Выполните действия по изменению конфигурации и выберите поколение оборудования, как описано в предыдущих шагах.

**Выбор создания оборудования при создании Управляемый экземпляр SQL**

Подробные сведения см. [в разделе создание управляемый экземпляр SQL](../managed-instance/instance-create-quickstart.md).

На вкладке " **основы** " выберите ссылку **настроить базу данных** в разделе " **Вычисление и хранилище** ", а затем выберите необходимое создание оборудования:

  ![Настройка Управляемый экземпляр SQL](./media/service-tiers-vcore/configure-managed-instance.png)
  
**Изменение создания оборудования существующего Управляемый экземпляр SQL**

# <a name="the-azure-portal"></a>[Портал Azure](#tab/azure-portal)

На странице Управляемый экземпляр SQL выберите ссылку **ценовая категория** , помещенную в раздел параметров.

![изменение оборудования SQL Управляемый экземпляр](./media/service-tiers-vcore/change-managed-instance-hardware.png)

На странице ценовая категория вы сможете изменить создание оборудования, как описано в предыдущих шагах.

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)

Используйте следующий сценарий PowerShell:

```powershell-interactive
Set-AzSqlInstance -Name "managedinstance1" -ResourceGroupName "ResourceGroup01" -ComputeGeneration Gen5
```

Для получения дополнительных сведений проверьте команду [Set-азсклинстанце](/powershell/module/az.sql/set-azsqlinstance) .

# <a name="the-azure-cli"></a>[CLI Azure.](#tab/azure-cli)

Используйте следующую команду CLI:

```azurecli-interactive
az sql mi update -g mygroup -n myinstance --family Gen5
```

Дополнительные сведения см. в описании команды [AZ SQL MI Update](/cli/azure/sql/mi#az-sql-mi-update) .

---

### <a name="hardware-availability"></a>Доступность оборудования

#### <a name="gen4gen5"></a><a name="gen4gen5-1"></a> Го поколения/го поколения

Го поколенияное оборудование помещается в [фазу](https://azure.microsoft.com/updates/gen-4-hardware-on-azure-sql-database-approaching-end-of-life-in-2020/) и больше не доступно для новых развертываний. Все новые базы данных должны быть развернуты на го поколения оборудовании.

Го поколения доступен в большинстве регионов по всему миру.

#### <a name="fsv2-series"></a>Серия Fsv2

Серия серия fsv2 доступна в следующих регионах: Центральная Австралия, Центральная Австралия 2, Восточная Австралия, юго-восток Австралии, Южная Бразилия, Центральная Канада, Восточная Азия, Восточная часть США, Центральная Австралия, Центральная Индия, Центральная Корея, Южная Корея, Северная Европа, Южная Африка, Юго-Восточная Азия, южная часть Соединенного Королевства, западная часть Соединенного Королевства, Западная Европа, Западная часть США 2.


#### <a name="m-series"></a>Серия M

Серия M доступна в следующих регионах: Восточная часть США, Северная Европа, Западная Европа, Западная часть США 2.
<!--
M-series may also have limited availability in additional regions. You can request a different region than listed here, but fulfillment in a different region may not be possible.

To enable M-series availability in a subscription, access must be requested by [filing a new support request](#create-a-support-request-to-enable-m-series).


##### Create a support request to enable M-series: 

1. Select **Help + support** in the portal.
2. Select **New support request**.

On the **Basics** page, provide the following:

1. For **Issue type**, select **Service and subscription limits (quotas)**.
2. For **Subscription** = select the subscription to enable M-series.
3. For **Quota type**, select **SQL database**.
4. Select **Next** to go to the **Details** page.

On the **Details** page, provide the following:

1. In the **PROBLEM DETAILS** section select the **Provide details** link. 
2. For **SQL Database quota type** select **M-series**.
3. For **Region**, select the region to enable M-series.
    For regions where M-series is available, see [M-series availability](#m-series).

Approved support requests are typically fulfilled within 5 business days.
-->

#### <a name="dc-series"></a>Серии DC

> [!NOTE]
> В настоящее время серия DC доступна в **общедоступной предварительной версии**.

Серия контроллеров домена доступна в следующих регионах: Центральная Канада, Восточная Канада, Восточная часть США, Северная Европа, южная часть Соединенного Королевства, Западная Европа, Западная часть США.

Если вам требуется серия DC в неподдерживаемом регионе, отправьте запрос в [службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest) , следуя инструкциям в статье [увеличение квоты запросов для базы данных SQL Azure и SQL управляемый экземпляр](quota-increase-request.md).

## <a name="next-steps"></a>Дальнейшие действия

Чтобы начать работу, см. следующие статьи. 
- [Создание базы данных SQL с помощью портал Azure](single-database-create-quickstart.md)
- [Создание Управляемый экземпляр SQL с помощью портал Azure](../managed-instance/instance-create-quickstart.md)

Сведения о ценах см. на [странице цен на базу данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-database/single/).

Дополнительные сведения о конкретных размерах вычислений и хранилища, доступных в основных уровнях обслуживания и критических для бизнеса, см. в следующих статьях:

- [ограничения ресурсов на основе виртуальное ядро для базы данных SQL Azure](resource-limits-vcore-single-databases.md).
- [ограничения ресурсов на основе виртуальное ядро для базы данных SQL Azure в](resource-limits-vcore-elastic-pools.md)составе пула.
- [ограничения ресурсов на основе виртуальное ядро для управляемый экземпляр Azure SQL](../managed-instance/resource-limits.md).