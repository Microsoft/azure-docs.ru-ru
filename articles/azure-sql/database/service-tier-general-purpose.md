---
title: Уровень служб общего назначения
titleSuffix: Azure SQL Database & Azure SQL Managed Instance
description: Сведения о общего назначения уровне служб для базы данных SQL Azure и Управляемый экземпляр SQL Azure.
services: sql-database
ms.service: sql-db-mi
ms.subservice: features
ms.custom: sqldbrb=2
ms.devlang: ''
ms.topic: conceptual
author: jovanpop-msft
ms.author: jovanpop
ms.reviewer: sstein
ms.date: 02/07/2019
ms.openlocfilehash: ee218253309995e721c97f4a7f7b4547b32f7c36
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85986647"
---
# <a name="general-purpose-service-tier---azure-sql-database-and-azure-sql-managed-instance"></a>Общего назначения уровня служб — база данных SQL Azure и Azure SQL Управляемый экземпляр
[!INCLUDE[appliesto-sqldb-sqlmi](../includes/appliesto-sqldb-sqlmi.md)]

> [!NOTE]
> Уровень служб общего назначения в модели приобретения на основе виртуальное ядро называется стандартным уровнем служб в модели приобретения на основе DTU. Сравнение модели приобретения на основе виртуальное ядро с моделью приобретения на основе DTU см. в разделе [приобретение моделей и ресурсов](purchasing-models.md).

База данных SQL Azure и Управляемый экземпляр Azure SQL основаны на SQL Server архитектуре ядра СУБД, адаптированной для облачной среды, чтобы обеспечить доступность 99,99% даже в случае сбоев инфраструктуры. 

База данных SQL Azure и SQL Управляемый экземпляр используют два уровня служб: 

- Общее назначение
- Критически важный для бизнеса

База данных SQL Azure также имеет третий уровень служб, который сейчас недоступен для Управляемый экземпляр Azure SQL:

- Гипермасштабирование

Модель архитектуры для уровня служб общего назначения основана на разделении вычислений и хранилища. Эта модель архитектуры зависит от высокого уровня доступности и надежности хранилища BLOB-объектов Azure, которое прозрачно реплицирует файлы базы данных и предотвращает потерю данных, если происходит сбой базовой инфраструктуры.

На следующем рисунке показано четыре узла в стандартной архитектурной модели с разделенными уровнями вычислений и хранения.

![Разделение уровней вычисления и хранения](./media/service-tier-general-purpose/general-purpose-service-tier.png)

В архитектурной модели для уровня служб общего назначения существует два уровня:

- Уровень вычислений без отслеживания состояния, на котором выполняется процесс `sqlservr.exe` и содержатся только временные и кэшированные данные (например, кэш планов, буферный пул, пул хранения столбцов). Этот узел работает в Azure Service Fabric, который инициализирует процесс, управляет работоспособностью узла и выполняет отработку отказа в другое место при необходимости.
- Уровень данных с отслеживанием состояния, где файлы базы данных (MDF/LDF) хранятся в хранилище BLOB-объектов Azure. Хранилище BLOB-объектов Azure гарантирует, что ни одна из записей, размещенных в любом файле базы данных, не будет потеряна. Служба хранилища Azure имеет встроенную доступность и избыточность данных, которая гарантирует, что каждая запись в файле журнала или странице в файле данных будет сохранена даже в случае сбоя процесса.

Всякий раз, когда ядро СУБД или операционная система обновляется, часть базовой инфраструктуры завершается сбоем или в процессе обнаруживается критическая ошибка `sqlservr.exe` , Azure Service Fabric переместит процесс без отслеживания состояния в другой расчетный узел без отслеживания состояния. Существует набор резервных узлов, на которых можно запустить новую службу вычислений в случае отработки отказа, чтобы свести к минимуму время отработки отказа. Данные на уровне хранилища Azure не затрагиваются, а файлы данных и журналов присоединяются к только что инициализированному процессу. Этот процесс гарантирует доступность 99,99%, но может снизить производительность при работе с большими рабочими нагрузками, выполняемыми из-за времени перехода, и факт, когда новый узел начинается с холодного кэша.

## <a name="when-to-choose-this-service-tier"></a>Когда нужно выбирать этот уровень служб?

Общего назначения уровня служб — это уровень служб по умолчанию в базе данных SQL Azure и Управляемый экземпляр SQL Azure, предназначенный для большинства универсальных рабочих нагрузок. Если вам требуется полностью управляемое ядро СУБД с соглашением об уровне обслуживания на 99,99% с задержкой хранилища от 5 до 10 мс, которые соответствуют SQL Server на виртуальной машине Azure в большинстве случаев, для вас будет доступен уровень общего назначения.

## <a name="next-steps"></a>Дальнейшие действия

- Найдите характеристики ресурсов (количество ядер, операций ввода-вывода, памяти) уровня общего назначения/Standard в [SQL управляемый экземпляр](../managed-instance/resource-limits.md#service-tier-characteristics), отдельной базы данных в [модели Виртуальное ядро](resource-limits-vcore-single-databases.md#general-purpose---provisioned-compute---gen4) или [модели DTU](resource-limits-dtu-single-databases.md#single-database-storage-sizes-and-compute-sizes)или эластичном пуле в модели [Виртуальное ядро](resource-limits-vcore-elastic-pools.md#general-purpose---provisioned-compute---gen4) и [DTU](resource-limits-dtu-elastic-pools.md#standard-elastic-pool-limits).
- Дополнительные сведения об уровнях [Критически важный для бизнеса](service-tier-business-critical.md) и [Гипермасштабирование](service-tier-hyperscale.md).
- Дополнительные сведения о [Service Fabric](../../service-fabric/service-fabric-overview.md).
- Дополнительные параметры обеспечения высокого уровня доступности и аварийного восстановления см. в статье [непрерывность бизнес-процессов](business-continuity-high-availability-disaster-recover-hadr-overview.md).
