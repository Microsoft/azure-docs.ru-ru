---
title: Ресурсы DTU ограничивают эластичные пулы
description: На этой странице описаны некоторые общие ограничения ресурсов DTU для эластичных пулов в базе данных SQL Azure.
services: sql-database
ms.service: sql-database
ms.subservice: elastic-pools
ms.custom: seo-lt-2019 sqldbrb=1 references_regions
ms.devlang: ''
ms.topic: reference
author: sachinpMSFT
ms.author: sachinp
ms.reviewer: sstein
ms.date: 07/28/2020
ms.openlocfilehash: d87c5d162b96209c0ce3d3276dc518f42373590f
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "92780818"
---
# <a name="resources-limits-for-elastic-pools-using-the-dtu-purchasing-model"></a>Ограничения ресурсов для эластичных пулов с использованием модели приобретения DTU
[!INCLUDE[appliesto-sqldb](../includes/appliesto-sqldb.md)]

В этой статье приведены подробные ограничения ресурсов для баз данных в базе данных SQL Azure, которые находятся в эластичном пуле с использованием модели приобретения DTU.

* Ограничения ресурсов модели приобретения DTU для базы данных SQL Azure см. в статье [ограничения ресурсов DTU — база данных SQL Azure](resource-limits-dtu-single-databases.md).
* Ограничения ресурсов Виртуальное ядро см. в разделе [ограничения ресурсов Виртуальное ядро — база данных SQL Azure](resource-limits-vcore-single-databases.md) и [ограничения ресурсов Виртуальное ядро — эластичные пулы](resource-limits-vcore-elastic-pools.md).

## <a name="elastic-pool-storage-sizes-and-compute-sizes"></a>Эластичный пул: размеры хранилища и объемы вычислительных ресурсов

Для эластичных пулов базы данных SQL Azure в следующих таблицах показаны ресурсы, доступные на каждом уровне службы и в расчетном размере. Уровень служб, размер вычислений и объем хранилища можно задать с помощью:

* [Портал Azure](elastic-pool-manage.md#azure-portal)
* [PowerShell](elastic-pool-manage.md#powershell)
* [Azure CLI](elastic-pool-manage.md#azure-cli)
* [REST API.](elastic-pool-manage.md#rest-api)

> [!IMPORTANT]
> Рекомендации по масштабированию и рекомендации см. [в статье масштабирование эластичного пула](elastic-pool-scale.md) .

Ограничения ресурсов отдельных баз данных в эластичных пулах обычно такие же, как и у отдельных баз данных за их пределами, и основаны на DTU и уровне служб. Например, максимальное количество одновременных рабочих экземпляров для базы данных S2 — 120. Таким образом, максимальное количество одновременных рабочих экземпляров в базе данных в стандартном пуле также составляет 120, если максимальное значение DTU для одной базы данных в пуле равно 50 (что эквивалентно уровню S2).
 
Для того же числа DTU ресурсы, предоставляемые эластичному пулу, могут превысить ресурсы, предоставленные одной базе данных за пределами эластичного пула. Это означает, что использование eDTU эластичного пула может быть меньше, чем сумма использования DTU в базах данных в пуле, в зависимости от шаблонов рабочей нагрузки. Например, в крайнем случае с одной базой данных в эластичном пуле, где использование DTU базы данных составляет 100%, для определенных шаблонов рабочей нагрузки можно использовать eDTU пула в 50%. Это может произойти, даже если параметр max DTU на базу данных остается в максимально допустимом значении для заданного размера пула.

> [!NOTE]
> Ограничение ресурсов хранилища на пул в каждой из следующих таблиц не включает базу данных tempdb и хранилище журналов.

### <a name="basic-elastic-pool-limits"></a>Ограничения пула эластичных БД на уровне "Базовый"

| Число eDTU на пул | **50** | **100** | **200** | **300** | **400** | **800** | **1200** | **1600** |
|:---|---:|---:|---:| ---: | ---: | ---: | ---: | ---: |
| Включенный объем хранилища на пул (ГБ) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| Максимальный размер хранилища на пул (ГБ) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| Максимальный объем хранилища OLTP в памяти на пул (ГБ) | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д |
| Максимальное число баз данных на пул <sup>1</sup> | 100 | 200 | 500 | 500 | 500 | 500 | 500 | 500 |
| Максимальное число одновременных рабочих процессов (запросов) на пул <sup>2</sup> | 100 | 200 | 400 | 600 | 800 | 1600 | 2400 | 3200 |
| Максимальное число одновременных сеансов на пул <sup>2</sup> | 30 000 | 30 000 | 30 000 | 30 000 |30 000 | 30 000 | 30 000 | 30 000 |
| Выбор минимального количества DTU на базу данных | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 |
| Выбор максимального количества DTU на базу данных | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 |
| Максимальный размер хранилища для базы данных (ГБ) | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 2 |
||||||||

<sup>1</sup> см. Дополнительные рекомендации по [управлению ресурсами в сжатых пулах эластичных](elastic-pool-resource-management.md) баз данных.

<sup>2</sup> для максимального количества одновременных рабочих ролей (запросов) для любой отдельной базы данных см. раздел [ограничения ресурсов отдельной базы данных](resource-limits-vcore-single-databases.md). Например, если эластичный пул использует го поколения, а параметру max Виртуальное ядро на базу данных задано значение 2, то максимальное число одновременных рабочих ролей равно 200.  Если параметру max Виртуальное ядро на базу данных присвоено значение 0,5, то максимальное число одновременных рабочих ролей равно 50, так как в го поколения существует не более 100 одновременных рабочих ролей на виртуальное ядро. Максимальное количество текущих рабочих ролей для других значений соотношения виртуального ядра к базе данных, которые меньше 1 виртуального ядра, так же масштабируется.

### <a name="standard-elastic-pool-limits"></a>Ограничения пула эластичных БД на уровне "Стандартный"

| Число eDTU на пул | **50** | **100** | **200** | **300** | **400** | **800**|
|:---|---:|---:|---:| ---: | ---: | ---: |
| Включение хранилища на пул (ГБ) <sup>1</sup> | 50 | 100 | 200 | 300 | 400 | 800 |
| Максимальный размер хранилища на пул (ГБ) | 500 | 750 | 1024 | 1280 | 1536 | 2048 |
| Максимальный объем хранилища OLTP в памяти на пул (ГБ) | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д |
| Максимальное число баз данных на пул <sup>2</sup> | 100 | 200 | 500 | 500 | 500 | 500 |
| Максимальное число одновременных рабочих процессов (запросов) на пул <sup>3</sup> | 100 | 200 | 400 | 600 | 800 | 1600 |
| Максимальное число одновременных сеансов на пул <sup>3</sup> | 30 000 | 30 000 | 30 000 | 30 000 | 30 000 | 30 000 |
| Выбор минимального количества DTU на базу данных | 0, 10, 20, 50 | 0, 10, 20, 50, 100 | 0, 10, 20, 50, 100, 200 | 0, 10, 20, 50, 100, 200, 300 | 0, 10, 20, 50, 100, 200, 300, 400 | 0, 10, 20, 50, 100, 200, 300, 400, 800 |
| Выбор максимального количества DTU на базу данных | 10, 20, 50 | 10, 20, 50, 100 | 10, 20, 50, 100, 200 | 10, 20, 50, 100, 200, 300 | 10, 20, 50, 100, 200, 300, 400 | 10, 20, 50, 100, 200, 300, 400, 800 |
| Максимальный размер хранилища для базы данных (ГБ) | 500 | 750 | 1024 | 1024 | 1024 | 1024 |
||||||||

<sup>1</sup> дополнительные сведения о дополнительных затратах см. в статье [цены на базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/elastic/) .

<sup>2</sup> дополнительные рекомендации см. [в разделе Управление ресурсами в сжатых пулах эластичных](elastic-pool-resource-management.md) баз данных.

<sup>3</sup> для максимального количества одновременных рабочих ролей (запросов) для любой отдельной базы данных см. раздел [ограничения ресурсов отдельной базы данных](resource-limits-vcore-single-databases.md). Например, если эластичный пул использует го поколения, а параметру max Виртуальное ядро на базу данных задано значение 2, то максимальное число одновременных рабочих ролей равно 200.  Если параметру max Виртуальное ядро на базу данных присвоено значение 0,5, то максимальное число одновременных рабочих ролей равно 50, так как в го поколения существует не более 100 одновременных рабочих ролей на виртуальное ядро. Максимальное количество текущих рабочих ролей для других значений соотношения виртуального ядра к базе данных, которые меньше 1 виртуального ядра, так же масштабируется.

### <a name="standard-elastic-pool-limits-continued"></a>Ограничения пула эластичных БД на уровне "Стандартный" (продолжение)

| Число eDTU на пул | **1200** | **1600** | **2000** | **2500** | **3000** |
|:---|---:|---:|---:| ---: | ---: |
| Включение хранилища на пул (ГБ) <sup>1</sup> | 1200 | 1600 | 2000 | 2500 | 3000 |
| Максимальный размер хранилища на пул (ГБ) | 2560 | 3072 | 3584 | 4096 | 4096 |
| Максимальный объем хранилища OLTP в памяти на пул (ГБ) | Н/Д | Н/Д | Н/Д | Н/Д | Н/Д |
| Максимальное число баз данных на пул <sup>2</sup> | 500 | 500 | 500 | 500 | 500 |
| Максимальное число одновременных рабочих процессов (запросов) на пул <sup>3</sup> | 2400 | 3200 | 4000 | 5000 | 6000 |
| Максимальное число одновременных сеансов на пул <sup>3</sup> | 30 000 | 30 000 | 30 000 | 30 000 | 30 000 |
| Выбор минимального количества DTU на базу данных | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500, 3000 |
| Выбор максимального количества DTU на базу данных | 10, 20, 50, 100, 200, 300, 400, 800, 1200 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500, 3000 |
| Максимальный размер хранилища для базы данных (ГБ) | 1024 | 1024 | 1024 | 1024 | 1024 |
|||||||

<sup>1</sup> дополнительные сведения о дополнительных затратах см. в статье [цены на базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/elastic/) .

<sup>2</sup> дополнительные рекомендации см. [в разделе Управление ресурсами в сжатых пулах эластичных](elastic-pool-resource-management.md) баз данных.

<sup>3</sup> для максимального количества одновременных рабочих ролей (запросов) для любой отдельной базы данных см. раздел [ограничения ресурсов отдельной базы данных](resource-limits-vcore-single-databases.md). Например, если эластичный пул использует го поколения, а параметру max Виртуальное ядро на базу данных задано значение 2, то максимальное число одновременных рабочих ролей равно 200.  Если параметру max Виртуальное ядро на базу данных присвоено значение 0,5, то максимальное число одновременных рабочих ролей равно 50, так как в го поколения существует не более 100 одновременных рабочих ролей на виртуальное ядро. Максимальное количество текущих рабочих ролей для других значений соотношения виртуального ядра к базе данных, которые меньше 1 виртуального ядра, так же масштабируется.

### <a name="premium-elastic-pool-limits"></a>Ограничения пула эластичных БД на уровне "Премиум"

| Число eDTU на пул | **125** | **250** | **500** | **1000** | **1500**|
|:---|---:|---:|---:| ---: | ---: |
| Включение хранилища на пул (ГБ) <sup>1</sup> | 250 | 500 | 750 | 1024 | 1536 |
| Максимальный размер хранилища на пул (ГБ) | 1024 | 1024 | 1024 | 1024 | 1536 |
| Максимальный объем хранилища OLTP в памяти на пул (ГБ) | 1 | 2 | 4 | 10 | 12 |
| Максимальное число баз данных на пул <sup>2</sup> | 50 | 100 | 100 | 100 | 100 |
| Максимальное число одновременных рабочих ролей на пул (запросов) <sup>3</sup> | 200 | 400 | 800 | 1600 | 2400 |
| Максимальное число одновременных сеансов на пул <sup>3</sup> | 30 000 | 30 000 | 30 000 | 30 000 | 30 000 |
| Минимальное количество eDTU на базу данных | 0, 25, 50, 75, 125 | 0, 25, 50, 75, 125, 250 | 0, 25, 50, 75, 125, 250, 500 | 0, 25, 50, 75, 125, 250, 500, 1000 | 0, 25, 50, 75, 125, 250, 500, 1000|
| Максимальное количество eDTU на базу данных | 25, 50, 75, 125 | 25, 50, 75, 125, 250 | 25, 50, 75, 125, 250, 500 | 25, 50, 75, 125, 250, 500, 1000 | 25, 50, 75, 125, 250, 500, 1000|
| Максимальный размер хранилища для базы данных (ГБ) | 1024 | 1024 | 1024 | 1024 | 1024 |
|||||||

<sup>1</sup> дополнительные сведения о дополнительных затратах см. в статье [цены на базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/elastic/) .

<sup>2</sup> дополнительные рекомендации см. [в разделе Управление ресурсами в сжатых пулах эластичных](elastic-pool-resource-management.md) баз данных.

<sup>3</sup> для максимального количества одновременных рабочих ролей (запросов) для любой отдельной базы данных см. раздел [ограничения ресурсов отдельной базы данных](resource-limits-vcore-single-databases.md). Например, если эластичный пул использует го поколения, а параметру max Виртуальное ядро на базу данных задано значение 2, то максимальное число одновременных рабочих ролей равно 200.  Если параметру max Виртуальное ядро на базу данных присвоено значение 0,5, то максимальное число одновременных рабочих ролей равно 50, так как в го поколения существует не более 100 одновременных рабочих ролей на виртуальное ядро. Максимальное количество текущих рабочих ролей для других значений соотношения виртуального ядра к базе данных, которые меньше 1 виртуального ядра, так же масштабируется.

### <a name="premium-elastic-pool-limits-continued"></a>Ограничения пула эластичных БД на уровне "Премиум" (продолжение)

| Число eDTU на пул | **2000** | **2500** | **3000** | **3500** | **4000**|
|:---|---:|---:|---:| ---: | ---: |
| Включение хранилища на пул (ГБ) <sup>1</sup> | 2048 | 2560 | 3072 | 3548 | 4096 |
| Максимальный размер хранилища на пул (ГБ) | 2048 | 2560 | 3072 | 3548 | 4096|
| Максимальный объем хранилища OLTP в памяти на пул (ГБ) | 16 | 20 | 24 | 28 | 32 |
| Максимальное число баз данных на пул <sup>2</sup> | 100 | 100 | 100 | 100 | 100 |
| Максимальное число одновременных рабочих процессов (запросов) на пул <sup>3</sup> | 3200 | 4000 | 4800 | 5600 | 6400 |
| Максимальное число одновременных сеансов на пул <sup>3</sup> | 30 000 | 30 000 | 30 000 | 30 000 | 30 000 |
| Выбор минимального количества DTU на базу данных | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750, 4000 |
| Выбор максимального количества DTU на базу данных | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750, 4000 |
| Максимальный размер хранилища для базы данных (ГБ) | 1024 | 1024 | 1024 | 1024 | 1024 |
|||||||

<sup>1</sup> дополнительные сведения о дополнительных затратах см. в статье [цены на базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/elastic/) .

<sup>2</sup> дополнительные рекомендации см. [в разделе Управление ресурсами в сжатых пулах эластичных](elastic-pool-resource-management.md) баз данных.

<sup>3</sup> для максимального количества одновременных рабочих ролей (запросов) для любой отдельной базы данных см. раздел [ограничения ресурсов отдельной базы данных](resource-limits-vcore-single-databases.md). Например, если эластичный пул использует го поколения, а параметру max Виртуальное ядро на базу данных задано значение 2, то максимальное число одновременных рабочих ролей равно 200.  Если параметру max Виртуальное ядро на базу данных присвоено значение 0,5, то максимальное число одновременных рабочих ролей равно 50, так как в го поколения существует не более 100 одновременных рабочих ролей на виртуальное ядро. Максимальное количество текущих рабочих ролей для других значений соотношения виртуального ядра к базе данных, которые меньше 1 виртуального ядра, так же масштабируется.

> [!IMPORTANT]
> Более 1 ТБ хранилища на уровне "Премиум" в настоящее время доступны во всех регионах, кроме: Восточный Китай, Северный Китай, Центрально-Центральный регион и Северо-Восточная Германия. В этих регионах максимальный объем хранилища категории "Премиум" ограничен 1 ТБ.  Дополнительные сведения см. в разделе [о действующих ограничениях для P11-P15](single-database-scale.md#p11-and-p15-constraints-when-max-size-greater-than-1-tb).

Если использованы все DTU пула эластичных БД, то каждая база данных в пуле получает равное количество ресурсов для обработки запросов. Служба базы данных SQL обеспечивает равное разделение ресурсов между базами данных за счет равных срезов времени вычислений. Если задано минимальное значение DTU на базу данных, отличное от нуля, то такое равное разделение ресурсов в пуле эластичных БД также позволяет гарантировать любое дополнительное количество ресурсов каждой базе данных.

> [!NOTE]
> `tempdb`Ограничения см. в разделе [ограничения tempdb](/sql/relational-databases/databases/tempdb-database?view=sql-server-2017#tempdb-database-in-sql-database).

### <a name="database-properties-for-pooled-databases"></a>Свойства базы данных в пуле

В следующей таблице описаны свойства баз данных в пуле.

| Свойство. | Описание |
|:--- |:--- |
| Максимальное количество eDTU на базу данных |Максимальное количество eDTU, которое может использовать любая база данных в пуле, если оно доступно и не используется другими базами данных в пуле. Это значение не гарантирует предоставление ресурсов базе данных. Это глобальный параметр, который применяется ко всем базам данных в пуле. Задайте большое максимальное количество eDTU на базу данных, достаточное для обработки пиков использования базы данных. Значение параметра может быть несколько преувеличенным, так как использование пула предполагает обращение к более и менее активным базам данных в условиях, когда не все базы одновременно обрабатывают пиковое количество запросов. Предположим, например, что пиковая нагрузка одной базы данных равна 20 eDTU и только 20 % из 100 баз данных в пуле одновременно работают с такой нагрузкой. Если в качестве максимального количества eDTU для каждой базы данных задано значение 20, для пула целесообразно увеличить количество eDTU в 5 раз и задать 400 eDTU на пул. |
| Минимальное количество eDTU на базу данных |Минимальное количество eDTU, которое гарантируется любой базе данных в пуле. Это глобальный параметр, который применяется ко всем базам данных в пуле. Можно задать минимальное количество eDTU на базу данных, равное 0, что также является значением по умолчанию. Для этого свойства задается значение в диапазоне от 0 до среднего количества eDTU, используемых на одну базу данных. Произведение количества баз данных в пуле и минимального количества eDTU на базу данных не может превышать количество eDTU на пул. Например, если в пуле 20 баз данных и минимальное количество eDTU на базу данных равно 10, то количество eDTU на пул должно быть не меньше 200. |
| Максимальный размер хранилища на базу данных |Максимальный размер базы данных, установленный пользователем для базы данных в пуле. Для баз данных в пуле используется общее выделенное хранилище пула. Даже если общий максимальный объем хранилища *на базу данных* больше, чем общий доступный объем хранилища *пула*, общее пространство, действительно используемое всеми базами данных, не сможет превышать доступный лимит пула. Максимальный размер базы данных означает максимальный размер файлов данных и не включает пространство, используемое файлами журнала. |
|||

## <a name="next-steps"></a>Дальнейшие действия

* Ограничения ресурсов Виртуальное ядро для отдельной базы данных см. [в разделе ограничения ресурсов для отдельных баз данных с использованием модели приобретения Виртуальное ядро](resource-limits-vcore-single-databases.md) .
* Сведения об ограничениях ресурсов DTU для отдельной базы данных см. [в статье ограничения ресурсов для отдельных баз данных с использованием модели приобретения DTU](resource-limits-dtu-single-databases.md) .
* Сведения об ограничениях ресурсов Виртуальное ядро для эластичных пулов см. [в статье ограничения ресурсов для эластичных пулов с использованием модели приобретения Виртуальное ядро](resource-limits-vcore-elastic-pools.md) .
* Ограничения ресурсов для управляемых экземпляров в Azure SQL Управляемый экземпляр см. в разделе [ограничения ресурсов sql управляемый экземпляр](../managed-instance/resource-limits.md).
* Сведения об общих ограничениях Azure см. в разделе [Подписка Azure, границы, квоты и ограничения службы](../../azure-resource-manager/management/azure-subscription-service-limits.md).
* Сведения об ограничениях ресурсов на логическом сервере SQL Server см. в разделе [Обзор ограничений ресурсов на логическом сервере SQL](resource-limits-logical-server.md) Server для получения сведений об ограничениях на уровне сервера и подписки.