---
title: 'SQL Server Управляемый экземпляр SQL: Общие сведения о миграции'
description: Узнайте о различных средствах и параметрах, доступных для переноса баз данных SQL Server в Azure SQL Управляемый экземпляр.
ms.service: sql-managed-instance
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: how-to
author: mokabiru
ms.author: mokabiru
ms.reviewer: MashaMSFT
ms.date: 02/18/2020
ms.openlocfilehash: 5485d97638679651a3890e0b7578787e481437c6
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2021
ms.locfileid: "101656284"
---
# <a name="migration-overview-sql-server-to-sql-managed-instance"></a>Общие сведения о миграции: SQL Server в SQL Управляемый экземпляр
[!INCLUDE[appliesto--sqlmi](../../includes/appliesto-sqlmi.md)]

Узнайте о различных вариантах миграции и особенностях переноса SQL Server в Azure SQL Управляемый экземпляр. 

Вы можете выполнить миграцию SQL Server, выполняемого локально или в: 

- SQL Server на виртуальных машинах  
- Amazon Web Services (AWS) EC2 
- Служба реляционной базы данных Amazon (AWS RDS) 
- Подсистема вычислений (Google Cloud Platform-обеспечить)  
- Облачный SQL для SQL Server (Google Cloud Platform – обеспечить) 

Другие сценарии см. в разделе [руководств по миграции баз данных](https://datamigration.microsoft.com/). 

## <a name="overview"></a>Обзор

[Управляемый экземпляр Azure SQL](../../managed-instance/sql-managed-instance-paas-overview.md) является рекомендуемым вариантом для рабочих нагрузок SQL Server, которым требуется полностью управляемая служба без необходимости управлять виртуальными машинами или их операционными системами. SQL Управляемый экземпляр позволяет преносить локальные приложения в Azure с минимальными изменениями приложений или баз данных, при этом обеспечивая полную изоляцию экземпляров с помощью встроенной поддержки виртуальной сети (VNet). 

## <a name="considerations"></a>Рекомендации 

Ключевые факторы, которые следует учитывать при оценке параметров миграции, зависят от следующих факторов. 
- Количество серверов и баз данных
- Размер баз данных
- Приемлемый простой в работе в процессе миграции 

Одним из основных преимуществ переноса серверов SQL в SQL Управляемый экземпляр является то, что вы можете выбрать миграцию всего экземпляра или только подмножества отдельных баз данных. Тщательно спланируйте включение в процесс миграции следующих действий: 
- Все базы данных, которые должны быть соразмещены на одном экземпляре 
- Объекты уровня экземпляра, необходимые для приложения, включая имена входа, учетные данные, задания агента SQL Server и триггеры уровня сервера. 

> [!NOTE]
> Управляемый экземпляр Azure SQL гарантирует доступность 99,99% даже в критических сценариях, поэтому накладные расходы, вызванные некоторыми функциями в SQL MI, не могут быть отключены. Дополнительные сведения см. в описании [основных причин, которые могут привести к различным показателям производительности SQL Server и блог управляемый экземпляр SQL Azure](https://azure.microsoft.com/blog/key-causes-of-performance-differences-between-sql-managed-instance-and-sql-server/) . 


## <a name="choose-appropriate-target"></a>Выберите подходящий целевой объект

Некоторые общие рекомендации, которые помогут выбрать правильный уровень служб и характеристики SQL Управляемый экземпляр для обеспечения соответствия [базовому показателю производительности](sql-server-to-managed-instance-performance-baseline.md): 

- Используйте базовый уровень использования ЦП для подготовки управляемого экземпляра, совпадающего с количеством ядер, используемых экземпляром SQL Server. Может потребоваться масштабировать ресурсы в соответствии с [характеристиками создания оборудования](../../managed-instance/resource-limits.md#hardware-generation-characteristics). 
- Используйте базовый план использования памяти, чтобы выбрать [параметр Виртуальное ядро](../../managed-instance/resource-limits.md#service-tier-characteristics) , соответствующий выделению памяти. 
- Используйте базовую задержку операций ввода-вывода в файловой системе, чтобы выбрать между общего назначения (задержка более 5 мс) и критически важный для бизнеса (задержка менее 3 мс). 
- Используйте базовую пропускную способность для предварительного выделения размера файлов данных и журналов для достижения ожидаемой производительности ввода-вывода. 

Вы можете выбрать ресурсы для вычислений и хранения во время развертывания, а затем изменить их после использования [портал Azure](../../database/scale-resources.md) без простоя приложения. 

> [!IMPORTANT]
> Любое расхождение в [требованиях к виртуальной сети для управляемого экземпляра](../../managed-instance/connectivity-architecture-overview.md#network-requirements) может препятствовать созданию новых экземпляров или использованию существующих. Узнайте больше о [создании новых](../../managed-instance/virtual-network-subnet-create-arm-template.md)   и [настройке существующих](../../managed-instance/vnet-existing-add-subnet.md?branch=release-ignite-arc-data)   сетей. 

### <a name="sql-server-vm-alternative"></a>Альтернативная SQL Server ВМ

У вашего бизнеса могут быть требования, которые делают SQL Server на виртуальных машинах Azure более подходящим целевым объектом, чем Управляемый экземпляр SQL Azure. 

Если следующее применимо к вашему бизнесу, рассмотрите возможность перехода на SQL Server виртуальную машину: 

- Если требуется прямой доступ к операционной системе или файловой системе, например для установки сторонних или пользовательских агентов на одной виртуальной машине с SQL Server. 
- При наличии достаточной зависимости от компонентов, которые по-прежнему не поддерживаются, таких как FileStream/FileTable, Polybase и транзакции между экземплярами. 
- Если вам абсолютно нужно остаться в определенной версии SQL Server (например, 2012). 
- Если требования к вычислительной мощности значительно ниже, чем предложения управляемого экземпляра (один Виртуальное ядро, например), и консолидация базы данных не является приемлемым вариантом. 


## <a name="migration-tools"></a>Средства миграцииСредства миграции


Рекомендуемые средства для миграции — это Помощник по миграции данных и Azure Database Migration Service. Также доступны другие альтернативные варианты миграции. 

### <a name="recommended-tools"></a>Рекомендуемые средства

В следующей таблице перечислены рекомендуемые средства миграции. 

|Технология | Описание|
|---------|---------|
|[Azure Database Migration Service (DMA)](../../../dms/tutorial-sql-server-to-managed-instance.md)  | Служба первой стороны Azure, которая поддерживает миграцию в автономном режиме для приложений, которые могут обеспечить простой в процессе миграции. В отличие от непрерывной миграции в режиме «в сети», миграция в автономном режиме выполняется однократным восстановлением полной резервной копии базы данных из источника в целевой объект. | 
|[Встроенное резервное копирование и восстановление](../../managed-instance/restore-sample-database-quickstart.md) | SQL Управляемый экземпляр поддерживает восстановление резервных копий собственных SQL Server баз данных (BAK-файлов), делая ее самым простым вариантом миграции для клиентов, которые могут предоставлять полные резервные копии баз данных в службе хранилища Azure. Полные и разностные резервные копии также поддерживаются и описаны в [разделе "материалы о миграции](#migration-assets) " Далее в этой статье.| 
|[Служба воспроизведения журналов (LRS)](../../managed-instance/log-replay-service-migrate.md) | Это облачная служба, включенная для Управляемый экземпляр на основе технологии доставки журналов SQL Server, что делает ее возможностью миграции для клиентов, которые могут предоставлять полные разностные резервные копии базы данных и журналов в службе хранилища Azure. LRS используется для восстановления файлов резервных копий из хранилища BLOB-объектов Azure в SQL Управляемый экземпляр.| 
| | |

### <a name="alternative-tools"></a>Альтернативные средства

В следующей таблице перечислены альтернативные средства миграции. 

|Технология |Описание  |
|---------|---------|
|[Репликация транзакций](../../managed-instance/replication-transactional-overview.md) | Репликация данных из таблиц базы данных-источника SQL Server в Управляемый экземпляр SQL, предоставляя тип подписчика издателя, при этом сохраняя согласованность транзакций. |  |
|[Массовое копирование](/sql/relational-databases/import-export/import-and-export-bulk-data-by-using-the-bcp-utility-sql-server)| Программа [пакетного копирования (BCP)](/sql/tools/bcp-utility) копирует данные из экземпляра SQL Server в файл данных. Используйте программу BCP для экспорта данных из источника и импорта файла данных в Целевой Управляемый экземпляр SQL.</br></br> Для высокоскоростных операций копирования в базу данных SQL Azure можно использовать [интеллектуальное средство](/samples/azure-samples/smartbulkcopy/smart-bulk-copy/) для повышения скорости передачи данных, используя параллельные задачи копирования. | 
|[Мастер импорта экспорта/BACPAC-файл](../../database/database-import.md?tabs=azure-powershell)| [BACPAC](/sql/relational-databases/data-tier-applications/data-tier-applications#bacpac) — это файл Windows с `.bacpac` расширением, которое инкапсулирует схему и данные базы данных. BACPAC можно использовать как для экспорта данных из исходного SQL Server, так и для импорта файла обратно в Управляемый экземпляр SQL Azure.  |  
|[Фабрика данных Azure (ADF)](../../../data-factory/connector-azure-sql-managed-instance.md)| [Действие копирования](../../../data-factory/copy-activity-overview.md) в фабрике данных Azure переносит данные из баз данных-источников SQL Server в SQL управляемый экземпляр с помощью встроенных соединителей и [Integration Runtime](../../../data-factory/concepts-integration-runtime.md).</br> </br> ADF поддерживает широкий спектр [соединителей](../../../data-factory/connector-overview.md) для перемещения данных из SQL Server источников в управляемый экземпляр SQL. |
| | |

## <a name="compare-migration-options"></a>Сравнение параметров миграции

Сравните варианты миграции, чтобы выбрать путь, соответствующий потребностям вашего бизнеса. 

### <a name="recommended-options"></a>Рекомендуемые варианты

В следующей таблице сравниваются Рекомендуемые параметры миграции. 

|Вариант миграции  |Назначение  |Рекомендации  |
|---------|---------|---------|
|[Azure Database Migration Service (DMA)](../../../dms/tutorial-sql-server-to-managed-instance.md) | — Миграция отдельных баз данных или нескольких баз данных в масштабе. </br> — Может обеспечить время простоя процесса миграции. </br> </br> Поддерживаемые источники: </br> -SQL Server (2005-2019) локальная или виртуальная машина Azure </br> -AWS EC2 </br> — AWS RDS </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM |  -Миграция с масштабированием может быть автоматизирована с помощью [PowerShell](../../../dms/howto-sql-server-to-azure-sql-mi-powershell.md). </br> Время для завершения миграции зависит от размера базы данных и влияет на время резервного копирования и восстановления. </br> — Может потребоваться достаточно простоя. |
|[Встроенное резервное копирование и восстановление](../../managed-instance/restore-sample-database-quickstart.md) | — Перенос отдельных баз данных бизнес-приложений.  </br> — Быстрая и простая миграция без отдельной службы или средства миграции.  </br> </br> Поддерживаемые источники: </br> -SQL Server (2005-2019) локальная или виртуальная машина Azure </br> -AWS EC2 </br> — AWS RDS </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM | Резервное копирование базы данных использует несколько потоков для оптимизации передачи данных в хранилище BLOB-объектов Azure, а пропускная способность ISV и размер базы данных могут повлиять на скорость передачи. </br> — Время простоя должно соответствовать времени, требуемому для выполнения полного резервного копирования и восстановления (что является размером операции с данными).| 
|[Служба воспроизведения журналов (LRS)](../../managed-instance/log-replay-service-migrate.md) | — Перенос отдельных баз данных бизнес-приложений.  </br> — Для миграции баз данных требуется больше элементов управления.  </br> </br> Поддерживаемые источники: </br> -SQL Server (2008-2019) локальная или виртуальная машина Azure </br> -AWS EC2 </br> — AWS RDS </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM | — Миграция влечет за собой создание полных резервных копий базы данных на SQL Server и копирование файлов резервных копий в хранилище BLOB-объектов Azure. LRS используется для восстановления файлов резервных копий из хранилища BLOB-объектов Azure в SQL Управляемый экземпляр. </br> — Базы данных, восстанавливаемые в процессе миграции, будут находиться в режиме восстановления и не могут использоваться для чтения или записи до завершения процесса.| 
| | | |

### <a name="alternative-options"></a>Альтернативные параметры

В следующей таблице сравниваются альтернативные варианты миграции. 

|Метод или технология |Назначение |Рекомендации  |
|---------|---------|---------|
|[Репликация транзакций](../../managed-instance/replication-transactional-overview.md) | — Перенос путем непрерывной публикации изменений из таблиц базы данных-источника в целевые таблицы базы данных SQL Управляемый экземпляр. </br> — Полная или частичная миграция базы данных для выбранных таблиц (подмножество базы данных).  </br> </br> Поддерживаемые источники: </br> -SQL Server (2012-2019) с некоторыми ограничениями </br> -AWS EC2  </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM | </br> — Программа установки относительно сложнее по сравнению с другими вариантами миграции.   </br> — Предоставляет параметр непрерывной репликации для переноса данных (без перевода базы данных в автономный режим).</br> — Репликация транзакций имеет ряд ограничений, которые следует учитывать при настройке издателя на исходном SQL Server. Дополнительные сведения см. в разделе [ограничения на публикацию объектов](/sql/relational-databases/replication/publish/publish-data-and-database-objects#limitations-on-publishing-objects) .  </br> — Доступна возможность [наблюдения за действиями репликации](/sql/relational-databases/replication/monitor/monitoring-replication) .    |
|[Массовое копирование](/sql/relational-databases/import-export/import-and-export-bulk-data-by-using-the-bcp-utility-sql-server)| — Миграция полной или частичной миграции данных. </br> — Может обеспечить время простоя. </br> </br> Поддерживаемые источники: </br> -SQL Server (2005-2019) локальная или виртуальная машина Azure </br> -AWS EC2 </br> — AWS RDS </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM   | — Требует простоя для экспорта данных из источника и импорта в целевой объект. </br> — Форматы файлов и типы данных, используемые в экспорте и импорте, должны соответствовать схемам таблиц. |
|[Мастер импорта экспорта/BACPAC-файл](../../database/database-import.md)| — Перенос отдельных баз данных бизнес-приложений. </br>— Подходит для небольших баз данных.  </br>  Не требуется отдельная служба или средство миграции. </br> </br> Поддерживаемые источники: </br> -SQL Server (2005-2019) локальная или виртуальная машина Azure </br> -AWS EC2 </br> — AWS RDS </br> -ОБЕСПЕЧИТЬ вычислений SQL Server VM  |   </br> — Требует простоя, так как данные необходимо экспортировать в источник и импортировать в место назначения.   </br> — Форматы файлов и типы данных, используемые в экспорте и импорте, должны быть согласованы со схемами таблиц, чтобы избежать ошибок усечения или несоответствия типов данных. </br> Время, затраченное на экспорт базы данных с большим количеством объектов, может быть значительно выше. |
|[Фабрика данных Azure (ADF)](../../../data-factory/connector-azure-sql-managed-instance.md)| — Миграция и (или) преобразование данных из базы данных-источника SQL Server.</br> — Объединение данных из нескольких источников данных в Azure SQL Управляемый экземпляр, как правило, для рабочих нагрузок бизнес-аналитики (BI).   </br> — Требует создания конвейеров перемещения данных в ADF для перемещения данных из источника в место назначения.   </br> - [Стоимость](https://azure.microsoft.com/pricing/details/data-factory/data-pipeline/) является важным фактором и основана на триггерах конвейера, выполнении действий, длительности перемещения данных и т. д. |
| | | |

## <a name="feature-interoperability"></a>Взаимодействие компонентов 

При переносе рабочих нагрузок, зависящих от других функций SQL Server, необходимо учитывать дополнительные моменты. 

#### <a name="sql-server-integration-services"></a>SQL Server Integration Services

Перенос пакетов и проектов SQL Server Integration Services (SSIS) в SSISDB в Azure SQL Управляемый экземпляр с помощью [Azure Database Migration Service (DMS)](../../../dms/how-to-migrate-ssis-packages-managed-instance.md). 

Для миграции поддерживаются только пакеты служб SSIS в SSISDB, начинающиеся с SQL Server 2012. Преобразуйте устаревшие пакеты служб SSIS перед миграцией. Дополнительные сведения см. в [руководстве по преобразованию проектов](/sql/integration-services/lesson-6-2-converting-the-project-to-the-project-deployment-model) . 


#### <a name="sql-server-reporting-services"></a>SQL Server Reporting Services

Отчеты SQL Server Reporting Services (SSRS) можно перенести в отчеты с разбивкой на страницы в Power BI. Используйте [средство миграции языка определения отчетов](https://github.com/microsoft/RdlMigration) для подготовки и переноса отчетов. Это средство было разработано корпорацией Майкрософт, чтобы помочь клиентам перенести RDL-отчеты с серверов SSRS на платформу Power BI. Он доступен на сайте GitHub, и он документирует полное пошаговое руководство по сценарию миграции. 

#### <a name="sql-server-analysis-services"></a>SQL Server Analysis Services

SQL Server Analysis Services табличные модели из SQL Server 2012 и более поздних версий можно перенести в Azure Analysis Services, который является моделью развертывания PaaS для Analysis Services табличной модели в Azure. Дополнительные сведения о переносе локальных моделей в Azure Analysis Services см. в этом [видеоруководстве](https://azure.microsoft.com/resources/videos/azure-analysis-services-moving-models/).

Кроме того, можно также рассмотреть возможность переноса локальных Analysis Services табличных моделей в [Power BI Premium с помощью новых конечных точек чтения и записи XMLA](/power-bi/admin/service-premium-connect-tools). 
> [!NOTE]
> Power BI функции конечных точек чтения и записи XMLA в настоящее время доступны в общедоступной предварительной версии. ее не следует рассматривать для рабочих нагрузок, пока они не станут общедоступными.

#### <a name="high-availability"></a>Высокий уровень доступности

SQL Server функции высокого уровня доступности Always On экземпляры отказоустойчивого кластера и группы доступности Always On устаревают на целевом Управляемый экземпляр SQL Azure, так как архитектура с высоким уровнем доступности уже встроена в [общего назначения (модель доступности уровня "Стандартный")](../../database/high-availability-sla.md#basic-standard-and-general-purpose-service-tier-locally-redundant-availability) и [критически важный для бизнеса (модель доступности premium)](../../database/high-availability-sla.md#premium-and-business-critical-service-tier-locally-redundant-availability) SQL управляемый экземпляр. Модель доступности уровня "Премиум" также предоставляет горизонтальное масштабирование чтения, позволяющее подключаться к одному из вторичных узлов для целей только для чтения.     

Помимо архитектуры высокого уровня доступности, включенной в SQL Управляемый экземпляр, существует также функция [групп автоматической отработки отказа](../../database/auto-failover-group-overview.md) , которая позволяет управлять репликацией и отработкой отказа баз данных в управляемом экземпляре в другой регион. 

#### <a name="sql-agent-jobs"></a>Задания агента SQL Server

Используйте параметр offline Azure Database Migration Service (DMS) для переноса [заданий агента SQL Server](../../../dms/howto-sql-server-to-azure-sql-mi-powershell.md#offline-migrations). В противном случае создайте скрипты для заданий в Transact-SQL (T-SQL), используя SQL Server Management Studio а затем вручную воссоздать их на целевом Управляемый экземпляр SQL. 

> [!IMPORTANT]
> В настоящее время Azure DMS поддерживает задания только с шагами подсистемы T-SQL. Задания с шагами пакета служб SSIS необходимо перенести вручную. 

#### <a name="logins-and-groups"></a>Имена входа и группы

Имена входа SQL из исходного SQL Server можно переместить в Управляемый экземпляр SQL Azure с помощью Database Migration Service (DMS) в автономном режиме.  Используйте колонку " **[Выбор имен входа](../../../dms/tutorial-sql-server-to-managed-instance.md#select-logins)** " в **мастере миграции** , чтобы перенести имена входа в целевую управляемый экземпляр SQL. 

По умолчанию Azure Database Migration Service поддерживает перенос имен входа только для SQL. Но вы можете включить поддержку переноса имен входа Windows.Для этого сделайте следующее:

Убедитесь, что целевой SQL-Управляемый экземпляр имеет доступ на чтение Azure AD, который можно настроить с помощью портал Azure пользователем с ролью **глобального администратора** .
Настройте в экземпляре Azure Database Migration Service поддержку переноса имени входа пользователей и групп Windows, которую можно выполнить на странице "Конфигурация" портала Azure. После включения этого параметра перезапустите службу, чтобы изменения вступили в силу.

Когда завершится перезапуск службы, в списке доступных для миграции имен входа отобразятся имена входа пользователей и групп Windows. Для всех переносимых имен входа пользователей и групп Windows вам будет предложено указать соответствующее доменное имя. Учетные записи пользователей службы (с именем домена NT AUTHORITY) и виртуальные учетные записи пользователей (с именем домена NT SERVICE) не поддерживаются.

Дополнительные сведения см. в статье [Перенос пользователей и групп Windows в экземпляре SQL Server в Azure SQL управляемый экземпляр с помощью T-SQL](../../managed-instance/migrate-sql-server-users-to-instance-transact-sql-tsql-tutorial.md).

Кроме того, можно использовать [служебную программу PowerShell](https://github.com/microsoft/DataMigrationTeam/tree/master/IP%20and%20Scripts/MoveLogins) , разработанную специально для архитекторов Microsoft Data Migration Architect. Программа использует PowerShell для создания скрипта T-SQL для повторного создания имен входа и выбора пользователей базы данных из источника в целевой объект. Средство автоматически сопоставляет учетные записи Windows AD с учетными записями Azure AD и может выполнить поиск имени участника-пользователя для каждого входа в исходную Active Directory. Средство создает скрипты для пользовательских ролей сервера и базы данных, а также для членства в роли, роли базы данных и разрешений пользователей. Автономные базы данных в настоящее время не поддерживаются, и скрипты имеют только подмножество возможных SQL Server разрешений. 

#### <a name="encryption"></a>Шифрование

При миграции баз данных, защищенных  [прозрачное шифрование данных](../../database/transparent-data-encryption-tde-overview.md),   в управляемый экземпляр с помощью собственного параметра восстановления, *перед* восстановлением базы данных [перенесите соответствующий сертификат](../../managed-instance/tde-certificate-migrate.md) из исходного SQL Server в целевой управляемый экземпляр SQL. 

#### <a name="system-databases"></a>Системные базы данных

Восстановление системных баз данных не поддерживается. Чтобы перенести объекты уровня экземпляра (хранящиеся в базах данных master или msdb), внесите их в скрипт с помощью Transact-SQL (T-SQL), а затем воссоздайте их на целевом управляемом экземпляре. 

## <a name="leverage-advanced-features"></a>Использование дополнительных функций 

Не забудьте воспользоваться преимуществами расширенных облачных функций, предлагаемых SQL Управляемый экземпляр. Например, больше не нужно беспокоиться об управлении резервными копиями, так как служба делает это самостоятельно. Можно выполнить восстановление в любой [момент времени в течение срока хранения](../../database/recovery-using-backups.md#point-in-time-restore). Кроме того, не нужно беспокоиться о настройке высокого уровня доступности, так как [в ней встроена высокая доступность](../../database/high-availability-sla.md). 

Для усиления безопасности рекомендуется использовать [проверку Подлинности Azure Active Directory](../../database/authentication-aad-overview.md), [Аудит](../../managed-instance/auditing-configure.md), [обнаружение угроз](../../database/azure-defender-for-sql.md), [безопасность на уровне строк](/sql/relational-databases/security/row-level-security)и [Динамическое маскирование данных](/sql/relational-databases/security/dynamic-data-masking).

Помимо функций расширенного управления и безопасности, SQL Управляемый экземпляр предоставляет набор дополнительных средств, которые могут помочь [в мониторинге и настройке рабочей нагрузки](../../database/monitor-tune-overview.md). [Аналитика SQL Azure](../../../azure-monitor/insights/azure-sql.md) позволяет централизованно отслеживать большой набор управляемых экземпляров.  [Автоматическая настройка](/sql/relational-databases/automatic-tuning/automatic-tuning#automatic-plan-correction)   в управляемых экземплярах постоянно отслеживает производительность статистики выполнения плана SQL и автоматически устраняет выявленные проблемы с производительностью. 

Некоторые функции доступны только после изменения [уровня совместимости базы данных](/sql/relational-databases/databases/view-or-change-the-compatibility-level-of-a-database) на последний уровень совместимости (150). 

## <a name="migration-assets"></a>Ресурсы, посвященные миграции 

Дополнительные сведения см. в следующих ресурсах, разработанных для реальных проектов по переходу на целый мир.

|Ресурс  |Описание  |
|---------|---------|
|[Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool)| Это средство предоставляет предлагаемые "оптимальные" целевые платформы, готовность к переходу в облако и уровень исправления приложения/базы данных для конкретной рабочей нагрузки. Оно обеспечивает простое и быстрое вычисление и создание отчетов, которое помогает ускорить оценку больших объемов, предоставляя, автоматизируя и унифицируя процесс принятия решения относительно целевой платформы.|
|[Служебная программа Дблоадер](https://github.com/microsoft/DataMigrationTeam/tree/master/DBLoader%20Utility)|Дблоадер можно использовать для загрузки данных из текстовых файлов с разделителями в SQL Server. Эта служебная программа консоли Windows использует интерфейс Bulkload собственного клиента SQL Server, который работает во всех версиях SQL Server, включая Azure SQL MI.|
|[Служебная программа для перемещения локальных SQL Server входа в Azure SQL Управляемый экземпляр](https://github.com/microsoft/DataMigrationTeam/tree/master/IP%20and%20Scripts/MoveLogins)|Сценарий PowerShell, который создает командный скрипт T-SQL для повторного создания имен входа и выбора пользователей базы данных из локальной SQL Server в Azure SQL Управляемый экземпляр. Это средство позволяет автоматически сопоставлять учетные записи Windows AD с учетными записями Azure AD, а также при необходимости выполнять миграцию SQL Server собственных имен входа.|
|[Автоматизация сбора данных PerfMon с помощью программы Logman](https://github.com/microsoft/DataMigrationTeam/tree/master/IP%20and%20Scripts/Perfmon%20Data%20Collection%20Automation%20Using%20Logman)|Средство, собирающее данные, чтобы понять производительность базовых показателей, которая помогает в рекомендации целевого объекта миграции. Это средство, использующее logman.exe для создания команды, которая будет создавать, запускать, останавливаться и удалять счетчики производительности, заданные на удаленном SQL Server.|
|[Технический документ — миграция базы данных в Azure SQL Управляемый экземпляр путем восстановления полных и разностных резервных копий](https://github.com/microsoft/DataMigrationTeam/blob/master/Whitepapers/Database%20migrations%20to%20Azure%20SQL%20DB%20Managed%20Instance%20-%20%20Restore%20with%20Full%20and%20Differential%20backups.pdf)|В этом техническом документе содержатся инструкции и инструкции по ускорению миграции с SQL Server на Управляемый экземпляр SQL Azure при наличии только полных и разностных резервных копий (без возможности резервного копирования журналов).|

Эти ресурсы были разработаны в рамках программы Data SQL Ninja, которая спонсируется группой разработчиков Azure Data Group. Основная часть программы Data SQL Ninja заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе Data SQL Ninja, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.


## <a name="next-steps"></a>Дальнейшие действия

Чтобы приступить к переносу SQL Server в Azure SQL Управляемый экземпляр, ознакомьтесь с [руководством по миграции SQL Server в sql управляемый экземпляр](sql-server-to-managed-instance-guide.md).

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных, а также специальных задач см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- Дополнительные сведения о Управляемый экземпляр Azure SQL см. в следующих статьях:
   - [Уровни служб в Azure SQL Управляемый экземпляр](../../managed-instance/sql-managed-instance-paas-overview.md#service-tiers)
   - [Различия между SQL Server и Управляемый экземпляр SQL Azure](../../managed-instance/transact-sql-tsql-differences-sql-server.md)
   - [Калькулятор совокупной стоимости владения Azure](https://azure.microsoft.com/pricing/tco/calculator/) 


- Дополнительные сведения о структуре и цикле внедрения для миграции в облако см. в разделе
   -  [Cloud Adoption Framework для Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/contoso-migration-scale)
   -  [Рекомендации по затратам и изменению размеров рабочих нагрузок, переносятся в Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/migrate-best-practices-costs) 


- Чтобы оценить уровень доступа к приложениям, см. раздел [набор средств миграции для доступа к данным (Предварительная версия)](https://marketplace.visualstudio.com/items?itemName=ms-databasemigration.data-access-migration-toolkit)
- Дополнительные сведения о выполнении проверки уровня доступа к данным A/B см. [Database experimentation Assistant](/sql/dea/database-experimentation-assistant-overview).
