---
title: 'База данных SQL для MySQL в Azure: руководство по миграции'
description: В этом руководство описано, как перенести базы данных MySQL в базу данных SQL Azure с помощью Помощник по миграции SQL Server для MySQL (SSMA для MySQL).
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 8952e6e1bda8763d403c02dcd5815f1e1c0941e8
ms.sourcegitcommit: c8b50a8aa8d9596ee3d4f3905bde94c984fc8aa2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2021
ms.locfileid: "105641864"
---
# <a name="migration-guide-mysql-to-azure-sql-database"></a>Руководство по миграции: MySQL в базу данных SQL Azure
[!INCLUDE[appliesto-sqldb-sqlmi](../../includes/appliesto-sqldb.md)]

В этом руководство вы узнаете, как перенести базу данных MySQL в базу данных SQL Azure с помощью Помощник по миграции SQL Server для MySQL (SSMA для MySQL). 

Другие руководства по миграции см. в [руководстве по миграции базы данных Azure](https://docs.microsoft.com/data-migration). 

## <a name="prerequisites"></a>Предварительные условия

Прежде чем приступить к переносу базы данных MySQL в базу данных SQL, выполните следующие действия.

- Убедитесь, что исходная среда поддерживается. В настоящее время поддерживаются MySQL 5,6 и 5,7. 
- Скачайте и установите [Помощник по миграции SQL Server для MySQL](https://www.microsoft.com/download/details.aspx?id=54257).
- Убедитесь в наличии подключения и необходимых разрешений для доступа к исходному и целевому объекту.

## <a name="pre-migration"></a>Подготовка к миграции 

После выполнения необходимых условий вы можете найти топологию среды и оценить возможность миграции.

### <a name="assess"></a>Оценка 

Используйте Помощник по миграции SQL Server (SSMA) для MySQL, чтобы просматривать объекты и данные базы данных, а затем оценивать базы данных для миграции. 

Чтобы создать оценку, выполните следующие действия.

1. Откройте [SSMA для MySQL](https://www.microsoft.com/download/details.aspx?id=54257). 
1. Выберите **файл**, а затем выберите **Новый проект**. 
1. В области **Новый проект** введите имя и расположение проекта, а затем в раскрывающемся списке **перенести в** выберите **база данных SQL Azure**. 
1. Нажмите кнопку **OK**.

   ![Снимок экрана: панель "новый проект" для ввода имени проекта, расположения и целевого объекта миграции.](./media/mysql-to-sql-database-guide/new-project.png)

1. Перейдите на вкладку **Подключение к MySQL** и укажите сведения для подключения к серверу MySQL. 

   ![Снимок экрана: панель "подключение к MySQL" для указания соединений с источником.](./media/mysql-to-sql-database-guide/connect-to-mysql.png)

1. На панели **Обозреватель метаданных MySQL** щелкните правой кнопкой мыши схему MySQL и выберите команду **создать отчет**. Кроме того, можно выбрать вкладку **Создание отчета** в правом верхнем углу.

   ![Снимок экрана со ссылками "создать отчет" в SSMA для MySQL.](./media/mysql-to-sql-database-guide/create-report.png)

1. Проверьте HTML-отчет, чтобы понять статистику преобразования, ошибки и предупреждения. Проанализируйте его, чтобы понять проблемы преобразования и способы их устранения. 
   Можно также открыть отчет в Excel, чтобы получить список объектов MySQL и понять усилия, необходимые для выполнения преобразований схемы. Расположение отчета по умолчанию находится в папке "report" в каталоге SSMAProjects. Пример: 
   
   `drive:\Users\<username>\Documents\SSMAProjects\MySQLMigration\report\report_2016_11_12T02_47_55\`
 
   ![Снимок экрана примера отчета о преобразовании в SSMA.](./media/mysql-to-sql-database-guide/conversion-report.png)

### <a name="validate-the-data-types"></a>Проверка типов данных

Проверьте сопоставления типов данных по умолчанию и измените их в зависимости от требований, если это необходимо. Для этого сделайте следующее: 

1. Выберите **инструменты** и щелкните **Параметры проекта**.  
1. Перейдите на вкладку **сопоставления типов** . 

   ![Снимок экрана: панель "сопоставление типов" в SSMA для MySQL.](./media/mysql-to-sql-database-guide/type-mappings.png)

1. Можно изменить сопоставление типов для каждой таблицы, выбрав имя таблицы на панели **Обозреватель метаданных MySQL** . 

### <a name="convert-the-schema"></a>Преобразование схемы 

Чтобы преобразовать схему, выполните следующие действия. 

1. Используемых Чтобы преобразовать динамические или специализированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 

1. Выберите вкладку **Подключение к базе данных SQL Azure** и выполните следующие действия.

   а. Введите сведения для подключения к базе данных SQL.  
   b. В раскрывающемся списке выберите целевую базу данных SQL. Или можно указать новое имя, в этом случае база данных будет создана на целевом сервере.  
   c. Укажите сведения о проверке подлинности.  
   d. Выберите **Подключиться**.

   ![Снимок экрана: панель "подключение к базе данных SQL Azure" в SSMA для MySQL.](./media/mysql-to-sql-database-guide/connect-to-sqldb.png)
 
1. Щелкните правой кнопкой мыши схему, с которой вы работаете, и выберите команду **преобразовать схему**. Кроме того, можно выбрать вкладку **Преобразование схемы** в правом верхнем углу.

   ![Снимок экрана команды "преобразовать схему" в области "Обозреватель метаданных MySQL".](./media/mysql-to-sql-database-guide/convert-schema.png)

1. После завершения преобразования проверьте и сравните преобразованные объекты с исходными объектами, чтобы выявление потенциальных проблем и их устранение на основе рекомендаций. 

   ![Снимок экрана, показывающий сравнение преобразованных объектов с исходными объектами.](./media/mysql-to-sql-database-guide/table-comparison.png)

   Сравните преобразованный текст Transact-SQL с исходным кодом и ознакомьтесь с рекомендациями.

   ![Снимок экрана, показывающий сравнение преобразованных запросов с исходным кодом.](./media/mysql-to-sql-database-guide/procedure-comparison.png)

1. На панели **вывода** выберите **Просмотреть результаты**, а затем просмотрите все ошибки на панели **Список ошибок** . 
1. Сохраните проект локально для исправления схемы в автономном режиме. Для этого выберите **файл**  >  **сохранить проект**. Это дает возможность оценивать исходную и целевую схемы в автономном режиме и выполнять исправление перед публикацией схемы в базе данных SQL.

   Сравните преобразованные процедуры с исходными процедурами, как показано ниже: 

   ![Снимок экрана, показывающий сравнение преобразованных процедур с исходными процедурами.](./media/mysql-to-sql-database-guide/procedure-comparison.png)


## <a name="migrate-the-databases"></a>Перенос баз данных 

После оценки баз данных и решения несоответствий можно запустить процесс миграции. Миграция состоит из двух этапов: публикация схемы и перенос данных. 

Чтобы опубликовать схему и перенести данные, выполните следующие действия. 

1. Опубликуйте схему. На панели **обозревателя метаданных базы данных SQL Azure** щелкните правой кнопкой мыши базу данных и выберите **синхронизировать с базой данных**. Это действие публикует схему MySQL в базе данных SQL.

   ![Снимок экрана: панель "Синхронизация с базой данных" для просмотра сопоставления базы данных.](./media/mysql-to-sql-database-guide/synchronize-database-review.png)

1. Перенос данных. На панели **Обозреватель метаданных MySQL** щелкните правой кнопкой мыши схему MySQL, которую необходимо перенести, и выберите пункт **перенести данные**. Кроме того, можно выбрать вкладку **Миграция данных** в правом верхнем углу.

   Чтобы перенести данные всей базы данных, установите флажок рядом с ее именем. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел **таблицы**, а затем установите флажок рядом с таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок.

   ![Снимок экрана команды "перенести данные" на панели "Обозреватель метаданных MySQL".](./media/mysql-to-sql-database-guide/migrate-data.png)

1. После завершения миграции просмотрите **отчет о переносе данных**.
   
   ![Снимок экрана отчета о переносе данных.](./media/mysql-to-sql-database-guide/data-migration-report.png)

1. Подключитесь к базе данных SQL с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) и проверьте миграцию, просмотрев данные и схему.

   ![Снимок экрана SQL Server Management Studio.](./media/mysql-to-sql-database-guide/validate-in-ssms.png)

## <a name="post-migration"></a>После миграции 

После успешного завершения этапа *миграции* необходимо выполнить ряд задач, выполняемых после миграции, чтобы убедиться, что все работает как можно более гладко и эффективно.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из следующих действий.

1. **Разработка проверочных тестов**. чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки для выполнения как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

1. **Настройка тестовой среды**. тестовая среда должна содержать копию базы данных-источника и целевую базу данных. Не забудьте изолировать тестовую среду.

1. **Выполнить проверочные тесты**: выполнить проверочные тесты для источника и целевого объекта, а затем проанализировать результаты.

1. **Запуск тестов производительности**: выполнение тестов производительности для источника и целевого объекта, а затем анализ и сравнение результатов.

### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных, проверки полноты и устранения проблем с производительностью рабочей нагрузки.

Дополнительные сведения об этих проблемах и действия по их устранению см. в руководстве по [проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции

Дополнительную помощь по выполнению этого сценария миграции см. в следующем ресурсе. Она была разработана с учетом поддержки реального сотрудничества проекта миграции.

| Заголовок | Описание |
| --- | --- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Предлагаются Рекомендуемые целевые платформы, готовность к облаку и уровни исправления приложений и баз данных для указанных рабочих нагрузок. Он обеспечивает простое, одноразовое вычисление и создание отчетов, которое помогает ускорить оценку больших объемов, предоставляя автоматизированный, единообразный процесс принятия решений на основе целевой платформы. |

Специалисты по разработке данных SQL разработали эти ресурсы. Основная Устав этой команды заключается в разблокировании и ускорении сложных модернизации для проектов миграции платформы данных на платформу данных Microsoft Azure.

## <a name="next-steps"></a>Дальнейшие шаги 

- Чтобы оценить экономию затрат, которую можно выполнить путем переноса рабочих нагрузок в Azure, ознакомьтесь с [калькулятором совокупной стоимости владения Azure](https://aka.ms/azure-tco).

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных и специальных задач, см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- Другие руководства по миграции см. в [руководстве по миграции базы данных Azure](https://datamigration.microsoft.com/). 

- Видеоролики по миграции см. [в статье обзор пути перехода и рекомендуемых средств и служб для миграции и оценки](https://azure.microsoft.com/resources/videos/overview-of-migration-and-recommended-tools-services/).
