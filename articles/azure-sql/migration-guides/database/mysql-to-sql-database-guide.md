---
title: 'База данных SQL для MySQL в Azure: руководство по миграции'
description: В этом руководстве описывается перенос баз данных MySQL в базу данных SQL Azure с помощью Помощник по миграции SQL Server для MySQL (SSMA для MySQL).
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: d59a4fc2cbf52d95e6b5a5100b5ffe06c5dbed7e
ms.sourcegitcommit: 18a91f7fe1432ee09efafd5bd29a181e038cee05
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2021
ms.locfileid: "103565340"
---
# <a name="migration-guide--mysql-to-azure-sql-database"></a>Руководство по миграции: MySQL в базу данных SQL Azure
[!INCLUDE[appliesto-sqldb-sqlmi](../../includes/appliesto-sqldb.md)]

В этом руководстве описывается перенос базы данных MySQL в базу данных SQL Azure с помощью Помощник по миграции SQL Server для MySQL (SSMA для MySQL). 

Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

## <a name="prerequisites"></a>Предварительные требования

Чтобы перенести базу данных MySQL в базу данных SQL Azure, вам потребуется:

- проверить, что исходная среда поддерживается; В настоящее время поддерживаются MySQL 5,6 и 5,7. 
- [SQL Server Migration Assistant для MySQL](https://www.microsoft.com/download/confirmation.aspx?id=54257)


## <a name="pre-migration"></a>Подготовка к миграции 

После выполнения необходимых условий можно приступать к поиску топологии среды и оценить возможность миграции.

### <a name="assess"></a>Оценка 

С помощью [Помощник по миграции SQL Server для MySQL](https://www.microsoft.com/download/confirmation.aspx?id=54257)можно просматривать объекты и данные базы данных, а также оценивать базы данных для миграции.

Чтобы создать оценку, выполните следующие действия.

1. Откройте Помощник по миграции SQL Server для MySQL. 
1. В меню выберите пункт **файл** , а затем пункт **создать проект**. Укажите имя проекта, расположение для сохранения проекта.
1. Выберите **базу данных SQL Azure** в качестве цели миграции. 
1. Выберите **подключиться к MySQL** и укажите сведения о подключении для подключения к серверу MySQL. 
1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **создать отчет**. Кроме того, можно выбрать пункт **создать отчет** на панели навигации в верхней строке. 
1. Проверьте HTML-отчет на наличие статистики преобразования, а также ошибок и предупреждений. Проанализируйте ее, чтобы понять проблемы преобразования и способы их устранения. 

   Этот отчет можно также открыть из папки проектов SSMA, как это было выбрано на первом экране. В приведенном выше примере нахождение файла report.xml из:
 
   `drive:\Users\<username>\Documents\SSMAProjects\MySQLMigration\report\report_2016_11_12T02_47_55\`
 
   и откройте его в Excel, чтобы получить список объектов MySQL и усилия, необходимые для выполнения преобразования схемы.

### <a name="validate-data-types"></a>Обновление типов данных

Перед выполнением преобразования схемы проверьте сопоставления типов данных по умолчанию или измените их в зависимости от требований. Это можно сделать, перейдя в меню "Сервис" и выбрав "Параметры проекта", или можно изменить сопоставление типов для каждой таблицы, выбрав таблицу в окне "Обозреватель метаданных MySQL".

### <a name="convert-schema"></a>Преобразовать схему 

Чтобы преобразовать схему, выполните следующие действия. 

1. Используемых Чтобы преобразовать динамические или нерегламентированные запросы, щелкните правой кнопкой мыши узел и выберите команду **Добавить инструкцию**. 
1. Выберите **Подключение к базе данных SQL Azure** в верхней строке панели навигации и укажите сведения о подключении. Можно выбрать подключение к существующей базе данных или указать новое имя. в этом случае база данных будет создана на целевом сервере.
1. Щелкните правой кнопкой мыши схему и выберите команду **преобразовать схему**. 
1. После завершения преобразования схемы Сравните преобразованный код с исходным кодом для выявления потенциальных проблем. 



## <a name="migrate"></a>Миграция 

После того как вы завершите оценку баз данных и устраните несоответствия, следующим шагом является выполнение процесса миграции. Миграция состоит из двух этапов: публикация схемы и перенос данных. 

Чтобы опубликовать схему и перенести данные, выполните следующие действия. 

1. Щелкните правой кнопкой мыши базу данных в **обозревателе метаданных базы данных SQL Azure** и выберите **синхронизировать с базой данных**. Это действие публикует схему MySQL в базе данных SQL Azure.
1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите пункт **перенести данные**. Кроме того, можно выбрать вариант **перенести данные** из области навигации в верхней строке. 
1. После завершения миграции просмотрите отчет о **переносе данных** : 
1.  Проверьте миграцию, просмотрев данные и схему в базе данных SQL Azure с помощью SQL Server Management Studio (SSMS).


## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, выполняемых после миграции, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из выполнения следующих действий.

1. **Разработка проверочных тестов**. Чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

2. **Настройка тестовой среды**. Тестовая среда должна содержать копию базы данных-источника и целевой базы данных. Не забудьте изолировать тестовую среду.

3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

4. **Запустите тесты производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.

### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных и проверки полноты, а также для устранения проблем с производительностью рабочей нагрузки.

Дополнительные сведения об этих проблемах и конкретные действия по их устранению см. в [руководстве по проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции

Дополнительную помощь по выполнению этого сценария миграции см. в следующих ресурсах, которые были разработаны с учетом поддержки реальных проектов миграции.

| Заголовок или ссылка     | Описание    |
| ---------------------------------------------- | ---------------------------------------------------- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Это средство предоставляет предлагаемые "оптимальные" целевые платформы, готовность к переходу в облако и уровень исправления приложения/базы данных для конкретной рабочей нагрузки. Он обеспечивает простое, одноразовое вычисление и создание отчетов, которое существенно помогает ускорить оценку больших объемов, предоставляя и автоматизируя и равномерное решение целевой платформы. |

Эти ресурсы были разработаны в рамках программы Data SQL Ninja, которая спонсируется группой разработчиков Azure Data Group. Основная часть программы Data SQL Ninja заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе Data SQL Ninja, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.

## <a name="next-steps"></a>Дальнейшие действия 

- Обязательно ознакомьтесь с [калькулятором совокупной стоимости владения (TCO) Azure](https://aka.ms/azure-tco) , чтобы оценить экономию затрат, которую можно реализовать путем переноса рабочих нагрузок в Azure.

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных, а также специальных задач см. в статье [служба и средства для переноса данных](https://docs.microsoft.com/azure/dms/dms-tools-matrix).

- Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

Видеоматериалы см. в следующих статьях: 
- [Обзор процесса миграции и средств и служб, рекомендованных для выполнения оценки и миграции](https://azure.microsoft.com/resources/videos/overview-of-migration-and-recommended-tools-services/)
