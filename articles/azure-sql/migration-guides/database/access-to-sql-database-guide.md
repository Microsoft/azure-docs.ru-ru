---
title: Доступ к базе данных SQL Azure. Руководство по миграции
description: В этом руководстве описывается миграция баз данных Microsoft Access в базу данных SQL Azure с помощью Помощник по миграции SQL Server для доступа (SSMA для Access).
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: e323b1c15d78da4e8c1a82ae8848df7f59b0dd87
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104657362"
---
# <a name="migration-guide-access-to-azure-sql-database"></a>Руководство по миграции: доступ к базе данных SQL Azure

В этом руководстве по миграции рассказывается о переносе баз данных Microsoft Access в базу данных SQL Azure с помощью Помощник по миграции SQL Server для доступа.

Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

## <a name="prerequisites"></a>Предварительные требования

Чтобы перенести базу данных Access в базу данных SQL Azure, вам потребуется:

- проверить, что исходная среда поддерживается; 
- [Помощник по миграции SQL Server для доступа](https://www.microsoft.com/download/details.aspx?id=54255). 

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий можно приступать к поиску топологии среды и оценить возможность миграции.


### <a name="assess"></a>Оценка 

Создайте оценку с помощью [Помощник по миграции SQL Server для доступа](https://www.microsoft.com/download/details.aspx?id=54255). 

Чтобы создать оценку, выполните следующие действия. 

1. Откройте Помощник по миграции SQL Server для доступа. 
1. Выберите **Файл**, а затем пункт **Новый проект**. Укажите имя для проекта миграции. 

   ![Выбор нового проекта](./media/access-to-sql-database-guide/new-project.png)

1. Выберите **Добавить базы данных** и выберите базы данных, которые будут добавлены в новый проект. 

   ![Выбор добавления баз данных](./media/access-to-sql-database-guide/add-databases.png)

1. В **обозревателе метаданных Access** щелкните правой кнопкой мыши базу данных и выберите команду **создать отчет**. 

   ![Щелкните правой кнопкой мыши базу данных и выберите команду Создать отчет.](./media/access-to-sql-database-guide/create-report.png)

1. Ознакомьтесь с примерами оценки. Пример: 

   ![Обзор оценки образца отчета](./media/access-to-sql-database-guide/sample-assessment.png)

### <a name="validate-data-types"></a>Обновление типов данных

Проверьте сопоставления типов данных по умолчанию и измените их в зависимости от требований, если это необходимо. Для этого выполните следующие действия.

1. В главном меню выберите **Сервис**. 
1. Выберите **Параметры проекта**. 
1. Перейдите на вкладку **Сопоставления типов**. 

   ![Сопоставления типов](./media/access-to-sql-database-guide/type-mappings.png)

1. Сопоставление типов для каждой таблицы можно изменить, выбрав таблицу в **обозревателе метаданных Access**.


### <a name="convert-schema"></a>Преобразовать схему

Для преобразования объектов базы данных выполните следующие действия. 

1. Выберите **Подключение к базе данных SQL Azure** и укажите сведения о подключении.

   ![Подключение к Базе данных SQL Azure](./media/access-to-sql-database-guide/connect-to-sqldb.png)

1. Щелкните правой кнопкой мыши базу данных в окне **Обозреватель метаданных Access** и выберите команду **преобразовать схему**. Кроме того, можно выбрать пункт **преобразовать схему** из верхней панели навигации после выбора базы данных.

   ![Щелкните правой кнопкой мыши базу данных и выберите команду Преобразовать схему.](./media/access-to-sql-database-guide/convert-schema.png)

   Сравнение преобразованных запросов с исходными запросами: 

   ![Преобразованные запросы можно сравнивать с исходным кодом.](./media/access-to-sql-database-guide/query-comparison.png)

   Сравнить преобразованные объекты с исходными объектами: 

   ![Преобразованные объекты можно сравнивать с источником](./media/access-to-sql-database-guide/table-comparison.png)

1. Используемых Для преобразования отдельного объекта щелкните правой кнопкой мыши объект и выберите команду **преобразовать схему**. Преобразованные объекты отображаются полужирным шрифтом в **обозревателе метаданных Access**: 

   ![Объекты, выделенные жирным шрифтом в обозревателе метаданных, преобразованы](./media/access-to-sql-database-guide/converted-items.png)
 
1. На панели вывода выберите **результаты проверки** и проверьте ошибки на панели **Список ошибок** . 


## <a name="migrate"></a>Миграция

После того как вы завершите оценку баз данных и устраните несоответствия, следующим шагом является выполнение процесса миграции. Миграция данных — это операция групповой загрузки, которая перемещает строки данных в базу данных SQL Azure в транзакциях. Число строк, загружаемых в базу данных SQL Azure в каждой транзакции, настраивается в параметрах проекта.

Чтобы перенести данные с помощью SSMA для доступа, выполните следующие действия. 

1. Если вы этого еще не сделали, выберите **подключиться к базе данных SQL Azure** и укажите сведения о подключении. 
1. Щелкните правой кнопкой мыши базу данных в **обозревателе метаданных базы данных SQL Azure** и выберите **синхронизировать с базой данных**. Это действие публикует схему MySQL в базе данных SQL Azure.

   ![Синхронизация с базой данных](./media/access-to-sql-database-guide/synchronize-with-database.png)

   Проверьте сопоставление между исходным и целевым проектами.

   ![Проверка синхронизации с базой данных](./media/access-to-sql-database-guide/synchronize-with-database-review.png)

1. Используйте **Обозреватель метаданных Access** , чтобы установить флажки рядом с элементами, которые требуется перенести. Если вы хотите перенести всю базу данных, установите флажок рядом с базой данных. 
1. Щелкните правой кнопкой мыши базу данных или объект, которые необходимо перенести, и выберите пункт **перенести данные**. 
   Чтобы перенести данные для всей базы данных, установите флажок рядом с именем базы данных. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел таблицы, а затем установите флажок рядом с таблицей. Чтобы пропустить данные из отдельных таблиц, снимите флажок.

    ![Перенос данных](./media/access-to-sql-database-guide/migrate-data.png)

    Проверьте перенесенные данные: 

    ![Миграция проверки данных](./media/access-to-sql-database-guide/migrate-data-review.png)

1. Подключитесь к базе данных SQL Azure с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) и проверьте миграцию, просмотрев данные и схему.

   ![Проверка в SSMA](./media/access-to-sql-database-guide/validate-data.png)



## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, выполняемых после миграции, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из выполнения следующих действий.

  1. **Разработка проверочных тестов**. Чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

  2. **Настройка тестовой среды**. Тестовая среда должна содержать копию базы данных-источника и целевой базы данных. Не забудьте изолировать тестовую среду.

  3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

  4. **Запустите тесты производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.

### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных и проверки полноты, а также для устранения проблем с производительностью рабочей нагрузки.

Дополнительные сведения об этих проблемах и конкретные действия по их устранению см. в [руководстве по проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции 

Дополнительную помощь по выполнению этого сценария миграции см. в следующих ресурсах, которые были разработаны с учетом поддержки реальных проектов миграции.

| **Заголовок или ссылка**                                                                                                                                          | **Описание**                                                                                                                                                                                                                                                                                                                              |
| ------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Это средство предоставляет предлагаемые "оптимальные" целевые платформы, готовность к облаку и уровень исправления приложения/базы данных для конкретной рабочей нагрузки. Он обеспечивает простое, одноразовое вычисление и создание отчетов, которое существенно помогает ускорить оценку больших объемов, предоставляя и автоматизируя и равномерное решение целевой платформы. |


Эти ресурсы были разработаны в рамках программы Data SQL Ninja, которая спонсируется группой разработчиков Azure Data Group. Основная часть программы Data SQL Ninja заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе Data SQL Ninja, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.

## <a name="next-steps"></a>Дальнейшие действия

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных, а также специальных задач см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- См. дополнительные сведения о Базе данных SQL Azure:
   - [Общие сведения о базе данных SQL](../../database/sql-database-paas-overview.md)
   - [Калькулятор совокупной стоимости владения Azure](https://azure.microsoft.com/pricing/tco/calculator/) 


- Дополнительные сведения о структуре и цикле внедрения для миграции в облако см. в разделе
   -  [Cloud Adoption Framework для Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/contoso-migration-scale)
   -  [Рекомендации по затратам и изменению размеров рабочих нагрузок, переносятся в Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/migrate-best-practices-costs) 

- Чтобы оценить уровень доступа к приложениям, см. раздел [набор средств миграции для доступа к данным (Предварительная версия)](https://marketplace.visualstudio.com/items?itemName=ms-databasemigration.data-access-migration-toolkit)
- Дополнительные сведения о выполнении проверки уровня доступа к данным A/B см. [Database experimentation Assistant](/sql/dea/database-experimentation-assistant-overview).

