---
title: Доступ к базе данных SQL Azure. Руководство по миграции
description: В этом руководство описано, как перенести базы данных Microsoft Access в базу данных SQL Azure с помощью Помощник по миграции SQL Server для доступа (SSMA для Access).
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: f9fa2426e371ab9fd99e88979cbcbbb34adb00d6
ms.sourcegitcommit: c8b50a8aa8d9596ee3d4f3905bde94c984fc8aa2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2021
ms.locfileid: "105643589"
---
# <a name="migration-guide-access-to-azure-sql-database"></a>Руководство по миграции: доступ к базе данных SQL Azure

В этом руководство вы узнаете, как перенести базу данных Microsoft Access в базу данных SQL Azure с помощью Помощник по миграции SQL Server для доступа (SSMA для Access).

Другие руководства по миграции см. в [руководстве по миграции базы данных Azure](https://docs.microsoft.com/data-migration). 

## <a name="prerequisites"></a>Предварительные условия

Прежде чем приступить к переносу базы данных Access в базу данных SQL, выполните следующие действия.

- Убедитесь, что исходная среда поддерживается. 
- Скачайте и установите [Помощник по миграции SQL Server для доступа](https://www.microsoft.com/download/details.aspx?id=54255).
- Убедитесь в наличии подключения и необходимых разрешений для доступа к исходному и целевому объекту.

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий вы можете найти топологию среды и оценить возможность миграции.


### <a name="assess"></a>Оценка 

Используйте SSMA для доступа к проверке объектов и данных базы данных и оценки баз данных для миграции. 

Чтобы создать оценку, выполните следующие действия. 

1. Откройте [SSMA для доступа](https://www.microsoft.com/download/details.aspx?id=54255). 
1. Выберите **файл**, а затем выберите **Новый проект**. 
1. Укажите имя проекта и расположение проекта, а затем в раскрывающемся списке выберите **база данных SQL Azure** в качестве целевого объекта миграции. 
1. Нажмите кнопку **OK**. 

   ![Снимок экрана: панель "новый проект" для ввода имени и расположения проекта миграции.](./media/access-to-sql-database-guide/new-project.png)

1. Выберите **Добавить базы данных**, а затем выберите базы данных, которые будут добавлены в новый проект. 

   ![Снимок экрана вкладки "Добавление баз данных" в SSMA для Access.](./media/access-to-sql-database-guide/add-databases.png)

1. На панели **Обозреватель метаданных Access** щелкните правой кнопкой мыши базу данных и выберите команду **создать отчет**. Кроме того, можно выбрать вкладку **Создание отчета** в правом верхнем углу.

   ![Снимок экрана: команда "создать отчет" в обозревателе метаданных Access.](./media/access-to-sql-database-guide/create-report.png)

1. Проверьте отчет в формате HTML, чтобы понять статистику преобразования и все ошибки или предупреждения. Можно также открыть отчет в Excel, чтобы получить список объектов доступа и понять усилия, необходимые для выполнения преобразования схемы. Расположение отчета по умолчанию находится в папке "report" в каталоге SSMAProjects. Пример:

   `drive:\<username>\Documents\SSMAProjects\MyAccessMigration\report\report_<date>`

   ![Снимок экрана примера оценки отчета базы данных в SSMA.](./media/access-to-sql-database-guide/sample-assessment.png)

### <a name="validate-the-data-types"></a>Проверка типов данных

Проверьте сопоставления типов данных по умолчанию и при необходимости измените их в соответствии с вашими требованиями. Для этого сделайте следующее:

1. В SSMA для доступа выберите **инструменты** и щелкните **Параметры проекта**. 
1. Перейдите на вкладку **Сопоставление типов** . 

   ![Снимок экрана: панель "сопоставление типов" в SSMA для доступа.](./media/access-to-sql-database-guide/type-mappings.png)

1. Можно изменить сопоставление типов для каждой таблицы, выбрав имя таблицы на панели **Обозреватель метаданных Access** .


### <a name="convert-the-schema"></a>Преобразование схемы

Для преобразования объектов базы данных выполните следующие действия. 

1. Выберите вкладку **Подключение к базе данных SQL Azure** и выполните следующие действия.

   а. Введите сведения для подключения к базе данных SQL.  
   b. В раскрывающемся списке выберите целевую базу данных SQL. Можно также ввести новое имя, в этом случае база данных будет создана на целевом сервере.  
   c. Укажите сведения о проверке подлинности.   
   d. Выберите **Подключиться**.

   ![Снимок экрана: панель "подключение к базе данных SQL Azure" для ввода сведений о подключении.](./media/access-to-sql-database-guide/connect-to-sqldb.png)

1. На панели **Обозреватель метаданных Access** щелкните правой кнопкой мыши базу данных и выберите команду **преобразовать схему**. Кроме того, можно выбрать базу данных, а затем перейти на вкладку **Преобразование схемы** .

   ![Снимок экрана: команда "преобразовать схему" в области "Обозреватель метаданных Access".](./media/access-to-sql-database-guide/convert-schema.png)

1. После завершения преобразования Сравните преобразованные объекты с исходными объектами для выявления потенциальных проблем и устраните проблемы на основе рекомендаций.

   ![Снимок экрана, показывающий сравнение преобразованных объектов с исходными объектами.](./media/access-to-sql-database-guide/table-comparison.png)

    Сравните преобразованный текст Transact-SQL с исходным кодом и ознакомьтесь с рекомендациями.

   ![Снимок экрана, показывающий сравнение преобразованных запросов с исходным кодом.](./media/access-to-sql-database-guide/query-comparison.png) 

1. Используемых Чтобы преобразовать отдельный объект, щелкните его правой кнопкой мыши и выберите команду **преобразовать схему**. Преобразованные объекты отображаются полужирным шрифтом в **обозревателе метаданных Access**: 

   ![Снимок экрана, показывающий, что объекты в обозревателе метаданных Access преобразованы.](./media/access-to-sql-database-guide/converted-items.png)
 
1. На панели **вывода** выберите значок **проверки результатов** и проверьте ошибки на панели **Список ошибок** . 
1. Сохраните проект локально для исправления схемы в автономном режиме. Для этого выберите **файл**  >  **сохранить проект**. Это дает возможность оценить исходную и целевую схемы в автономном режиме и выполнить исправление перед публикацией в базе данных SQL.

## <a name="migrate-the-databases"></a>Перенос баз данных

После оценки баз данных и решения несоответствий можно запустить процесс миграции. Миграция данных — это операция групповой загрузки, которая перемещает строки данных в базу данных SQL Azure в транзакциях. Число строк, загружаемых в базу данных SQL в каждой транзакции, настраивается в параметрах проекта.

Чтобы опубликовать схему и перенести данные с помощью SSMA для доступа, выполните следующие действия. 

1. Если вы еще не сделали этого, выберите **подключиться к базе данных SQL Azure** и укажите сведения о подключении. 

1. Опубликуйте схему. На панели **обозревателя метаданных базы данных SQL Azure** щелкните правой кнопкой мыши базу данных, с которой вы работаете, и выберите **синхронизировать с базой данных**. Это действие публикует схему MySQL в базе данных SQL.

1. На панели **Синхронизация с базой данных** проверьте соответствие между исходным и целевым проектами:

   ![Снимок экрана с панелью "Синхронизация с базой данных" для просмотра синхронизации с базой данных.](./media/access-to-sql-database-guide/synchronize-with-database-review.png)

1. На панели **Обозреватель метаданных Access** установите флажки рядом с элементами, которые требуется перенести. Чтобы перенести всю базу данных, установите флажок рядом с базой данных. 

1. Перенос данных. Щелкните правой кнопкой мыши базу данных или объект, которые необходимо перенести, и выберите пункт **перенести данные**. Кроме того, можно выбрать вкладку **Миграция данных** в правом верхнем углу.  

   Чтобы перенести данные всей базы данных, установите флажок рядом с ее именем. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел **таблицы**, а затем установите флажок рядом с таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок.

    ![Снимок экрана: команда "перенести данные" на панели "Обозреватель метаданных Access".](./media/access-to-sql-database-guide/migrate-data.png)

1. После завершения миграции просмотрите **отчет о переносе данных**.  

    ![Снимок экрана: панель "перенос отчета", показывающая пример отчета для проверки.](./media/access-to-sql-database-guide/migrate-data-review.png)

1. Подключитесь к базе данных SQL Azure с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms)и проверьте миграцию, просмотрев данные и схему.

   ![Снимок экрана SQL Server Management Studio обозревателя объектов для проверки миграции в SSMA.](./media/access-to-sql-database-guide/validate-data.png)

## <a name="post-migration"></a>После миграции 

После успешного завершения этапа *миграции* необходимо выполнить ряд задач, выполняемых после миграции, чтобы убедиться, что все работает как можно более гладко и эффективно.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из следующих действий.

1. **Разработка проверочных тестов**. чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки для выполнения как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

1. **Настройка тестовой среды**. тестовая среда должна содержать копию базы данных-источника и целевую базу данных. Не забудьте изолировать тестовую среду.

1. **Выполнить проверочные тесты**: выполнить проверочные тесты для источника и целевого объекта, а затем проанализировать результаты.

1. **Запуск тестов производительности**: выполнение тестов производительности для источника и целевого объекта, а затем анализ и сравнение результатов.


### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных, проверки полноты и устранения проблем с производительностью рабочей нагрузки.

Дополнительные сведения об этих проблемах и действия по их устранению см. в руководстве по [проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции 

Дополнительную помощь по выполнению этого сценария миграции см. в следующем ресурсе. Она была разработана с учетом поддержки реального сотрудничества проекта миграции.

| Заголовок | Описание |
| --- | --- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Предлагаются Рекомендуемые целевые платформы, готовность к облаку и уровни исправления приложений и баз данных для указанных рабочих нагрузок. Он обеспечивает простое, одноразовое вычисление и создание отчетов, которое помогает ускорить оценку больших объемов, предоставляя автоматизированный, единообразный процесс принятия решений на основе целевой платформы. |

Специалисты по разработке данных SQL разработали эти ресурсы. Основная Устав этой команды заключается в разблокировании и ускорении сложных модернизации для проектов миграции платформы данных на платформу данных Microsoft Azure.

## <a name="next-steps"></a>Дальнейшие шаги

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных и специальных задач, см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- См. дополнительные сведения о Базе данных SQL Azure:
   - [Общие сведения о базе данных SQL](../../database/sql-database-paas-overview.md)
   - [Калькулятор совокупной стоимости владения Azure](https://azure.microsoft.com/pricing/tco/calculator/) 


- Дополнительные сведения о структуре и цикле внедрения для миграции в облако см. в следующих статьях:
   -  [Cloud Adoption Framework для Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/contoso-migration-scale)
   -  [Рекомендации по издержек и масштабированию рабочих нагрузок для миграции в Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/migrate-best-practices-costs) 

- Чтобы оценить уровень доступа к приложениям, см. раздел [набор средств миграции для доступа к данным (Предварительная версия)](https://marketplace.visualstudio.com/items?itemName=ms-databasemigration.data-access-migration-toolkit).
- Дополнительные сведения о выполнении проверки уровня доступа к данным A/B см. в разделе [Общие сведения о Database experimentation Assistant](/sql/dea/database-experimentation-assistant-overview).
