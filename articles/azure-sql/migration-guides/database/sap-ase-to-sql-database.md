---
title: 'SAP ASE в базу данных SQL Azure: руководство по миграции'
description: В этом руководстве описывается миграция баз данных SAP ASE в базу данных SQL Azure с помощью Помощник по миграции SQL Server для сервера адаптера SAP Enterprise.
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 81956a16142f314f54afd9d5a1b9055a559e906c
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "103565337"
---
# <a name="migration-guide-sap-ase-to-azure-sql-database"></a>Руководство по миграции: SAP ASE в базу данных SQL Azure
[!INCLUDE[appliesto-sqldb-sqlmi](../../includes/appliesto-sqldb.md)]

В этом руководстве описывается миграция баз данных SAP ASE в базу данных SQL Azure с помощью Помощник по миграции SQL Server для сервера адаптера SAP Enterprise.

Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

## <a name="prerequisites"></a>Предварительные требования 

Чтобы перенести базу данных SAP SE в базу данных SQL Azure, вам потребуется:

- проверить, что исходная среда поддерживается; 
- [Помощник по миграции SQL Server для SAP адаптивного сервера Enterprise (прежнее название — SAP SYBASE ASE)](https://www.microsoft.com/en-us/download/details.aspx?id=54256). 

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий можно приступать к поиску топологии среды и оценить возможность миграции.

### <a name="assess"></a>Оценка

Используйте [Помощник по миграции SQL Server (SSMA) для адаптивного сервера SAP (ФОРМАЛЬНО ASE SAP Sybase)](https://www.microsoft.com/en-us/download/details.aspx?id=54256) , чтобы просматривать объекты и данные базы данных, оценивать базы данных для миграции, переносить объекты базы данных Sybase в базу данных SQL Azure, а затем переносить данные в базу данных SQL Azure. Дополнительные сведения см. в разделе [Помощник по миграции SQL Server для Sybase (SybaseToSQL)](/sql/ssma/sybase/sql-server-migration-assistant-for-sybase-sybasetosql).

Чтобы создать оценку, выполните следующие действия. 

1. Откройте **SSMA для Sybase**. 
1. Выберите **Файл**, а затем пункт **Новый проект**. 
1. Укажите имя проекта, расположение для сохранения проекта, а затем выберите База данных SQL Azure в качестве целевого объекта миграции из раскрывающегося списка. Щелкните **ОК**.
1. Введите значения в поля сведения о подключении SAP в диалоговом окне **Подключение к Sybase** . 
1. Щелкните правой кнопкой мыши базу данных SAP, которую необходимо перенести, и выберите команду **создать отчет**. При этом создается HTML-отчет.
1. Ознакомьтесь с HTML-отчетом, чтобы получить сведения о статистике преобразований и любых ошибках или предупреждениях. Также можно открыть отчет в Excel, чтобы получить список объектов DB2 и усилия, необходимые для выполнения преобразования схемы. Расположение отчета по умолчанию находится в папке "report" в каталоге SSMAProjects.

   Например: `drive:\<username>\Documents\SSMAProjects\MyDB2Migration\report\report_<date>`. 


### <a name="validate-type-mappings"></a>Проверка сопоставления типов

Перед выполнением преобразования схемы проверьте сопоставления типов данных по умолчанию или измените их в зависимости от требований. Это можно сделать, перейдя в меню **Сервис** и выбрав пункт **Параметры проекта** , либо можно изменить сопоставление типов для каждой таблицы, выбрав таблицу в **обозревателе метаданных SAP ASE**.


### <a name="convert-schema"></a>Преобразовать схему

Чтобы преобразовать схему, выполните следующие действия.

1. Используемых Чтобы преобразовать динамические или нерегламентированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 
1. Выберите **Подключение к базе данных SQL Azure** в верхней строке панели навигации и укажите сведения о базе данных SQL Azure. Можно выбрать подключение к существующей базе данных или указать новое имя. в этом случае база данных будет создана на целевом сервере.
1. Щелкните правой кнопкой мыши схему SAP ASE в **обозревателе метаданных Sybase** и выберите команду **преобразовать схему**. Кроме того, можно выбрать пункт **преобразовать схему** в верхней строке панели навигации. 
1. Сравните и изучите структуру схемы для выявления потенциальных проблем. 

   После преобразования схемы этот проект можно сохранить локально для автономного исправления схемы. В меню **Файл** выберите команду **Сохранить проект**. Это дает возможность оценить исходную и целевую схемы в автономном режиме и выполнить исправление перед публикацией схемы в базе данных SQL Azure.

Дополнительные сведения см. в разделе [Преобразование схемы](/sql/ssma/sybase/converting-sybase-ase-database-objects-sybasetosql) .


## <a name="migrate"></a>Миграция 

После выполнения необходимых условий и выполнения задач, связанных с стадией **перед миграцией** , можно приступать к миграции схемы и данных.

Чтобы опубликовать схему и перенести данные, выполните следующие действия. 

1. Щелкните правой кнопкой мыши базу данных в **обозревателе метаданных базы данных SQL Azure** и выберите **синхронизировать с базой данных**.  Это действие публикует схему SAP ASE в экземпляре базы данных SQL Azure.
1. Щелкните правой кнопкой мыши схему SAP ASE в **обозревателе метаданных SAP ASE** и выберите пункт **перенести данные**.  Кроме того, можно выбрать вариант **перенести данные** из верхней строки панели навигации.  
1. После завершения миграции просмотрите **отчет о переносе данных**: 
1. Проверьте миграцию, просмотрев данные и схему в экземпляре базы данных SQL Azure с помощью Management Studio базы данных SQL Azure (SSMS).


## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, выполняемых после миграции, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из выполнения следующих действий.

1. **Разработка проверочных тестов**. Чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

2. **Настройка тестовой среды**. Тестовая среда должна содержать копию базы данных-источника и целевой базы данных. Не забудьте изолировать тестовую среду.

3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

4. **Запустите тесты производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.

### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных и проверки полноты, а также для устранения проблем с производительностью рабочей нагрузки.

> [!NOTE]
> Дополнительные сведения об этих проблемах и конкретные действия по их устранению см. в [руководстве по проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).


## <a name="next-steps"></a>Следующие шаги

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных, а также специальных задач см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- См. дополнительные сведения о Базе данных SQL Azure:
   - [Общие сведения о базе данных SQL](../../database/sql-database-paas-overview.md)
   - [Калькулятор совокупной стоимости владения Azure](https://azure.microsoft.com/pricing/tco/calculator/) 


- Дополнительные сведения о структуре и цикле внедрения для миграции в облако см. в разделе
   -  [Cloud Adoption Framework для Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/contoso-migration-scale)
   -  [Рекомендации по затратам и изменению размеров рабочих нагрузок, переносятся в Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/migrate-best-practices-costs) 

- Чтобы оценить уровень доступа к приложениям, см. раздел [набор средств миграции для доступа к данным (Предварительная версия)](https://marketplace.visualstudio.com/items?itemName=ms-databasemigration.data-access-migration-toolkit)
- Дополнительные сведения о выполнении проверки уровня доступа к данным A/B см. [Database experimentation Assistant](/sql/dea/database-experimentation-assistant-overview).
