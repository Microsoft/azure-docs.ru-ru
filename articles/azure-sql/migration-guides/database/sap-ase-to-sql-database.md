---
title: 'SAP ASE в базу данных SQL Azure: руководство по миграции'
description: В этом руководство вы узнаете, как перенести базы данных SAP ASE в базу данных SQL Azure с помощью Помощник по миграции SQL Server для сервера адаптера SAP Enterprise.
ms.service: sql-database
ms.subservice: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 138a23b610ab96194424bb0f88cf94f516c2d223
ms.sourcegitcommit: a9ce1da049c019c86063acf442bb13f5a0dde213
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2021
ms.locfileid: "105626458"
---
# <a name="migration-guide-sap-ase-to-azure-sql-database"></a>Руководство по миграции: SAP ASE в базу данных SQL Azure

[!INCLUDE[appliesto-sqldb-sqlmi](../../includes/appliesto-sqldb.md)]

Из этого руководства вы узнаете, как перенести базы данных корпоративного адаптера SAP (ASE) в базу данных SQL Azure с помощью Помощник по миграции SQL Server для сервера адаптера SAP Enterprise.

Другие руководства по миграции см. в [руководстве по миграции базы данных Azure](https://docs.microsoft.com/data-migration). 

## <a name="prerequisites"></a>Предварительные условия 

Прежде чем приступить к переносу базы данных SAP SE в базу данных SQL, выполните следующие действия.

- Убедитесь, что исходная среда поддерживается. 
- Скачайте и установите [Помощник по миграции SQL Server для SAP адаптивного сервера Enterprise (прежнее название — SAP SYBASE ASE)](https://www.microsoft.com/en-us/download/details.aspx?id=54256).
- Убедитесь в наличии подключения и необходимых разрешений для доступа к исходному и целевому объекту.

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий вы можете найти топологию среды и оценить возможность миграции.

### <a name="assess"></a>Оценка

Используя [Помощник по миграции SQL Server (SSMA) для адаптивного сервера SAP (ФОРМАЛЬНО ASE SAP Sybase)](https://www.microsoft.com/en-us/download/details.aspx?id=54256), можно просматривать объекты и данные базы данных, оценивать базы данных для миграции, переносить объекты базы данных Sybase в базу данных SQL, а затем переносить данные в базу данных SQL. Дополнительные сведения см. в статье [Помощник по миграции SQL Server для Sybase (SybaseToSQL)](/sql/ssma/sybase/sql-server-migration-assistant-for-sybase-sybasetosql).

Чтобы создать оценку, выполните следующие действия. 

1. Откройте SSMA для Sybase. 
1. Выберите **файл**, а затем выберите **Новый проект**. 
1. В области **Новый проект** введите имя и расположение проекта, а затем в раскрывающемся списке **перенести в** выберите **база данных SQL Azure**. 
1. Нажмите кнопку **OK**.
1. На панели **Подключение к Sybase** введите сведения о подключении SAP. 
1. Щелкните правой кнопкой мыши базу данных SAP, которую необходимо перенести, и выберите команду **создать отчет**. Будет создан отчет в формате HTML. Кроме того, можно выбрать вкладку **Создание отчета** в правом верхнем углу.
1. Проверьте отчет в формате HTML, чтобы понять статистику преобразования и все ошибки или предупреждения. Также можно открыть отчет в Excel для получения перечня объектов SAP ASE и усилий, необходимых для выполнения преобразований схемы. Расположение отчета по умолчанию находится в папке "report" в каталоге SSMAProjects. Пример:

   `drive:\<username>\Documents\SSMAProjects\MySAPMigration\report\report_<date>` 

### <a name="validate-the-type-mappings"></a>Проверка сопоставлений типов

Перед выполнением преобразования схемы проверьте сопоставления типов данных по умолчанию или измените их в зависимости от требований. Это можно сделать, выбрав **Сервис**  >  **Параметры проекта**, или можно изменить сопоставление типов для каждой таблицы, выбрав таблицу в **обозревателе метаданных SAP ASE**.

### <a name="convert-the-schema"></a>Преобразование схемы

Чтобы преобразовать схему, выполните следующие действия.

1. Используемых Чтобы преобразовать динамические или специализированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 
1. Выберите вкладку **Подключение к базе данных SQL Azure** , а затем введите сведения для базы данных SQL. Можно выбрать подключение к существующей базе данных или указать новое имя. В этом случае база данных будет создана на целевом сервере.
1. На панели **Обозреватель метаданных Sybase** щелкните правой кнопкой мыши схему SAP ASE, с которой вы работаете, и выберите команду **преобразовать схему**. 
1. После преобразования схемы Сравните и изучите преобразованную структуру с исходной структурой, которая выявляет потенциальные проблемы. 

   После преобразования схемы этот проект можно сохранить локально для автономного исправления схемы. Для этого выберите **файл**  >  **сохранить проект**. Это дает возможность оценивать исходную и целевую схемы в автономном режиме и выполнять исправление перед публикацией схемы в базе данных SQL.

1. На панели **вывода** выберите **Просмотреть результаты** и проверьте все ошибки на панели **Список ошибок** . 
1. Сохраните проект локально для исправления схемы в автономном режиме. Для этого выберите **файл**  >  **сохранить проект**. Это дает возможность оценивать исходную и целевую схемы в автономном режиме и выполнять исправление перед публикацией схемы в базе данных SQL.

## <a name="migrate-the-databases"></a>Перенос баз данных 

После выполнения необходимых условий и выполнения задач, связанных с стадией *перед переносом* , можно приступать к выполнению переноса схемы и данных.

Чтобы опубликовать схему и перенести данные, выполните следующие действия. 

1. Опубликуйте схему. На панели **обозревателя метаданных базы данных SQL Azure** щелкните правой кнопкой мыши базу данных и выберите **синхронизировать с базой данных**. Это действие публикует схему SAP ASE в базе данных SQL.

1. Перенос данных. На панели **обозревателя метаданных SAP ASE** щелкните правой кнопкой мыши базу данных или объект SAP ASE, которые требуется перенести, а затем выберите пункт **перенести данные**. Кроме того, можно выбрать вкладку **Миграция данных** в правом верхнем углу. 

   Чтобы перенести данные всей базы данных, установите флажок рядом с ее именем. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел **таблицы**, а затем установите флажок рядом с таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок. 
1. После завершения миграции просмотрите **отчет о переносе данных**. 
1. Проверьте миграцию, просмотрев данные и схему. Для этого подключитесь к базе данных SQL с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms).

## <a name="post-migration"></a>После миграции 

После успешного завершения этапа *миграции* необходимо выполнить ряд задач, выполняемых после миграции, чтобы убедиться, что все работает как можно более гладко и эффективно.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестовый подход к переносу базы данных состоит из следующих действий.

1. **Разработка проверочных тестов**. чтобы протестировать миграцию базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки для выполнения как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

1. **Настройка тестовой среды**. тестовая среда должна содержать копию базы данных-источника и целевую базу данных. Не забудьте изолировать тестовую среду.

1. **Выполнить проверочные тесты**: выполнить проверочные тесты для источника и целевого объекта, а затем проанализировать результаты.

1. **Запуск тестов производительности**: выполнение тестов производительности для источника и целевого объекта, а затем анализ и сравнение результатов.


### <a name="optimize"></a>Оптимизация

Этап, выполняемый после миграции, крайне важен для согласования любых проблем с точностью данных, проверки полноты и устранения проблем с производительностью рабочей нагрузки.

Дополнительные сведения об этих проблемах и действия по их устранению см. в руководстве по [проверке и оптимизации после миграции](/sql/relational-databases/post-migration-validation-and-optimization-guide).


## <a name="next-steps"></a>Дальнейшие шаги

- Сведения о службах и средствах Майкрософт и сторонних поставщиков, которые помогут вам в использовании различных сценариев переноса баз данных и данных и специальных задач, см. в разделе [служба и средства для переноса данных](../../../dms/dms-tools-matrix.md).

- Дополнительные сведения о базе данных SQL Azure см. в следующих статьях:
   - [Общие сведения о базе данных SQL](../../database/sql-database-paas-overview.md)
   - [Калькулятор совокупной стоимости владения Azure](https://azure.microsoft.com/pricing/tco/calculator/)  

- Дополнительные сведения о структуре и цикле внедрения для миграции в облако см. в следующих статьях:
   -  [Cloud Adoption Framework для Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/contoso-migration-scale)
   -  [Рекомендации по издержек и масштабированию рабочих нагрузок для миграции в Azure](/azure/cloud-adoption-framework/migrate/azure-best-practices/migrate-best-practices-costs) 

- Чтобы оценить уровень доступа к приложениям, см. раздел [набор средств миграции для доступа к данным (Предварительная версия)](https://marketplace.visualstudio.com/items?itemName=ms-databasemigration.data-access-migration-toolkit).
- Дополнительные сведения о выполнении проверки уровня доступа к данным A/B см. [Database experimentation Assistant](/sql/dea/database-experimentation-assistant-overview).
