---
title: Потоковая передача данных в Azure SQL ребро
description: Сведения о потоковой передаче данных в Azure SQL Server.
keywords: ''
services: sql-edge
ms.service: sql-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 05/19/2020
ms.openlocfilehash: f63ab040e750c0c642c9656a5482529b926e9295
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93392118"
---
# <a name="data-streaming-in-azure-sql-edge"></a>Потоковая передача данных в Azure SQL ребро

Azure SQL ребр предоставляет собственную реализацию возможностей потоковой передачи данных, называемую потоковой передачей T-SQL. Она обеспечивает потоковую передачу данных в режиме реального времени, аналитику и обработку событий для анализа и обработки больших объемов данных с быстрой потоковой передачей из нескольких источников одновременно. Потоковая передача T-SQL создается с помощью того же высокопроизводительного механизма потоковой передачи, который [Azure Stream Analytics](../stream-analytics/stream-analytics-introduction.md) в Microsoft Azure. Эта функция поддерживает аналогичный набор возможностей, предоставляемых Azure Stream Analytics, выполняющихся на границе.

Как и в случае с Stream Analytics, потоковая передача T-SQL распознает закономерности и связи в данных, извлеченных из ряда входных источников IoT, включая устройства, датчики и приложения. Эти шаблоны можно использовать для активации действий и запуска рабочих процессов. Например, можно создать оповещения, сведения о веб-канале в решении для создания отчетов или визуализации или сохранить данные для последующего использования. 

Потоковая передача T-SQL может помочь:

* анализ потоковой передачи данных телеметрии в реальном времени с устройств Интернета вещей;
* Используйте аналитику в режиме реального времени для данных, созданных из автономных и бездрайверных автомобилей.
* Используйте удаленный мониторинг и прогнозное обслуживание высокоценных промышленных или производственных ресурсов.
* Используйте обнаружение аномалий и распознавание шаблонов для считывания с датчика Интернета вещей в сельское хозяйство или ферме Energy.

## <a name="how-does-t-sql-streaming-work"></a>Как работает потоковая передача T-SQL?

Потоковая передача T-SQL работает точно так же, как [Azure Stream Analytics](../stream-analytics/stream-analytics-introduction.md#how-does-stream-analytics-work). Например, он использует концепцию потоковых *заданий* для обработки потоковой передачи данных в режиме реального времени. 

Задание Stream Analytics состоит из следующих компонентов:

- **Потоковый вход**: определяет соединения с источником данных для считывания потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых входов:
    - Центр Edge
    - Kafka (поддержка входных данных Kafka в настоящее время доступна только в версиях Intel/AMD64 Azure SQL ребр.)

- **Потоковый выход**: определяет соединения с источником данных для записи потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых выводов
    - Центр Edge
    - SQL (выходные данные SQL могут быть локальной базой данных в экземпляре Azure SQL, а также удаленным SQL Server или базой данных SQL Azure.) 

- **Потоковый запрос**: определяет преобразование, агрегирование, фильтрацию, сортировку и объединения, которые будут применяться к входному потоку перед его записью в выходной поток. Потоковый запрос основан на том же языке запросов, который используется Stream Analytics. Дополнительные сведения см. в разделе [язык запросов Stream Analytics](/stream-analytics-query/stream-analytics-query-language-reference).

> [!IMPORTANT]
> Потоковая передача T-SQL, в отличие от Stream Analytics, сейчас не поддерживает [использование ссылочных данных для уточняющих запросов](../stream-analytics/stream-analytics-use-reference-data.md) или [Использование UDF и UDA в потоковых заданиях](../stream-analytics/streaming-technologies.md#you-want-to-write-udfs-udas-and-custom-deserializers-in-a-language-other-than-javascript-or-c).

> [!NOTE]
> Потоковая передача T-SQL поддерживает только подмножество языковой зоны, поддерживаемой Stream Analytics. Дополнительные сведения см. в разделе [язык запросов Stream Analytics](/stream-analytics-query/stream-analytics-query-language-reference).

## <a name="limitations-and-restrictions"></a>ограничения

К потоковой передаче T-SQL применяются следующие ограничения и ограничения. 

- В любое конкретное время может быть активно только одно задание потоковой передачи. Задания, которые уже выполняются, должны быть остановлены перед запуском другого задания.
- Каждое выполнение задания потоковой передачи выполняется в одном потоке. Если задание потоковой передачи содержит несколько запросов, каждый запрос вычисляется в последовательном порядке.
- При остановке задания потоковой передачи в Azure SQL ребро может возникнуть задержка перед запуском следующего задания потоковой передачи. Эта задержка появилась, потому что базовый процесс потоковой передачи необходимо остановить в ответ на запрос на остановку задания, а затем перезапустить в ответ на запрос запуска задания. 
- Потоковая передача T-SQL в 32 секций для потока Kafka. Попытка настроить счетчик большего числа секций приведет к ошибке. 

## <a name="next-steps"></a>Дальнейшие действия

- [Создание задания Stream Analytics в Azure SQL ребро ](create-stream-analytics-job.md)
- [Просмотр метаданных, связанных с заданиями потока, в Azure SQL ребро ](streaming-catalog-views.md)
- [Создать внешний поток](create-external-stream-transact-sql.md)