---
title: Часто задаваемые вопросы
description: Ответы на часто задаваемые вопросы, связанные со службой "экземпляры контейнеров Azure"
author: macolso
ms.author: macolso
ms.topic: article
ms.date: 06/02/2020
ms.openlocfilehash: 2645c3f183e2217dff28a96c9c0d376eb82a6476
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "103573138"
---
# <a name="frequently-asked-questions-about-azure-container-instances"></a>Часто задаваемые вопросы о службе "экземпляры контейнеров Azure"

В этой статье рассматриваются часто задаваемые вопросы о службе "экземпляры контейнеров Azure".

## <a name="deployment"></a>Deployment (Развертывание)

### <a name="how-large-can-my-container-image-be"></a>Насколько велика возможность создания образа контейнера?

Максимальный размер развертываемого образа контейнера в службе "экземпляры контейнеров Azure" составляет 15 ГБ. Вы можете развертывать крупные образы в зависимости от доступности на момент развертывания, но это не гарантируется.

Размер образа контейнера влияет на время развертывания, поэтому обычно требуется, чтобы образы контейнера были как можно меньше.

### <a name="how-can-i-speed-up-the-deployment-of-my-container"></a>Как ускорить развертывание контейнера?

Поскольку один из основных определителями времени развертывания — это размер изображения, ищите способы уменьшения размера. Удалите ненужные слои или уменьшите размер слоев в изображении (путем выбора более светлого базового образа ОС). Например, если вы используете контейнеры Linux, рассмотрите возможность использования Alpine в качестве базового образа, а не полного сервера Ubuntu. Аналогично, для контейнеров Windows используйте базовый образ Nano Server, если это возможно. 

Также следует проверить список предварительно кэшированных образов в образах контейнеров Azure, доступных через API-интерфейс для [кэшированных изображений](/rest/api/container-instances/location/listcachedimages) . Вы можете переключить слой изображения для одного из предварительно кэшированных изображений. 

См. более [подробные рекомендации](container-instances-troubleshooting.md#container-takes-a-long-time-to-start) по сокращению времени запуска контейнера.

### <a name="what-windows-base-os-images-are-supported"></a>Какие образы базовой ОС Windows поддерживаются?

> [!NOTE]
> Из-за проблем с обратной совместимостью после обновлений Windows в 2020 следующие версии образа содержат минимальный номер версии, который мы рекомендуем использовать в базовом образе. Текущие развертывания, использующие более старые версии образов, не затрагиваются, но новые развертывания должны соответствовать следующим базовым образам. 

#### <a name="windows-server-2016-base-images"></a>Базовые образы Windows Server 2016

* [Nano Server](https://hub.docker.com/_/microsoft-windows-nanoserver): `sac2016` `10.0.14393.3506` или более поздняя версия
* [Windows Server Core](https://hub.docker.com/_/microsoft-windows-servercore): `ltsc2016`  `10.0.14393.3506` или более поздней версии

> [!NOTE]
> Образы Windows на основе Semi-Annualного канала выпуска 1709 или 1803 не поддерживаются.

#### <a name="windows-server-2019-and-client-base-images"></a>Windows Server 2019 и базовые образы клиента

* [Nano Server](https://hub.docker.com/_/microsoft-windows-nanoserver): `1809` `10.0.17763.1040` или более поздняя версия
* [Windows Server Core](https://hub.docker.com/_/microsoft-windows-servercore): `ltsc2019` , `1809` `10.0.17763.1040` или более поздней версии
* [Windows](https://hub.docker.com/_/microsoft-windows): `1809` `10.0.17763.1040` или более поздняя версия

### <a name="what-net-or-net-core-image-layer-should-i-use-in-my-container"></a>Какой уровень образа .NET или .NET Core следует использовать в моем контейнере? 

Используйте наименьшее изображение, удовлетворяющее вашим требованиям. Для Linux можно использовать образ *среды выполнения — Alpine* .NET Core, который поддерживался с момента выпуска .net Core 2,1. Для Windows, если используется полная платформа .NET Framework, необходимо использовать образ Windows Server Core (образ только для среды выполнения, например  *4.7.2-windowsservercore-ltsc2016*). Образы только для среды выполнения меньше, но не поддерживают рабочие нагрузки, для которых требуется пакет SDK для .NET.

> [!NOTE]
> ACI не может получать образы из реестров, не соответствующих OCI.

### <a name="what-types-of-container-registries-are-compatible-with-aci"></a>Какие типы реестров контейнеров совместимы с ACI?

ACI поддерживает извлечение изображений из записи контроля доступа и других сторонних реестров контейнеров, таких как DockerHub. ACI поддерживает извлечение изображений из записи контроля доступа и других совместимых с ними сторонних реестров контейнеров, таких как DockerHub, с конечной точкой, общедоступной для Интернета.

## <a name="availability-and-quotas"></a>Доступность и квоты

### <a name="how-many-cores-and-memory-should-i-allocate-for-my-containers-or-the-container-group"></a>Сколько ядер и памяти следует выделить для контейнеров или группы контейнеров?

Это действительно зависит от рабочей нагрузки. Запустите небольшие и протестируйте производительность, чтобы увидеть, как находятся ваши контейнеры. [Отслеживайте использование ресурсов ЦП и памяти](container-instances-monitor.md), а затем добавляйте ядра или память на основе типов процессов, развертываемых в контейнере.

Также проверьте [доступность ресурсов](container-instances-region-availability.md) для региона, в котором выполняется развертывание, для верхних границ для ядер ЦП и памяти, доступных для каждой группы контейнеров. 

> [!NOTE]
> Основная инфраструктура службы использует небольшой объем ресурсов группы контейнеров. Ваши контейнеры смогут получать доступ к большинству, но не ко всем ресурсам, выделенным группе. По этой причине запланируйте небольшой буфер ресурсов при запросе ресурсов для контейнеров в группе.

### <a name="what-underlying-infrastructure-does-aci-run-on"></a>В какой базовой инфраструктуре работает ACI?

Служба "экземпляры контейнеров Azure" предназначена для бессерверных контейнеров — службы по запросу, поэтому мы хотим сконцентрироваться на разработке контейнеров и не будем беспокоиться об инфраструктуре! Для тех, которые интересуют или хотят сравнивать производительность, ACI работает на наборах виртуальных машин Azure различных номеров SKU в основном из серии F и D. Мы планируем изменить это в будущем, так как мы продолжаем разрабатывать и оптимизировать службу. 

### <a name="i-want-to-deploy-thousand-of-cores-on-aci---can-i-get-my-quota-increased"></a>Я хочу развернуть тысячи ядер на ACI — можно ли увеличить квоту?
 
Да (иногда). Сведения о текущих квотах и ограничениях, которые могут быть увеличены по запросу, см. в статье [квоты и ограничения](container-instances-quotas.md) .

### <a name="can-i-deploy-with-more-than-4-cores-and-16-gb-of-ram"></a>Можно ли выполнить развертывание с более чем 4 ядрами и 16 ГБ ОЗУ?

Эта возможность пока недоступна. В настоящее время это максимальные значения для группы контейнеров. Обратитесь в службу поддержки Azure с конкретными требованиями или запросами. 

### <a name="when-will-aci-be-in-a-specific-region"></a>Когда будет ACI в определенном регионе?

Доступность текущего региона опубликована [здесь](container-instances-region-availability.md). Если у вас есть требование для определенного региона, обратитесь в службу поддержки Azure.

## <a name="features-and-scenarios"></a>Функции и сценарии

### <a name="how-do-i-scale-a-container-group"></a>Разделы справки масштабировать группу контейнеров?

В настоящее время масштабирование недоступно для контейнеров или групп контейнеров. Если вам нужно запустить больше экземпляров, используйте наш API для автоматизации и создания дополнительных запросов для создания группы контейнеров в службе. 

### <a name="what-features-are-available-to-instances-running-in-a-custom-vnet"></a>Какие функции доступны экземплярам, выполняемым в пользовательской виртуальной сети?

Вы можете [Развернуть группы контейнеров в выбранной виртуальной сети Azure](container-instances-vnet.md) и делегировать частные IP-адреса группам контейнеров, чтобы маршрутизировать трафик между виртуальными сетями в ресурсах Azure. Сценарии и ограничения для работы с сетью в службе "экземпляры контейнеров Azure" см. в статье [сценарии и ресурсы виртуальной сети](container-instances-virtual-network-concepts.md).

## <a name="pricing"></a>Цены

### <a name="when-does-the-meter-start-running"></a>Когда запускается Счетчик?

Длительность группы контейнеров вычисляется с момента, когда начинается извлечение образа первого контейнера (для нового развертывания) или перезапуска группы контейнеров (если она уже развернута), пока группа контейнеров не будет остановлена. Дополнительные сведения см. в разделе [цены на экземпляры контейнеров](https://azure.microsoft.com/pricing/details/container-instances/).

### <a name="do-i-stop-being-charged-when-my-containers-are-stopped"></a>Нужно ли прекратить оплату при остановке контейнеров?

Счетчики останавливаются после остановки всей группы контейнеров. Пока контейнер в группе контейнеров работает, мы содержали ресурсы на случай, если вы хотите запустить контейнеры снова. 

## <a name="next-steps"></a>Следующие шаги

* Дополнительные [сведения](container-instances-overview.md) о службе "экземпляры контейнеров Azure".
* [Устранение распространенных](container-instances-troubleshooting.md) неполадок в службе "экземпляры контейнеров Azure".
