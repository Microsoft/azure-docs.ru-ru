---
title: Время существования объекта и ресурса
description: Описание управления жизненным циклом различных типов
author: jakrams
ms.author: jakras
ms.date: 02/06/2020
ms.topic: conceptual
ms.openlocfilehash: 0945b35f7aff8e93a1a3ba23b89db288db3d8efa
ms.sourcegitcommit: f377ba5ebd431e8c3579445ff588da664b00b36b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2021
ms.locfileid: "99593897"
---
# <a name="object-and-resource-lifetime"></a>Время существования объекта и ресурса

Удаленная визуализация Azure различает два типа: **объекты** и **ресурсы**.

## <a name="object-lifetime"></a>Время существования объекта

*Объекты считаются объектами* , которые пользователь может создавать, изменять и уничтожать по собственному усмотрению. Объекты могут дублироваться свободно, и каждый экземпляр может измениться с течением времени. Следовательно, [сущности](entities.md) и [компоненты](components.md) являются объектами.

Время существования объектов полностью ограничено пользовательским контролем. Однако он не связан с жизненным циклом клиентского представления. Классы, такие как `Entity` и, `Component` имеют `Destroy` функцию, которая должна вызываться для освобождения объекта на удаленном узле отрисовки. Кроме того, `Entity.Destroy()` уничтожает сущность, ее дочерние элементы и все компоненты в этой иерархии.

## <a name="resource-lifetime"></a>Время существования ресурса

*Ресурсы* — это объекты, время существования которых полностью управляется узлом удаленной подготовки к просмотру. Ссылки на ресурсы подсчитываются внутренним образом. Они освобождаются, когда ни одна из них не ссылается на них.

Большинство ресурсов можно создавать только косвенно, обычно путем их загрузки из файла. Если один и тот же файл загружается несколько раз, удаленная визуализация Azure возвратит одну и ту же ссылку и не загрузит данные еще раз.

Многие ресурсы являются неизменяемыми, например [сетками](meshes.md) и [текстурами](textures.md)экземпляров. Однако некоторые ресурсы являются изменяемыми, например [материалами](materials.md). Так как ресурсы часто являются общими, изменение ресурса может повлиять на несколько объектов. Например, изменение цвета материала изменит цвет всех объектов, использующих сетки, которые, в свою очередь, будут ссылаться на этот материал.

### <a name="built-in-resources"></a>Встроенные ресурсы

Удаленная визуализация Azure содержит некоторые встроенные ресурсы, которые можно загрузить, добавив их в соответствующий идентификатор `builtin://` при вызове `RenderingSession.Connection.LoadXYZAsync()` . Доступные встроенные ресурсы перечислены в документации по каждой соответствующей функции. Например, в « [небесной» главе](../overview/features/sky.md) перечисляются встроенные геотекстуры.

## <a name="general-lifetime"></a>Общий срок жизни

Время существования всех объектов и ресурсов привязывается к соединению. При отключении все отбрасывается. При повторном подключении к тому же сеансу граф сцены будет пустым, а все ресурсы будут очищены.

На практике Загрузка одного и того же ресурса в сеанс после отключения обычно выполняется быстрее, чем при первом запуске. Это происходит, так как большинство ресурсов необходимо скачать из службы хранилища Azure впервые, что не является необходимым для второго времени, экономя значительное время.

## <a name="next-steps"></a>Дальнейшие действия

* [Сущности](entities.md)
* [Components](components.md)
* [Модели](models.md)
