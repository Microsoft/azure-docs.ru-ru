---
title: Управление метаданными артефакта учетной записи интеграции
description: Добавление или получение метаданных артефактов из учетных записей интеграции в Azure Logic Apps с помощью Пакета интеграции Enterprise
services: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, logicappspm
ms.topic: article
ms.date: 01/17/2019
ms.openlocfilehash: bc119f1ce8efb821781dabfb9dd259cc5c8d9c23
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "74792470"
---
# <a name="manage-artifact-metadata-in-integration-accounts-with-azure-logic-apps-and-enterprise-integration-pack"></a>Управление метаданными артефактов в учетных записях интеграции с помощью Azure Logic Apps и Пакета интеграции Enterprise

Вы можете определять пользовательские метаданные для артефактов в учетных записях интеграции и получать эти метаданные во время выполнения для использования в приложении логики. Например, можно указать метаданные для артефактов (партнеры, соглашения, схемы, сопоставления и др.) и сохранить все метаданные с помощью пар "ключ — значение". 

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас нет ее, вы можете <a href="https://azure.microsoft.com/free/" target="_blank">зарегистрироваться для получения бесплатной учетной записи Azure</a>.

* Базовая [учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md), содержащая артефакты, для которых необходимо добавить метаданные, например: 

  * [Партнер](logic-apps-enterprise-integration-partners.md)
  * [Соглашение](logic-apps-enterprise-integration-agreements.md)
  * [Схема](logic-apps-enterprise-integration-schemas.md)
  * [Схема](logic-apps-enterprise-integration-maps.md)

* Приложение логики, связанное с учетной записью интеграции, и метаданные артефактов, которые необходимо использовать. Если приложение логики еще не связано, узнайте, как [связывать приложения логики с учетными записями интеграции](logic-apps-enterprise-integration-create-integration-account.md#link-account). 

  Если у вас еще нет приложения логики, узнайте, как [его создать](../logic-apps/quickstart-create-first-logic-app-workflow.md). 
  Добавьте триггер и действия, с помощью которых вы хотите управлять метаданными артефактов. В экспериментальных целях в приложение логики также можно добавить такой триггер, как **Запрос** или **HTTP**.

## <a name="add-metadata-to-artifacts"></a>Добавление метаданных в артефакты

1. Войдите на <a href="https://portal.azure.com" target="_blank">портал Azure</a> с помощью учетных данных учетной записи Azure. Найдите и откройте учетную запись интеграции.

1. Выберите артефакт, в который необходимо добавить метаданные, а затем выберите **Изменить**. Введите сведения о метаданных для этого артефакта, например:

   ![Ввод метаданных](media/logic-apps-enterprise-integration-metadata/add-partner-metadata.png)

1. Когда все будет готово, нажмите кнопку **ОК**.

1. Чтобы просмотреть эти метаданные в определении нотации объектов JavaScript (JSON) для учетной записи интеграции, выберите **Редактирование в качестве JSON**, чтобы открылся редактор JSON: 

   ![JSON для метаданных партнера](media/logic-apps-enterprise-integration-metadata/partner-metadata.png)

## <a name="get-artifact-metadata"></a>Получение метаданных артефактов

1. На портале Azure откройте приложение логики, связанное с необходимой учетной записью интеграции. 

1. В конструкторе приложений логики, если вы добавляете шаг для получения метаданных в триггере или последнем действии в рабочем процессе, выберите **новый шаг**  >  **Добавить действие**. 

1. В поле поиска введите "учетная запись интеграции". Под полем поиска выберите **Все**. В списке действия выберите действие: **Поиск артефактов учетной записи интеграции — учетная запись интеграции** .

   ![Выбор функции "Поиск артефакта учетной записи интеграции"](media/logic-apps-enterprise-integration-metadata/integration-account-artifact-lookup.png)

1. Предоставьте эти сведения об артефакте, который необходимо найти:

   | Свойство | Обязательно | Значение | Описание | 
   |----------|---------|-------|-------------| 
   | **Тип артефакта** | Да | **Схема**, **Карта**, **Партнер**, **Соглашение** или пользовательский тип | Тип необходимого артефакта | 
   | **Имя артефакта** | Да | <*имя артефакта*> | Имя необходимого артефакта | 
   ||| 

   Предположим, что необходимо получить метаданные артефакта торгового партнера:

   ![Выбор типа артефакта и ввод имени артефакта](media/logic-apps-enterprise-integration-metadata/artifact-lookup-information.png)

1. Добавьте действие, которое будет использоваться для обработки этих метаданных, например:

   1. В разделе действия **Поиск артефакта учетной записи интеграции** выберите **Следующий шаг** и **Добавить действие**. 

   1. В поле поиска введите "http". В поле поиска выберите **встроенные** и выберите это действие: **http-HTTP** .

      ![Добавление действия HTTP](media/logic-apps-enterprise-integration-metadata/http-action.png)

   1. Предоставьте сведения о метаданных артефакта, которыми необходимо управлять. 

      Предположим, что необходимо получить метаданные `routingUrl`, добавленные ранее в этом разделе. Ниже приведены значения свойств, которые можно указать. 

      | Свойство | Обязательно | Значение | Описание | 
      |----------|----------|-------|-------------| 
      | **Метод** | Да | <*операция для выполнения*> | Операция HTTP, выполняемая с артефактом. Например, это действие HTTP использует метод **GET**. | 
      | **URI** | Да | <*метаданные — расположение*> | Чтобы получить доступ к значению метаданных `routingUrl` из полученного артефакта, можно использовать выражение, например: <p>`@{outputs('Integration_Account_Artifact_Lookup')['properties']['metadata']['routingUrl']}` | 
      | **Заголовки** | нет | <*значения header*> | Любые выходные данные заголовка из триггера, которые необходимо передать в действие HTTP. Например, чтобы передать значение свойства `headers` триггера, можно использовать такое выражение: <p>`@triggeroutputs()['headers']` | 
      | **Текст** | нет | <*текст — содержимое*> | Любое другое содержимое, которое необходимо передать с помощью свойства `body` действия HTTP. В этом примере значения `properties` артефакта передаются в действие HTTP: <p>1. Щелкните внутри свойства **Body** , чтобы появился список динамического содержимого. Если свойства не отображаются, выберите **Показать больше**. <br>2. в списке динамического содержимого в разделе **Поиск артефактов учетной записи интеграции** выберите **свойства**. | 
      |||| 

      Пример:

      ![Указание значений и выражений для действия HTTP](media/logic-apps-enterprise-integration-metadata/add-http-action-values.png)

   1. Чтобы проверить сведения, указанные для действия HTTP, просмотрите определение JSON приложения логики. На панели инструментов конструктора приложений логики выберите **Представление кода**, чтобы появилось определение JSON приложения, например:

      ![Определение JSON приложения логики](media/logic-apps-enterprise-integration-metadata/finished-logic-app-definition.png)

      После переключения обратно в конструктор приложений логики все использованные выражения будут отображаться разрешенными, например:

      ![Разрешенные выражения в конструкторе приложений логики](media/logic-apps-enterprise-integration-metadata/resolved-expressions.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Дополнительные сведения о соглашениях](logic-apps-enterprise-integration-agreements.md).
