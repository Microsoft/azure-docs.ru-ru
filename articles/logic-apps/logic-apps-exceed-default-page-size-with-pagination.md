---
title: Получение дополнительных элементов или записей с разбиением на страницы
description: Настройка разбиения на страницы для элементов, выходящих за пределы стандартного размера страницы для действий соединителя в Azure Logic Apps
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: article
ms.date: 04/11/2019
ms.openlocfilehash: d46bf711a46e27b81a1284b5fc55cf403b7da048
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "87090269"
---
# <a name="get-more-data-items-or-records-by-using-pagination-in-azure-logic-apps"></a>Получение дополнительных данных, элементов или записей с помощью разбиения на страницы в Azure Logic Apps

При извлечении данных, элементов или записей с помощью действия соединителя в [Azure Logic Apps](../logic-apps/logic-apps-overview.md) может случиться так, что результирующие наборы будут слишком большими и действие не сможет вернуть все результаты одновременно. В некоторых действиях результаты могут не вмещаться на стандартную страницу соединителя. В этом случае действие возвращает только первую страницу результатов. Например, для действия SQL Server **Get rows** размер страницы по умолчанию составляет 2048, но это значение зависит от других параметров.

Некоторые действия позволяют включить параметр *разбиения на страницы*, чтобы приложение логики получало больше результатов в соответствии с пределом разбиения на страницы, но возвращало эти результаты в виде одного сообщения после завершения действия. При использовании разбиения на страницы необходимо указать значение *порога*, которое обозначает целевое количество возвращаемых действием результатов. Тогда действие будет получать результаты, пока не будет достигнут указанный порог. Если общее количество элементов меньше заданного порога, действие извлекает все результаты.

При включенном параметре разбиения страницы результатов возвращаются с учетом размера страницы соединителя. Такое поведение означает, что вы можете получать больше результатов, чем определено заданным значением порога. Например, при использовании действия SQL Server **Get rows**, которое поддерживает разбиение на страницы, действуют следующие правила:

* Размер страницы по умолчанию для этого действия составляет 2048 записей.
* Предположим, что у вас есть 10 000 записей и вы указали значение 5000 для минимального количества записей.
* Разбиение на страницы обрабатывает страницы записей так, чтобы получать хотя бы указанное минимальное значение. В итоге вместо 5000 записей будет получено 6144 (3 страницы по 2048 записей).

Ниже приведен список с примерами соединителей, в которых можно превышать размер страницы по умолчанию для определенных действий.

* [Хранилище BLOB-объектов Azure](/connectors/azureblob/)
* [Dynamics 365](/connectors/dynamicscrmonline/)
* [Excel](/connectors/excel/)
* [HTTP](../connectors/connectors-native-http.md)
* [IBM DB2](/connectors/db2/)
* [Microsoft Teams](/connectors/teams/)
* [База данных Oracle](/connectors/oracle/)
* [Salesforce](/connectors/salesforce/)
* [SharePoint](/connectors/sharepointonline/)
* [SQL Server](/connectors/sql/)

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [получите бесплатную учетную запись Azure](https://azure.microsoft.com/free/).

* Приложение логики и действие, в котором вам нужно включить разбиение на страницы. Если у вас нет приложения логики, см. статью [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).

## <a name="turn-on-pagination"></a>Включение разбиения на страницы

Чтобы определить с помощью конструктора приложений логики, поддерживается ли разбиение на страницы в определенном действии, проверьте параметры действия в разделе **Разбиение на страницы**. В этом примере показано, как включить разбиение на страницы в SQL Server для действия **Get rows**.

1. В правом верхнем углу окна действия нажмите кнопку с многоточием ( **...** ), а затем выберите **Параметры**.

   ![Открытие параметров для действия](./media/logic-apps-exceed-default-page-size-with-pagination/sql-action-settings.png)

   Если действие поддерживает разбиение на страницы, здесь будет доступен параметр **Разбивка на страницы**.

1. Измените значение параметра **Разбивка на страницы** с **Выключено** на **Включено**. Для свойства **Порог** укажите целое число, которое обозначает целевое количество возвращаемых действием результатов.

   ![Определение минимального количества возвращаемых результатов](./media/logic-apps-exceed-default-page-size-with-pagination/sql-action-settings-pagination.png)

1. Когда вы будете готовы, нажмите кнопку **Готово**.

## <a name="workflow-definition---pagination"></a>Определение рабочего процесса — разбиение на страницы

Если вы включите разбиение на страницы для действия, которое поддерживает эту возможность, в определение рабочего процесса приложения логики будет добавлено свойство `"paginationPolicy"` вместе со свойством `"minimumItemCount"` в свойстве `"runtimeConfiguration"` этого действия, например:

```json
"actions": {
   "HTTP": {
      "inputs": {
         "method": "GET",
         "uri": "https://www.testuri.com"
      },
      "runAfter": {},
      "runtimeConfiguration": {
         "paginationPolicy": {
            "minimumItemCount": 1000
         }
      },
      "type": "Http"
   }
},
```

## <a name="get-support"></a>Получение поддержки

Если у вас есть вопросы, посетите [страницу вопросов и ответов по Azure Logic Apps на сайте Майкрософт](/answers/topics/azure-logic-apps.html).
