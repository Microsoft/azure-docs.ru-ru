---
title: Решения для распространенных ошибок и проблем в сценариях B2B
description: Поиск решений для распространенных ошибок и проблем при устранении неполадок в сценариях B2B в Azure Logic Apps
services: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, logicappspm
ms.topic: article
ms.date: 06/02/2017
ms.openlocfilehash: 6400cfe7e524dcc16e08c2bba7dfba4a62d00b2e
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "86232565"
---
# <a name="b2b-errors-and-solutions-for-azure-logic-apps"></a>Ошибки B2B и их решения для Azure Logic Apps

В этой статье содержатся сведения об устранении ошибок в сценариях Logic Apps B2B, а также приведены соответствующие действия по их решению.

## <a name="agreement-resolution"></a>Определение соглашения

### <a name="no-agreement-found"></a>Соглашение не найдено 

**Описание ошибки**: соглашение с параметрами разрешения соглашения не найдено.

**Действие пользователя**. Соглашение должно быть добавлено в учетную запись интеграции с согласованными бизнес-удостоверениями. Бизнес-идентификаторы должны совпадать с идентификаторами входящего сообщения.

### <a name="no-agreement-found-with-identities"></a>Соглашение с идентификаторами отсутствует

**Описание ошибки**: не найдено соглашение с удостоверениями: "AS2Identity":: "Partner1" and'AS2Identity "::" Partner3 "

**Действие пользователя**: недопустимое AS2-From или AS2-To, настроенные для соглашения. Введите правильные идентификаторы AS2-From (AS2 — от) и AS2-To (AS2 — кому) для сопоставления идентификаторов AS2 в заголовках сообщения AS2 с параметрами соглашения.

## <a name="as2"></a>AS2

### <a name="missing-as2-message-headers"></a>Отсутствуют заголовки сообщения AS2  

**Описание ошибки**: недопустимые заголовки AS2. Идентификатор AS2-From (AS2 — от) или AS2-To (AS2 — кому) пустой.

**Действие пользователя**: получено сообщение AS2, которое не содержит AS2-From или AS2-To или оба заголовка. Проверьте эти заголовки и исправьте их в соответствии с конфигурацией соглашения.

### <a name="missing-as2-message-body-and-headers"></a>Отсутствуют заголовки или текст сообщения AS2    

**Описание ошибки**: содержимое запроса равно null или пусто.

**Действие пользователя**: получено сообщение AS2, которое не содержит текст сообщения.

### <a name="as2-message-decryption-failure"></a>Ошибка расшифровки сообщения AS2

**Описание ошибки**: [обработка/ошибка: Расшифровка-сбой]

**Действие пользователя**: добавьте @base64ToBinary в AS2Message перед отправкой партнеру.

Пример:

```json
"HTTP": {
   "inputs": {
   "body": "@base64ToBinary(body('Encode_to_AS2_message')?['AS2Message']?['Content'])",
   "headers": "@body('Encode_to_AS2_message')?['AS2Message']?['OutboundHeaders']",
   "method": "POST",
   "uri": "xxxxx.xxx"
},
``` 

### <a name="mdn-decryption-failure"></a>Ошибка расшифровки MDN

**Описание ошибки**: [обработка/ошибка: Расшифровка-сбой]

**Действие пользователя**: добавьте @base64ToBinary в MDN перед отправкой партнеру.

Пример:

```json
"Response": {
   "inputs": {
   "body": "@base64ToBinary(body('Decode_AS2_message')?['OutgoingMDN']?['Content'])",
   "headers": "@body('Decode_AS2_message')?['OutgoingMDN']?['OutboundHeaders']",
   "statusCode": 200
},               
``` 

### <a name="missing-signing-certificate"></a>Отсутствует сертификат для подписи

**Описание ошибки**: для сертификата подписи не настроена сторона AS2. (AS2-From: partner1 AS2-To: partner2)

**Действие пользователя**: Настройте параметры соглашения AS2 с правильным сертификатом для подписи.

## <a name="x12-and-edifact"></a>X12 и EDIFACT

### <a name="leading-or-trailing-space-found"></a>Лишний начальный или конечный пробел    

**Описание ошибки**: во время синтаксического анализа произошла ошибка. Набор транзакций EDIFACT с ИДЕНТИФИКАТОРом "123456", содержащийся в обмене (без группы) с ИДЕНТИФИКАТОРом "987654", идентификатором отправителя "Partner1", ИДЕНТИФИКАТОРом получателя "Partner2" приостанавливается со следующими ошибками: "обнаружен начальный замыкающий разделитель"

**Действие пользователя**: параметры соглашения, которые должны быть настроены для разрешения начальных и конечных пробелов. в параметрах соглашения.

![Разрешение пробелов](./media/logic-apps-enterprise-integration-b2b-list-errors-solutions/leadingandtrailing.png)

### <a name="duplicate-check-has-enabled-in-the-agreement"></a>В соглашении включены повторяющиеся параметры проверки

**Описание ошибки**: дублирующийся контрольный номер

**Действие пользователя**: Эта ошибка означает, что полученное сообщение содержит дублирующиеся контрольные номера. Исправьте контрольные номера и повторно отправьте сообщение.

### <a name="missing-schema-in-the-agreement"></a>В соглашении отсутствует схема

**Описание ошибки**: во время синтаксического анализа произошла ошибка. Набор транзакций X12 с ИДЕНТИФИКАТОРом "564220001", содержащийся в функциональной группе с ИДЕНТИФИКАТОРом "56422", в обмене с ИДЕНТИФИКАТОРом "000056422" с ИДЕНТИФИКАТОРом отправителя "12345678", ИДЕНТИФИКАТОРом получателя "87654321", приостанавливается со следующими ошибками: "сообщение имеет неизвестный тип документа и не разрешается ни одной из существующих схем, настроенных в соглашении"

**Действие пользователя**: Настройте схему в параметрах соглашения.

### <a name="incorrect-schema-in-the-agreement"></a>Неправильная схема соглашения

**Описание ошибки**: сообщение имеет неизвестный тип документа и не разрешается ни одной из существующих схем, настроенных в соглашении.

**Действие пользователя**: Настройте правильную схему в параметрах соглашения.

## <a name="flat-file"></a>Неструктурированный файл

### <a name="input-message-with-no-body"></a>Входящее сообщение без текста

**Описание ошибки**: инвалидтемплате. Невозможно обработать выражения языка шаблона во входных данных действия Flat_File_Decoding в строке 1 и столбце 1902: обязательное свойство content ожидает значение, но возвращается Null. Путь ''.'.

**Действие пользователя**: Эта ошибка указывает на то, что входное сообщение не содержит текста.
