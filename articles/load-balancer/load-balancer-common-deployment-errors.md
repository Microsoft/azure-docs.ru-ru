---
title: Устранение стандартных ошибок развертывания
titleSuffix: Azure Load Balancer
description: Узнайте, как устранять распространенные ошибки при развертывании Azure Load Balancer
services: load-balancer
documentationcenter: na
tags: top-support-issue
author: anavinahar
ms.service: load-balancer
ms.topic: troubleshooting
ms.date: 04/27/2020
ms.author: anavin
ms.openlocfilehash: ae3899a61e942695fed1e3da5fc543b298a42e24
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94695560"
---
# <a name="troubleshoot-common-azure-deployment-errors-with-azure-load-balancer"></a>Устранение распространенных ошибок при развертывании в Azure с использованием Azure Load Balancer

В этой статье перечислены некоторые распространенные ошибки при развертывании Azure Load Balancer и описаны способы их устранения. Если вам нужны сведения о коде ошибки, который отсутствует в этой статье, сообщите нам об этом. Отзыв можно оставить внизу страницы. Все отзывы отслеживаются через раздел проблем на GitHub.

## <a name="error-codes"></a>Коды ошибок

| Код ошибки | Сведения о проблемах и способы их устранения |
| ------- | ---------- |
|DifferentSkuLoadBalancersAndPublicIPAddressNotAllowed| Ценовые категории общедоступного IP-адреса и Load Balancer должны совпадать. Убедитесь, что ценовые категории Load Balancer и общедоступного IP-адреса совпадают. Для производственных рабочих нагрузок рекомендуется ценовая категория "Стандартный". Дополнительные сведения о различиях между ценовыми категориями см. [здесь](./skus.md).  |
|DifferentSkuLoadBalancerAndPublicIPAddressNotAllowedInVMSS | Для масштабируемых наборов виртуальных машин по умолчанию применяются Load Balancer ценовой категории "Базовый", если ценовая категория не указана или в развертывании отсутствуют общедоступные IP-адреса категории "Стандартный". Повторно разверните масштабируемый набор виртуальных машин с общедоступными IP-адресами ценовой категории "Стандартный" для отдельных экземпляров, чтобы был выбран экземпляр Load Balancer ценовой категории "Стандартный". Или укажите этот же вариант при развертывании масштабируемого набора виртуальных машин на портале Azure. |
|MaxAvailabilitySetsInLoadBalancerReached | Внутренний пул Load Balancer может содержать не более 150 групп доступности. Если вы явно не определили группы доступности для виртуальных машин во внутреннем пуле, каждая виртуальная машина будет помещена в собственную группу доступности. Это означает, что при развертывании 150 изолированных виртуальных машин создаются 150 групп доступности, что является предельным значением. Альтернативный вариант — вручную развернуть группу доступности и добавить в нее дополнительные виртуальные машины. |
|нетворкинтерфацеандлоадбаланцерареиндифферентаваилабилитисетс | Для базового балансировщика нагрузки SKU сетевой интерфейс и балансировщик нагрузки должны находиться в одной группе доступности. |
|RulesOfSameLoadBalancerTypeUseSameBackendPortProtocolAndIPConfig| Вы не можете использовать более одного правила определенного типа подсистемы балансировки нагрузки (внутренняя или общедоступная) с одними и теми же внутренним портом и протоколом, на которые ссылается один и тот же масштабируемый набор виртуальных машин. Измените правило, чтобы избежать создания дублирующихся правил. |
|RulesOfSameLoadBalancerTypeUseSameBackendPortProtocolAndVmssIPConfig| Вы не можете использовать более одного правила определенного типа подсистемы балансировки нагрузки (внутренняя или общедоступная) с одними и теми же внутренним портом и протоколом, на которые ссылается один и тот же масштабируемый набор виртуальных машин. Измените параметры правила, чтобы избежать создания дублирующихся правил. |
|AnotherInternalLoadBalancerExists| Вы можете создать только один экземпляр Load Balancer с типом "внутренний", ссылающийся на один и тот же набор виртуальных машин или сетевых интерфейсов во внутренней части этого экземпляра Load Balancer. Обновите развертывание так, чтобы создавался только один экземпляр Load Balancer одного типа. |
|CannotUseInactiveHealthProbe| Вы не можете применить пробу, которая не используется ни одним правилом, настроенным для проверки работоспособности масштабируемого набора виртуальных машин. Убедитесь, что настроенная проба активно используется. |
|VMScaleSetCannotUseMultipleLoadBalancersOfSameType| Вы не можете использовать несколько экземпляров Load Balancer одного типа (внутренний, общедоступный). Вы можете использовать только один внутренний и один общедоступный экземпляр Load Balancer. |
|VMScaleSetCannotReferenceLoadbalancerWhenLargeScaleOrCrossAZ | Load Balancer ценовой категории "Базовый" не поддерживается для масштабируемых наборов виртуальных машин с несколькими размещениями или несколькими зонами доступности. Используйте Load Balancer ценовой категории "Стандартный". |
|MarketplacePurchaseEligibilityFailed | Переключитесь на правильную учетную запись администратора, чтобы разрешить покупки, так как используется подписка EA. С дополнительными сведениями вы можете ознакомиться [здесь](../marketplace/marketplace-faq-publisher-guide.md#what-could-block-a-customer-from-completing-a-purchase). |
|ResourceDeploymentFailure| Если подсистема балансировки нагрузки находится в состоянии сбоя, выполните следующие шаги, чтобы устранить это состояние:<ol><li>Перейдите на сайт https://resources.azure.com и выполните вход с учетными данными для портала Azure.</li><li>Выберите **Чтение и запись**.</li><li>В области слева разверните узел **Подписки**, а затем разверните подписку, в которой нужно обновить Load Balancer.</li><li>Разверните узел **Группы ресурсов**, а затем разверните группу ресурсов, в которой нужно обновить Load Balancer.</li><li>Выберите **Microsoft.Network** > **LoadBalancers**, а затем выберите обновляемый экземпляр Load Balancer (в нашем примере это **LoadBalancer_1**).</li><li>На странице сведений о **LoadBalancer_1** щелкните **GET** > **Правка**.</li><li>Обновите параметр **ProvisioningState**, указав вместо **Failed** значение **Succeeded**.</li><li>Выберите **PUT**.</li></ol>|
|  |  |

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения см. в [таблице сравнения ценовых категорий для Azure Load Balancer](./skus.md).
* Изучите сведения о [лимитах для Azure Load Balancer](../azure-resource-manager/management/azure-subscription-service-limits.md#load-balancer).