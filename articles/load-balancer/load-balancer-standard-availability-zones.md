---
title: Azure Load Balancer и Зоны доступности
titleSuffix: Azure Load Balancer
description: По этой схеме обучения приступайте к работе с Azure Load Balancer (цен. категория "Стандартный") и Зоны доступности.
services: load-balancer
documentationcenter: na
author: asudbring
ms.custom: seodec18
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/07/2020
ms.author: allensu
ms.openlocfilehash: 3c18b6d8dc44762649a9c07b88af348a18888fb5
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101699119"
---
# <a name="load-balancer-and-availability-zones"></a>Load Balancer и Зоны доступности

Azure Load Balancer поддерживает сценарии зон доступности. Load Balancer (цен. категория "Стандартный") можно использовать для повышения доступности в рамках сценария путем согласования ресурсов с и распределения между зонами.  Ознакомьтесь с этим документом, чтобы понять принципы и фундаментальные рекомендации по проектированию сценариев.

Load Balancer может быть **избыточной зоной, зональные** или **не зональные**. Чтобы настроить свойства, связанные с зоной (упомянутые выше) для балансировщика нагрузки, выберите необходимый тип интерфейсного интерфейса.

## <a name="zone-redundant"></a>Избыточное в пределах зоны

В регионе с Зоны доступности Load Balancer (цен. категория "Стандартный") может быть избыточным в пределах зоны. Этот трафик обслуживается одним IP-адресом.

Один интерфейсный IP-адрес будет выдерживаться при сбое зоны. Интерфейсный IP-адрес может использоваться для доступа ко всем (не затронутым) членам внутреннего пула вне зоны. Одна или несколько зон доступности могут завершиться ошибкой, и путь к данным останется в рабочем состоянии, если одна зона в регионе остается работоспособной.

IP-адрес внешнего интерфейса обрабатывается одновременно несколькими независимыми развертываниями инфраструктуры в нескольких зонах доступности. Любые повторные попытки или повторное выполнение будут успешно выполнены в других зонах, не затронутых сбоем зоны.

<p align="center">
  <img src="./media/az-zonal/zone-redundant-lb-1.svg" alt="Figure depicts a zone-redundant standard load balancer directing traffic in three different zones to three different subnets in a zone redundant configuration." width="512" title="NAT виртуальной сети">
</p>

*Рисунок. Подсистема балансировки нагрузки с избыточностью зоны*

## <a name="zonal"></a>Зональные

Вы можете обеспечить гарантированный интерфейс для одной зоны, который называется *зональные*.  Этот сценарий означает, что любой входящий или исходящий поток обслуживается одной зоной в регионе.  Ваш внешний интерфейс разделяет работоспособность зоны.  На путь к данным не оказывают влияние сбои в зонах за исключением случаев, где это гарантировано. Зональные внешние интерфейсы можно использовать для предоставления IP-адреса каждой зоне доступности.  

Кроме того, поддерживается использование интерфейсов зональные непосредственно для конечных точек с балансировкой нагрузки в пределах каждой зоны. Эту конфигурацию можно использовать для предоставления конечным точкам с балансировкой нагрузки каждой зоны для индивидуального мониторинга каждой зоны. Для общедоступных конечных точек их можно интегрировать с продуктом балансировки нагрузки DNS, например [диспетчером трафика](../traffic-manager/traffic-manager-overview.md) , и использовать одно DNS-имя.


<p align="center">
  <img src="./media/az-zonal/zonal-lb-1.svg" alt="Figure depicts three zonal standard load balancers each directing traffic in a zone to three different subnets in a zonal configuration." width="512" title="NAT виртуальной сети">
</p>

*Рисунок. балансировщик нагрузки зональные*

Для внешнего интерфейса общедоступной подсистемы балансировки нагрузки необходимо добавить параметр **Zones** в общедоступный IP-адрес. На этот общедоступный IP-адрес ссылается конфигурация интерфейсной IP-конфигурации, используемая соответствующим правилом.

Для внешнего интерфейса внутренней подсистемы балансировки нагрузки добавьте параметр **Zones** во внутреннюю IP-конфигурацию внутренней подсистемы балансировки нагрузки. Интерфейс зональные гарантирует IP-адрес в подсети для определенной зоны.

## <a name="design-considerations"></a><a name="design"></a> Рекомендации по проектированию

Теперь, когда вы понимаете свойства, связанные с зоной, для Load Balancer (цен. категория "Стандартный"), при проектировании для обеспечения высокого уровня доступности могут помочь следующие рекомендации по проектированию.

### <a name="tolerance-to-zone-failure"></a>Допуск к сбою зоны

- **Избыточная зона** Load Balancer может обслуживать ресурс зональные в любой зоне с одним IP-адресом.  IP-адрес может содержаться в одном или нескольких сбоях зоны, если по крайней мере одна зона остается работоспособной в пределах региона.
- **Зональныеный** интерфейс — это сокращение службы на единую зону и совместное судьба с соответствующей зоной. Если зона развертывания находится в отключенном виде, развертывание не будет продолжаться.

Рекомендуется использовать избыточную зону Load Balancer для рабочих нагрузок.

### <a name="control-vs-data-plane-implications"></a>Управление последствиями для управления VS плоскостью данных

Избыточность в зонах не подразумевает хитлесс плоскость данных или плоскость управления. Избыточные в пределах зоны потоки могут использовать любую зону, и потоки будут использовать все работоспособные зоны в регионе. В случае сбоя в зоне потоки трафика, использующие работоспособные зоны, не затрагиваются.

Потоки трафика, использующие зону во время сбоя зоны, могут быть затронуты, но приложения могут быть восстановлены. Трафик переходит в работоспособные зоны в пределах региона после повторной передачи, когда Azure выполнил схождение по причине сбоя зоны.

Ознакомьтесь с [шаблонами разработки облачных служб Azure](/azure/architecture/patterns/) , чтобы повысить устойчивость приложения к сценариям сбоя.

## <a name="next-steps"></a>Дальнейшие действия
- Дополнительные сведения о [зоны доступности](../availability-zones/az-overview.md)
- Дополнительные сведения о [Load Balancer (цен. Категория "Стандартный")](./load-balancer-overview.md)
- Сведения о [балансировке нагрузки виртуальных машин в пределах зоны с помощью зональные Load Balancer (цен. Категория "Стандартный")](./quickstart-load-balancer-standard-public-cli.md)
- Сведения о [балансировке нагрузки виртуальных машин в разных зонах с помощью избыточной зоны Load Balancer (цен. Категория "Стандартный")](./quickstart-load-balancer-standard-public-cli.md)
- Узнайте о [шаблонах разработки облачных служб Azure](/azure/architecture/patterns/) , чтобы повысить устойчивость приложения к сценариям сбоя.
