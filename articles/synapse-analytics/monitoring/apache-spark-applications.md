---
title: Мониторинг Apache Spark приложений с помощью синапсе Studio
description: Используйте синапсе Studio для мониторинга приложений Apache Spark.
services: synapse-analytics
author: matt1883
ms.service: synapse-analytics
ms.topic: how-to
ms.subservice: monitoring
ms.date: 04/15/2020
ms.author: mahi
ms.reviewer: mahi
ms.openlocfilehash: ea08c82ed5772be7e3a6094f5477c4450975c1fa
ms.sourcegitcommit: 2c1b93301174fccea00798df08e08872f53f669c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104775899"
---
# <a name="use-synapse-studio-to-monitor-your-apache-spark-applications"></a>Использование синапсе Studio для мониторинга приложений Apache Spark

С помощью Azure синапсе Analytics вы можете использовать Apache Spark для запуска записных книжек, заданий и других типов приложений в пулах Apache Spark в рабочей области.

В этой статье объясняется, как отслеживать Apache Spark приложения, позволяя следить за последним состоянием, проблемами и ходом выполнения.

В рамках этого руководства рассматриваются следующие задачи:

* Мониторинг работающего приложения Apache Spark
* Просмотр завершенного Apache Spark приложения
* Просмотр отмененного Apache Spark приложения
* Сбой отладки Apache Spark приложение

## <a name="prerequisites"></a>Предварительные требования

Прежде чем приступить к изучению этого руководства, убедитесь, что выполнены следующие требования.

- Рабочая область синапсе Studio. Инструкции см. [в разделе Создание рабочей области синапсе Studio](../../machine-learning/how-to-manage-workspace.md#create-a-workspace).

- Пул Apache Spark.

## <a name="view-apache-spark-applications"></a>Просмотр Apache Spark приложений 
Можно просмотреть все Apache Spark приложения из **монитора**  ->  **Apache Spark приложения**.
   ![приложения Apache Spark](./media/how-to-monitor-spark-applications/apache-spark-applications.png)

## <a name="view-completed-apache-spark-application"></a>Просмотр завершенного Apache Spark приложения

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о завершенных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

  ![Выбор выполненного задания](./media/how-to-monitor-spark-applications/select-completed-job.png)

1. Проверьте **Завершенные задачи**, **состояние** и **общую длительность**.

2. Обновить запрос журнала.

3. Чтобы открыть ссылку на сервер журнала Apache Spark, щелкните **сервер журнала Spark**.

4. Проверьте **Сводные** данные.

5. Проверьте **журналы**. Можно выбрать другой тип журналов из раскрывающегося списка, а также загрузить данные журнала, нажав кнопку **скачать журналы** и установив флажок **ошибки фильтра и предупреждения** , чтобы отфильтровать необходимые ошибки и предупреждения.

6. В созданном графе задания можно просмотреть общие сведения о задании. По умолчанию на диаграмме отображаются все задания. Это представление можно отфильтровать по **идентификатору задания**.

7. По умолчанию выбрано отображение **хода выполнения** . Чтобы проверить поток данных, выберите **ход выполнения** / **Чтение** / **записанной** / **длительности** в раскрывающемся списке **Отображение** .

8. Чтобы воспроизвести задание, нажмите кнопку **Воспроизведение** . Вы можете в любое время нажать кнопку " **приостанавливаться** " для ее завершения.

9. Используйте полосу прокрутки или полосу прокрутки, чтобы увеличить и уменьшить масштаб графика задания. также можно выбрать **масштаб** , чтобы вписать его в область экрана.

10. В узле граф заданий отображаются следующие сведения о каждом этапе.

    * ID.

    * имя или описание;

    * общее количество задач;

    * Чтение данных: сумма размера входных данных и размер данных чтения в случайном порядке.

    * Запись данных: сумма размера вывода и размер записи в случайном порядке.

    * время выполнения: время от начала первой попытки до завершения последней попытки;

    * число строк: сумма входных записей, выходных записей, записей смешанного чтения и записей смешанной записи;

    * ход выполнения.

     ![Просмотр завершенного задания](./media/how-to-monitor-spark-applications/view-completed-job.png)
    
11. Щелкните **Просмотреть сведения** на диаграмме, после чего отобразятся сведения о шаге.

    ![сведения для этапа](./media/how-to-monitor-spark-applications/details-for-stage.png)


## <a name="monitor-running-apache-spark-application"></a>Мониторинг работающего приложения Apache Spark

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о Apache Spark приложениях, которые выполняются, выберите приложение отправки Apache Spark и просмотрите сведения. Если приложение Apache Spark все еще выполняется, можно отслеживать ход выполнения.

   ![Выбор выполняющегося задания](./media/how-to-monitor-spark-applications/select-running-job.png)

1. Проверьте **Завершенные задачи**, **состояние** и **общую длительность**.

2. **Отмена** Apache Spark приложения.

3. **Обновить** Запрос журнала.

4. Нажмите кнопку **пользовательского интерфейса Spark** , чтобы открыть страницу задания Spark.

5. Просмотр диаграммы. В созданном графе задания можно просмотреть общие сведения о задании. См. шаг 6, 7, 8, 9, 10 [представления завершено Apache Spark приложении](#view-completed-apache-spark-application).

6. Проверьте **Сводные** данные.

7. Проверьте вкладку Диагностика на **вкладке Диагностика.**

8. Проверьте **журналы** на этой вкладке. Можно выбрать другой тип журналов из раскрывающегося списка, а также загрузить данные журнала, нажав кнопку **скачать журналы** и установив флажок **ошибки фильтра и предупреждения** , чтобы отфильтровать необходимые ошибки и предупреждения.

    ![Просмотр выполняемого задания](./media/how-to-monitor-spark-applications/view-running-job.png)

## <a name="view-canceled-apache-spark-application"></a>Просмотр отмененного Apache Spark приложения

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения об отмененных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

 ![Выбор отмененного задания](./media/how-to-monitor-spark-applications/select-cancelled-job.png) 

1. Проверьте **Завершенные задачи**, **состояние** и **общую длительность**.

2. Обновите запрос журнала.

3. Откройте ссылку на сервер журнала Apache, щелкнув **сервер журнала Spark**.

4. Просмотр диаграммы. В созданном графе задания можно просмотреть общие сведения о задании. См. шаг 6, 7, 8, 9, 10 [представления завершено Apache Spark приложении](#view-completed-apache-spark-application).

5. Проверьте **Сводные** данные.

6. Проверьте **журналы**. Можно выбрать другой тип журналов из раскрывающегося списка, а также загрузить данные журнала, нажав кнопку **скачать** журналы и установив флажок **ошибки фильтра и предупреждения** , чтобы отфильтровать необходимые ошибки и предупреждения.

7. Щелкните **Просмотреть сведения** на диаграмме, после чего отобразятся сведения о шаге.

   ![Просмотр отмененного задания](./media/how-to-monitor-spark-applications/view-cancelled-job.png)

## <a name="debug-failed-apache-spark-application"></a>Сбой отладки Apache Spark приложение

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о неудачных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

![Выберите невыполненное задание](./media/how-to-monitor-spark-applications/select-failed-job.png)

1. Проверьте **Завершенные задачи**, **состояние** и **общую длительность**.

2. Обновить запрос журнала.

3. Чтобы открыть ссылку на сервер журнала Apache Spark, щелкните **сервер журнала Spark**.

4. Просмотр диаграммы. В созданном графе задания можно просмотреть общие сведения о задании. См. шаг 6, 7, 8, 9, 10 [представления завершено Apache Spark приложении](#view-completed-apache-spark-application) .

5. Проверьте **Сводные** данные.

6. Проверьте сведения об ошибке.

   ![сведения о невыполненном задании](./media/how-to-monitor-spark-applications/failed-job-info.png)

## <a name="compare-apache-spark-applications"></a>Сравнение Apache Spark приложений

Существует два способа сравнения приложений. Для сравнения можно выбрать **приложение сравнения** или нажать кнопку **сравнить в записной книжке** , чтобы просмотреть его в записной книжке.

### <a name="compare-by-choose-an-application"></a>Сравнение по выбору приложения

Нажмите кнопку **сравнить приложения** и выберите приложение, чтобы сравнить производительность, можно интуитивно увидеть разницу между двумя приложениями.

![Сравнение приложений](./media/how-to-monitor-spark-applications/compare-applications.png)

![сведения о сравнении приложений](./media/how-to-monitor-spark-applications/details-compare-applications.png)

1. Используйте мышь для наведения указателя мыши на приложение, после чего отображается значок **сравнить приложения** .

2. Щелкните значок **Сравнение приложений** , и на странице Сравнение приложений появится всплывающее окно.

3. Нажмите кнопку **выбрать приложение** , чтобы открыть страницу **Выбор приложения сравнения** .

4. При выборе приложения сравнения необходимо либо ввести URL-адрес приложения, либо выбрать его из повторяющегося списка. Затем нажмите кнопку " **ОК** ". 

   ![Выбор приложения сравнения](./media/how-to-monitor-spark-applications/choose-comparison-application.png)

5. Результат сравнения будет отображаться на странице Сравнение приложений.

   ![результат сравнения](./media/how-to-monitor-spark-applications/comparison-result.png)

### <a name="compare-by-compare-in-notebook"></a>Сравнить по сравнению в записной книжке

Нажмите кнопку **сравнить в записной книжке** на странице **Сравнение приложений** , чтобы открыть записную книжку. Имя ipynb-файла по умолчанию — это **перетекущая версия аналитики приложений**.

![сравнить в записной книжке](./media/how-to-monitor-spark-applications/compare-in-notebook.png)

В файле записной книжки: перетекущий файл аналитики приложений можно запустить его непосредственно после настройки пула и языка Spark.

![перетекущая Аналитика приложений](./media/how-to-monitor-spark-applications/recurrent-application-analytics.png)

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о выполнении конвейера мониторинга см. в статье [выполнение конвейера мониторинга с помощью синапсе Studio](how-to-monitor-pipeline-runs.md) .
