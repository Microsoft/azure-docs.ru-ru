---
title: Заметки о выпуске для выделенного пула SQL (ранее — хранилище данных SQL)
description: Заметки о выпуске для выделенного пула SQL (ранее — хранилища данных SQL) в Azure синапсе Analytics.
services: synapse-analytics
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: sql-dw
ms.date: 4/30/2020
author: anumjs
ms.author: anjangsh
ms.reviewer: jrasnick
manager: craigg
ms.custom: seo-lt-2019
tags: azure-synapse
ms.openlocfilehash: 4f333c4bb66195e6c99bd45dcc7c29a0b9a2eaa9
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100591411"
---
# <a name="dedicated-sql-pool-formerly-sql-dw-in-azure-synapse-analytics-release-notes"></a>Заметки о выпуске для выделенного пула SQL (прежнее название — SQL DW) в Azure синапсе Analytics

В этой статье перечислены новые функции и усовершенствования в последних выпусках [выделенного пула SQL (ранее — хранилища данных SQL)](sql-data-warehouse-overview-what-is.md) в Azure синапсе Analytics. В ней также указаны заметные обновления содержимого, которые не связаны напрямую с выпуском, но опубликованы в тот же интервал времени. Улучшения других служб Azure см. в статье [Обновления Azure](https://azure.microsoft.com/updates).

## <a name="check-your-dedicated-sql-pool-formerly-sql-dw-version"></a>Проверьте выделенную версию пула SQL (прежнее название — SQL DW)

Так как новые функции развертываются во всех регионах, проверьте, какая версия развернута в вашем экземпляре, а также изучите актуальные заметки о выпуске, чтобы узнать о доступности функции. Чтобы проверить версию, подключитесь к выделенному пулу SQL (ранее SQL DW) через SQL Server Management Studio (SSMS) и выполните команду, `SELECT @@VERSION;` чтобы вернуть текущую версию. Используйте эту версию для подтверждения того, какой выпуск был применен к выделенному пулу SQL (ранее — хранилище данных SQL). Дата в выходных данных определяет месяц выпуска, применяемого к выделенному пулу SQL (ранее — хранилище данных SQL). Он применяется только к улучшениям на уровне службы. 

Для улучшений инструментов убедитесь, что у вас установлена правильная версия, указанная в заметке о выпуске. 

> [!NOTE]
> Имя продукта, возвращенное с помощью команды SELECT @@VERSION, изменится с хранилища данных SQL Microsoft Azure на Microsoft Azure Synapse Analytics. Перед внесением изменений будет отправлено дополнительное уведомление. Это изменение относится к клиентам, которые анализируют название продукта по результату команды SELECT @@VERSION в коде приложения. Чтобы избежать изменений в коде приложения из-за ребрендинга продукта, используйте эти команды, чтобы запросить SERVERPROPERTY для названия продукта базы данных и версии. Для получения номера версии XX.X.XXXXX.X (без названия продукта) выполните следующую команду:
>
> ```sql
> SELECT SERVERPROPERTY('ProductVersion')
>
> --To return engine edition, use this command that returns 6 for Azure Synapse Analytics:
>
> SELECT SERVERPROPERTY('EngineEdition')
> ```

## <a name="dec-2020"></a>Dec 2020

| Улучшения службы | Сведения |
| --- | --- |
|**Sp_rename хранимых процедур для столбцов (Предварительная версия)**|Переименование столбца без [CTAS](./sql-data-warehouse-develop-ctas.md) стало еще проще. Azure синапсе SQL теперь добавил поддержку системной хранимой процедуры sp_rename (Предварительная версия) для переименования столбца без распределения в пользовательской таблице. Сейчас эта функция доступна в предварительной версии. она будет поддерживаться в общедоступных средствах. Дополнительные сведения см. в разделе [sp_rename](/sql/relational-databases/system-stored-procedures/sp-rename-transact-sql?view=azure-sqldw-latest&preserve-view=true).|
|**Дополнительный параметр для прогноза T-SQL**|В этом новом выпуске добавлен обязательный дополнительный параметр с именем RUNTIME для существующей инструкции T-SQL PREDICT. Сведения об обновлении существующих скриптов см. в разделе примеры в [T-SQL Predict](/sql/t-sql/queries/predict-transact-sql?view=azure-sqldw-latest&preserve-view=true).|

## <a name="oct-2020"></a>Октябрь 2020

| Улучшения службы | Сведения |
| --- | --- |
|**Встроенные функции Table-Valued T-SQL (Предварительная версия)**|В этом выпуске теперь можно создавать встроенные функции с табличным значением с помощью Transact-SQL и запрашивать их результаты, как в таблице. Сейчас эта функция доступна в предварительной версии. она будет поддерживаться в общедоступных средствах. Дополнительные сведения см. в статье [Создание функции (Azure синапсе Analytics)](/sql/t-sql/statements/create-function-sql-data-warehouse?view=azure-sqldw-latest&preserve-view=true).|
|**Команда MERGE (Предварительная версия)**|Теперь можно выполнять операции вставки, обновления или удаления в целевой таблице из результатов объединения с исходной таблицей. Например, можно синхронизировать две таблицы путем вставки, обновления или удаления строк в одной таблице на основании отличий, найденных в другой таблице.  Дополнительные сведения см. в инструкции [Merge](/sql/t-sql/statements/merge-transact-sql??view=azure-sqldw-latest&preserve-view=true) .|

## <a name="aug-2020"></a>Авг 2020

| Улучшения службы | Сведения |
| --- | --- |
|**Управление рабочей нагрузкой — интерфейс портала**|Пользователи могут настраивать параметры управления рабочей нагрузкой и управлять ими с помощью портала Azure. Вы можете настраивать важные [группы рабочей нагрузки](./quickstart-configure-workload-isolation-portal.md) и [классификаторы рабочей нагрузки](./quickstart-create-a-workload-classifier-portal.md).|
|**Улучшено представление каталога сопоставления таблиц**|Новое представление каталога [sys.pdw_permanent_table_mappings](/sql/relational-databases/system-catalog-views/sys-pdw-permanent-table-mappings-transact-sql) сопоставляет **object_ids** постоянных пользовательских таблиц с их именами физических таблиц.|

## <a name="july-2020"></a>Июль 2020 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Шифрование на уровне столбцов (общедоступная Предварительная версия)**|Защитите конфиденциальную информацию в Azure синапсе Analytics, применив симметричное шифрование к столбцу данных с помощью Transact-SQL. Шифрование на уровне столбцов содержит встроенные функции, которые можно использовать для шифрования данных с помощью симметричных ключей, которые дополнительно защищаются сертификатом, паролем, симметричным ключом или асимметричным ключом. Дополнительные сведения см. [в статье шифрование столбца данных](/sql/relational-databases/security/encryption/encrypt-a-column-of-data?view=azure-sqldw-latest&preserve-view=true).|
|**Поддержка уровня совместимости (GA)**|В этом выпуске пользователи теперь могут задать уровень совместимости базы данных, чтобы определять язык Transact-SQL и поведение обработки запросов конкретной версии ядра Synapse SQL. Дополнительные сведения см. в статьях [sys.database_scoped_configurations (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-database-scoped-configurations-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) и [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](/sql/t-sql/statements/alter-database-scoped-configuration-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|
|**Безопасность на уровне строк**|Этот выпуск включает в себя улучшение операций обновления и удаления строк с принудительным применением RLS. В этом выпуске операции обновления и удаления с внутренними функциями, такими как "is_rolemember", будут выполнены, если встроенная функция не ссылается ни на один столбец в целевой таблице DML. До этого улучшения произошел сбой этих операций из-за ограничений в базовых операциях DML.|
|**DBCC SHRINKDATABASE (GA)**|Теперь размер файлов данных и журналов можно сжать в указанной базе данных. Дополнительные сведения см. в [документации](/sql/t-sql/database-console-commands/dbcc-shrinkdatabase-transact-sql?view=azure-sqldw-latest&preserve-view=true).|

## <a name="may-2020"></a>Май 2020 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Изоляция рабочей нагрузки (GA)**|[Изоляция рабочей нагрузки](./sql-data-warehouse-workload-isolation.md) теперь общедоступна.  С помощью [групп рабочей нагрузки](/sql/t-sql/statements/create-workload-group-transact-sql?view=azure-sqldw-latest&preserve-view=true) можно резервировать и содержать ресурсы.  Вы также можете настроить время ожидания запросов на отмену неконтролируемых запросов.|
|**Интерфейс портала управления рабочими нагрузками (предварительная версия)**| Пользователи могут настраивать параметры управления рабочей нагрузкой и управлять ими с помощью портала Azure.  Вы можете настраивать важные [группы рабочей нагрузки](./quickstart-create-a-workload-classifier-portal.md) и [классификаторы рабочей нагрузки](./quickstart-create-a-workload-classifier-portal.md).|
|**ALTER WORKLOAD GROUP**|Теперь доступна возможность использовать команду [ALTER WORKLOAD GROUP](/sql/t-sql/statements/alter-workload-group-transact-sql?view=azure-sqldw-latest&preserve-view=true).  С помощью команды ALTER вы можете изменять конфигурацию существующей [группы рабочей нагрузки](./sql-data-warehouse-workload-isolation.md).|
|**Автоматическое обнаружение схемы для файлов Parquet с помощью команды COPY (Предварительная версия)**|[Команда COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true) теперь поддерживает автоматическое обнаружение схемы при загрузке файлов Parquet. Команда автоматически обнаруживает схему файла Parquet и создает таблицу перед загрузкой. Чтобы включить эту функцию, обратитесь к следующему списку рассылки электронной почты: sqldwcopypreview@service.microsoft.com . |
|**Загрузка сложных типов данных Parquet с помощью команды COPY (Предварительная версия)**|[Команда COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true) теперь поддерживает загрузку сложных типов Parquet. Сложные типы, такие как Maps и Lists, можно загружать в строковые столбцы.  Чтобы включить эту функцию, обратитесь к следующему списку рассылки электронной почты: sqldwcopypreview@service.microsoft.com . |
|**Автоматическое обнаружение сжатия файлов Parquet с помощью команды COPY**|[Команда COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true) теперь поддерживает автоматическое обнаружение метода сжатия файлов Parquet. Чтобы включить эту функцию, обратитесь к следующему списку рассылки электронной почты: sqldwcopypreview@service.microsoft.com .|
|**Дополнительные рекомендации по загрузке**|[Рекомендации по загрузке](./sql-data-warehouse-concept-recommendations.md) теперь доступны для Synapse SQL. Получайте упреждающие уведомления, когда необходимо разделить файлы на максимальную пропускную способность, совместное размещение учетной записи хранения с выделенным пулом SQL (ранее — хранилище данных SQL) или увеличение размера пакета при использовании таких служебных программ, как SQLBulkCopy API или BCP|
|**Обновляемый столбец распределения T-SQL (GA)**|Теперь пользователи могут обновлять данные, хранимые в столбце распределения. Ознакомьтесь [с руководством по проектированию распределенных таблиц в выделенном пуле SQL (ранее — в хранилище данных SQL)](./sql-data-warehouse-tables-distribute.md) .|
|**T-SQL: обновление и удаление из объединений (GA)**|Теперь доступна возможность выполнять обновления и удаления на основе результатов объединения с другой таблицей. Дополнительные сведения см. в документации по командам [Update](/sql/t-sql/queries/update-transact-sql?view=azure-sqldw-latest&preserve-view=true) и [Delete](/sql/t-sql/statements/delete-transact-sql?view=azure-sqldw-latest&preserve-view=true).|
|**PREDICT T-SQL (предварительная версия)**|Теперь вы можете прогнозировать модели машинного обучения в хранилище данных, избегая больших и сложных перемещений данных. Для работы функции PREDICT T-SQL необходимо иметь открытую платформу моделей и использовать данные и модель машинного обучения в качестве входных данных для создания прогнозов. Дополнительные сведения см. в [этой документации](/sql/t-sql/queries/predict-transact-sql?view=azure-sqldw-latest&preserve-view=true).|

## <a name="april-2020"></a>Апрель 2020 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Уровень совместимости базы данных (предварительная версия)**| В этом выпуске пользователи теперь могут задать уровень совместимости базы данных, чтобы определять язык Transact-SQL и поведение обработки запросов конкретной версии ядра Synapse SQL. Дополнительные сведения см. в статьях [sys.database_scoped_configurations (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-database-scoped-configurations-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) и [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](/sql/t-sql/statements/alter-database-scoped-configuration-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|
|**sp_describe_undeclared_parameters**| Позволяет пользователям просматривать метаданные о необъявленных параметрах в пакете Transact-SQL. Дополнительные сведения см. в статье [sp_describe_undeclared_parameters (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).| <br/><br/><br/>

| Улучшения инструментов                                         | Сведения                                                      |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| **[Visual Studio 16.6 (предварительная версия 5)](/visualstudio/releases/2019/release-notes-preview#--visual-studio-2019-version-166-preview-5-) — SQL Server Data Tools (SSDT)** | В этот выпуск входят следующие усовершенствования для развертывания SSDT: </br> </br> — обнаружение и классификация данных;<br/> — инструкция COPY; <br/> — таблицы с ограничениями уникальности;<br/> — таблицы с упорядоченным кластеризованным индексом columnstore.<br/> <br/>Этот выпуск включает следующие исправления для SSDT: </br></br>  — При изменении типа данных столбца распределения скрипт обновления, созданный SSDT, будет выполнять операции CTAS и RENAME вместо удаления и повторного создания таблицы. </br> |

## <a name="march-2020"></a>Март 2020 г.

| Улучшения инструментов                                         | Сведения                                                      |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| **[Visual Studio 16.6 (предварительная версия 2)](/visualstudio/releases/2019/release-notes-preview#whats-new-in-visual-studio-2019) — SQL Server Data Tools (SSDT)** | В этот выпуск входят следующие усовершенствования и исправления для развертывания SSDT: </br> </br> — Устранена проблема, при которой изменение таблицы, на которую ссылается материализованное представление (MV), приводит к созданию инструкций ALTER VIEW, не поддерживаемых для материализованных представлений.<br/><br/> — Реализовано изменение, которое гарантирует, что операция Сравнения схем не завершится ошибкой, если в базе данных или проекте имеются объекты безопасности на уровне строк. Сейчас объекты безопасности на уровне строк не поддерживаются для SSDT.  <br/><br/> — Пороговое значение времени ожидания обозревателя объектов SQL Server было увеличено, чтобы избежать превышения времени ожидания при перечислении большого количества объектов в базе данных.<br/><br/> — Оптимизирован способ извлечения обозревателем объектов SQL Server списка объектов базы данных, чтобы снизить нестабильность работы и повысить производительность при заполнении обозревателя объектов. |

## <a name="january-2020"></a>Январь 2020 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Метрики портала управления рабочими нагрузками (предварительная версия)**|Используя предварительный выпуск функции [изоляции рабочей нагрузки](sql-data-warehouse-workload-isolation.md) за прошлый октябрь, пользователи могли создавать собственные [группы рабочей нагрузки](/sql/t-sql/statements/create-workload-group-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) для эффективного управления системными ресурсами и обеспечения соблюдения Соглашений об уровне обслуживания для бизнеса.  В рамках общих усовершенствований [управления рабочими нагрузками](sql-data-warehouse-workload-management.md) для Azure Synapse Analytics теперь доступны новые [метрики мониторинга управления рабочими нагрузками](sql-data-warehouse-workload-management-portal-monitor.md).</br> </br> Мониторинг рабочей нагрузки теперь содержит больше аналитических сведений со следующими метриками: </br> — действующее ограничение процента ресурсов;  </br> — действующий минимальный процент ресурсов; </br> — активные запросы группы рабочей нагрузки; </br> — распределение группы рабочей нагрузки по максимальному проценту ресурсов; </br> — распределение группы рабочей нагрузки по процентам системы; </br> — время ожидания запросов группы рабочей нагрузки; </br> — запросы в очереди группы рабочей нагрузки. </br></br> Используйте эти метрики для выявления [узких мест группы рабочей нагрузки](sql-data-warehouse-workload-management-portal-monitor.md#workload-group-bottleneck) или групп рабочей нагрузки, настроенных с [недостаточной нагрузкой изоляции рабочей нагрузки](sql-data-warehouse-workload-management-portal-monitor.md#underutilized-workload-isolation).  Эти метрики можно использовать на портале Azure, где возможно разделение по группам рабочей нагрузки.  Отфильтруйте и закрепите избранные графики на панели мониторинга, чтобы получать быстрый доступ к аналитическим сведениям.|
|**Метрики мониторинга на портале**| Следующие метрики были добавлены на портал для мониторинга за общими действиями запросов: </br> — активные запросы; </br> — запросы в очереди. </br> </br>Эти, а также имеющиеся метрики, описаны в статье [Наблюдение за использованием ресурсов и действия запросов в Azure Synapse Analytics](sql-data-warehouse-concept-resource-utilization-query-activity.md).|

## <a name="october-2019"></a>Октябрь 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**COPY (предварительная версия)**|Мы рады сообщить об общедоступной предварительной версии простой и гибкой инструкции COPY для приема данных. С помощью одной инструкции теперь можно легко принять данные с дополнительной гибкостью и без необходимости привлечения привилегированных пользователей. Дополнительные сведения см. в [документации по команде COPY](/sql/t-sql/statements/copy-into-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|
|**Изоляция рабочей нагрузки (предварительная версия)**|Чтобы поддержать клиентов в процессе демократизации хранилищ данных, мы предоставляем новые возможности интеллектуального управления рабочими нагрузками. Новая функция [изоляции рабочей нагрузки](sql-data-warehouse-workload-isolation.md) позволяет управлять выполнением разнородных рабочих нагрузок, обеспечивая гибкость и контроль над ресурсами хранилища данных. Это повышает прогнозируемость выполнения и расширяет возможности удовлетворения стандартных Соглашений об уровне обслуживания. </br>Помимо изоляции рабочей нагрузки, теперь доступны дополнительные параметры для [классификации рабочих нагрузок](sql-data-warehouse-workload-classification.md).  Помимо классификации имени для входа, синтаксис [создания классификатора рабочих нагрузок](/sql/t-sql/statements/create-workload-classifier-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) предоставляет возможность классифицировать запросы на основе метки запроса, контекста сеанса и времени.|
|**PREDICT (предварительная версия)**|Теперь вы можете оценивать модели машинного обучения в хранилище данных, избегая больших и сложных перемещений данных. Для работы функции PREDICT T-SQL необходимо иметь открытую платформу моделей и использовать данные и модель машинного обучения в качестве входных данных для создания прогнозов.
|**SSDT CI/CD (GA)**|Сегодня мы рады сообщить о выходе общедоступной версии [максимально запрашиваемой функции](https://feedback.azure.com/forums/307516-sql-data-warehouse/suggestions/13313247--in-preview-database-project-from-visual-studio-t) для Аналитики SQL — проекты базы данных SQL Server Data Tools (SSDT). Этот выпуск включает поддержку SSDT с Visual Studio 2019 вместе с интеграцией собственной платформы с помощью Azure DevOps и предоставляет встроенные возможности непрерывной интеграции и развертывания (CI/CD) для развертываний на уровне предприятия. |
|**Материализованное представление (GA)**|Материализованное представление хранит данные, возвращенные запросом определения представления, и автоматически обновляется после изменений данных в базовых таблицах. Это повышает производительность сложных запросов (обычно запросы с объединениями и агрегатами), а также упрощает обслуживание. Дополнительные сведения см. в статье [Настройка производительности с помощью материализованных представлений](performance-tuning-materialized-views.md).  Установите [SQL Server Management Studio 18.4 или более поздней версии](/sql/ssms/download-sql-server-management-studio-ssms?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true), чтобы создать скрипты материализованных представлений.|
|**Динамическое маскирование данных (GA)**|Динамическое маскирование данных (DDM) предотвращает несанкционированный доступ к конфиденциальным данным в хранилище данных путем их обфускации в режиме реального времени в результатах запроса на основе заданных правил маскировки. Дополнительную информацию см. в статье [Динамическое маскирование данных](../../azure-sql/database/dynamic-data-masking-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**Уровень изолированности Read Committed (чтение фиксированных данных) c моментальным снимком (GA)**|С помощью инструкции ALTER DATABASE можно включить или отключить изоляцию моментального снимка пользовательской базы данных. Чтобы не влиять на текущую рабочую нагрузку, этот параметр можно задать во время периода обслуживания базы данных или дождаться, пока не останется других активных подключений к базе данных. Дополнительные сведения см. в описании [параметров ALTER DATABASE SET](/sql/t-sql/statements/alter-database-transact-sql-set-options?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|
|**Упорядоченный кластеризованный индекс columnstore (GA)**|Columnstore — это ключ, позволяющий хранить и эффективно запрашивать большие объемы данных. Упорядоченные кластеризованные индексы columnstore дополнительно оптимизируют выполнение запросов, обеспечивая эффективное исключение сегментов.   Дополнительные сведения см. в статье [Настройка производительности с помощью упорядоченного кластеризованного индекса columnstore](performance-tuning-ordered-cci.md).|
|**RESULT SET CACHING (общедоступная версия)**|Если включено кэширование результирующего набора, результаты запроса автоматически кэшируются в пользовательской базе данных для многократного использования. Это позволяет последующим запросам получать результаты непосредственно из материализованного кэша, поэтому перерасчет не требуется. Кэширование результирующего набора улучшает производительность запросов и сокращает использование ресурсов вычислений. Кроме того, запросы, использующие кэшированный результирующий набор, не используют слоты выдачи и поэтому не учитываются для существующих ограничений параллелизма. В целях безопасности пользователи могут получить доступ к кэшированным результатам только в том случае, если они имеют те же разрешения на доступ к данным, что и пользователи, создающие кэшированные результаты. Дополнительные сведения см. в статье [Настройка производительности путем кэширования результирующего набора](performance-tuning-result-set-caching.md). Применимо к версии 10.0.10783.0 или выше.|

## <a name="september-2019"></a>Сентябрь 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Приватный канал Azure (предварительная версия)**|С помощью [частного канала Azure](https://azure.microsoft.com/blog/announcing-azure-private-link/)можно создать частную конечную точку в виртуальной сети и связать ее с выделенным пулом SQL. Доступ к этим ресурсам затем можно будет получить, используя частный IP-адрес в виртуальной сети, что позволяет осуществлять подключение из локальной среды через частный пиринг Azure ExpressRoute и VPN-шлюз. В целом, это упрощает настройку сети за счет того, что вам не нужно ее открывать для общедоступных IP-адресов. Это также обеспечивает защиту от риска извлечения данных. Дополнительные сведения см. в статьях [Что собой представляет Приватный канал Azure?](../../private-link/private-link-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) и [Приватный канал Azure для базы данных SQL Azure и Azure Synapse Analytics](../../azure-sql/database/private-endpoint-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**Обнаружение и классификация данных (GA)**|Функция [обнаружения и классификации данных](../../azure-sql/database/data-discovery-and-classification-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) теперь является общедоступной. Эта функция предоставляет расширенные возможности для **обнаружения, классификации, добавления меток и защиты** конфиденциальных данных в базах данных.|
|**Интеграция Помощника по Azure одним щелчком**|Аналитика SQL в Azure Synapse теперь напрямую интегрируется с рекомендациями Помощника по Azure в колонке обзора одним щелчком. Теперь вы можете найти рекомендации в колонке обзора, а не переходить к колонке Помощника по Azure. Дополнительные рекомендации см. [здесь](sql-data-warehouse-concept-recommendations.md).|
|**Уровень изолированности Read Committed (чтение фиксированных данных) c моментальным снимком (предварительная версия)**|С помощью инструкции ALTER DATABASE можно включить или отключить изоляцию моментального снимка пользовательской базы данных.  Чтобы не влиять на текущую рабочую нагрузку, этот параметр можно задать во время периода обслуживания базы данных или дождаться, пока не останется других активных подключений к базе данных. Дополнительные сведения см. в описании [параметров ALTER DATABASE SET](/sql/t-sql/statements/alter-database-transact-sql-set-options?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|
|**EXECUTE AS (Transact-SQL)**| Поддержка [EXECUTE AS](/sql/t-sql/statements/execute-as-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) T-SQL теперь позволяет клиентам задать контекст выполнения сеанса для указанного пользователя.|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для Synapse SQL была расширена и включает поддержку для: </br> - [FORMAT (Transact-SQL)](/sql/t-sql/functions/format-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [TRY_PARSE (Transact-SQL)](/sql/t-sql/functions/try-parse-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [TRY_CAST (Transact-SQL)](/sql/t-sql/functions/try-cast-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [TRY_CONVERT (Transact-SQL)](/sql/t-sql/functions/try-convert-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [sys.user_token (Transact-SQL)](/sql//relational-databases/system-catalog-views/sys-user-token-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|

## <a name="july-2019"></a>Июль 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Материализованное представление (предварительная версия)**|Материализованное представление хранит данные, возвращенные запросом определения представления, и автоматически обновляется после изменений данных в базовых таблицах. Это повышает производительность сложных запросов (обычно запросы с объединениями и агрегатами), а также упрощает обслуживание. Дополнительные сведения см. в разделе: </br> - [CREATE MATERIALIZED VIEW AS SELECT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-materialized-view-as-select-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [ALTER MATERIALIZED VIEW &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-materialized-view-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) </br> - [Инструкции Т-SQL, поддерживаемые в пуле Synapse SQL](sql-data-warehouse-reference-tsql-statements.md)|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для Synapse SQL была расширена и включает поддержку для: </br> - [AT TIME ZONE (Transact-SQL)](/sql/t-sql/queries/at-time-zone-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [STRING_AGG (Transact-SQL)](/sql/t-sql/functions/string-agg-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|
|**RESULT SET CACHING (предварительная версия)**|Добавлены команды DBCC для управления ранее объявленным кэшем результирующего набора. Дополнительные сведения см. в разделе: </br> - [DBCC DROPRESULTSETCACHE &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-dropresultsetcache-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)  </br> - [DBCC SHOWRESULTCACHESPACEUSED &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-showresultcachespaceused-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) </br></br> Ознакомьтесь также с новым столбцом result_set_cache в [sys.dm_pdw_exec_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true), который отображает, когда выполненный запрос использовал кэш результирующего набора.|
|**Упорядоченный кластеризованный индекс columnstore (предварительная версия)**|Новый столбец column_store_order_ordinal, добавленный в [sys.index_columns](/sql/relational-databases/system-catalog-views/sys-index-columns-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true), чтобы определить порядок столбцов в упорядоченном кластеризованном индексе columnstore.|

## <a name="may-2019"></a>Май 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Динамическое маскирование данных (предварительная версия)**|Динамическое маскирование данных (DDM) предотвращает несанкционированный доступ к конфиденциальным данным в хранилище данных путем их обфускации в режиме реального времени в результатах запроса на основе заданных правил маскировки. Дополнительную информацию см. в статье [Динамическое маскирование данных](../../azure-sql/database/dynamic-data-masking-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**Функция приоритета рабочих нагрузок теперь общедоступна**|Функции управленческой классификации и приоритета рабочих нагрузок позволяют влиять на порядок выполнения запросов. Дополнительные сведения об уровне важности рабочих нагрузок см. в обзорных статьях об их [классификации](sql-data-warehouse-workload-classification.md) и [важности](sql-data-warehouse-workload-importance.md). Также ознакомьтесь с документацией [CREATE WORKLOAD CLASSIFIER](/sql/t-sql/statements/create-workload-classifier-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).<br/><br/>Чтобы увидеть функцию приоритета рабочих нагрузок в действии, просмотрите приведенные ниже видео:<br/> -[Основные понятия, связанные с управлением рабочими нагрузками](https://www.youtube.com/embed/QcCRBAhoXpM)<br/> -[Сценарии управления рабочими нагрузками](https://www.youtube.com/embed/_2rLMljOjw8)|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для Synapse SQL была расширена и включает поддержку для: </br> - [TRIM](/sql/t-sql/functions/trim-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|
|**Функций JSON**|Бизнес-аналитики теперь могут использовать знакомый язык T-SQL для запроса и обработки документов, отформатированных как данные JSON, используя следующие новые функции JSON:</br> - [ISJSON](/sql/t-sql/functions/isjson-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [JSON_VALUE](/sql/t-sql/functions/json-value-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> -  [JSON_QUERY](/sql/t-sql/functions/json-query-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> -  [JSON_MODIFY](/sql/t-sql/functions/json-modify-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [OPENJSON](/sql/t-sql/functions/openjson-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|
|**RESULT SET CACHING (предварительная версия)**|Кэширование наборов результатов позволяет мгновенно отреагировать на запросы, сокращая время анализа бизнес-аналитиков и пользователей отчетов. Дополнительные сведения см. в разделе:</br> - [ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [Параметры ALTER DATABASE SET (Transact SQL)](/sql/t-sql/statements/alter-database-transact-sql-set-options?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [SET RESULT SET CACHING (Transact-SQL)](/sql/t-sql/statements/set-result-set-caching-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [Инструкция SET (Transact-SQL)](/sql/t-sql/statements/set-statements-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> - [sys.databases (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|
|**Упорядоченный кластеризованный индекс columnstore (предварительная версия)**|Columnstore — это ключ, позволяющий хранить и эффективно запрашивать большие объемы данных. В каждой таблице он разделяет входящие данные на группы строк, а каждый столбец группы строк образует сегмент на диске.  Упорядоченные кластеризованные индексы columnstore дополнительно оптимизируют выполнение запросов, обеспечивая эффективное исключение сегментов.   Дополнительные сведения см. в разделе:</br> -  [CREATE TABLE](/sql/t-sql/statements/create-table-azure-sql-data-warehouse?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)</br> -  [CREATE COLUMNSTORE INDEX (Transact-SQL)](/sql/t-sql/statements/create-columnstore-index-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).|

## <a name="march-2019"></a>Март 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Обнаружение и классификация данных**|Функции обнаружения и классификации данных теперь доступны в общедоступной предварительной версии для Synapse SQL. Важно защищать конфиденциальные данные и конфиденциальность ваших клиентов. По мере роста бизнес-ресурсов и данных клиентов обнаружение, классификацию и защиту данных нельзя контролировать. Функция обнаружения и классификации данных, которую мы внедрили в Synapse SQL, помогает сделать ваши данные более управляемыми. Ниже приведены общие преимущества этой функции:<br/>&bull; &nbsp; Соблюдение стандартов конфиденциальности данных и нормативных требований.<br/>&bull; &nbsp; Ограничение доступа к хранилищам данных, содержащим конфиденциальные данные, и усиление их защиты.<br/>&bull; &nbsp; Мониторинг и оповещение о необычном доступе к конфиденциальным данным.<br/>&bull; &nbsp; Визуализация конфиденциальных данных на центральной панели мониторинга на портале Azure. </br></br>Функция обнаружения и классификации данных доступна во всех регионах Azure и является частью расширенной защиты данных. Она предоставляет возможность оценки уязвимостей и обнаружения угроз. Дополнительные сведения об обнаружении и классификации данных см. в [записи блога](https://azure.microsoft.com/blog/announcing-public-preview-of-data-discovery-classification-for-microsoft-azure-sql-data-warehouse/), а также в электронной [документации](../../azure-sql/database/data-discovery-and-classification-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**GROUP BY ROLLUP**|ROLLUP теперь поддерживается параметром GROUP BY.   GROUP BY ROLLUP создает группу для каждого сочетания выражений столбцов. GROUP BY также выполняет сведение результатов в промежуточные и общие итоги. Функция GROUP BY обрабатывает справа налево, уменьшая количество выражений столбцов, по которым она создает группы и агрегаты.  Порядок столбцов влияет на выходные данные ROLLUP и может отразиться на количестве строк в результирующем наборе.<br/><br/>Дополнительные сведения см. в статье [GROUP BY (Transact-SQL)](/sql/t-sql/queries/select-group-by-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).
|**Повышена точность использования DWU и метрик на портале ЦП**|Synapse SQL значительно повышает точность метрик на портале Azure.  Этот выпуск включает в себя исправление для ЦП и определение метрики использования DWU, чтобы правильно отразить рабочую нагрузку на всех вычислительных узлах. До этого исправления значений метрик были занижены. Вы должны увидеть увеличение количества используемых DWU и метрик ЦП на портале Azure. |
|**Безопасность на уровне строк**|Мы представили возможности безопасности на уровне строк в ноябре 2017 г. Теперь эта поддержка также распространяется на внешние таблицы. Кроме того, добавлена поддержка вызова недетерминированных функций во встроенных функциях с табличным значением (встроенные TVFs), необходимых для определения предиката фильтра безопасности. Это добавление позволяет указать IS_ROLEMEMBER(), USER_NAME() и т. д. в предикате фильтра безопасности. Дополнительные сведения см. в примерах документации по [безопасности на уровне строк](/sql/relational-databases/security/row-level-security?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для Synapse SQL была расширена и включает поддержку для [STRING_SPLIT (Transact-SQL)](/sql/t-sql/functions/string-split-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true).
|**Улучшения оптимизатора запросов** |Оптимизация запросов — это критический компонент любой базы данных. Выбор оптимального способа выполнения запроса может привести к его значительному улучшению.  При выполнении сложных аналитических запросов в распределенной среде количество выполненных операций имеет огромное значение. Производительность запросов была повышена за счет создания планов лучшего качества. Эти планы снижают объем ресурсоемких операций по переносу данных и избыточных вычислений, таких как повторяющиеся вложенные запросы. Дополнительные сведения см. в этой [записи блога](https://azure.microsoft.com/blog/smarter-faster-safer-azure-sql-data-warehouse-is-simply-unmatched/) Azure Synapse.|
| | |

### <a name="documentation-improvements"></a>Улучшения документации

| Улучшения документации | Сведения |
| --- | --- |
| | |

## <a name="january-2019"></a>Январь 2019 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**Оптимизация возврата результатов запросов по порядку**|В этом выпуске повышается производительность запросов SELECT...ORDER BY.   Теперь все вычислительные узлы отправляют свои результаты в один вычислительный узел. Этот узел объединяет и сортирует результаты, а затем возвращает их пользователю.  Объединение через один вычислительный узел обеспечивает прирост производительности, если результирующий набор запросов содержит большое количество строк. Ранее подсистема выполнения запросов упорядочивала результаты на каждом вычислительном узле. Эти результаты потоково передавались на управляющий узел. Затем управляющий узел объединял результаты.|
|**Усовершенствования перемещения данных для PartitionMove и BroadcastMove**|Действия перемещения данных типа ShuffleMove используют методики мгновенного перемещения данных.  Дополнительные сведения см. в [блоге по улучшению производительности](https://azure.microsoft.com/blog/lightning-fast-query-performance-with-azure-sql-data-warehouse/). В этом выпуске PartitionMove и BroadcastMove теперь основаны на тех же методиках мгновенного перемещения данных. Запросы пользователей, которые используют эти типы действий перемещения данных, будут выполняться с повышенной производительностью. Чтобы воспользоваться преимуществами улучшений производительности, не нужно вносить изменения в код.|
|**Важные ошибки**|Неправильная версия Azure Synapse. `SELECT @@VERSION` может вернуть неправильную версию 10.0.9999.0. Правильная версия текущего выпуска — 10.0.10106.0. Эта ошибка нам известна и находится на рассмотрении.
| | |

### <a name="documentation-improvements"></a>Улучшения документации

| Улучшения документации | Сведения |
| --- | --- |
|none | |
| | |

## <a name="december-2018"></a>Декабрь 2018 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**Общедоступные конечные точки служб для виртуальной сети**|Этот выпуск включает общедоступную версию конечных точек службы виртуальной сети для Аналитики SQL в Azure Synapse во всех регионах Azure. Конечные точки службы виртуальной сети позволяют изолировать подключение к серверу из заданной подсети или набора подсетей в виртуальной сети. Трафик, поступающий из виртуальной сети в Azure Synapse, всегда остается в магистральной сети Azure. Этот прямой маршрут предпочтительнее, чем какие-либо специальные маршруты, предполагающие прием трафика из Интернета через виртуальные модули или локальные службы. Дополнительная плата за доступ к виртуальной сети через конечные точки службы не взимается. Текущая модель ценообразования для [Azure Synapse](https://azure.microsoft.com/pricing/details/sql-data-warehouse/gen2/) применяется без изменений.<br/><br/>В этом выпуске также реализовано подключение PolyBase к [Azure Data Lake Storage 2-го поколения](../../storage/blobs/data-lake-storage-introduction.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) (ADLS) через драйвер [файловой системы больших двоичных объектов Azure](../../storage/blobs/data-lake-storage-abfs-driver.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) (ABFS). Хранилище Azure Data Lake Storage 2-го поколения обладает всеми качествами, необходимыми для выполнения каждого из этапов жизненного цикла данных аналитики для службы хранилища Azure. В нем объединены возможности двух существующих служб хранилища Azure (хранилище BLOB-объектов Azure и ADLS 1-го поколения). Функции, описанные в статье [Документация по Azure Data Lake Storage Gen1](../../data-lake-store/index.yml?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json), например семантика файловой системы, защита на уровне файлов и масштабирование, объединены с экономичностью, многоуровневостью, возможностями высокой доступности и аварийного восстановления [хранилища BLOB-объектов Azure](../../storage/blobs/storage-blobs-introduction.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).<br/><br/>С помощью PolyBase также можно импортировать данные в Аналитику SQL в Azure Synapse из службы хранилища Azure, закрепленной за вашей виртуальной сетью. Кроме того, PolyBase поддерживает экспорт данных из Azure Synapse в службу хранилища Azure, закрепленную за вашей виртуальной сетью.<br/><br/>Дополнительные сведения о конечных точках службы виртуальной сети в Azure Synapse см. в [записи блога](https://azure.microsoft.com/blog/general-availability-of-vnet-service-endpoints-for-azure-sql-data-warehouse/) или [документации](../../azure-sql/database/vnet-service-endpoint-rule-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).|
|**Автоматический мониторинг производительности (предварительная версия)**|[Хранилище запросов](/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true) теперь доступно в предварительной версии Аналитики SQL в Azure Synapse. Хранилище запросов упрощает устранение проблем с производительностью запросов за счет отслеживания запросов, планов запросов, статистики среды выполнения и журнала запросов, с помощью которых можно выполнять мониторинг активности и производительности хранилища данных. Хранилище запросов — это набор внутренних хранилищ и динамических административных представлений (DMV), с помощью которых можно:<br/><br/>&bull; &nbsp; Выявить и настроить запросы, использующие больше всего ресурсов.<br/>&bull; &nbsp; Определить и улучшить внеплановые рабочие нагрузки.<br/>&bull; &nbsp; Оценить производительность запросов и влияние на план в случае изменений в статистике, индексах и размерах системы (параметр DWU).<br/>&bull; &nbsp; Ознакомиться с полным текстом всех выполняемых запросов.<br/><br/>Хранилище запросов содержит три фактических хранилища:<br/>&bull; &nbsp; хранилище планов для сохранения сведений о планах выполнения;<br/>&bull; &nbsp; хранилище статистики времени выполнения для хранения статистических сведений о выполнении;<br/>&bull; &nbsp; хранилище статистики ожидания для хранения статистических сведений об ожидании.<br/><br/>Аналитика SQL в Azure Synapse автоматически управляет этими хранилищами и позволяет просматривать неограниченное число запросов, сохраненных за последние семь дней, без дополнительной платы. Чтобы включить хранилище запросов, просто выполните инструкцию T-SQL ALTER DATABASE: <br/>sql ----ALTER DATABASE [DatabaseName] SET QUERY_STORE = ON;------- Дополнительные сведения о хранилище запросов и динамических административных представлениях этого хранилища, например [sys.query_store_query](/sql/relational-databases/system-catalog-views/sys-query-store-query-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true), см. в статье [Мониторинг производительности с использованием хранилища запросов](/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store). Вот [запись блога](https://azure.microsoft.com/blog/automatic-performance-monitoring-in-azure-sql-data-warehouse-with-query-store/) с объявлением о выпуске.|
|**Более низкие уровни вычислений для Аналитики SQL**|Аналитика SQL в Azure Synapse теперь поддерживает более низкие уровни вычислений. Клиенты могут оценить лучшую производительность, гибкость и возможности безопасности Azure Synapse, начиная со 100 cDWU ([вычислительные единицы использования хранилища данных](what-is-a-data-warehouse-unit-dwu-cdwu.md)), и увеличивать масштаб до 30 000 cDWU за считаные минуты. Начиная с середины декабря 2018 года клиенты могут использовать преимущества производительности и гибкость 2-го поколения на низких уровнях вычислений в [этих регионах](gen2-migration-schedule.md#automated-schedule-and-region-availability-table). Поддержка для остальных регионов станет доступна в течение 2019 года.<br/><br/>Обеспечив точку входа для хранилищ данных следующего поколения, корпорация Майкрософт открыла возможности для ориентированных на прибыль пользователей, которые хотят оценить все преимущества безопасного, высокопроизводительного хранилища данных, не тратя время на поиски наиболее подходящей для них пробной среды. Пользователи могут начать со 100 cDWU (ниже чем текущая точка входа в 500 cDWU). Аналитики SQL продолжают поддерживать операции остановки и возобновления и выходят за рамки простой гибкости при вычислениях. 2 поколение также поддерживает неограниченную емкость хранилища столбцов, а также в 2,5 раза больше памяти для каждого запроса, до 128 одновременных запросов и функции [адаптивного кэширования](https://azure.microsoft.com/blog/adaptive-caching-powers-azure-sql-data-warehouse-performance-gains/). Эти функции в среднем дают в пять раз большую производительность по сравнению с той же единицей использования хранилища данных 1-го поколения за ту же цену. Геоизбыточные резервные копии являются стандартными для 2-го поколения и обеспечивают встроенную гарантированную защиту данных. Аналитика SQL в Azure Synapse может выполнить масштабирование, когда вам нужно.|
|**Слияния в фоновом режиме columnstore**|По умолчанию хранилище данных SQL Azure хранит данные в столбчатом формате с микроразделами, называемыми [группами строк](sql-data-warehouse-memory-optimizations-for-columnstore-compression.md). Иногда, из-за ограничений памяти при построении индекса или времени загрузки данных, группы строк могут быть сжаты в размере (меньше оптимального размера миллионов строк). Группы строк могут также стать фрагментированными из-за удалений. Небольшие или фрагментированные группы строк приводят к более высокому потреблению памяти, а также к неэффективному выполнению запросов. В этом выпуске задача фонового обслуживания columnstore объединяет небольшие сжатые группы строк, создавая большие группы строк, чтобы лучше использовать память и ускорить выполнение запросов.
| | |

## <a name="october-2018"></a>Октябрь 2018 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**DevOps для систем хранения данных**|Часто запрашиваемая функция для Synapse SQL в Azure Synapse теперь доступна в режиме предварительной версии с поддержкой средств SQL Server Data Tools (SSDT) для Visual Studio! Теперь разработчики смогут использовать для совместной работы единую базу кода с управлением версиями и быстро распространять изменения на любой экземпляр в любой точке мира. Вас это тоже интересует? Эта функция уже предоставляется в режиме предварительной версии. Чтобы зарегистрироваться, посетите страницу [с формой регистрации для использования предварительной версии SQL Server Data Tools для Visual Studio](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR4-brmKy3TZOjoktwuHd7S1UODkwQ1lVMEw1NDBGRjNLRDNWOFlQRUpIRi4u). Учитывая высокий спрос, мы ограничиваем доступ к предварительной версии, чтобы обеспечить максимальное удобство для клиентов. Мы ставим задачу подтвердить ваш статус в течение семи рабочих дней после регистрации.|
|**Безопасность на уровне строк в общедоступной версии**|Synapse SQL в Azure Synapse теперь поддерживает безопасность на уровне строк (RLS), которая дает мощные возможности для защиты конфиденциальных данных. С появлением RLS вы сможете внедрять политики безопасности, которые управляют доступом конкретных пользователей к конкретным строкам в таблицах. RLS обеспечивает такой точный контроль доступа, не требуя изменять архитектуру хранилища данных. RLS упрощает реализацию системы безопасности в целом, перемещая логику ограничения доступа на уровень базы данных из уровня приложения, который отделен от данных. Также RLS избавляет от необходимости создавать представления специально для фильтрации строк при управлении доступом. Для всех наших клиентов эта функция безопасности корпоративного уровня предоставляется без дополнительной оплаты.|
|**Расширенные помощники**|Расширенная настройка для Synapse SQL в Azure Synapse стала еще проще благодаря дополнительным рекомендациям и метрикам для хранилища данных. В Помощнике по Azure вам доступны дополнительные рекомендации по повышению производительности, в том числе следующие.<br/><br/>1. Адаптивный кэш — узнавайте, когда выполнять масштабирование, чтобы оптимизировать использование кэша.<br/>2. Распределение таблиц — определяйте, когда реплицировать таблицы, чтобы сократить перемещение данных и повысить производительность рабочих нагрузок.<br/>3. Tempdb — узнайте, когда потребуется масштабирование, и настройте классы ресурсов, чтобы снизить состязание за tempdb.<br/><br/>Метрики хранилища данных более тесно интегрированы с [Azure Monitor](https://azure.microsoft.com/blog/enhanced-capabilities-to-monitor-manage-and-integrate-sql-data-warehouse-in-the-azure-portal/), в том числе улучшена настраиваемая таблица мониторинга для метрик в колонке обзора, обновляемых практически в реальном времени. Вам больше не нужно покидать колонку обзора хранилища данных, чтобы получить доступ к метрикам Azure Monitor при отслеживании использования либо проверять и применять рекомендации для хранилища данных. Кроме того, доступны новые метрики, например использование tempdb и адаптивного кэша, дополняющие рекомендации по производительности.|
|**Расширенная настройка благодаря встроенным помощникам**|Расширенная настройка Azure Synapse теперь стала еще проще благодаря новым рекомендациям и метрикам для хранилища данных и новому интерфейсу колонки сводных данных на портале, которая теперь объединяет функции Помощника по Azure и Azure Monitor.|
|**Ускоренное восстановление базы данных (ADR)**|Ускоренное восстановление базы данных (ADR) для Azure Synapse теперь находится в режиме общедоступной предварительной версии. ADR — это новая функция ядра СУБД SQL Server, которая значительно повышает доступность базы данных, особенно при наличии длительных транзакций, благодаря полностью обновленному процессу восстановления. Основных преимуществ ADR: быстрое и согласованное восстановление базы данных и мгновенный откат транзакций.|
|**Журналы ресурсов Azure Monitor**|Теперь Azure Synapse предоставляет расширенные аналитические сведения о рабочих нагрузках благодаря непосредственной интеграции с журналами ресурсов Azure Monitor. Эта новая возможность позволяет разработчикам анализировать поведение рабочих нагрузок в течение продолжительного времени и принимать обоснованные решения касательно оптимизации запросов или управления производительностью. Теперь мы добавили внешний процесс ведения журнала, который реализован через [журналы ресурсов Azure Monitor](../../azure-monitor/data-platform.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json#logs) и предоставляет дополнительные сведения о рабочей нагрузке хранилища данных. Одним нажатием кнопки вы теперь можете настроить журналы ресурсов для устранения неполадок по истории производительности запросов с применением [Log Analytics](../../azure-monitor/logs/log-query-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json). Журналы ресурсов Azure Monitor поддерживают настраиваемые периоды удержания за счет сохранения журналов в учетной записи хранения для аудита, возможность потоковой передачи журналов в концентраторы событий для получения аналитических сведений телеметрии практически в реальном времени, а также возможность анализировать журналы, используя Log Analytics с запросами журналов. Журналы ресурсов состоят из представлений телеметрии для хранилища данных, эквивалентных динамическим административным представлениям для устранения неполадок, связанных с производительностью Аналитики SQL в Azure Synapse. В этом первоначальном выпуске доступны следующие динамические административные представления системы:<br/><br/>&bull; &nbsp; [sys.dm_pdw_exec_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)<br/>&bull; &nbsp; [sys.dm_pdw_request_steps](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-request-steps-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)<br/>&bull; &nbsp; [sys.dm_pdw_dms_workers](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-dms-workers-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)<br/>&bull; &nbsp; [sys.dm_pdw_waits](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-waits-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)<br/>&bull; &nbsp; [sys.dm_pdw_sql_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-sql-requests-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest&preserve-view=true)|
|**Управление памятью columnstore**|По мере того как количество групп строк для хранилища столбцов возрастает, увеличивается и объем памяти, необходимый для управления внутренними метаданными сегментов столбцов для этих групп строк.  В результате общая производительность запросов и результативность запросов к одному из динамических административных представлений columnstore может снизиться.  В этом выпуске реализованы улучшения, которые позволят оптимизировать размер внутренних метаданных в таких случаях. Это обеспечит удобство и высокую производительность при выполнении запросов.|
|**Интеграция с Azure Data Lake Storage 2-го поколения (GA)**|Synapse Analytics теперь имеет встроенную возможность интеграции с Azure Data Lake Storage 2-го поколения. Теперь клиенты могут загружать данные с помощью внешних таблиц из АБФС в выделенный пул SQL (ранее — хранилище данных SQL). Эта функция позволяет пользователям интегрировать пулы данных в Azure Data Lake Storage 2-го поколения.|
|**Важные ошибки**|Инструкция CETAS в Parquet завершается сбоем для ресурсов небольшого размера, размещенных в хранилищах данных DW2000 и большего размера. Это исправление правильно определяет пустую ссылку на путь к коду Parquet в инструкции CREATE EXTERNAL TABLE AS SELECT.<br/><br/>Значение столбца идентификаторов может утрачиваться при некоторых операциях CTAS. Значение столбца идентификаторов не всегда сохраняется при выполнении инструкции CTAS для другой таблицы. Подробные сведения см. в [этом блоге](https://blog.westmonroepartners.com/azure-sql-dw-identity-column-bugs/).<br/><br/>В некоторых случаях происходит внутренний сбой при завершении сеанса, пока запрос еще выполняется. Это исправление создает исключение InvalidOperationException при завершении сеанса, пока запрос еще выполняется.<br/><br/>(Развернуто в ноябре 2018 года.) Пользователи испытывали проблемы с производительностью при попытке загрузить несколько небольших файлов из ADLS 1-го поколения с помощью Polybase. Производительность системы была ограничена во время проверки маркера безопасности AAD. Кэширование маркеров безопасности помогло решить проблемы с производительностью. |
| | |

## <a name="next-steps"></a>Дальнейшие действия

- [Создание выделенного пула SQL (ранее — хранилище данных SQL)](create-data-warehouse-portal.md)

## <a name="more-information"></a>Дополнительные сведения

- [Запись блога об Azure Synapse Analytics](https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/)
- [Блоги группы консультирования клиентов](/archive/blogs/sqlcat/)
- [Истории успеха клиентов](https://azure.microsoft.com/case-studies/?service=sql-data-warehouse)
- [Форум Stack Overflow](https://stackoverflow.com/questions/tagged/azure-sqldw)
- [Twitter](https://twitter.com/hashtag/SQLDW)
- [Видео](https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse)
- [глоссарий Azure Глоссарий](../../azure-glossary-cloud-terminology.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json)