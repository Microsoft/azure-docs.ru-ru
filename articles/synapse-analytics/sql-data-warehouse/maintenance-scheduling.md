---
title: Расписания обслуживания для пула SQL синапсе
description: Планирование обслуживания позволяет клиентам планировать необходимые события запланированного обслуживания, которые Azure синапсе Analytics использует для развертывания новых функций, обновлений и исправлений.
services: synapse-analytics
author: antvgski
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: sql-dw
ms.date: 02/02/2019
ms.author: anvang
ms.reviewer: jrasnick
ms.openlocfilehash: 886e99d6f56a008c694b3bcb366cfb4049f3528e
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100590211"
---
# <a name="use-maintenance-schedules-to-manage-service-updates-and-maintenance"></a>Использование расписаний обслуживания для управления обновлениями и обслуживанием службы

Функция расписания обслуживания интегрирует уведомления о запланированном обслуживании работоспособности служб, Работоспособность ресурсов мониторинг проверки и службу планирования обслуживания для пула SQL синапсе (хранилище данных) в Azure синапсе Analytics.

Планирование обслуживания следует использовать для выбора временного интервала, когда удобно принимать новые функции, обновления и исправления. Необходимо выбрать основной и дополнительный период обслуживания в течение семи дней, каждое из которых должно находиться в разных днях.

Например, можно запланировать в основном окне Суббота 22:00 до воскресенья 01:00, а затем запланировать дополнительное окно среды с 19:00 до 22:00. Если обслуживание невозможно выполнить во время основного периода обслуживания, оно повторит попытку обслуживания во время дополнительного периода обслуживания. Обслуживание службы может возникать в некоторых случаях во время основного и дополнительного окон. Чтобы обеспечить быстрое завершение всех операций обслуживания, DW400c и более низкие уровни хранилища данных могут завершить обслуживание за пределами определенного периода обслуживания.

Все вновь созданные экземпляры хранилища данных будут иметь определенное системой расписание обслуживания, применяемое во время развертывания. Расписание можно изменить сразу же после завершения развертывания.

Хотя период обслуживания может составлять от 3 до 8 часов, это не означает, что хранилище данных будет находиться в автономном режиме в течение этого времени. Обслуживание может выполняться в любое время в этом окне, и вы должны рассчитывать на одно отключение в течение этого периода ~ 5 -6 мин, так как служба развертывает новый код в хранилище данных. DW400c и ниже может столкнуться с несколькими короткими потерями в подключении в разные моменты времени в течение периода обслуживания. При запуске обслуживания все активные сеансы будут отменены, а для незафиксированных транзакций будет выполнен откат. Чтобы минимизировать время простоя экземпляра, убедитесь, что в хранилище данных нет длительных транзакций до выбранного периода обслуживания.

Все операции обслуживания должны завершаться в пределах указанных периодов обслуживания, если не требуется развернуть обновление с учетом времени. Если хранилище данных было приостановлено во время запланированного обслуживания, оно будет обновлено во время операции возобновления. Сразу после завершения обслуживания хранилища данных вы получите соответствующее извещение.

## <a name="alerts-and-monitoring"></a>Оповещения и мониторинг

Благодаря интеграции с уведомлениями о работоспособности служб и мониторингом проверки работоспособности ресурсов клиенты могут получать информацию о предстоящей деятельности по обслуживанию. Эта автоматизация использует преимущества Azure Monitor. Решите, как вы хотите получать уведомления о предстоящих событиях обслуживания. Кроме того, можно выбрать, какие автоматизированные потоки помогут в управлении простоем и снизить эксплуатационное воздействие.

В 24-часовом предварительном уведомлении предшествует все события обслуживания, которые не являются DWC400c и более низкими уровнями.

> [!NOTE]
> В случае, если требуется развернуть время критического обновления, расширенные времена уведомлений могут значительно снизиться. Это может произойти вне определенного периода обслуживания из-за критической природы обновления.

Если вы получили предварительное уведомление о том, что обслуживание будет выполнено, но обслуживание невозможно выполнить в течение периода времени в уведомлении, вы получите уведомление об отмене. Обслуживание продолжится во время следующего периода запланированного обслуживания.

Все активные события по обслуживанию будут отображаться в разделе **Работоспособность служб. Плановое обслуживание**. Журнал работоспособности служб включает в себя полную запись о прошлых событиях. Обслуживание можно отслеживать с помощью панели мониторинга на портале проверки работоспособности служб Azure.

### <a name="maintenance-schedule-availability"></a>Доступность функции планирования обслуживания

Даже если функция планирования обслуживания недоступна для выбранного региона, вы все равно можете просматривать и изменять свое расписание в любое время. Когда планирование обслуживания будет доступно в вашем регионе, идентифицированное расписание немедленно станет активным в пуле синапсе SQL.

## <a name="view-a-maintenance-schedule"></a>Просмотр расписания обслуживания

По умолчанию все созданные экземпляры хранилища данных имеют 8-часовой первичный и вторичный период обслуживания, применяемый во время развертывания. Как указано выше, можно изменить Windows, как только вскоре будет выполнено развертывание. Обслуживание не выполняется за пределами указанных периодов обслуживания без предварительного уведомления.

Чтобы просмотреть расписание обслуживания, которое было применено к пулу синапсе SQL, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com/).
2. Выберите пул SQL синапсе, который вы хотите просмотреть.
3. Выбранный пул SQL синапсе откроется в колонке "Обзор". Расписание обслуживания, которое применяется к хранилищу данных, отображается под **расписанием обслуживания**.

![Колонка "Обзор"](./media/maintenance-scheduling/clear-overview-blade.PNG)

## <a name="change-a-maintenance-schedule"></a>Изменение расписания обслуживания

Расписание обслуживания можно обновить или изменить в любое время. Если выбранный экземпляр проходит через цикл активного обслуживания, параметры будут сохранены. Они активируются во время следующего периода обслуживания. [Дополнительные сведения](../../service-health/resource-health-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) о мониторинге хранилища данных во время события активного обслуживания.

## <a name="identifying-the-primary-and-secondary-windows"></a>Определение основного и дополнительного периодов

Основной и дополнительный периоды должны приходиться на разные дни. Например, основной период — со вторника по четверг, а дополнительный — с субботы по воскресенье.

Чтобы изменить расписание обслуживания для пула SQL синапсе, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com/).
2. Выберите пул SQL синапсе, который требуется обновить. В колонке обзора откроется страница.
Откройте страницу для параметров расписания обслуживания, выбрав ссылку **Расписание обслуживания** в колонке обзор. Также можно выбрать параметр **Расписание обслуживания** в меню ресурсов слева.

    ![Параметры в колонке обзора](./media/maintenance-scheduling/maintenance-change-option.png)

3. Определите необходимый диапазон дней для основного периода обслуживания с помощью параметров в верхней части страницы. Этот выбор определяет, назначить ли основной период на рабочие или на выходные дни. Значения из раскрывающегося списка обновятся в соответствии с вашим выбором.
В предварительной версии в некоторых регионах может не поддерживаться полный набор доступных **дней**.

   ![Колонка параметров обслуживания](./media/maintenance-scheduling/maintenance-settings-page.png)

4. Выберите основной и дополнительный период обслуживания в раскрывающемся списке:
   - **День**: предпочтительный день для выполнения обслуживания в выбранном окне.
   - **Время начала**. Время начала периода обслуживания.
   - **Временное окно**: предпочтительная длительность периода времени.

   **Сводка расписания** внизу страницы обновится в соответствии с выбранными значениями.
  
5. Щелкните **Сохранить**. Появится сообщение, подтверждающее назначение нового расписания.

   В случае сохранения расписания обслуживания в регионе, в котором еще не поддерживается эта функция, появится следующее сообщение. Ваши параметры сохранятся и станут активными, когда функция будет доступна в выбранном регионе.

   ![Сообщение о доступности по регионам](./media/maintenance-scheduling/maintenance-not-active-toast.png)

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о создании, просмотре оповещений и управлении ими с помощью Azure Monitor см. в [этой статье](../../azure-monitor/alerts/alerts-metric.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).
- Дополнительные сведения о действиях веб-перехватчика для правил генерации оповещений журнала см. в [этой статье](../..//azure-monitor/alerts/alerts-log-webhook.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).
- [Дополнительные сведения](../..//azure-monitor/alerts/action-groups.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json) о создании групп действий и управлении ими.
- Дополнительные сведения о службе "Работоспособность служб Azure" см. в [этой статье](../../service-health/service-health-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json).
