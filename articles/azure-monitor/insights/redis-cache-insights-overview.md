---
title: Azure Monitor для кэша Azure для Redis | Документация Майкрософт
description: Узнайте, как возможность Azure Monitor для Кэша Azure для Redis позволяет владельцам кэша быстро разобраться в проблемах с производительностью и потреблением ресурсов.
ms.topic: conceptual
author: lgayhardt
ms.author: lagayhar
ms.date: 09/10/2020
ms.openlocfilehash: 35f575410caa7a8a8ffbda35bdfa876418db8945
ms.sourcegitcommit: f5b8410738bee1381407786fcb9d3d3ab838d813
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/14/2021
ms.locfileid: "98210381"
---
# <a name="explore-azure-monitor-for-azure-cache-for-redis"></a>Изучение Azure Monitor кэша Azure для Redis

Для всех кэшей Azure для ресурсов Redis Azure Monitor для кэша Azure для Redis предоставляет единое интерактивное представление:

- общая производительность;
- Сбои
- Capacity
- операционная работоспособность.

В статье рассматриваются преимущества использования новой возможности мониторинга. Также здесь описано, как изменить и адаптировать эту возможность в соответствии с уникальными требованиями вашей организации.

## <a name="introduction"></a>Введение

Перед началом работы необходимо понять, как Azure Monitor для Кэша Azure для Redis визуально представляет информацию.

Отображаются следующие сведения:

- **Представление в большом масштабе** всех ресурсов Кэша Azure для Redis во всех подписках в едином расположении. Вы можете выборочно указать только те подписки и ресурсы, которые вас интересуют.

- **Подробный анализ** определенного ресурса Кэша Azure для Redis. Вы можете диагностировать проблемы и изучать подробные аналитические сведения о потреблении, сбоях, емкости и операциях. Выберите любую из этих категорий, чтобы просмотреть подробный анализ важной информации.  

- **Персонализация** возможности, созданной на основе шаблонов книг Azure Monitor. Эта возможность позволяет изменять отображаемые метрики, а также указывать пороговые значения согласно заданным ограничениям. Внесенные изменения можно сохранить в пользовательской книге, а затем закрепить диаграммы книг на панелях мониторинга Azure.

Для использования этой возможности вам не нужно ничего включать или настраивать. Сведения о Кэше Azure для Redis собираются по умолчанию.

>[!NOTE]
>Плата за доступ к этой возможности не взимается. Вы оплачиваете только ключевые возможности Azure Monitor, которые вы настраиваете или включаете, как описано на странице со сведениями о [ценах на Azure Monitor](https://azure.microsoft.com/pricing/details/monitor/).

## <a name="view-utilization-and-performance-metrics-for-azure-cache-for-redis"></a>Просмотр метрик потребления и производительности для Кэша Azure для Redis

Чтобы получить данные о потреблении и производительности по учетным записям хранения во всех подписках, сделайте следующее:

1. Войдите на [портал Azure](https://portal.azure.com).

1. Выполните поиск по слову **Monitor** и выберите **Monitor**.

    ![Поле поиска со словом Monitor и результатом поиска по службам с отображаемым элементом Monitor и символом спидометра](./media/cosmosdb-insights-overview/search-monitor.png)

1. Выберите **кэш Azure для Redis**. Если этот элемент отсутствует, выберите **Дополнительно** > **Кэш Azure для Redis**.

### <a name="overview"></a>Обзор

На странице **Обзор** есть интерактивная таблица с метриками Кэша Azure для Redis. Результаты можно фильтровать по параметрам, которые вы выбираете в следующих раскрывающихся списках:

- **Подписки**. Перечислены только подписки, в которых присутствует ресурс Кэша Azure для Redis.  

- **Кэш Azure для Redis.** Вы можете выбрать все ресурсы, группу ресурсов или один ресурс Кэш Azure для Redis.

- **Диапазон времени.** По умолчанию в таблице отображаются данные за последние четыре часа с учетом выбранных параметров.

Под раскрывающимися списками есть плитка счетчика. На этой плитке отображается общее число ресурсов Кэша Azure для Redis в выбранных подписках. Условные цветовые коды или тепловые карты для столбцов книги представляют метрики транзакций. Самый темный цвет обозначает самое высокое значение. Более светлые цвета представляют более низкие значения.

Щелкнув стрелку раскрывающегося списка рядом с любым ресурсом Кэша Azure для Redis, вы увидите разбивку по метрикам производительности на уровне отдельных ресурсов.

![Снимок экрана: общие сведения](./media/redis-cache-insights-overview/overview.png)

Выбрав выделенное синим цветом имя ресурса Кэша Azure для Redis, вы увидите стандартную таблицу **Обзор** для связанной учетной записи. В ней представлены следующие столбцы:

- **Объем используемой памяти**
- **Процент используемой памяти**
- **Загрузка сервера**
- **Временная шкала загрузки сервера**
- **ЦП**
- **Подключенные клиенты**
- **Промахи в кэше**
- **Ошибки (максимум)**

### <a name="operations"></a>Операции

Щелкнув **Операции** в верхней части страницы, вы увидите таблицу **Операции** из шаблона книги. В ней представлены следующие столбцы:

- **Всего операций**
- **Временная шкала общего числа операций**
- **Количество операций в секунду**
- **Операций считывания**
- **Операций присвоения**

![Снимок экрана: сведения об операциях](./media/redis-cache-insights-overview/operations.png)

### <a name="usage"></a>Использование

Щелкнув **Потребление** в верхней части страницы, вы увидите таблицу **Потребление** из шаблона книги. В ней представлены следующие столбцы:

- **Чтение из кэша**
- **Временная шкала чтения кэша**
- **Запись в кэш**
- **Попадания в кэш**
- **Промахи в кэше**

![Снимок экрана: сведения о потреблении](./media/redis-cache-insights-overview/usage.png)

### <a name="failures"></a>Сбои

Щелкнув **Сбои** в верхней части страницы, вы увидите таблицу **Сбои** из шаблона книги. В ней представлены следующие столбцы:

- **Всего ошибок**
- **Отработки отказа/ошибки**
- **Клиент не отвечает/ошибки**
- **RDB/ошибки**
- **AOF/ошибки**
- **Экспорт/ошибки**
- **Потеря данных/ошибки**
- **Импорт/ошибки**

![Снимок экрана: сведения о сбоях с разбивкой по типу запроса HTTP](./media/redis-cache-insights-overview/failures.png)

### <a name="metric-definitions"></a>Определения метрик

Полный список определений метрик, которые формируют эти книги, см. в статье [Доступные метрики и интервалы отчетности](../../azure-cache-for-redis/cache-how-to-monitor.md#available-metrics-and-reporting-intervals).

## <a name="view-from-an-azure-cache-for-redis-resource"></a>Представления ресурса Кэша Azure для Redis

Чтобы открыть Azure Monitor для Кэша Azure для Redis непосредственно из отдельного ресурса, сделайте следующее:

1. На портала Azure выберите "Кэш Azure для Redis".

2. В списке результатов выберите нужный ресурс Кэша Azure для Redis. В разделе Мониторинг выберите аналитика.

    ![Снимок экрана параметров меню с словами "Insights", выделенными в красном прямоугольнике](./media/redis-cache-insights-overview/insights.png)

В эти представления также можно перейти, выбрав имя ресурса Кэша Azure для Redis в книге на уровне Azure Monitor.

### <a name="resource-level-overview"></a>Обзор на уровне ресурсов

В книге **Обзор** для Кэша Azure для Redis отображаются несколько метрик производительности, которые позволяют быстро получить доступ к следующим компонентам:

- интерактивные диаграммы производительности с наиболее важными сведениями о производительности Кэша Azure для Redis;

- плитки метрик и состояния, где отмечаются производительность сегментов, общее число подключенных клиентов и общая задержка.

![Снимок экрана: панель мониторинга "Обзор" со сведениями о производительности ЦП, используемой памяти, подключенных клиентах, ошибках, ключах с истекшим сроком действия и удаленных ключах](./media/redis-cache-insights-overview/resource-overview.png)

При выборе любой другой вкладки в представлениях **Производительность** или **Операции** открываются соответствующие книги.

### <a name="resource-level-performance"></a>Производительность на уровне ресурсов

![Снимок экрана: графы производительности ресурсов](./media/redis-cache-insights-overview/resource-performance.png)

### <a name="resource-level-operations"></a>Операции на уровне ресурсов

![Снимок экрана: графы операций с ресурсами](./media/redis-cache-insights-overview/resource-operations.png)

## <a name="pin-export-and-expand"></a>Закрепление, экспорт и развертывание

Чтобы закрепить любой раздел метрики на [панели мониторинга Azure](../../azure-portal/azure-portal-dashboards.md), щелкните символ канцелярской кнопки в правом верхнем углу раздела.

![Раздел метрики с выделенным символом канцелярской кнопки](./media/cosmosdb-insights-overview/pin.png)

Чтобы экспортировать данные в формат Excel, щелкните значок со стрелкой вниз слева от символа канцелярской кнопки.

![Выделенный символ экспорта книги](./media/cosmosdb-insights-overview/export.png)

Чтобы развернуть или свернуть все представления в книге, щелкните символ развертывания слева от символа экспорта.

![Выделенный символ развертывания книги](./media/cosmosdb-insights-overview/expand.png)

## <a name="customize-azure-monitor-for-azure-cache-for-redis"></a>Настройка Azure Monitor для кэша Azure для Redis

Так как эта возможность основана на шаблонах книг Azure Monitor, вы можете выбрать **Настройка** > **Изменить** > **Сохранить**, чтобы сохранить измененную копию в виде пользовательской книги.

![Панель команд с выделенным элементом "Настроить"](./media/cosmosdb-insights-overview/customize.png)

Книги можно сохранять в группе ресурсов в разделах **Мои отчеты** или **Общие отчеты**. Раздел **Мои отчеты** доступен только текущему пользователю. Раздел **Общие отчеты** доступен всем пользователям, у которых есть доступ к соответствующей группе ресурсов.

После сохранения пользовательской книги перейдите в коллекцию книг и откройте эту книгу.

![Панель команд с выделенным элементом "Коллекция"](./media/cosmosdb-insights-overview/gallery.png)

## <a name="troubleshooting"></a>Устранение неполадок

Инструкции по устранению неполадок см. в соответствующей [статье по устранению неполадок](troubleshoot-workbooks.md)на основе книги.

## <a name="next-steps"></a>Дальнейшие действия

* Настройте [оповещения метрик](../platform/alerts-metric.md) и [уведомления о работоспособности служб](../../service-health/alerts-activity-log-service-notifications-portal.md), чтобы получать автоматизированные оповещения для обнаружения проблем.

* Узнайте, в каких ситуациях можно применять книги, как создавать и настраивать отчеты и др., изучив статью [Создание интерактивных отчетов с использованием книг Azure Monitor](../platform/workbooks-overview.md).
