---
title: Создание оповещений с помощью SQL Insights (Предварительная версия)
description: Создание оповещений с помощью SQL Insights в Azure Monitor
ms.topic: conceptual
author: bwren
ms.author: bwren
ms.date: 03/12/2021
ms.openlocfilehash: 5fe853ee0f7a113bfb8b0511744d9087f67927c4
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104610162"
---
# <a name="create-alerts-with-sql-insights-preview"></a>Создание оповещений с помощью SQL Insights (Предварительная версия)
SQL Insights включает набор шаблонов правил генерации оповещений, которые можно использовать для создания [правил генерации оповещений в Azure Monitor](../alert/../alerts/alerts-overview.md) для распространенных проблем SQL. Правила генерации оповещений в SQL Insights — это правила генерации оповещений журнала на основе данных о производительности, хранящихся в таблице *инсигхтсметрикс* в журналах Azure Monitor.  

> [!NOTE]
> Если у вас есть запросы на дополнительные шаблоны правил оповещений SQL Insights, отправьте отзыв, используя ссылку в нижней части этой страницы или ссылку на отзыв SQL Insights в портал Azure.

## <a name="enable-alert-rules"></a>Включение правил генерации оповещений 
Чтобы включить оповещения в Azure Monitor из портал Azure, выполните следующие действия.Созданные правила генерации оповещений будут находиться в области действия всех ресурсов SQL, отслеживаемых в выбранном профиле мониторинга.  При активации правила генерации оповещений оно будет запущено на определенном экземпляре или базе данных SQL.

> [!NOTE]
> Можно также создать пользовательские [правила генерации оповещений журнала](../alerts/alerts-log.md) , запустив запросы к наборам данных в таблице *инсигхтсметрикс* , а затем сохранив эти запросы в качестве правила генерации оповещений. 

Выберите **SQL (Предварительная версия)** в разделе **Insights** в меню Azure Monitor в портал Azure. Щелкните **оповещения** .

:::image type="content" source="media/sql-insights-alerts/alerts-button.png" alt-text="Кнопка &quot;оповещения&quot;":::

В правой части страницы откроется панель **оповещения** . По умолчанию он отображает запущенные предупреждения для ресурсов SQL в выбранном профиле мониторинга на основе уже созданных правил генерации оповещений. Выберите **шаблоны оповещений**, в которых будет отображаться список доступных шаблонов, которые можно использовать для создания правила генерации оповещений.

:::image type="content" source="media/sql-insights-alerts/alert-templates.png" alt-text="Шаблоны оповещений":::

На странице **Создание правила генерации оповещений** проверьте настройки правила по умолчанию и при необходимости измените их. Вы также можете выбрать [группу действий](../alerts/action-groups.md) для создания уведомлений и действий при срабатывании правила генерации оповещений. Щелкните **включить правило генерации оповещений** , чтобы создать правило генерации оповещений после проверки всех его свойств.


:::image type="content" source="media/sql-insights-alerts/alert-rule.png" alt-text="Страница правил генерации оповещений":::

Чтобы немедленно развернуть правило оповещения, щелкните **развернуть правило генерации оповещений**. Нажмите кнопку **просмотреть шаблон** , чтобы просмотреть шаблон правила до его фактического развертывания.

:::image type="content" source="media/sql-insights-alerts/alert-rule-deploy.png" alt-text="Развертывание правила генерации оповещений":::

Если вы решили просмотреть шаблоны, выберите **развернуть** на странице шаблона, чтобы создать правило генерации оповещений.

:::image type="content" source="media/sql-insights-alerts/view-template-deploy.png" alt-text="Развертывание из шаблона представления":::


## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об [оповещениях см. в Azure Monitor](../alerts/alerts-overview.md).

