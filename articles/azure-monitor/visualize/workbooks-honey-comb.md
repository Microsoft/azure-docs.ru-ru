---
title: Azure Monitor в книге объединение визуализаций honeytoken
description: Дополнительные сведения о Azure Monitorных визуализациях в книге honeytoken.
services: azure-monitor
author: lgayhardt
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.topic: conceptual
ms.date: 09/18/2020
ms.author: lagayhar
ms.openlocfilehash: c91912f711b912c54c1673f2f92e998b4d9ea9db
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "101736939"
---
# <a name="honey-comb-visualizations"></a>Honeytoken объединение визуализаций

Объединение honeytoken позволяет использовать высокоплотные представления метрик или категорий, которые при необходимости можно сгруппировать как кластеры. Они полезны при визуальном определении гиперобъектов и детализации.

На рисунке ниже показано использование ЦП виртуальными машинами в двух подписках. Каждая ячейка представляет собой виртуальную машину, а цвет или метка представляет среднюю загрузку ЦП (Редс являются горячими компьютерами). Виртуальные машины будут кластеризованы по подписке.

[![Снимок экрана, показывающий использование ЦП виртуальными машинами в двух подписках](.\media\workbooks-honey-comb\cpu-example.png)](.\media\workbooks-honey-comb\cpu-example.png#lightbox)

## <a name="adding-a-honey-comb"></a>Добавление honeytokenного объединение

1. Переключите книгу в режим редактирования, щелкнув элемент панели инструментов изменить.
2. Используйте **Добавить**  в нижней части, а затем *добавьте запрос* , чтобы добавить в книгу элемент управления "запрос журнала".
3. Выберите "журналы" в качестве *источника данных*, "log Analytics" в качестве *типа ресурса*, а для точки *ресурса* — для рабочей области с журналом производительности виртуальной машины.
4. Используйте редактор запросов, чтобы ввести ККЛ для анализа.

```kusto
    Perf
| where CounterName == 'Available MBytes'
| summarize CounterValue = avg(CounterValue) by Computer, _ResourceId
| extend ResourceGroup = extract(@'/subscriptions/.+/resourcegroups/(.+)/providers/microsoft.compute/virtualmachines/.+', 1, _ResourceId)
| extend ResourceGroup = iff(ResourceGroup == '', 'On-premise computers', ResourceGroup), Id = strcat(_ResourceId, '::', Computer)
```

5. Выполнить запрос.
6. Задайте для *визуализации* значение "Graph".
7. Выберите **Параметры диаграммы**.
    1. В *полях макет* в нижней части задайте:
        1. Тип диаграммы: **кластеры Hive**.
        2. Идентификатор узла: `Id` .
        3. Группировать по: `None` .
        4. Размер узла: 100.
        5. Поле между шестиугольниками: `5` .
        6. Тип цвета: **тепловой карты**.
        7. Поле цвета узла: `CouterValue` .
        8. Цветовая палитра: `Red to Green` .
        9. Минимальное значение: `100` .
        10. Максимальное значение: `2000` .
    2. В верхней части окна *Параметры формата узла* задайте:
        1. Верхнее содержимое:
            1. Использовать столбец: `Computer` .
            2. Модуль подготовки столбцов " `Text` .
        9. Содержимое центра:
            1. Использовать столбец: `CounterValue` .
            2. Модуль подготовки столбцов: `Big Number` .
            3. Цветовая палитра: `None` .
            4. Установите флажок *настраиваемое числовое форматирование* .
            5. Единицы: `Megabytes` .
            6. Максимальное число цифр дробной части: `1` .
8. Нажмите кнопку **сохранить и закрыть** в нижней части панели.

[![Снимок экрана: Управление запросами, параметры графа и объединение honeytoken с помощью приведенных выше запросов и параметров](.\media\workbooks-honey-comb\available-memory.png)](.\media\workbooks-honey-comb\available-memory.png#lightbox)

## <a name="honey-comb-layout-settings"></a>Параметры макета "объединение honeytoken"

| Параметр | Объяснение |
|:------------- |:-------------|
| `Node Id` | Выбирает столбец, предоставляющий уникальный идентификатор узлов. Значение столбца может быть строкой или числом. |
| `Group By Field` | Выберите столбец для кластеризации узлов. |
| `Node Size` | Задает размер ячеек шестиугольника. Используйте со `Margin between hexagons` свойством, чтобы настроить внешний вид honeytokenной диаграммы. |
| `Margin between hexagons` | Устанавливает зазор между ячейками в шестиугольнике. Используйте со `Node size` свойством, чтобы настроить внешний вид honeytokenной диаграммы. |
| `Coloring type` | Выбирает схему, используемую для выделения цветом узла. |
| `Node Color Field` | Выбирает столбец, предоставляющий метрику, на которой будут основываться области узлов. |

## <a name="node-coloring-types"></a>Типы цветов узлов

| Тип цвета | Пояснение |
|:------------- |:-------------|
| `None` | Все узлы имеют одинаковый цвет. |
| `Categorical` | Узлам присваиваются цвета на основе значения или категории из столбца в результирующем наборе. В приведенном выше примере цветовое выделение основано на _типе_ столбца результирующего набора. Поддерживаемые палитры: `Default` , `Pastel` и `Cool tone` .  |
| `Heatmap` | В этом типе ячейки выделены цветом на основе столбца метрики и цветовой палитры. Это обеспечивает простой способ выделения метрик, разворотов в ячейках. |
| `Thresholds` | В этом типе цвета ячеек задаются правилами порога (например, _цп > 90% => Red, 60% > цп > 90% => желтый, цп < 60% => Green_). |
| `Field Based` | В этом типе столбец содержит определенные значения RGB, используемые для узла. Предоставляет наибольшую гибкость, но обычно требует больше работы для включения.  |
      
## <a name="node-format-settings"></a>Параметры формата узла

Авторы honeytokenного объединение могут указать, какое содержимое будет передано в различные части узла: сверху, слева, по центру, справа и снизу. Авторы могут использовать любую из книг, поддерживающих модули подготовки отчетов (текст, большое число, строки Spark, значок и т. д.).

## <a name="next-steps"></a>Дальнейшие действия

- Сведения о создании [визуализатора составных линейчатых диаграмм в книгах](workbooks-composite-bar.md).
- Узнайте, как [импортировать данные журнала Azure Monitor в Power BI](./powerbi.md).