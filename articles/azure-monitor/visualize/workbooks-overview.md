---
title: Общие сведения о книгах Azure Monitor
description: Узнайте, как книги предоставляют гибкий холст для анализа данных и создания сложных визуальных отчетов в портал Azure.
manager: carmonm
services: azure-monitor
ms.tgt_pltfrm: ibiza
ms.topic: conceptual
ms.date: 07/23/2020
ms.openlocfilehash: e401eb4a5608db6e5767298f53046099a42679b4
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100621498"
---
# <a name="azure-monitor-workbooks"></a>Azure Monitor книги

Книги предоставляют гибкий холст для анализа данных и создания полнофункциональных визуальных отчетов на портале Azure. Они позволяют подключаться к нескольким источникам данных из Azure и объединять их через единый интерактивный интерфейс. 

Ниже приведено видео пошаговое руководство по созданию книг.

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4B4Ap]

## <a name="data-sources"></a>Источники данных

Книги могут запрашивать данные из нескольких источников в Azure. Авторы книг могут преобразовать эти данные, чтобы получить сведения о доступности, производительности, использовании и общей работоспособности базовых компонентов. Например, анализ журналов производительности с виртуальных машин для обнаружения экземпляров высокой загрузки ЦП или нехватки памяти и отображение результатов в виде сетки в интерактивном отчете.
  
Но основное преимущество книг заключается в возможности объединения данных из разрозненных источников в одном отчете. Это позволяет создавать составные представления ресурсов или объединения между ресурсами, обеспечивая расширенные данные и аналитические сведения, которые в противном случае могли бы оказаться невозможными.

В настоящее время книги совместимы со следующими источниками данных.

* [Журналы](../visualize/workbooks-data-sources.md#logs)
* [Метрики](../visualize/workbooks-data-sources.md#metrics)
* [Azure Resource Graph](../visualize/workbooks-data-sources.md#azure-resource-graph)
* [Оповещения (Предварительная версия)](../visualize/workbooks-data-sources.md#alerts-preview)
* [Работоспособность рабочей нагрузки](../visualize/workbooks-data-sources.md#workload-health)
* [Работоспособность ресурсов Azure](../visualize/workbooks-data-sources.md#azure-resource-health)
* [Azure Data Explorer](../visualize/workbooks-data-sources.md#azure-data-explorer)

## <a name="visualizations"></a>Визуализации

Книги предоставляют широкий набор возможностей для визуализации данных. Подробные примеры каждого типа визуализации см. в приведенных ниже ссылках на примеры.

* [Text](../visualize/workbooks-text-visualizations.md)
* [Создание графиков](../visualize/workbooks-chart-visualizations.md)
* [Сетки](../visualize/workbooks-grid-visualizations.md)
* [Плитки](../visualize/workbooks-tile-visualizations.md)
* [Деревья](../visualize/workbooks-tree-visualizations.md)
* [Графы](../visualize/workbooks-graph-visualizations.md)
* [Составная панель](../visualize/workbooks-composite-bar.md)

![Примеры визуализаций книги](./media/workbooks-overview/visualizations.png)

## <a name="getting-started"></a>Начало работы

Чтобы исследовать работу с книгами, сначала перейдите в службу Azure Monitor. Это можно сделать, введя **Monitor** в поле поиска в портал Azure.

Затем выберите пункт **книги**.

![Снимок экрана: кнопка "книги", выделенная красным прямоугольником](./media/workbooks-overview/workbooks.png)

### <a name="gallery"></a>Коллекции

Откроется коллекция книг:

![Снимок экрана: представление коллекции книг Azure Monitor](./media/workbooks-overview/gallery.png)

### <a name="workbooks-versus-workbook-templates"></a>Книги и шаблоны книг

Вы можете увидеть _книгу_ в зеленом виде, а несколько _шаблонов книг_ — фиолетовым. Шаблоны служат в качестве проверенных отчетов, предназначенных для гибкого повторного использования несколькими пользователями и группами. При открытии шаблона создается временная книга, заполненная содержимым шаблона. 

Вы можете настроить параметры книги, основанные на шаблонах, и выполнить анализ, не нарушая возможности создания отчетов для коллег. Если вы откроете шаблон, выполните некоторые корректировки, а затем щелкните значок Сохранить, чтобы сохранить шаблон в виде книги, которая затем будет отображаться зеленым цветом без изменений. 

В этом случае шаблоны также отличаются от сохраненных книг. При сохранении книги создается связанный ресурс Azure Resource Manager, в то время как временная книга, созданная при простом открытии шаблона, не имеет связанного с ней уникального ресурса. Дополнительные сведения об управлении доступом в книгах см. в [статье Управление доступом к книгам](../visualize/workbooks-access-control.md).

### <a name="exploring-a-workbook-template"></a>Изучение шаблона книги

Выберите **анализ сбоев приложений** , чтобы просмотреть один из шаблонов книги приложений по умолчанию.

![Снимок экрана шаблона "анализ сбоев приложений"](./media/workbooks-overview/failure-analysis.png)

Как упоминалось ранее, при открытии шаблона создается временная книга, с которой вы сможете взаимодействовать. По умолчанию книга открывается в режиме чтения, где отображаются только сведения о предполагаемом интерфейсе анализа, созданном исходным автором шаблона.

В случае этой конкретной книги опыт работы интерактивен. Вы можете настроить подписку, целевые приложения и диапазон времени для отображаемых данных. После того, как вы сделали выбор, сетка HTTP-запросов также будет интерактивной, и выбор отдельной строки изменит данные, отображаемые в двух диаграммах в нижней части отчета.

### <a name="editing-mode"></a>Режим правки

Чтобы понять, как объединяется этот шаблон книги, необходимо переключиться в режим редактирования, нажав кнопку **изменить**.

![Снимок экрана: кнопка "Изменить" в книгах.](./media/workbooks-overview/edit.png)

После переключения в режим правки появится несколько полей **ввода** , соответствующих каждому отдельному аспекту книги.

![Снимок экрана: кнопка "Изменить"](./media/workbooks-overview/edit-mode.png)

Если нажать кнопку изменить непосредственно под сеткой данных запроса, мы видим, что эта часть книги состоит из Kusto запроса к данным из ресурса Application Insights.

![Снимок экрана с базовым запросом Kusto](./media/workbooks-overview/kusto.png)

При нажатии других кнопок " **изменить** " справа будут раскрыты некоторые основные компоненты, которые составляют книги, такие как [текстовые поля](../visualize/workbooks-text-visualizations.md)на основе Markdown, элементы пользовательского интерфейса [выбора параметров](../visualize/workbooks-parameters.md) и другие [типы диаграмм и визуализаций](#visualizations). 

Изучение готовых шаблонов в режиме правки и последующее изменение их в соответствии с вашими потребностями и сохранение пользовательской книги — отличный способ узнать о возможностях Azure Monitor книг.

## <a name="pinning-visualizations"></a>Закрепление визуализаций

Действия с текстом, запросами и метриками в книге можно закрепить с помощью кнопки закрепить на этих элементах, пока книга находится в режиме закрепления, или если автор книги включил параметры для этого элемента, чтобы сделать значок ПИН-кода видимым. 

Чтобы получить доступ к режиму ПИН-кода, нажмите кнопку **изменить** , чтобы перейти в режим правки, и выберите синий значок закрепления на верхней панели. Отдельный значок закрепления появится над полем *редактирования* соответствующей части книги в правой части экрана.

![Закрепить интерфейс](./media/workbooks-overview/pin-experience.png)

> [!NOTE]
> Состояние книги сохраняется на момент ПИН-кода, а закрепленные книги на панели мониторинга не обновляются при изменении базовой книги. Чтобы обновить закрепленную часть книги, необходимо удалить и повторно закрепить эту часть.

## <a name="dashboard-time-ranges"></a>Диапазоны времени панели мониторинга

Фрагменты запросов закрепленной книги будут учитывать диапазон времени панели мониторинга, если закрепленный элемент настроен для использования параметра *диапазона времени* . Значение диапазона времени панели мониторинга будет использоваться в качестве значения параметра диапазона времени, а любое изменение диапазона времени панели мониторинга приведет к обновлению закрепленного элемента. Если закрепленная часть использует диапазон времени панели мониторинга, вы увидите подзаголовок обновления закрепленной части, чтобы отображать диапазон времени панели мониторинга при каждом изменении диапазона времени. 

Кроме того, закрепленные части книги, использующие параметр диапазона времени, будут обновляться по скорости, определенной диапазоном времени панели мониторинга. При последнем запуске запрос будет отображаться в подразделе закрепленной части.

Если закрепленный шаг имеет явно заданный диапазон времени (не использует параметр диапазона времени), этот диапазон времени всегда будет использоваться для панели мониторинга независимо от параметров панели мониторинга. Подзаголовок закрепленной части не будет показывать диапазон времени панели мониторинга, и запрос не будет обновляться на панели мониторинга. Подзаголовок будет показывать время последнего выполнения запроса.

> [!NOTE]
> Запросы, использующие источник данных *слияния* , в настоящее время не поддерживаются при закреплении на панелях мониторинга.

## <a name="sharing-workbook-templates"></a>Совместное использование шаблонов книг

Создав собственные шаблоны книг, вы можете поделиться им с более широким сообществом. Чтобы узнать больше, а также просмотреть другие шаблоны, которые не входят в представление коллекции по умолчанию Azure Monitor, посетите наш [репозиторий GitHub](https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/README.md). Чтобы просмотреть существующие книги, посетите [библиотеку книг](https://github.com/microsoft/Application-Insights-Workbooks/tree/master/Workbooks) на сайте GitHub.

## <a name="next-step"></a>Следующий шаг

* [Узнайте](#visualizations) больше о книгах с множеством разнообразных вариантов визуализации.
* [Управление](../visualize/workbooks-access-control.md) доступом к ресурсам книги и предоставление общего доступа к ним.