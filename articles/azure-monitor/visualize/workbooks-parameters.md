---
title: Azure Monitor книг, создающих параметры
description: Узнайте, как параметры позволяют авторам книг получать входные данные от потребителей и ссылаться на них в других частях книги.
services: azure-monitor
manager: carmonm
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.topic: conceptual
ms.date: 10/23/2019
ms.openlocfilehash: 7c086938ec98fc1d34ba21f678b2091c3b5ac1c4
ms.sourcegitcommit: e559daa1f7115d703bfa1b87da1cf267bf6ae9e8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2021
ms.locfileid: "100621591"
---
# <a name="workbook-parameters"></a>Параметры книги

Параметры позволяют авторам книг получать входные данные от потребителей и ссылаться на них в других частях книги — обычно для определения области результирующего набора или настройки правильного визуального элемента. Это ключевая возможность, позволяющая авторам создавать интерактивные отчеты и взаимодействия. 

Книги позволяют управлять отображением элементов управления параметрами для потребителей — текстового поля или раскрывающегося списка, одиночного и множественного выбора, значений из текста, JSON, ККЛ или графа ресурсов Azure и т. д.  

Поддерживаемые типы параметров включают:
* [Время](workbooks-time.md) — позволяет пользователю выбрать предварительно заполненные диапазоны времени или выбрать настраиваемый диапазон.
* [Раскрывающийся список](workbooks-dropdowns.md) — позволяет пользователю выбрать значение или набор значений.
* [Текст](workbooks-text.md) — позволяет пользователю вводить произвольный текст
* [Ресурс](workbooks-resources.md) . позволяет пользователю выбрать один или несколько ресурсов Azure.
* [Подписка](workbooks-resources.md) . позволяет пользователю выбрать один или несколько ресурсов подписки Azure.
* Тип ресурса — позволяет пользователю выбрать одно или несколько значений типа ресурсов Azure.
* Location — позволяет пользователю выбрать одно или несколько значений расположения Azure.

На эти значения параметров можно ссылаться в других частях книг с помощью привязок или расширений значений.

## <a name="creating-a-parameter"></a>Создание параметра
1. Начните с пустой книги в режиме редактирования.
2. Выберите _Добавить параметры_ из ссылок в книге.
3. Нажмите синюю кнопку _Добавить параметр_ .
4. В новой области параметров, которая появляется на экране, введите:
    1. Имя параметра: `TimeRange` *(Обратите внимание, что __имена__ параметров **не могут** содержать пробелы или специальные символы)* .
    2. Отображаемое имя: `Time Range` *(Однако __отображаемые имена__ могут содержать пробелы, Специальные символы, эмодзи и т. д.).*  
    2. Тип параметра: `Time range picker`
    3. Обязательно: `checked`
    4. Доступные диапазоны времени: последний час, последние 12 часов, последние 24 часа, последние 48 часов, последние 3 дня, последние 7 дней и разрешить выбор настраиваемого диапазона времени.
5. Нажмите кнопку "Сохранить" на панели инструментов, чтобы создать параметр.

   ![Изображение, показывающее создание параметра диапазона времени](./media/workbooks-parameters/time-settings.png)

Вот как книга будет выглядеть в режиме чтения в стиле "пилюли".

   ![Изображение, показывающее параметр диапазона времени в режиме чтения](./media/workbooks-parameters/parameters-time.png)

## <a name="referencing-a-parameter"></a>Ссылка на параметр
### <a name="via-bindings"></a>С помощью привязок
1. Добавьте в книгу элемент управления запроса и выберите ресурс Application Insights.
2. Откройте раскрывающийся список _диапазон времени_ и выберите `Time Range` параметр в разделе Параметры внизу.
3. При этом параметр диапазона времени привязывается к диапазону времени диаграммы. Область времени примера запроса теперь находится за последние 24 часа.
4. Выполнение запроса для просмотра результатов

    ![Изображение, показывающее параметр временного диапазона, на который ссылаются привязки](./media/workbooks-parameters/time-binding.png)

### <a name="in-kql"></a>В ККЛ
1. Добавьте в книгу элемент управления запроса и выберите ресурс Application Insights.
2. В ККЛ введите фильтр области времени с помощью параметра: `| where timestamp {TimeRange}`
3. Это увеличивает время оценки запроса до `| where timestamp > ago(1d)` , которое представляет собой значение диапазона времени для параметра.
4. Выполнение запроса для просмотра результатов

    ![Изображение, показывающее диапазон времени, указанный в ККЛ](./media/workbooks-parameters/time-in-code.png)

### <a name="in-text"></a>В тексте 
1. Добавьте в книгу элемент управления "текст".
2. В Markdown введите `The chosen time range is {TimeRange:label}`
3. Выбор _выполненного редактирования_
4. В элементе управления "текст" отображается текст: _выбранный диапазон времени — за последние 24 часа_

## <a name="parameter-options"></a>Параметры
В _текстовом_ разделе используется параметр, `label` а не его значение. Параметры предоставляют различные такие параметры в зависимости от типа, например, выборки диапазона времени допускают значения, метки, запросы, начало, конец и детализацию.

Используйте `Previews` раздел панели _изменение параметров_ , чтобы просмотреть параметры расширения для параметра.

![Изображение, показывающее параметры интервала времени](./media/workbooks-parameters/time-previews.png)

## <a name="next-steps"></a>Дальнейшие шаги

* [Узнайте](../platform/workbooks-overview.md#visualizations) больше о книгах с множеством разнообразных вариантов визуализации.
* [Управление](../platform/workbooks-access-control.md) доступом к ресурсам книги и предоставление общего доступа к ним.