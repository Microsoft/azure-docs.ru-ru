---
title: Анализ удержания пользователей веб-приложений с помощью Azure Application Insights
description: Сколько пользователей вернулось к использованию вашего приложения?
ms.topic: conceptual
author: NumberByColors
ms.author: daviste
ms.date: 05/03/2017
ms.reviewer: mbullwin
ms.openlocfilehash: 45f3a7152add8d64d961feb055413760df01eb94
ms.sourcegitcommit: a8ff4f9f69332eef9c75093fd56a9aae2fe65122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/24/2021
ms.locfileid: "105025617"
---
# <a name="user-retention-analysis-for-web-applications-with-application-insights"></a>Анализ удержания пользователей веб-приложений с помощью Application Insights

Компонент "Удержание" в [Azure Application Insights](./app-insights-overview.md) помогает анализировать, сколько пользователей вернулось в ваше приложение и как часто они выполняют определенные задачи или достигают цели. Например, если вы разместили игровой сайт, то можете сравнить число пользователей, которые вернулись на сайт после проигрыша, и число пользователей, которые вернулись после победы в игре. Эти сведения помогут улучшить взаимодействие с пользователем и свою бизнес-стратегию.

## <a name="get-started"></a>Начало работы

Если вы еще не видите данных в инструменте "Удержание" на портале Application Insights, [узнайте, как приступить к работе с инструментами для данных об использовании](usage-overview.md).

## <a name="the-retention-tool"></a>Инструмент "Удержание"

![Инструмент "Хранение"](./media/usage-retention/retention.png)

1. Эта панель инструментов позволяет пользователям создавать новые отчеты и открывать существующие отчеты об удержании, а также дает возможность сохранить (или сохранить как) текущий отчет об удержании, отменить все изменения, внесенные в сохраненные отчеты, обновить данные в отчете, предоставить отчет по электронной почте или посредством прямой ссылки и перейти на страницу документации. 
2. По умолчанию инструмент "Удержание" отображает всех пользователей, которые выполнили какие-либо операции, а затем вернулись и выполнили дополнительные операции в течение определенного периода. Можно выбирать разное сочетание событий, чтобы сводить отображаемые сведения к определенным действиям пользователя.
3. Добавьте один или несколько фильтров по свойствам. Например, можно сосредоточиться на пользователях в определенной стране или регионе. Щелкните **Обновить** после настройки фильтров. 
4. Общая диаграмма удержания содержит сводку по удержанию пользователей за выбранный период времени. 
5. Сетка отображает количество удержанных пользователей согласно настройкам конструктора запросов (см. пункт 2). Каждая строка представляет когорту пользователей, выполнивших какое-либо действие в указанный период. В каждой ячейке в строке показано, сколько пользователей из этой когорты впоследствии вернулось хотя бы один раз. Некоторые пользователи могут возвращаться в нескольких периодах. 
6. На картах аналитики отображаются пять инициирующих событий и пять возвращенных событий, чтобы отчет об удержании был понятнее пользователям. 

![Наведение указателя мыши на компонент "Удержание"](./media/usage-retention/hover.png)

Можно навести указатель мыши на ячейки в инструменте "Удержание", чтобы отобразить кнопку аналитики и советов по работе с инструментом, в которых указано, что означает та или иная ячейка. Кнопка "Аналитика" позволяет перейти к средству аналитики с предварительно заполненным запросом для создания пользователей из ячейки. 

## <a name="use-business-events-to-track-retention"></a>Использование бизнес-событий для отслеживания периода удержания

Чтобы получить наиболее полезный анализ удержания, измеряйте события, представляющие значительные коммерческие действия. 

Например, многие пользователи могут открывать страницу в приложении, не играя в игру на ней. Следовательно, просто отслеживание просмотров страницы обеспечит неточную оценку того, сколько людей возвращается к игре, получив от нее удовольствие ранее. Чтобы получить четкое представление о возвращающихся игроках, приложение должно отправлять пользовательское событие всякий раз, когда пользователь действительно играет.  

Рекомендуется для запрограммировать пользовательские события, представляющих ключевые коммерческие действия, и использовать их для анализа удержания. Для записи результатов игры необходимо написать строку кода, отправляющую пользовательские события в Application Insights. В коде веб-страницы или в Node.js она выглядит следующим образом.

```JavaScript
    appinsights.trackEvent("won game");
```

Можно так же использовать код сервера ASP.NET, как показано ниже.

```csharp
   telemetry.TrackEvent("won game");
```

[Узнайте больше о создании пользовательских событий](./api-custom-events-metrics.md#trackevent).


## <a name="next-steps"></a>Дальнейшие действия
- Чтобы обеспечить оптимальное использование, начните отправлять [пользовательские события](./api-custom-events-metrics.md#trackevent) или [сведения о просмотрах страниц](./api-custom-events-metrics.md#page-views).
- Если вы уже сделали это, изучите инструменты использования, чтобы узнать, как пользователи используют службу.
    - [Пользователи, сеансы, события](usage-segmentation.md)
    - [Воронки](usage-funnels.md)
    - [Средство "Маршруты пользователей"](usage-flows.md)
    - [книги](../visualize/workbooks-overview.md)
    - [Добавление контекста пользователей](./usage-overview.md)