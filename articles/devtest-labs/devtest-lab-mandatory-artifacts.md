---
title: Обязательные артефакты для Azure DevTest Labs | Документация Майкрософт
description: Узнайте, как указать обязательные артефакты, которые необходимо установить до установки любых выбранных пользователем артефактов на виртуальных машинах в лаборатории.
ms.topic: article
ms.date: 06/26/2020
ms.openlocfilehash: 0677f8bea35cb34735fdcf34e717eea349fad8bf
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85480309"
---
# <a name="specify-mandatory-artifacts-for-your-lab-in-azure-devtest-labs"></a>Укажите обязательные артефакты для лаборатории в Azure DevTest Labs
В качестве владельца лаборатории можно указать обязательные артефакты, которые применяются ко всем компьютерам, созданным в лаборатории. Представьте себе ситуацию, где каждый компьютер в лаборатории должен быть подключен к корпоративной сети. В этом случае каждый пользователь лаборатории должен будет добавить артефакт присоединения к домену во время создания виртуальной машины, чтобы убедиться, что его компьютер подключен к корпоративному домену. Другими словами, пользователям лаборатории придется повторно создать компьютер, если они забыли применить обязательные артефакты на своем. Артефакт соединения домена можно сделать обязательным. Это гарантирует, что каждый компьютер подключен к корпоративной сети и понадобится меньше времени и усилий для пользователей лаборатории.
 
Другие обязательные артефакты могут включать в себя общее средство, используемое вашей командой, или пакет безопасности, связанный с платформой, который должен иметь каждый компьютер по умолчанию и т. д. Вкратце, любое общее программное обеспечение, которое каждый компьютер в лаборатории должно быть обязательным артефактом. Если после создания пользовательского образа с компьютера, который содержит обязательные, примененных к нему, артефакты, создается новый компьютер на основе этого образа, то во время создания на этом компьютере заново применяются обязательные артефакты. Это также значит, что несмотря на то, что пользовательский образ старый, каждый раз при создании компьютера к нему прикладывается самая новая версия обязательных артефактов. 
 
Только артефакты, которые не имеют параметров, поддерживаются как обязательные. Во время создания лаборатории пользователю не нужно выбирать дополнительные параметры, чтобы сделать процесс создания виртуальной машины проще. 

## <a name="specify-mandatory-artifacts"></a>Указание обязательных артефактов
Можно отдельно выбрать обязательные артефакты для компьютеров с системой Windows и Linux. Можно также изменить порядок этих артефактов, поставив их в том порядке, в котором хотите их применять. 

1. На домашней странице лаборатории выберите функцию **Конфигурация и политики** в разделе **Параметры**. 
3. Выберите **Обязательные артефакты** в разделе **Внешние ресурсы**. 
4. Выберите **Изменить** в разделе **Windows** или **Linux**. В этом примере используется параметр **Windows**. 

    ![Страница "Обязательные артефакты": кнопка "Изменить"](media/devtest-lab-mandatory-artifacts/mandatory-artifacts-edit-button.png)
4. Выберите артефакт. В этом примере используется параметр **7-Zip**. 
5. На странице **Добавить артефакт** выберите **Добавить**. 

    ![Страница "Обязательные артефакты": добавить 7-zip](media/devtest-lab-mandatory-artifacts/add-seven-zip.png)
6. Чтобы добавить другой артефакт, выберите статью и выберите **Добавить**. Этот пример добавляет **Chrome** как второй обязательный артефакт.

    ![Страница "Обязательные артефакты": добавить Chrome](media/devtest-lab-mandatory-artifacts/add-chrome.png)
7. На странице **Обязательные артефакты** отображается сообщение, указывающее количество выбранных артефактов. Если открыть сообщение, увидите выбранные артефакты. Щелкните **Сохранить** для сохранения. 

    ![Страница "Обязательные артефакты": сохранение артефактов](media/devtest-lab-mandatory-artifacts/save-artifacts.png)
8. Повторите те же действия, чтобы указать обязательный артефакт для виртуальных машин Linux. 
    
    ![Страница "Обязательные артефакты": артефакты Windows и Linux](media/devtest-lab-mandatory-artifacts/windows-linux-artifacts.png)
9. Чтобы **удалить** артефакт из списка, выберите **...(многоточие)** в конце строки, а затем выберите **Удалить**. 
10. Чтобы **переупорядочить** артефакты в списке, выберите **...(многоточие)**, находящееся в начале строки, и перетащите его в новое положение. 
11. Чтобы сохранить обязательные артефакты лаборатории, выберите **Сохранить**. 

    ![Страница "Обязательные артефакты": сохранение артефактов в лаборатории](media/devtest-lab-mandatory-artifacts/save-to-lab.png)
12. Закрыть страницу **Конфигурация и политики** (выберите **X** в правом верхнем углу), чтобы вернуться на домашнюю страницу для лаборатории.  

## <a name="delete-a-mandatory-artifact"></a>Удаление обязательного артефакта
Чтобы удалить обязательный артефакт из лаборатории, выполните следующие действия. 

1. Выберите **Конфигурация и политики** в разделе **Параметры**. 
2. Выберите **Обязательные артефакты** в разделе **Внешние ресурсы**. 
3. Выберите **Изменить** в разделе **Windows** или **Linux**. В этом примере используется параметр **Windows**. 
4. Выберите сообщение с количеством обязательных артефактов в верхней части экрана. 

    ![Страница "Обязательные артефакты": выбор сообщения](media/devtest-lab-mandatory-artifacts/select-message-artifacts.png)
5. На странице **Выбранные артефакты** выберите **...(многоточие)** для артефакта, который требуется удалить, и выберите **Удалить**. 
    
    ![Страница "Обязательные артефакты": удаление артефакта](media/devtest-lab-mandatory-artifacts/remove-artifact.png)
6. Нажмите кнопку **OK**, чтобы закрыть страницу **Выбранные артефакты**. 
7. Выберите **Сохранить** на странице **Обязательные артефакты**.
8. Если требуется, повторите такие же действия с **Linux**. 
9. Чтобы сохранить изменения в шаблоне, щелкните **Сохранить**. 

## <a name="view-mandatory-artifacts-when-creating-a-vm"></a>Просмотр обязательных артефактов при создании виртуальной машины
Теперь, будучи пользователем лаборатории, можно просмотреть список обязательных артефактов при создании виртуальной машины в лаборатории. Невозможно изменять или удалять обязательные артефакты, которые установлены в лаборатории.

1. На домашней странице лаборатории в меню выберите **Обзор**.
2. Чтобы добавить виртуальную машину в лабораторию, выберите **+ Добавить**. 
3. Выберите **Базовый образ**. В этом примере используется **Windows Server версии 1709**.
4. Обратите внимание на то, что вы видите сообщение для **Артефакты** с количеством обязательных выбранных артефактов. 
5. Выберите **Артефакты**. 
6. Убедитесь, что вы видите **обязательные артефакты**, указанные в конфигурации и политике лаборатории. 

    ![Создание виртуальной машины: обязательные артефакты](media/devtest-lab-mandatory-artifacts/create-vm-artifacts.png)

## <a name="next-steps"></a>Дальнейшие действия
* Узнайте, как [добавить репозиторий артефактов Git в лабораторию](devtest-lab-add-artifact-repo.md).

