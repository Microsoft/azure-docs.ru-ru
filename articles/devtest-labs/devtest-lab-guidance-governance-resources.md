---
title: Управление инфраструктурой Azure DevTest Labs-Resource
description: В этой статье рассматриваются выравнивание и управление ресурсами для Azure DevTest Labs в Организации.
ms.topic: article
ms.date: 06/26/2020
ms.reviewer: christianreddington,anthdela,juselph
ms.openlocfilehash: 1e470da5cd317d49f0d0734caa11eed6630d3f32
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85480921"
---
# <a name="governance-of-azure-devtest-labs-infrastructure---resources"></a>Система управления инфраструктурой Azure DevTest Labs — ресурсы
В этой статье рассматриваются процессы согласования и управления для ресурсов DevTest Labs в вашей организации. 

## <a name="align-within-an-azure-subscription"></a>Согласование в подписке Azure 

### <a name="question"></a>Вопрос
Как мне согласовать ресурсы DevTest Labs в подписке Azure?

### <a name="answer"></a>Ответ
Прежде чем применять Azure для разработки приложений в организации, проектировщики ИТ-систем должны оценить, как правильно добавить эти возможности в общий портфель своих служб. Особое внимание следует уделить следующим вопросам:

- Как оценить затраты, связанные с жизненным циклом разработки приложений?
- Как потенциальные предложения служб согласуются в нашей организации с корпоративной политикой безопасности? 
- Нужно ли сегментировать ресурсы для разделения среды разработки и рабочей среды? 
- Какие существуют элементы управления для упрощения управления, а также обеспечения стабильности и роста в долгосрочной перспективе?

**Мы рекомендуем всегда начинать** с изучения таксономии Azure для организаций, в которой описаны различия между подписками для производственных задач и разработки. На следующей схеме представлена рекомендуемая таксономия, которая обеспечивает логическое разделение среды разработки и тестирования и рабочей среды. При таком подходе организация сможет написать код для выставления счетов, чтобы отдельно отслеживать затраты на каждую из сред. Дополнительные сведения см. в статье [Рекомендуемая система управления подпиской](/azure/architecture/cloud-adoption/appendix/azure-scaffold). Кроме того, можно использовать [теги Azure](../azure-resource-manager/management/tag-resources.md), чтобы упорядочить ресурсы для целей выставления счетов и отслеживания.

**Вторая рекомендация** заключается в том, чтобы включить подписку DevTest на корпоративном портале Azure. Она позволяет организации запускать клиентские операционные системы, которые обычно недоступны в корпоративной подписке Azure. Затем используйте корпоративное программное обеспечение, где вы платите только за ресурсы, и не беспокойтесь о лицензировании. В этой схеме выставление счетов за определенные службы, включая образы из коллекции в IaaS, например Microsoft SQL Server, будет основываться только на статистике использования. Сведения о подписке Azure DevTest можно найти [здесь](https://azure.microsoft.com/offers/ms-azr-0148p/) для клиентов Enterprise Agreement (EA) и [здесь](https://azure.microsoft.com/offers/ms-azr-0023p/) для клиентов с оплатой по мере использования.

![Согласование ресурсов с подписками](./media/devtest-lab-guidance-governance/resource-alignment-with-subscriptions.png)

Эта модель обеспечивает организации гибкость при масштабном развертывании Azure DevTest Labs. Организация может поддерживать для разных подразделений сотни лабораторий, в которых параллельно работают от 100 до 1000 виртуальных машин. Она поддерживает концепцию централизованной корпоративной системы лабораторий, которая основана на общих принципах, определяющих элементы управления конфигурацией и безопасностью.

Также эта модель гарантирует, что организация не исчерпает ресурсы, выделенные в подписке Azure. Сведения об ограничениях на подписки и службы см. в статье [Подписка Azure, границы, квоты и ограничения службы](../azure-resource-manager/management/azure-subscription-service-limits.md). Процесс подготовки DevTest Labs может потреблять большое количество групп ресурсов. Вы можете увеличить существующие ограничения, направив соответствующий запрос в службу поддержки из подписки Azure DevTest. Повышение интенсивность использования в подписке, используемой для разработки, никак не влияет на ресурсы производственной подписки. Дополнительные сведения о масштабировании DevTest Labs см. в статье [Масштабирование квот и ограничений в DevTest Labs](devtest-lab-scale-lab.md).

Есть одно важное ограничение на уровне подписки, которое необходимо учитывать — это правила выделения диапазонов IP-адресов в сети для рабочих подписок и подписок, используемых для разработки. При выделении адресов следует учитывать прогнозируемый рост (если локальное подключение или другая топология сети вынуждает предприятие самостоятельно управлять сетевым стеком вместо использования стандартной реализации Azure). Мы рекомендуем поддерживать несколько виртуальных сетей с большим префиксом IP-адресов, разделенных на большое количество крупных подсетей, а не создавать много виртуальных сетей с небольшими подсетями. Например, для 10 подписок можно выделить 10 виртуальных сетей (по одной для каждой подписки). Все лаборатории, которым не требуется полная изоляция, могут совместно использовать одну и ту же подсеть в виртуальной сети соответствующей подписки.

## <a name="maintain-naming-conventions"></a>Поддержание соглашений об именовании

### <a name="question"></a>Вопрос
Как правильно поддерживать соглашения об именовании в среде DevTest Labs?

### <a name="answer"></a>Ответ
Вы можете расширить существующие корпоративные соглашения об именовании на операции в среде Azure и поддерживать их единообразие для всей среды DevTest Labs.

Мы рекомендуем вам создать четкие начальные политики сразу же при развертывании DevTest Labs. Для обеспечения согласованности эти политики развертываются с помощью централизованного скрипта и шаблонов JSON. Политики наименования также можно реализовать в политиках Azure, применяемых на уровне подписки. Примеры кода JSON для службы "Политика Azure" вы найдете в статье [Примеры для Политики Azure](../governance/policy/samples/index.md).

## <a name="number-of-users-per-lab-and-labs-per-organization"></a>Количество пользователей в лаборатории и количество лабораторий в организации

### <a name="question"></a>Вопрос 
Как правильно определить оптимальное соотношение между количеством пользователей в лаборатории и количеством лабораторий в организации?

### <a name="answer"></a>Ответ
Мы рекомендуем причислять к одной лаборатории все бизнес-подразделения и группы разработки, которые связаны с одним проектом. Это позволит применять к обеим группам одинаковые политики, образы и процедуры завершения работы. 

Иногда нужно также учитывать географические границы. Например, разработчики в северо-восточной части США могут использовать лабораторию, подготовленную в регионе "Восточная часть США 2". В то же время разработчики из Далласа (Техас) и Денвера (Колорадо) будут направляться к ресурсу в регионе "Центрально-южная часть США". Если ведется совместная работа с внешней организацией, ее представителей можно назначить в отдельную лабораторию, которая не используется разработчиками организации. 

Можно также использовать лабораторию для конкретного проекта в рамках Azure DevOps Projects. Тогда вы сможете применить правила безопасности путем использования группы Azure Active Directory, которая предоставляет доступ к обоим наборам ресурсов. Еще одной границей для объединения пользователей может служить виртуальная сеть, назначенная лаборатории.

## <a name="deletion-of-resources"></a>Удаление ресурсов

### <a name="question"></a>Вопрос
Как предотвратить случайное удаление ресурсов в лаборатории?

### <a name="answer"></a>Ответ
Мы рекомендуем правильно предоставить разрешения на уровне лаборатории, чтобы только авторизованные пользователи могли удалять ресурсы или изменять политики лаборатории. Разработчиков следует назначать в группу **Пользователи DevTest Labs**. Ведущий разработчик или ответственный за инфраструктуру получает статус **владельца DevTest Labs**. Мы рекомендуем назначать не более двух владельцев лаборатории. Эту же политику следует применять и к репозиториям кода, чтобы избежать его повреждения. Пользователи лаборатории получают права на использование ресурсов, но не могут обновлять политики лаборатории. Сведения о наборе ролей и прав в лаборатории для каждой встроенной группы см. в статье [Добавление владельцев и пользователей в Azure DevTest Labs](devtest-lab-add-devtest-user.md).

## <a name="move-lab-to-another-resource-group"></a>Перемещение лаборатории в другую группу ресурсов 

### <a name="question"></a>Вопрос
Поддерживается ли перемещение лаборатории в другую группу ресурсов?

### <a name="answer"></a>Ответ
Да. Перейдите на страницу группы ресурсов с домашней страницы лаборатории. На панели инструментов выберите действие **Переместить**, а затем выберите лабораторию, которую вы хотите переместить в другую группу ресурсов. При создании лаборатории группа ресурсов создается автоматически. Но иногда возникает необходимость переместить ее в другую группу ресурсов, например, чтобы соблюсти корпоративные соглашения об именовании. 

## <a name="next-steps"></a>Дальнейшие действия
См. статью [ об управлении затратами и стоимостью владения](devtest-lab-guidance-governance-cost-ownership.md).
