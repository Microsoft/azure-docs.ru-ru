---
title: Общие IP-адреса в Azure DevTest Labs | Документация Майкрософт
description: Узнайте, как с помощью общих IP-адресов в Azure DevTest Labs минимизировать количество общедоступных IP-адресов, необходимых для доступа к виртуальным машинам лаборатории.
ms.topic: article
ms.date: 06/26/2020
ms.openlocfilehash: 36a5da1b2b6252d0adb480a622c461b33425e675
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85484100"
---
# <a name="understand-shared-ip-addresses-in-azure-devtest-labs"></a>Общие IP-адреса в Azure DevTest Labs

Azure DevTest Labs позволяет виртуальным машинам лаборатории совместно использовать тот же общедоступный IP-адрес, чтобы минимизировать количество общедоступных IP-адресов, необходимых для доступа к отдельным виртуальным машинам лаборатории.  В этой статье описывается принцип работы общих IP-адресов и варианты их настройки.

## <a name="shared-ip-setting"></a>Настройка общих IP-адресов

При создании лаборатории она создается в подсети виртуальной сети.  При создании этой подсети параметру **Enable shared public IP** (Включить совместное использование общедоступного IP-адреса) по умолчанию задается значение *Yes* (Да).  При такой конфигурации создается общедоступный IP-адрес для всей подсети.  Дополнительные сведения о настройке виртуальных сетей и подсетей см. в статье [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md).

![Создание подсети лаборатории](media/devtest-lab-shared-ip/lab-subnet.png)

Вы можете включить этот параметр для всех имеющихся лабораторий, выбрав **Configuration and Policies (Конфигурация и политики) > Virtual Networks (Виртуальные сети)**. Затем выберите виртуальную сеть из списка и выберите **ENABLE SHARED PUBLIC IP** (Включить совместное использование общедоступного IP-адреса) для выбранной подсети. Этот параметр можно отключить в любой лаборатории, если вы не хотите совместно использовать общедоступные IP-адреса на виртуальных машинах лаборатории.

На всех виртуальных машинах, созданных в этой лаборатории, по умолчанию используется общий IP-адрес.  При создании виртуальной машины этот параметр можно наблюдать на странице **Дополнительные параметры** в разделе **Конфигурация IP-адреса**.

![Создание виртуальной машины](media/devtest-lab-shared-ip/new-vm.png)

- **Общий.** Все виртуальные машины, созданные в качестве **общедоступных**, помещаются в одну группу ресурсов. Этой группе ресурсов назначается отдельный IP-адрес, который будут использовать все виртуальные машины.
- **Общедоступный.** Каждая созданная виртуальная машина имеет личный IP-адрес и создается в собственной группе ресурсов.
- **Частный.** Каждая созданная виртуальная машина использует частный IP-адрес. Вы не можете подключиться к этой виртуальной машине напрямую из Интернета с удаленный рабочий стол.

Когда в подсеть добавляется виртуальная машина с включенным общим IP-адресом, DevTest Labs автоматически добавляет виртуальную машину в подсистему балансировки нагрузки и назначает номер TCP-порта общедоступному IP-адресу, который выполняет переадресацию на порт RDP на виртуальной машине.  

## <a name="using-the-shared-ip"></a>Использование общего IP-адреса

- **Пользователи Linux.** Чтобы подключиться к виртуальной машине по протоколу SSH, введите IP-адрес или полное доменное имя, затем поставьте двоеточие и укажите номер порта. Например, на приведенном ниже рисунке таким адресом RDP для подключения к виртуальной машине является `mydevtestlab597975021002.eastus.cloudapp.azure.com:50661`.

  ![Пример виртуальной машины](media/devtest-lab-shared-ip/vm-info.png)

- **Пользователи Windows.** Нажмите кнопку **Подключить** на портале Azure, чтобы скачать предварительно настроенный RDP-файл и получить доступ к виртуальной машине.

## <a name="next-steps"></a>Дальнейшие действия

* [Определение политик лаборатории в Azure DevTest Labs](devtest-lab-set-lab-policy.md)
* [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md)





