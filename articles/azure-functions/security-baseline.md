---
title: Базовый план безопасности Azure для функций Azure
description: В базовом плане безопасности функций Azure содержатся практические рекомендации и ресурсы для реализации рекомендаций по безопасности, указанных в статье о производительности системы безопасности Azure.
author: msmbaldwin
ms.service: azure-functions
ms.topic: conceptual
ms.date: 02/17/2021
ms.author: mbaldwin
ms.custom: subject-security-benchmark
ms.openlocfilehash: 8987c4ac61e81c35f664e19dfc72936bb6754e18
ms.sourcegitcommit: f0a3ee8ff77ee89f83b69bc30cb87caa80f1e724
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2021
ms.locfileid: "105566966"
---
# <a name="azure-security-baseline-for-azure-functions"></a>Базовый план безопасности Azure для функций Azure

Этот базовый план безопасности применяет рекомендации из [теста безопасности Azure версии 1,0](../security/benchmarks/overview-v1.md) к функциям Azure. Azure Security Benchmark содержит рекомендации по обеспечению безопасности облачных решений в Azure.
Содержимое группируются по **элементам управления безопасностью** , определенным в тестовом производительности системы безопасности Azure, и связанным рекомендациям, применимым к функциям Azure. **Элементы управления** , неприменимые к функциям Azure, были исключены.

 
Сведения о том, как полностью сопоставлять функции Azure с тестовым показателем безопасности Azure, см. в разделе [полный базовый файл сопоставления функций Azure](https://github.com/MicrosoftDocs/SecurityBenchmarks/tree/master/Azure%20Offer%20Security%20Baselines).

## <a name="network-security"></a>Безопасность сети

*Дополнительные сведения см. в статье [Azure Security Benchmark: безопасность сети](../security/benchmarks/security-control-network-security.md).*

### <a name="11-protect-azure-resources-within-virtual-networks"></a>1,1: защита ресурсов Azure в виртуальных сетях

**Руководство**. Интеграция приложений функций Azure с виртуальной сетью Azure. Приложения-функции, выполняемые в плане Premium, имеют те же возможности размещения, что и веб приложения в службе приложений Azure, включая функцию "Интеграция виртуальной сети".  Виртуальные сети Azure позволяют разместить многие ресурсы Azure, такие как функции Azure, в сети, не поддерживающей маршрутизацию в Интернете.

- [Интеграция функций с виртуальной сетью Azure](functions-create-vnet.md)

- [Общие сведения об интеграции виртуальной сети для функций Azure и службы приложений Azure](../app-service/web-sites-integrate-with-vnet.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/azure/governance/policy/samples/azure-security-benchmark) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/azure/security-center/security-center-recommendations). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/azure/security-center/azure-defender) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 1.1](../../includes/policy/standards/asb/rp-controls/microsoft.web-1-1.md)]

### <a name="12-monitor-and-log-the-configuration-and-traffic-of-virtual-networks-subnets-and-network-interfaces"></a>1,2. Мониторинг и запись конфигурации и трафика виртуальных сетей, подсетей и сетевых интерфейсов

**Руководство**. Использование центра безопасности Azure и рекомендации по защите сети для защиты сетевых ресурсов и сетевых конфигураций, связанных с приложениями функций Azure.

Если вы используете группы безопасности сети с реализацией функций Azure, включите журналы потоков для групп безопасности сети и отправьте журналы в учетную запись хранения Azure для аудита трафика. Вы также можете отправить журналы потоков для групп безопасности сети в Log Analytics рабочую область и использовать Аналитика трафика для получения сведений о потоке трафика в облаке Azure. Некоторые преимущества Аналитики трафика — это возможность визуализировать сетевые активности и определять горячие участки, выявлять угрозы безопасности, анализировать шаблоны потоков трафика и выявлять некорректные сетевые настройки.

- [Общие сведения о безопасности сети, предоставляемой центром безопасности Azure](../security-center/security-center-network-recommendations.md)

- [Как включить журналы потоков NSG](../network-watcher/network-watcher-nsg-flow-logging-portal.md)

- [Как включать и использовать Аналитику трафика](../network-watcher/traffic-analytics.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="13-protect-critical-web-applications"></a>1.3. Защита критических веб-приложений

**Руководство**. чтобы полностью защитить конечные точки функций Azure в рабочей среде, следует рассмотреть возможность реализации одного из следующих функций безопасности уровня приложения:

- Включение проверки подлинности или авторизации службы приложений для приложения функции

- Использование службы Управления API Azure (APIM) для проверки подлинности запросов

- Разверните приложение функции в Среда службы приложений Azure.

Кроме того, убедитесь, что удаленная отладка отключена для производственных функций Azure. Кроме того, общий доступ к ресурсам в разных источниках (CORS) не должен разрешать всем доменам доступ к приложению-функции в Azure. Разрешить взаимодействие только необходимых доменов с приложением функции.

Рассмотрите возможность развертывания брандмауэра веб-приложения Azure (WAF) в составе конфигурации сети для дополнительной проверки входящего трафика. Включите параметр диагностики для WAF и приема журналов в учетную запись хранения, концентратор событий или рабочую область Log Analytics. 

- [Как защитить конечные точки в рабочей среде для функций Azure](./functions-bindings-http-webhook-trigger.md?tabs=csharp#secure-an-http-endpoint-in-production)

- [Развертывание WAF Azure](../web-application-firewall/ag/create-waf-policy-ag.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/azure/governance/policy/samples/azure-security-benchmark) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/azure/security-center/security-center-recommendations). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/azure/security-center/azure-defender) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 1.3](../../includes/policy/standards/asb/rp-controls/microsoft.web-1-3.md)]

### <a name="14-deny-communications-with-known-malicious-ip-addresses"></a>1,4: запретите обмен данными с известными вредоносными IP-адресами

**Руководство**. Включение стандарта защиты от атак DDoS в виртуальных сетях, связанных с приложениями функций, для защиты от атак от атак DDoS. Используйте функции аналитики угроз в интегрированном центре безопасности Azure, чтобы запретить обмен данными с известными вредоносными или неиспользуемыми общедоступными IP-адресами.

Кроме того, настройте интерфейсный шлюз, например брандмауэр веб-приложения Azure, для проверки подлинности всех входящих запросов и фильтрации вредоносного трафика. Брандмауэр веб-приложения Azure помогает защитить приложение функции путем проверки входящего веб-трафика для блокировки атак путем внедрения кода SQL, межсайтовых сценариев, отправки вредоносных программ и атак от атак DDoS. Для введения брандмауэра веб-приложения требуется Среда службы приложений или использование частных конечных точек. Вы можете использовать частные конечные точки для функций, размещенных в планах службы приложений и Premium.

- [Параметры сети для Функций Azure](functions-networking-options.md)

- [Настройка защиты от атак DDoS](../ddos-protection/manage-ddos-protection.md)

- [Общие сведения об интегрированной аналитике угроз в Центре безопасности Azure](../security-center/azure-defender.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="15-record-network-packets"></a>1,5: запись сетевых пакетов

**Руководство**. Если вы используете группу безопасности сети с реализацией функций Azure, включите журналы потоков для групп безопасности сети и отправьте журналы в учетную запись хранения для аудита трафика. Вы также можете отправить журналы потоков в рабочую область Log Analytics и использовать Аналитику трафика для получения ценных сведений о потоке трафика в облаке Azure. Некоторые преимущества Аналитики трафика — это возможность визуализировать сетевые активности и определять горячие участки, выявлять угрозы безопасности, анализировать шаблоны потоков трафика и выявлять некорректные сетевые настройки.

- [Включение журналов потоков для групп безопасности сети](../network-watcher/network-watcher-nsg-flow-logging-portal.md)

- [Как включать и использовать Аналитику трафика](../network-watcher/traffic-analytics.md)

- [Как включить Наблюдатель за сетями](../network-watcher/network-watcher-create.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="16-deploy-network-based-intrusion-detectionintrusion-prevention-systems-idsips"></a>1,6: развертывание системы обнаружения вторжений на основе сети и предотвращения вторжения (ИДЕНТИФИКАТОРы и IP-адреса)

**Руководство**. Настройте интерфейсный шлюз, например брандмауэр веб-приложения Azure, для проверки подлинности всех входящих запросов и фильтрации вредоносного трафика. Брандмауэр веб-приложения Azure может помочь защитить ваши приложения-функции, проверив входящий сетевой трафик, чтобы блокировать атаки путем внедрения кода SQL, межсайтовые сценарии, передачи вредоносных программ и атаки от атак DDoS. Для введения брандмауэра веб-приложения требуется Среда службы приложений или использование частных конечных точек. Вы можете использовать частные конечные точки для функций, размещенных в планах службы приложений и Premium.

Кроме того, существует несколько вариантов Marketplace, таких как брандмауэр веб-приложения Barracuda для Azure, которые доступны в Azure Marketplace, в том числе функции обнаружения вторжений или предотвращения атак.

- [Параметры сети для Функций Azure](functions-networking-options.md)

- [План функций Azure Premium](functions-premium-plan.md)

- [Общие сведения о средах службы приложений](../app-service/environment/intro.md)

- [Рекомендации по работе с сетями в среде службы приложений](../app-service/environment/network-info.md) 

- [Общие сведения о брандмауэре веб-приложения Azure](../web-application-firewall/overview.md)

- [Использование частных конечных точек для функций Azure](../app-service/networking/private-endpoint.md)

- [Общие сведения о облачной службе Barracuda WAF](../app-service/environment/app-service-app-service-environment-web-application-firewall.md#configuring-your-barracuda-waf-cloud-service)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="17-manage-traffic-to-web-applications"></a>1.7. Управление трафиком к веб-приложениям

**Руководство**. Настройка внешнего шлюза для сети, например брандмауэра веб-приложения Azure с комплексным шифрованием TLS. Для введения брандмауэра веб-приложения требуется Среда службы приложений или использование частных конечных точек. Вы можете использовать частные конечные точки для функций, размещенных в планах службы приложений и Premium.

- [Параметры сети для Функций Azure](functions-networking-options.md)

- [План функций Azure Premium](functions-premium-plan.md)

- [Общие сведения о средах службы приложений](../app-service/environment/intro.md)

- [Рекомендации по работе с сетями в среде службы приложений](../app-service/environment/network-info.md) 

- [Общие сведения о брандмауэре веб-приложения Azure](../web-application-firewall/overview.md)

- [Настройка сквозного протокола TLS с помощью шлюза приложений на портале](../application-gateway/end-to-end-ssl-portal.md)

- [Использование частных конечных точек для функций Azure](../app-service/networking/private-endpoint.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="18-minimize-complexity-and-administrative-overhead-of-network-security-rules"></a>1.8. Уменьшение сложности и дополнительных затрат на администрирование в правилах безопасности сети

**Руководство**. Использование тегов службы виртуальной сети для определения элементов управления доступом к сети в группе безопасности сети или брандмауэре Azure. Теги служб можно использовать вместо определенных IP-адресов при создании правил безопасности. Указав имя тега службы (например, AzureAppService) в соответствующем поле источника или назначения правила, можно разрешить или запретить трафик для соответствующей службы. Корпорация Майкрософт управляет префиксами адресов, входящих в тег службы, и автоматически обновляет этот тег при изменении адресов.

- [Дополнительные сведения об использовании тегов служб](../virtual-network/service-tags-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="19-maintain-standard-security-configurations-for-network-devices"></a>1.9. Поддержание стандартных конфигураций безопасности для сетевых устройств

**Руководство**. Определение и реализация стандартных конфигураций безопасности для сетевых параметров, связанных с функциями Azure. Используйте псевдонимы политик Azure в пространствах имен Microsoft. Web и Microsoft. Network, чтобы создать настраиваемые политики для аудита или принудительного применения конфигурации сети для функций Azure. Вы также можете использовать встроенные определения политик для функций Azure, например:

- CORS не должно разрешать всем ресурсам доступ к приложениям функции

- Приложение функции должно быть доступно только по протоколу HTTPS

- В приложении функции следует использовать последнюю версию TLS

Вы также можете использовать схемы Azure для упрощения крупномасштабных развертываний Azure с помощью ключевых артефактов среды пакетов, таких как шаблоны Azure Resource Manager, управление доступом на основе ролей Azure (Azure RBAC) и политики в одном определении схемы. Вы можете легко применять схему к новым подпискам и средам, а также точно управлять настройкой с помощью версионирования.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Создание схемы Azure](../governance/blueprints/create-blueprint-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="110-document-traffic-configuration-rules"></a>1.10. Документация по правилам конфигурации трафика

**Руководство**. Если вы используете группу безопасности сети с реализацией функций Azure, используйте теги для группы безопасности сети и других ресурсов, связанных с сетевой безопасностью и потоком трафика. Для отдельных правил группы безопасности сети используйте поле "Описание", чтобы указать бизнес-потребности и (или) длительность и т. д. для любых правил, которые разрешают трафик из сети в сеть.

Используйте любое из встроенных определений политик Azure, связанных с тегами, например "требовать тег и его значение", чтобы убедиться, что все ресурсы созданы с помощью тегов и уведомлять вас о существующих ресурсах без тегов.

Вы можете использовать Azure PowerShell или Azure CLI для поиска или выполнения действий с ресурсами на основе их тегов.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="111-use-automated-tools-to-monitor-network-resource-configurations-and-detect-changes"></a>1.11. Использование автоматизированных средств для мониторинга конфигураций сетевых ресурсов и обнаружения изменений

**Руководство**. Использование журнала действий Azure для мониторинга конфигураций сетевых ресурсов и обнаружения изменений сетевых параметров и ресурсов, связанных с развертываниями функций Azure. Создавайте оповещения в Azure Monitor, которые будут запускаться при изменении критических сетевых параметров или ресурсов. 

- [Как просматривать и извлекать события журнала действий Azure](../azure-monitor/essentials/activity-log.md#view-the-activity-log)

- [Как создать оповещения в службе Azure Monitor](../azure-monitor/alerts/alerts-activity-log.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="logging-and-monitoring"></a>Ведение журналов и мониторинг

*Дополнительные сведения см. в статье [производительность системы безопасности Azure: ведение журнала и мониторинг](../security/benchmarks/security-control-logging-monitoring.md).*

### <a name="22-configure-central-security-log-management"></a>2.2. Настройка централизованного управления журналами безопасности

**Руководство**. для ведения журнала аудита на плоскости управления включите параметры диагностики журнала действий Azure и отправьте журналы в рабочую область log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. С помощью данных журнала действий Azure вы можете определить, что нужно сделать, с чем и когда, для операций записи (PUT, POST, DELETE), выполненных на уровне управления для ресурсов Azure.

Функции Azure также предлагают встроенную интеграцию с Azure Application Insights для мониторинга функций. Application Insights собирает данные журнала, производительности и ошибок. Она автоматически обнаруживает аномалии в производительности и содержит мощные аналитические средства, которые помогают диагностировать проблемы и анализировать использование функций.

Если в приложении-функции имеется встроенное настраиваемое ведение журнала безопасности или аудита, включите параметр диагностики "Функтионапплогс" и отправьте журналы в рабочую область Log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. 

При необходимости вы можете включить и подключить данные к Azure Sentinel, а также к решению для управления событиями и системами сторонних производителей. 

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/essentials/activity-log.md)

- [Как настроить функции Azure с помощью Azure Application Insights](functions-monitoring.md)

- [Как включить параметры диагностики (созданные пользователем журналы) для функций Azure](functions-monitor-log-analytics.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="23-enable-audit-logging-for-azure-resources"></a>2.3. Включение журналов аудита для ресурсов Azure

**Руководство**. для ведения журнала аудита на плоскости управления включите параметры диагностики журнала действий Azure и отправьте журналы в рабочую область log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. С помощью данных журнала действий Azure вы можете определить, что нужно сделать, с чем и когда, для операций записи (PUT, POST, DELETE), выполненных на уровне управления для ресурсов Azure.

Если в приложении-функции имеется встроенное настраиваемое ведение журнала безопасности или аудита, включите параметр диагностики "Функтионапплогс" и отправьте журналы в рабочую область Log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. 

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/essentials/activity-log.md)

- [Как включить параметры диагностики (созданные пользователем журналы) для функций Azure](functions-monitor-log-analytics.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/azure/governance/policy/samples/azure-security-benchmark) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/azure/security-center/security-center-recommendations). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/azure/security-center/azure-defender) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 2.3](../../includes/policy/standards/asb/rp-controls/microsoft.web-2-3.md)]

### <a name="24-collect-security-logs-from-operating-systems"></a>2.4. Сбор журналов безопасности из операционных систем

**Руководство**: неприменимо; Это руководство предназначено для вычислений с ресурсами IaaS.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="25-configure-security-log-storage-retention"></a>2.5. Настройка хранения журнала безопасности

**Рекомендации**. в Azure Monitor задайте срок хранения журнала для рабочих областей log Analytics, связанных с приложениями функций в соответствии с нормативными требованиями Организации.

- [Настройка параметров хранения журнала](../azure-monitor/logs/manage-cost-storage.md#change-the-data-retention-period)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="26-monitor-and-review-logs"></a>2,6: мониторинг и просмотр журналов

**Руководство**. Включение параметров диагностики журнала действий Azure, а также параметров диагностики для приложения-функции и отправка журналов в рабочую область log Analytics. Выполняйте запросы в Log Analytics для поиска терминов, определения тенденций, анализа шаблонов и предоставления многих других сведений на основе собранных данных.

Включите Application Insights для приложений функций, чтобы получать данные журнала, производительности и ошибок. Данные телеметрии, собранные Application Insights, можно просмотреть в портал Azure.

Если в приложении-функции имеется встроенное настраиваемое ведение журнала безопасности или аудита, включите параметр диагностики "Функтионапплогс" и отправьте журналы в рабочую область Log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. 

При необходимости вы можете включить и подключить данные к Azure Sentinel, а также к решению для управления событиями и системами сторонних производителей.

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/essentials/activity-log.md)

- [Включение параметров диагностики для функций Azure](functions-monitor-log-analytics.md)

- [Как настроить функции Azure с помощью Azure Application Insights и просмотреть данные телеметрии](functions-monitoring.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="27-enable-alerts-for-anomalous-activities"></a>2,7: Включение оповещений для аномальных действий

**Руководство**. Включение параметров диагностики журнала действий Azure, а также параметров диагностики для приложения-функции и отправка журналов в рабочую область log Analytics. Выполняйте запросы в Log Analytics для поиска терминов, определения тенденций, анализа шаблонов и предоставления многих других сведений на основе собранных данных. Оповещения можно создавать на основе запросов к рабочей области Log Analytics.

Включите Application Insights для приложений функций, чтобы получать данные журнала, производительности и ошибок. Вы можете просмотреть данные телеметрии, собранные Application Insights, и создать оповещения в портал Azure.

При необходимости вы можете включить и подключить данные к Azure Sentinel, а также к решению для управления событиями и системами сторонних производителей.

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/essentials/activity-log.md)

- [Включение параметров диагностики для функций Azure](functions-monitor-log-analytics.md)

- [Включение Application Insights для функций Azure](./configure-monitoring.md#enable-application-insights-integration)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="identity-and-access-control"></a>Идентификатор и управление доступом

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: идентификация и управление доступом](../security/benchmarks/security-control-identity-access-control.md).*

### <a name="31-maintain-an-inventory-of-administrative-accounts"></a>3.1. Инвентаризация учетных записей администраторов

**Руководство**. Azure Active Directory (Azure AD) содержит встроенные роли, которые должны быть явно назначены и доступны для запросов. Используйте модуль Azure AD PowerShell для выполнения нерегламентированных запросов для обнаружения учетных записей, входящих в группы администраторов.

- [Как получить роль каталога в Azure AD с помощью PowerShell](/powershell/module/azuread/get-azureaddirectoryrole?preserve-view=true&view=azureadps-2.0)

- [Как получить членов роли каталога в Azure AD с помощью PowerShell](/powershell/module/azuread/get-azureaddirectoryrolemember?preserve-view=true&view=azureadps-2.0)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="32-change-default-passwords-where-applicable"></a>3.2. Изменение паролей по умолчанию, где применимо

**Руководство**. Управление доступом к плоскости управления для функций Azure осуществляется с помощью Azure Active Directory (Azure AD). В Azure AD нет концепции паролей по умолчанию.

Доступ к плоскости данных можно контролировать с помощью нескольких средств, включая ключи авторизации, ограничения сети и проверку удостоверения Azure AD. Ключи авторизации используются клиентами, которые подключаются к конечным точкам HTTP службы "функции Azure" и могут быть повторно созданы в любое время. По умолчанию эти ключи создаются для новых конечных точек HTTP.

Для приложений-функций доступны несколько методов развертывания, некоторые из которых могут использовать набор созданных учетных данных. Проверьте методы развертывания, которые будут использоваться для приложения.

- [Защита конечной точки HTTP](./functions-bindings-http-webhook-trigger.md?tabs=csharp#secure-an-http-endpoint-in-production)

- [Получение и повторное создание ключей авторизации](./functions-bindings-http-webhook-trigger.md?tabs=csharp#obtaining-keys)

- [Технологии развертывания в функциях Azure](functions-deployment-technologies.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="33-use-dedicated-administrative-accounts"></a>3.3. Применение выделенных административных учетных записей

**Руководство**. Создайте стандартные операционные процедуры для использования выделенных административных учетных записей. Используйте учетную запись Центра безопасности Azure и управление доступом для мониторинга количества административных учетных записей.

Кроме того, чтобы отслеживать выделенные административные учетные записи, вы можете использовать рекомендации из Центра безопасности Azure или встроенные политики Azure, например следующие:

- Подписке должно быть назначено несколько владельцев.

- Устаревшие учетные записи с разрешениями владельца следует удалять из подписки.

- Внешние учетные записи с разрешениями владельца следует удалять из подписки.

Дополнительные сведения можно найти по ссылкам, на которые имеются ссылки.

- [Как использовать центр безопасности Azure для мониторинга удостоверений и доступа ](../security-center/security-center-identity-access.md)

- [Использование Политики Azure](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="34-use-azure-active-directory-single-sign-on-sso"></a>3,4. Использование единого входа Azure Active Directory (SSO)

**Рекомендации**. когда это возможно, используйте единый вход Azure Active Directory (Azure AD) вместо настройки отдельных автономных учетных данных для доступа к приложению-функции. Используйте рекомендации по управлению удостоверениями и доступом в центре безопасности Azure. Реализуйте единый вход для приложений функций с помощью функции проверки подлинности и авторизации в службе приложений.

- [Общие сведения о проверке подлинности и авторизации в функциях Azure](../app-service/overview-authentication-authorization.md#identity-providers)

- [Общие сведения об использовании единого входа в Azure AD](../active-directory/manage-apps/what-is-single-sign-on.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="35-use-multi-factor-authentication-for-all-azure-active-directory-based-access"></a>3,5: используйте многофакторную проверку подлинности для всех Azure Active Directory доступа

**Руководство**. Включение многофакторной проверки подлинности в Azure Active Directory (Azure AD) и следование рекомендациям по управлению удостоверениями и доступом в центре безопасности Azure.

- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

- [Мониторинг идентификации и доступа в Центре безопасности Azure](../security-center/security-center-identity-access.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="36-use-dedicated-machines-privileged-access-workstations-for-all-administrative-tasks"></a>3.6. Использование выделенных компьютеров (рабочих станций с привилегированным доступом) для всех административных задач

**Руководство**. Использование рабочих станций привилегированного доступа (привилегированным доступом) с многофакторной проверкой подлинности, настроенной для входа и настройки ресурсов Azure. 

- [Использование рабочих станций с привилегированным доступом](https://4sysops.com/archives/understand-the-microsoft-privileged-access-workstation-paw-security-model/)

- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="37-log-and-alert-on-suspicious-activities-from-administrative-accounts"></a>3,7: журналы и оповещения о подозрительных действиях учетных записей администраторов

**Руководство**. Использование Azure Active Directory (Azure AD) Управление привилегированными пользователями (PIM) для создания журналов и оповещений при возникновении подозрительных или ненадежных действий в среде.

Кроме того, используйте обнаружение рисков Azure AD для просмотра оповещений и отчетов об опасном поведении пользователя.

- [Развертывание Privileged Identity Management (PIM)](../active-directory/privileged-identity-management/pim-deployment-plan.md)

- [Общие сведения об обнаружении рисков в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="38-manage-azure-resources-from-only-approved-locations"></a>3.8. Управление ресурсами Azure только из утвержденных расположений

**Руководство**. Используйте именованные расположения с условным доступом, чтобы разрешить доступ к порталу Azure только из конкретных логических групп диапазонов IP-адресов или стран и регионов.

- [Настройка именованных расположений в Azure](../active-directory/reports-monitoring/quickstart-configure-named-locations.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="39-use-azure-active-directory"></a>3.9. Использование Azure Active Directory

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве центральной системы проверки подлинности и авторизации для приложений-функций. Azure AD защищает данные с помощью надежного шифрования для хранимых и транзитных данных. Кроме того, в Azure AD используются salt-записи, хэши и безопасное хранение учетных данных пользователей.

- [Как настроить приложение функции для использования имени входа Azure AD](../app-service/configure-authentication-provider-aad.md)

- [Создание и настройка экземпляра Azure AD](../active-directory/fundamentals/active-directory-access-create-new-tenant.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="310-regularly-review-and-reconcile-user-access"></a>3.10. Регулярная проверка и согласование доступа пользователей

**Руководство**. Azure Active Directory (Azure AD) предоставляет журналы для упрощения обнаружения устаревших учетных записей. Кроме того, используйте проверку доступа удостоверений Azure, чтобы эффективно управлять членством в группах, доступом к корпоративным приложениям и назначениями ролей. Доступ пользователей можно проверять на регулярной основе, чтобы только у авторизованных пользователей был постоянный доступ.

- [Общие сведения об отчетах Azure AD](../active-directory/reports-monitoring/index.yml)

- [Использование проверок доступа для идентификации Azure](../active-directory/governance/access-reviews-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="311-monitor-attempts-to-access-deactivated-credentials"></a>3,11: монитор пытается получить доступ к отключенным учетным данным

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве центральной системы проверки подлинности и авторизации для приложений-функций. Azure AD защищает данные с помощью надежного шифрования для хранимых и транзитных данных. Кроме того, в Azure AD используются salt-записи, хэши и безопасное хранение учетных данных пользователей.

У вас есть доступ к источникам журнала событий входа в Azure AD, аудита и риску, которые позволяют интегрироваться с Azure Sentinel или сторонними SIEM.

Этот процесс можно упростить, создав параметры диагностики для учетных записей пользователей Azure AD и отправив журналы аудита и журналы входа в рабочую область Log Analytics. Вы можете настроить нужные оповещения журнала в Log Analytics.

- [Как настроить приложение функции для использования имени входа Azure AD](../app-service/configure-authentication-provider-aad.md)

- [Как интегрировать журналы действий Azure в Azure Monitor](../active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="312-alert-on-account-sign-in-behavior-deviation"></a>3,12: предупреждение об отклонении при входе в учетную запись

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве центральной системы проверки подлинности и авторизации для приложений-функций. Для отклонения учетной записи для входа в плоскость управления (портал Azure) используйте функции обнаружения защита идентификации Azure AD и риска, чтобы настроить автоматические ответы на обнаруженные подозрительные действия, связанные с удостоверениями пользователей. Вы также можете включить данные в Azure Sentinel для дальнейшего изучения.

- [Просмотр рискованных входов в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

- [Как настроить и включить политики рисков с помощью защиты идентификации](../active-directory/identity-protection/howto-identity-protection-configure-risk-policies.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-protection"></a>Защита данных

*Дополнительные сведения см. в статье [Azure Security Benchmark: защита данных](../security/benchmarks/security-control-data-protection.md).*

### <a name="41-maintain-an-inventory-of-sensitive-information"></a>4.1. Инвентаризация конфиденциальных данных

**Руководство**. Используйте теги для пометки ресурсов Azure, в которых хранятся или обрабатываются конфиденциальные данные.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="42-isolate-systems-storing-or-processing-sensitive-information"></a>4.2. Изолирование систем, хранящих или обрабатывающих конфиденциальные данные

**Руководство**. Реализуйте отдельные подписки и группы управления для разработки, тестирования и производства. Приложения-функции должны быть разделены виртуальной сетью (VNet)/субнет и помечены соответствующим образом.

Вы также можете использовать частные конечные точки для выполнения сетевой изоляции. Частная конечная точка Azure — это сетевой интерфейс, который обеспечивает безопасное и надежное подключение к службе (например, конечная точка HTTPs приложения-функции) на базе частной связи Azure. Частная конечная точка использует частный IP-адрес из виртуальной сети, по сути перемещая службу в виртуальную сеть. Вы можете использовать частные конечные точки для функций, размещенных в планах службы приложений и Premium.

- [Создание дополнительных подписок Azure](../cost-management-billing/manage/create-subscription.md)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

- [Параметры сети для Функций Azure](functions-networking-options.md)

- [План функций Azure Premium](functions-premium-plan.md)

- [Общие сведения о частной конечной точке](../private-link/private-endpoint-overview.md)

- [Использование частных конечных точек для функций Azure](../app-service/networking/private-endpoint.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="44-encrypt-all-sensitive-information-in-transit"></a>4.4. Шифрование любой конфиденциальной информации при передаче

**Руководство**. в портал Azure для приложений-функций в разделе "функции платформы: Сеть: SSL" включите параметр "только HTTPS" и установите для минимальной версии TLS значение 1,2.

- [Требовать протокол HTTPS для приложений функций](./security-concepts.md#require-https)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/azure/governance/policy/samples/azure-security-benchmark) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/azure/security-center/security-center-recommendations). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/azure/security-center/azure-defender) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 4.4](../../includes/policy/standards/asb/rp-controls/microsoft.web-4-4.md)]

### <a name="45-use-an-active-discovery-tool-to-identify-sensitive-data"></a>4.5. Использование средства активного обнаружения для распознавания конфиденциальных данных

**Руководство**: Сейчас недоступно; функции предотвращения идентификации, классификации и защиты от потери данных в настоящее время недоступны для функций Azure. Пометьте приложения-функции, которые могут обрабатывать конфиденциальную информацию, и реализуют сторонние решения, если это необходимо для обеспечения соответствия.

Для базовой платформы, управляемой корпорацией Майкрософт, корпорация Майкрософт считает все содержимое клиента конфиденциальным и предпринимает все возможные усилия для защиты клиентов от потери данных и раскрытия информации. Чтобы обеспечить безопасность данных клиентов в Azure, корпорация Майкрософт реализовала и поддерживает набор надежных элементов управления и возможностей защиты данных.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="46-use-role-based-access-control-to-control-access-to-resources"></a>4,6. Использование управления доступом на основе ролей для управления доступом к ресурсам

**Руководство**. Использование управления доступом на основе ролей Azure (Azure RBAC) для управления доступом к плоскости управления приложениями-функциями (портал Azure).

- [Как настроить RBAC в Azure](../role-based-access-control/role-assignments-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="47-use-host-based-data-loss-prevention-to-enforce-access-control"></a>4.7. Использование защиты от потери данных на основе узла для обеспечения контроля доступа

**Руководство**: неприменимо; Эта рекомендация предназначена для вычислений с ресурсами IaaS.

Корпорация Майкрософт управляет базовой инфраструктурой для функций Azure и реализует четкие элементы управления для предотвращения потери или раскрытия данных клиента.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="48-encrypt-sensitive-information-at-rest"></a>4.8. Шифрование конфиденциальной информации при хранении

**Руководство**. при создании приложения-функции необходимо создать или связать учетную запись хранения Azure общего назначения, которая поддерживает хранилище BLOB-объектов, очередей и таблиц. Это потому, что для внутренних операций, таких как управление триггерами и ведение журнала выполнения функций, Функции Azure используют службу хранилища Azure. Служба хранилища Azure шифрует все данные в неактивных учетных записях хранения. По умолчанию данные шифруются с помощью ключей, управляемых корпорацией Майкрософт. Для дополнительного управления ключами шифрования можно предоставить управляемые клиентом ключи для шифрования данных больших двоичных объектов и файлов. Эти ключи должны присутствовать в Azure Key Vault, чтобы приложение функции могло получить доступ к учетной записи хранения.

- [Общие сведения о вопросах хранения для функций Azure](storage-considerations.md)

- [Общие сведения о шифровании службы хранилища Azure для неактивных данных](../storage/common/storage-service-encryption.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="49-log-and-alert-on-changes-to-critical-azure-resources"></a>4.9. Включение в журнал и создание оповещений по изменениям критических ресурсов Azure

**Руководство**. Использование Azure Monitor с журналом действий Azure для создания оповещений о том, когда изменения выполняются в рабочих приложениях функций, а также в других критических или связанных ресурсах.

- [Создание оповещений для событий журнала действий Azure](../azure-monitor/alerts/alerts-activity-log.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="vulnerability-management"></a>Управление уязвимостями

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Управление уязвимостью](../security/benchmarks/security-control-vulnerability-management.md).*

### <a name="51-run-automated-vulnerability-scanning-tools"></a>5.1. Выполнение автоматизированных средства анализа уязвимостей

**Руководство**. принятие девсекопсй практики, чтобы обеспечить безопасность приложений-функций и сохранить их как можно более безопасные в течение жизненного цикла. Девсекопс включает в себя группу безопасности Организации и их возможности в DevOpsных методиках, позволяющих всем членам группы обеспечивать безопасность.

Кроме того, следуйте рекомендациям центра безопасности Azure для защиты приложений функций.

- [Как добавить постоянную проверку безопасности в конвейер CI/CD](/azure/devops/migrate/security-validation-cicd-pipeline?preserve-view=true&view=azure-devops)

- [Реализация рекомендаций по оценке уязвимостей в центре безопасности Azure](../security-center/deploy-vulnerability-assessment-vm.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="55-use-a-risk-rating-process-to-prioritize-the-remediation-of-discovered-vulnerabilities"></a>5.5. Использование процесса оценки рисков для определения приоритета в устранении обнаруженных уязвимостей

**Руководство**. Корпорация Майкрософт выполняет Управление уязвимостью в базовых системах, поддерживающих функции Azure, однако вы можете использовать уровень серьезности рекомендаций в центре безопасности Azure, а также оценить безопасность для оценки рисков в среде. Оценка безопасности основана на том, сколько рекомендаций центра безопасности устранено. Чтобы определить приоритеты для предварительного разрешения, рассмотрите уровень серьезности каждого из них.

- [Справочное руководство по вопросам безопасности](../security-center/recommendations-reference.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="inventory-and-asset-management"></a>Инвентаризация и управление ресурсами

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Инвентаризация и управление активами](../security/benchmarks/security-control-inventory-asset-management.md).*

### <a name="61-use-automated-asset-discovery-solution"></a>6,1. Использование автоматизированного решения для обнаружения ресурсов

**Руководство**. Используйте Azure Resource Graph для запроса и обнаружения всех ресурсов (например, вычислений, хранилища, сети, портов, протоколов и т. д.) в ваших подписках. Убедитесь в том, что в вашем клиенте есть соответствующие разрешения (на чтение) и вы можете перечислить все подписки Azure, а также ресурсы в ваших подписках.

Хотя классические ресурсы Azure можно обнаружить через Resource Graph, настоятельно рекомендуется в дальнейшем создавать и использовать ресурсы Azure Resource Manager.

- [Как создавать запросы с помощью Azure Resource Graph](../governance/resource-graph/first-query-portal.md)

- [Как просматривать подписки Azure](/powershell/module/az.accounts/get-azsubscription?preserve-view=true&view=azps-4.8.0)

- [Общие сведения об Azure RBAC](../role-based-access-control/overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="62-maintain-asset-metadata"></a>6.2. Ведение метаданных активов

**Руководство**. Применяйте к ресурсам Azure теги, чтобы логически классифицировать их на основе метаданных.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="63-delete-unauthorized-azure-resources"></a>6.3. Удаление неавторизованных ресурсов Azure

**Руководство**. При необходимости используйте теги, группы управления и отдельные подписки, чтобы упорядочить и отслеживать ресурсы Azure. Регулярно сверяйте ресурсы, чтобы своевременно удалять неавторизованные ресурсы из подписки.

Кроме того, используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.

- Недопустимые типы ресурсов

- Допустимые типы ресурсов

Дополнительные сведения можно найти по ссылкам, на которые имеются ссылки.

- [Создание дополнительных подписок Azure](../cost-management-billing/manage/create-subscription.md)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="64-define-and-maintain-inventory-of-approved-azure-resources"></a>6,4: определение и обслуживание инвентаризации утвержденных ресурсов Azure

**Руководство**. Определите утвержденные ресурсы Azure и программное обеспечение для вычислительных ресурсов.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="65-monitor-for-unapproved-azure-resources"></a>6.5. Отслеживание неутвержденных ресурсов Azure

**Руководство**. Использование политики Azure для ограничения типа ресурсов, которые могут быть созданы в ваших подписках. 

Используйте Azure Resource Graph для запроса или обнаружения ресурсов в подписках.  Убедитесь в том, что все ресурсы Azure, представленные в среде, утверждены. 

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md) 

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="69-use-only-approved-azure-services"></a>6.9. Использование только утвержденных служб Azure

**Руководство**. Используйте Политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.

- Недопустимые типы ресурсов

- Допустимые типы ресурсов

Дополнительные сведения можно найти по ссылкам, на которые имеются ссылки.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как отказаться от определенного типа ресурса с помощью Политики Azure](../governance/policy/samples/built-in-policies.md#general)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="611-limit-users-ability-to-interact-with-azure-resource-manager"></a>6,11: ограничьте возможность пользователей работать с Azure Resource Manager

**Руководство**. Настройте условный доступ Azure, чтобы ограничить возможность пользователей взаимодействовать с Azure Resource Manager путем настройки "Блокировать доступ" для приложения "Управление Microsoft Azure".

- [Как настроить условный доступ для блокировки доступа к Azure Resource Manager](../role-based-access-control/conditional-access-azure-management.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="secure-configuration"></a>Настройка безопасности

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: безопасная конфигурация](../security/benchmarks/security-control-secure-configuration.md).*

### <a name="71-establish-secure-configurations-for-all-azure-resources"></a>7.1. Установка безопасных конфигураций для всех ресурсов Azure

**Руководство**. Определение и реализация стандартных конфигураций безопасности для приложения функции с помощью политики Azure. Используйте псевдонимы политик Azure в пространстве имен Microsoft. Web, чтобы создать настраиваемые политики для аудита или принудительного применения конфигурации приложений-функций. Вы также можете использовать встроенные определения политик, такие как:

- В приложении-функции должно использоваться управляемое удостоверение.

- Удаленная отладка должна быть отключена для приложений функций

- Приложение функции должно быть доступно только по протоколу HTTPS

Дополнительные сведения можно найти по ссылкам, на которые имеются ссылки.

- [Просмотр доступных псевдонимов политик Azure](/powershell/module/az.resources/get-azpolicyalias?preserve-view=true&view=azps-4.8.0)

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="73-maintain-secure-azure-resource-configurations"></a>7.3. Сохранение безопасных конфигураций для ресурсов Azure

**Руководство**. Использование политики Azure [Deny] и [развертывание если не существует] для обеспечения безопасности параметров в ресурсах Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Сведения о действии Политик Azure](../governance/policy/concepts/effects.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="75-securely-store-configuration-of-azure-resources"></a>7.5. Безопасное хранение конфигурации ресурсов Azure

**Руководство**. безопасное хранение шаблонов ARM и пользовательских определений политик Azure в системе управления версиями.

- [Что такое инфраструктура как код](/azure/devops/learn/what-is-infrastructure-as-code)

- [Разработка политики как рабочих процессов кода](../governance/policy/concepts/policy-as-code.md)

- [Как хранить код в Azure DevOps](/azure/devops/repos/git/gitworkflow?preserve-view=true&view=azure-devops)

- [Документация по Azure Repos](/azure/devops/repos/?preserve-view=true&view=azure-devops)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="77-deploy-configuration-management-tools-for-azure-resources"></a>7,7: развертывание средств управления конфигурацией для ресурсов Azure

**Руководство**. Используйте встроенные определения политик Azure, а также псевдонимы политик Azure в пространстве имен Microsoft. Web для создания настраиваемых политик для оповещения, аудита и принудительного применения конфигураций системы. Кроме того, разрабатывайте процесс и конвейер для управления исключениями политик.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="79-implement-automated-configuration-monitoring-for-azure-resources"></a>7,9. Реализация автоматического мониторинга конфигурации для ресурсов Azure

**Руководство**. Используйте встроенные определения политик Azure, а также псевдонимы политик Azure в пространстве имен Microsoft. Web для создания настраиваемых политик для оповещения, аудита и принудительного применения конфигураций системы. Используйте политику Azure [аудит], [запретить] и [развернуть, если не существует] для автоматического применения конфигураций для ресурсов Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="711-manage-azure-secrets-securely"></a>7.11. Безопасное управление секретами Azure

**Руководство**. Использование управляемых удостоверений в сочетании с Azure Key Vault для упрощения и безопасного управления секретами в облачных приложениях. Управляемые удостоверения позволяют приложению-функции проходить проверку подлинности в любой службе, поддерживающей проверку подлинности Azure Active Directory (Azure AD), включая Key Vault без каких-либо учетных данных в коде.

- [Создание Key Vault](../key-vault/secrets/quick-create-portal.md)

- [Использование управляемых удостоверений в Службе приложений и Функциях Azure](../app-service/overview-managed-identity.md)

- [Проверка подлинности в Key Vault](../key-vault/general/authentication.md)

- [Назначение политики доступа Key Vault](../key-vault/general/assign-access-policy-portal.md)

- [Использование Key Vault ссылок для службы приложений и функций Azure](../app-service/app-service-key-vault-references.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="712-manage-identities-securely-and-automatically"></a>7.12. Безопасное и автоматическое управление удостоверениями

**Руководство**. Использование управляемых удостоверений для предоставления приложению-функции автоматически управляемого удостоверения в Azure Active Directory (Azure AD). Управляемое удостоверение можно использовать для проверки подлинности в любой службе, которая поддерживает проверку подлинности Azure AD, включая Key Vault, при этом не сохраняя каких-либо учетных данных в коде.

- [Использование управляемых удостоверений в Службе приложений и Функциях Azure](../app-service/overview-managed-identity.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/azure/governance/policy/samples/azure-security-benchmark) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/azure/security-center/security-center-recommendations). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/azure/security-center/azure-defender) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 7.12](../../includes/policy/standards/asb/rp-controls/microsoft.web-7-12.md)]

### <a name="713-eliminate-unintended-credential-exposure"></a>7.13. Устранение непреднамеренного раскрытия учетных данных

**Руководство**. Реализуйте сканер учетных данных для обнаружения учетных данных в коде. Сканер учетных данных также рекомендует перемещать обнаруженные учетные данные в более безопасные расположения, такие как Azure Key Vault. 

- [Как настроить сканер учетных данных](https://secdevtools.azurewebsites.net/helpcredscan.html)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-recovery"></a>Восстановление данных

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: восстановление данных](../security/benchmarks/security-control-data-recovery.md).*

### <a name="91-ensure-regular-automated-back-ups"></a>9,1: Обеспечьте регулярное автоматическое резервное копирование

**Руководство**. Использование функции резервного копирования и восстановления для планирования регулярного резервного копирования приложения. Приложения-функции, выполняемые в плане Premium, имеют те же возможности размещения, что и веб приложения в службе приложений Azure, включая функцию резервного копирования и восстановления.

Кроме того, используйте решение системы управления версиями, например Azure Repos и Azure DevOps, для безопасного хранения кода и управления им. В Azure DevOps Services используются многие функции службы хранилища Azure для обеспечения доступности данных в случае сбоя оборудования, нарушения работы службы или сбоя в регионе. Кроме того, команда Azure DevOps следует процедурам защиты данных от случайного или злонамеренного удаления.

- [Резервное копирование приложения в Azure](../app-service/manage-backup.md)

- [Сведения о доступности данных в Azure DevOps](/azure/devops/organizations/security/data-protection?preserve-view=true&view=azure-devops#data-availability)

- [Как хранить код в Azure DevOps](/azure/devops/repos/git/gitworkflow?preserve-view=true&view=azure-devops)

- [Документация по Azure Repos](/azure/devops/repos/?preserve-view=true&view=azure-devops)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="92-perform-complete-system-backups-and-backup-any-customer-managed-keys"></a>9,2: выполните полное резервное копирование системы и резервное копирование ключей, управляемых клиентом

**Руководство**. Использование функции резервного копирования и восстановления для планирования регулярного резервного копирования приложения. Приложения-функции, выполняемые в плане Premium, имеют те же возможности размещения, что и веб приложения в службе приложений Azure, включая функцию резервного копирования и восстановления. Резервное копирование ключей, управляемых клиентом, в Azure Key Vault.

Кроме того, используйте решение системы управления версиями, например Azure Repos и Azure DevOps, для безопасного хранения кода и управления им. В Azure DevOps Services используются многие функции службы хранилища Azure для обеспечения доступности данных в случае сбоя оборудования, нарушения работы службы или сбоя в регионе. Кроме того, команда Azure DevOps следует процедурам защиты данных от случайного или злонамеренного удаления.

- [Резервное копирование приложения в Azure](../app-service/manage-backup.md)

- [Как создать резервную копию ключей хранилища ключей в Azure](/powershell/module/azurerm.keyvault/backup-azurekeyvaultkey)

- [Сведения о доступности данных в Azure DevOps](/azure/devops/organizations/security/data-protection?preserve-view=true&view=azure-devops#data-availability)

- [Как хранить код в Azure DevOps](/azure/devops/repos/git/gitworkflow?preserve-view=true&view=azure-devops)

- [Документация по Azure Repos](/azure/devops/repos/?preserve-view=true&view=azure-devops)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="93-validate-all-backups-including-customer-managed-keys"></a>9,3: Проверьте все резервные копии, включая управляемые клиентом ключи.

**Руководство**. обеспечение возможности периодически выполнять восстановление с помощью функции резервного копирования и восстановления. Если вы используете другое автономное расположение для резервного копирования кода, периодически обеспечивайте возможность выполнения полного восстановления. Проверка восстановления резервных копий ключей, управляемых клиентом.

- [Восстановление приложения в Azure из резервной копии](../app-service/web-sites-restore.md)

- [Восстановление приложения в Azure из моментального снимка](../app-service/app-service-web-restore-snapshots.md)

- [Как восстановить резервную копию ключей хранилища ключей в Azure](/powershell/module/az.keyvault/restore-azkeyvaultkey?preserve-view=true&view=azps-4.8.0)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="94-ensure-protection-of-backups-and-customer-managed-keys"></a>9,4: Обеспечьте защиту резервных копий и ключей, управляемых клиентом

**Руководство**. резервные копии из функции резервного копирования и восстановления используют учетную запись хранения Azure в подписке. Служба хранилища Azure шифрует все данные в неактивных учетных записях хранения. По умолчанию данные шифруются с помощью ключей, управляемых корпорацией Майкрософт. Для дополнительного управления ключами шифрования можно предоставить ключи, управляемые клиентом, для шифрования данных хранилища.

Если вы используете управляемые клиентом ключи, убедитесь, что Soft-Delete в Key Vault включена для защиты ключей от случайного или вредоносного удаления.

- [Шифрование неактивных данных в службе хранилища Azure](../storage/common/storage-service-encryption.md)

- [Как включить обратимое удаление в Key Vault](../storage/blobs/soft-delete-blob-overview.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="incident-response"></a>реагирование на инциденты.

*Дополнительные сведения см. в статье [Azure Security Benchmark: реагирование на инциденты](../security/benchmarks/security-control-incident-response.md).*

### <a name="101-create-an-incident-response-guide"></a>10.1. Создание руководства по реагированию на инциденты

**Руководство**. Создайте руководство по реагированию на инциденты для вашей организации. Убедитесь, что имеются письменные планы реагирования на инциденты, которые определяют все действия персонала, а также этапы обработки инцидентов и управления ими для проверки после инцидента.

- [Как настроить автоматизацию рабочих процессов в Центре безопасности Azure](../security-center/security-center-planning-and-operations-guide.md)

- [Руководство по созданию собственного процесса реагирования на инциденты безопасности](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/)

- [Анатомия инцидента Центра Майкрософт по реагированию на угрозы](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/)

- [Руководством по обработке инцидентов компьютерной безопасности NIST](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="102-create-an-incident-scoring-and-prioritization-procedure"></a>10.2. Создание процедуры оценки инцидента и определения приоритетов

**Руководство**. Центр безопасности назначает каждому оповещению серьезность, которая поможет определить, какие предупреждения следует расследовать первыми. Серьезность основывается на том, насколько уверен Центр безопасности в исследовании или аналитике, используемой для оповещения, а также на уровне достоверности злонамеренности события, приведшего к оповещению.

Кроме того, четко помечайте подписки (для устар. производственной, непроизводственной) и создайте систему именования, чтобы четко определить и классифицировать ресурсы Azure.

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="103-test-security-response-procedures"></a>10.3. Проверка процедур реагирования на угрозы

**Рекомендации**. Выполните упражнения, чтобы периодически протестировать возможности ваших систем реагировать на угрозы. Выявите слабые точки и пробелы и пересмотрите план по мере необходимости.

- [См. публикацию NIST: руководство по тестированию, обучению и выполнению программ для ИТ-планов и возможностей](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-84.pdf)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="104-provide-security-incident-contact-details-and-configure-alert-notifications-for-security-incidents"></a>10.4. Предоставление контактных сведений и настройка уведомлений по инцидентам безопасности

**Рекомендации**. Корпорация Майкрософт будет использовать информацию об инциденте безопасности для связи с вами, если центр Microsoft Security Response Center (MSRC) обнаружит, что к вашим пользовательским данным был получен незаконный или несанкционированный доступ.  Проверьте инциденты после факта обращения, чтобы убедиться, что проблемы устранены.

- [Как задать контакт безопасности Центра безопасности Azure](../security-center/security-center-provide-security-contact-details.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="105-incorporate-security-alerts-into-your-incident-response-system"></a>10.5. Включение оповещений системы безопасности в систему реагирования на инциденты

**Рекомендации**. Экспортируйте оповещения и рекомендации центра безопасности Azure с помощью функции непрерывного экспорта. Непрерывный экспорт позволяет экспортировать предупреждения и рекомендации как вручную, так и в постоянном, непрерывном режиме. Вы можете использовать соединитель данных Центра безопасности Azure для потоковой передачи оповещений в Azure Sentinel.

- [Настройка непрерывного экспорта данных](../security-center/continuous-export.md)

- [Как выполнить потоковую передачу оповещений в Azure Sentinel](../sentinel/connect-azure-security-center.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="106-automate-the-response-to-security-alerts"></a>10.6. Автоматизация реагирования на оповещения системы безопасности

**Руководство**. Использование функции автоматизации рабочих процессов в центре безопасности Azure для автоматического запуска ответов на оповещения системы безопасности и рекомендации с Logic Apps.

- [Как настроить автоматизацию рабочего процесса и Logic Apps](../security-center/workflow-automation.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="penetration-tests-and-red-team-exercises"></a>Тесты на проникновение и попытки нарушения безопасности "красной командой"

*Дополнительные сведения см. в статье [тесты производительности системы безопасности Azure: испытания на проникновение и команды красных команд](../security/benchmarks/security-control-penetration-tests-red-team-exercises.md).*

### <a name="111-conduct-regular-penetration-testing-of-your-azure-resources-and-ensure-remediation-of-all-critical-security-findings"></a>11,1. Проведите регулярное тестирование на проникновение ресурсов Azure и обеспечьте исправление всех критических результатов безопасности.

**Руководство**. соблюдение правил корпорации Майкрософт, чтобы убедиться, что тесты на проникновение не нарушают политики Майкрософт. Используйте стратегию и исполнение Microsoft, а затем протестировать проникновение в реальном времени для управляемой корпорацией Майкрософт облачной инфраструктуры, служб и приложений.

- [Правила взаимодействия при выполнении тестирования на проникновение](https://www.microsoft.com/msrc/pentest-rules-of-engagement?rtc=1)

- [Привлечение "красных команд для тестирования "Microsoft Cloud](https://gallery.technet.microsoft.com/Cloud-Red-Teaming-b837392e)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="next-steps"></a>Следующие шаги

- См. [Обзор Azure Security Benchmark версии 2](../security/benchmarks/overview.md)
- Дополнительные сведения о [базовой конфигурации безопасности Azure](../security/benchmarks/security-baselines-overview.md).
