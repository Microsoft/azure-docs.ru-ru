---
title: Запись трассировки браузера для устранения неполадок
description: Сбор сетевых сведений из трассировки браузера для помощи в устранении неполадок на портале Azure.
ms.date: 05/11/2020
ms.topic: troubleshooting
ms.openlocfilehash: 504a32fb63022f97e8049c7c1ccc7721bbac31ab
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96746001"
---
# <a name="capture-a-browser-trace-for-troubleshooting"></a>Запись трассировки браузера для устранения неполадок

Если вы устраняете неполадки на портале Azure и вам нужно обратиться в службу поддержки Майкрософт, мы рекомендуем сначала собрать трассировку браузера и некоторые дополнительные сведения. Эти сведения могут содержать важную информацию о состоянии портала на момент возникновения проблемы. Выполните описанные в этой статье действия с помощью средств для разработчиков в любом из следующих браузеров: Google Chrome или Microsoft Edge (Chromium), Microsoft Edge (EdgeHTML), Apple Safari или Firefox.

## <a name="google-chrome-and-microsoft-edge-chromium"></a>Google Chrome и Microsoft Edge (Chromium)

Google Chrome и новая версия Microsoft Edge основаны на [проекте Chromium с открытым кодом](https://www.chromium.org/Home). В следующих шагах показано, как использовать в этих браузерах средства для разработчиков, которые очень похожи. Дополнительные сведения см. в статьях о средствах для разработчиков [Chrome](https://developers.google.com/web/tools/chrome-devtools) и [Microsoft Edge (Chromium)](/microsoft-edge/devtools-guide-chromium).

1. Войдите на [портал Azure](https://portal.azure.com). Важно выполнить вход _до запуска трассировки_, чтобы эта трассировка не содержала конфиденциальной информации, связанной со входом в систему. 

1. Начните запись действий, выполняемых на портале, с помощью [средства записи действий](https://support.microsoft.com/help/22878/windows-10-record-steps).

1. Выполните на портале все действия вплоть до того, после которого возникает проблема.

1. Нажмите клавишу F12 или выберите ![ снимок экрана, на котором отображается значок параметров браузера.](media/capture-browser-trace/chromium-icon-settings.png) > **Другие средства** > **Средства разработчика**.

1. По умолчанию браузер сохраняет сведения о трассировке только для текущей загруженной страницы. Задайте следующие параметры, чтобы браузер сохранял полные данные трассировки, даже если для воспроизведения проблемы потребуется открыть несколько страниц:

    1. Перейдите на вкладку **Network** (Сеть) и выберите **Preserve log** (Хранить журнал).

          ![Снимок экрана, посвященный параметру "сохранить журнал" на вкладке "сеть".](media/capture-browser-trace/chromium-network-preserve-log.png)

    1. Откройте вкладку **Console** (Консоль), затем выберите **Console settings** (Параметры консоли) и **Preserve log** (Хранить журнал). Снова щелкните элемент **Console settings** (Параметры консоли), чтобы закрыть панель параметров.

          ![Снимок экрана, посвященный параметру "сохранить журнал" на вкладке "консоль".](media/capture-browser-trace/chromium-console-preserve-log.png)

1. Перейдите на вкладку **Network** (Сеть), а затем выберите **Stop recording network log** (Закончить запись сетевого журнала) и **Clear** (Очистить).

    ![Снимок экрана с элементами Stop recording network log (Закончить запись сетевого журнала) и Clear (Очистить).](media/capture-browser-trace/chromium-stop-clear-session.png)

1. Щелкните **Record network log** (Записать сетевой журнал) и воспроизведите проблему на портале.

    ![Снимок экрана, показывающий, как записать журнал сети.](media/capture-browser-trace/chromium-start-session.png)

    На экране вы увидите выходные данные сеанса, которые похожи на приведенные ниже.

    ![Снимок экрана, на котором показаны выходные данные сеанса.](media/capture-browser-trace/chromium-browser-trace-results.png)

1. Воспроизведя непредвиденное поведение на портале, щелкните **Stop recording network log** (Завершить запись сетевого журнала) и **Export HAR** (Экспортировать HAR-файл), а затем сохраните этот файл.

    ![Снимок экрана, на котором показано, как экспортировать HAR на вкладке "сеть".](media/capture-browser-trace/chromium-network-export-har.png)

1. Остановите средство записи действий и сохраните полученную запись.

1. Вернитесь к панели средств для разработчиков в браузере и откройте вкладку **Console** (Консоль). Щелкните правой кнопкой мыши одно из сообщений, а затем выберите **Save as...** (Сохранить как) и сохраните выходные данные консоли в текстовый файл.

    ![Снимок экрана, на котором показаны вкладки консоли и сохранить как... меню](media/capture-browser-trace/chromium-console-select.png)

1. Упакуйте HAR-файл, выходные данные консоли и запись экрана в любой архивный формат, например ZIP, и передайте полученный файл в службу поддержки Майкрософт.

## <a name="microsoft-edge-edgehtml"></a>Microsoft Edge (EdgeHTML)

В следующих шагах показано, как использовать средства для разработчиков в Microsoft Edge (EdgeHTML). Дополнительные сведения см. в статье [Средства для разработчиков Microsoft Edge (EdgeHTML)](/microsoft-edge/devtools-guide).

1. Войдите на [портал Azure](https://portal.azure.com). Важно выполнить вход _до запуска трассировки_, чтобы эта трассировка не содержала конфиденциальной информации, связанной со входом в систему. 

1. Начните запись действий, выполняемых на портале, с помощью [средства записи действий](https://support.microsoft.com/help/22878/windows-10-record-steps).

1. Выполните на портале все действия вплоть до того, после которого возникает проблема.

1. Нажмите клавишу F12 или выберите ![ снимок экрана со значком параметров браузера.](media/capture-browser-trace/edge-icon-settings.png) > **Другие средства** > **Средства разработчика**.

1. По умолчанию браузер сохраняет сведения о трассировке только для текущей загруженной страницы. Задайте следующие параметры, чтобы браузер сохранял полные данные трассировки, даже если для воспроизведения проблемы потребуется открыть несколько страниц:

    1. Выберите вкладку **Network** (Сеть), а затем снимите флажок **Clear entries on navigate** (Очищать записи при навигации).

          ![Снимок экрана с элементом Clear entries on navigate (Очищать записи при навигации)](media/capture-browser-trace/edge-network-clear-entries.png)

    1. Перейдите на вкладку **Console** (Консоль) и выберите **Preserve log** (Хранить журнал).

          ![Снимок экрана с параметром Preserve log (Хранить журнал)](media/capture-browser-trace/edge-console-preserve-log.png)

1. Перейдите на вкладку **Network** (Сеть), а затем выберите **Stop profiling session** (Закончить сеанс профилирования) и **Clear session** (Очистить сеанс).

    ![Снимок экрана с элементами Stop profiling session (Закончить сеанс профилирования) и Clear session (Очистить сеанс)](media/capture-browser-trace/edge-stop-clear-session.png)

1. Щелкните **Start profiling session** (Начать сеанс профилирования) и воспроизведите проблему на портале.

    ![Снимок экрана с элементом Start profiling session (Начать сеанс профилирования)](media/capture-browser-trace/edge-start-session.png)

    На экране вы увидите выходные данные сеанса, которые похожи на приведенные ниже.

    ![Снимок экрана, на котором показаны выходные данные сеанса профилирования.](media/capture-browser-trace/edge-browser-trace-results.png)

1. Воспроизведя непредвиденное поведение на портале, щелкните **Stop profiling session** (Завершить сеанс профилирования) и **Export as HAR** (Экспортировать HAR-файл), а затем сохраните этот файл.

    ![Снимок экрана с действием экспорта HAR-файла](media/capture-browser-trace/edge-network-export-har.png)

1. Остановите средство записи действий и сохраните полученную запись.

1. Вернитесь к панели средств для разработчиков в браузере и откройте вкладку **Console** (Консоль), а затем разверните окно. Поместите курсор в начало выходных данных консоли, а затем выделите все содержимое выходных данных. Щелкните правой кнопкой мыши, выберите **Copy** (Копировать) и сохраните выходные данные консоли в текстовый файл.

    ![Снимок экрана, посвященный пункту меню "Копировать".](media/capture-browser-trace/edge-console-select.png)

1. Упакуйте HAR-файл, выходные данные консоли и запись экрана в любой архивный формат, например ZIP, и передайте полученный файл в службу поддержки Майкрософт.

## <a name="apple-safari"></a>Apple Safari;

В следующих шагах показано, как использовать средства для разработчиков в Apple Safari. Дополнительные сведения см. в статье о [средствах для разработчиков Safari](https://support.apple.com/guide/safari-developer/safari-developer-tools-overview-dev073038698/11.0/mac).

1. Чтобы включить средства для разработчиков в Apple Safari, сделайте следующее:

    1. Откройте **Safari**, а затем выберите **Preferences** (Параметры).

        ![Снимок экрана с параметрами Safari](media/capture-browser-trace/safari-preferences.png)

    1. Выберите вкладку **Advanced** (Дополнительно), а затем щелкните **Show Develop menu in menu bar** (Показать меню разработки в строке меню).

        ![Снимок экрана с дополнительными параметрами Safari](media/capture-browser-trace/safari-show-develop-menu.png)

1. Войдите на [портал Azure](https://portal.azure.com). Важно выполнить вход _до запуска трассировки_, чтобы эта трассировка не содержала конфиденциальной информации, связанной со входом в систему. 

1. Начните запись действий, выполняемых на портале. Дополнительные сведения о том, как записать содержимое экрана на компьютере Mac, см. в [этой статье](https://support.apple.com/HT208721).

1. Выполните на портале все действия вплоть до того, после которого возникает проблема.

1. Щелкните **Develop** (Разработка), а затем **Show Web Inspector** (Показать веб-инспектор).

    ![Снимок экрана с элементом для запуска веб-инспектора](media/capture-browser-trace/safari-show-web-inspector.png)

1. По умолчанию браузер сохраняет сведения о трассировке только для текущей загруженной страницы. Задайте следующие параметры, чтобы браузер сохранял полные данные трассировки, даже если для воспроизведения проблемы потребуется открыть несколько страниц:

    1. Перейдите на вкладку **Network** (Сеть) и выберите **Preserve log** (Хранить журнал).

          ![Снимок экрана, на котором показан параметр "сохранить журнал".](media/capture-browser-trace/safari-network-preserve-log.png)

    1. Перейдите на вкладку **Console** (Консоль) и выберите **Preserve log** (Хранить журнал).

          ![Снимок экрана, на котором показан журнал сохранения на вкладке консоли.](media/capture-browser-trace/safari-console-preserve-log.png)

1. Перейдите на вкладку **Network** (Сеть) и выберите **Clear Network Items** (Очистить элементы сети).

    ![Снимок экрана с действием Clear Network Items (Очистить элементы сети)](media/capture-browser-trace/safari-clear-session.png)

1. Воспроизведите проблему на портале. На экране вы увидите выходные данные сеанса, которые похожи на приведенные ниже.

    ![Снимок экрана, показывающий выходные данные после воссоздания проблемы.](media/capture-browser-trace/safari-browser-trace-results.png)

1. Воспроизведя непредвиденное поведение на портале, щелкните **Export** (Экспорт) и сохраните этот файл.

    ![Снимок экрана с действием экспорта](media/capture-browser-trace/safari-network-export-har.png)

1. Остановите средство записи экрана и сохраните полученную запись.

1. Вернитесь к панели средств для разработчиков в браузере и откройте вкладку **Console** (Консоль), а затем разверните окно. Поместите курсор в начало выходных данных консоли, а затем выделите все содержимое выходных данных. Скопируйте выходные данные с помощью клавиш COMMAND-C и сохраните их в текстовом файле.

    ![Снимок экрана, на котором можно просмотреть и скопировать выходные данные.](media/capture-browser-trace/safari-console-select.png)

1. Упакуйте HAR-файл, выходные данные консоли и запись экрана в любой архивный формат, например ZIP, и передайте полученный файл в службу поддержки Майкрософт.

## <a name="firefox"></a>Firefox

В следующих шагах показано, как использовать средства для разработчиков в Firefox. Дополнительные сведения см. в статье о [средствах для разработчиков Firefox](https://developer.mozilla.org/docs/Tools).

1. Войдите на [портал Azure](https://portal.azure.com). Важно выполнить вход _до запуска трассировки_, чтобы эта трассировка не содержала конфиденциальной информации, связанной со входом в систему. 

1. Начните запись действий, выполняемых на портале. В ОС Windows запустите [средство записи шагов](https://support.microsoft.com/help/22878/windows-10-record-steps), а для Mac воспользуйтесь инструкциями из [этой статьи](https://support.apple.com/HT208721).

1. Выполните на портале все действия вплоть до того, после которого возникает проблема.

1. Нажмите клавишу F12 или щелкните ![значок параметров браузера](media/capture-browser-trace/firefox-icon-settings.png) > **Web Developer** > **Toggle Tools** (Веб-разработчик > Переключить средства).

1. По умолчанию браузер сохраняет сведения о трассировке только для текущей загруженной страницы. Задайте следующие параметры, чтобы браузер сохранял полные данные трассировки, даже если для воспроизведения проблемы потребуется открыть несколько страниц:

    1. Перейдите на вкладку **Network** (Сеть) и выберите **Persist Logs** (Хранить журналы).

          ![Снимок экрана, на котором выделены параметры сохранения журналов.](media/capture-browser-trace/firefox-network-persist-logs.png)

    1. Откройте вкладку **Console** (Консоль), щелкните **Console settings** (Параметры консоли) и установите флажок **Persist Logs** (Хранить журналы).

          ![Снимок экрана с элементом Persist Logs (Хранить журналы)](media/capture-browser-trace/firefox-console-persist-logs.png)

1. Перейдите на вкладку **Network** (Сеть) и щелкните **Clear** (Очистить).

    ![Снимок экрана с элементом Clear (Очистить)](media/capture-browser-trace/firefox-clear-session.png)

1. Воспроизведите проблему на портале. На экране вы увидите выходные данные сеанса, которые похожи на приведенные ниже.

    ![Снимок экрана с результатами трассировки браузера](media/capture-browser-trace/firefox-browser-trace-results.png)

1. Воспроизведя непредвиденное поведение на портале, щелкните **HAR Export/Import** (Экспорт и импорт HAR), а затем **Save All As HAR** (Сохранить всё как HAR).

    ![Снимок экрана с действием экспорта HAR-файла](media/capture-browser-trace/firefox-network-export-har.png)

1. Остановите средство записи действий в Windows или средство записи экрана на компьютере Mac, а затем сохраните эту запись.

1. Вернитесь к панели средств для разработчиков в браузере и откройте вкладку **Console** (Консоль). Щелкните правой кнопкой мыши одно из сообщений, а затем выберите **Export Visible Message To** (Экспортировать видимое сообщение в) и сохраните выходные данные консоли в текстовый файл.

    ![Снимок экрана с выходными данными консоли](media/capture-browser-trace/firefox-console-select.png)

1. Упакуйте HAR-файл, выходные данные консоли и запись экрана в любой архивный формат, например ZIP, и передайте полученный файл в службу поддержки Майкрософт.

## <a name="next-steps"></a>Дальнейшие действия

[Обзор портала Azure](azure-portal-overview.md)