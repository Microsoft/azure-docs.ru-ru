---
title: Создание отчетов
description: Получите представление о сетевых активности, рисках, атаках и тенденциях с помощью защитника для средств создания отчетов IoT.
author: shhazam-ms
manager: rkarlin
ms.author: shhazam
ms.date: 12/17/2020
ms.topic: how-to
ms.service: azure
ms.openlocfilehash: d0c3f531ede0a590a6ba7bb21c6edbd768c08069
ms.sourcegitcommit: 8be279f92d5c07a37adfe766dc40648c673d8aa8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/31/2020
ms.locfileid: "97842564"
---
# <a name="generate-reports"></a>Создание отчетов

Получите представление о сетевых активности, рисках, атаках и тенденциях с помощью защитника Azure для средств создания отчетов IoT. Доступны средства для создания отчетов:

- На основе действий, обнаруженных отдельными датчиками.
- На основе действия, обнаруженного всеми датчиками. 

Эти отчеты формируются из локальной консоли управления.

## <a name="reports-for-sensor-risk-assessment"></a>Отчеты для оценки рисков датчика

Отчеты об оценке рисков позволяют создать оценку безопасности для каждого сетевого устройства, а также общий показатель безопасности сети. Общая оценка представляет собой процентную долю от 100% безопасности.

Этот показатель основан на результатах проверки пакетов, механизмах моделирования поведения и проектировании конечного автомата для СКАДА. Доступен широкий спектр других сведений, например:

- Проблемы с конфигурацией

- Уязвимость устройств, приоритет которых определяется уровнем безопасности

- Проблемы безопасности сети

- Проблемы в работе сети

- "Attack vectors" (Направления атаки).

- Подключения к сетям ICS

- Internet connections (Подключения к Интернету)

- Индикаторы промышленных вредоносных программ

- Проблемы с протоколом

  - Защита устройств: устройства с показателем безопасности выше 90%.

- **Безопасные устройства**: устройства с показателем безопасности свыше 90%.

- **Уязвимые устройства**: устройства с показателем безопасности ниже 70%.

- **Устройства, которым требуется улучшение**: устройства с показателем безопасности в диапазоне от 70% до 89 процентов.

Чтобы создать отчет, необходимо выполнить следующие шаги.

1. В боковом меню выберите **Оценка рисков** .
2. Выберите датчик из раскрывающегося списка **выбрать датчик** .
3. Выберите **создать отчет**.
4. Выберите **скачать** в разделе архивные отчеты.

:::image type="content" source="media/how-to-generate-reports/risk-assessment.png" alt-text="Представление оценки рисков.":::

Чтобы импортировать эмблему компании, сделайте следующее:

Чтобы импортировать эмблему компании, сделайте следующее:

- Выберите **Импорт логотипа**.

## <a name="reports-for-sensor-attack-vector"></a>Отчеты для вектора атак датчика

Отчеты с векторами атак предоставляют графическое представление цепочки уязвимостей устройств, которые используют злоумышленники. Эти уязвимости могут предоставить злоумышленнику доступ к ключевым сетевым устройствам. Имитатор векторов атак вычисляет направления атак в режиме реального времени и анализирует все векторы атак для определенного целевого объекта.

Работа с вектором атаки позволяет оценить влияние действий по устранению рисков в последовательности атак. Затем можно определить, например, если при обновлении системы нарушается путь злоумышленника, нарушая цепочку атак или при этом сохраняется альтернативный путь атаки. Эти сведения помогают определить приоритеты действий по исправлению и устранению рисков.

:::image type="content" source="media/how-to-generate-reports/control-center.png" alt-text="Просмотр оповещений в центре управления.":::

> [!NOTE]
> Администраторы и аналитики безопасности могут выполнять процедуры, описанные в этом разделе.

Чтобы создать моделирование вектора атак, выполните следующие действия.

1. Выберите :::image type="content" source="media/how-to-generate-reports/plus.png" alt-text="знак &quot;плюс":::" в боковом меню, чтобы добавить имитацию.

 :::image type="content" source="media/how-to-generate-reports/vector.png" alt-text="Моделирование вектора атак.":::

2. Введите свойства имитации:

   - **Имя**: имя имитации.

   - **Максимальное число векторов**: максимальное количество векторов в одном моделировании.

   - **Показывать в схеме устройства**: отображать вектор атаки в виде фильтра на карте устройства.

   - **Все исходные устройства**. вектор атаки будет рассматривать все устройства как источник атаки.

   - **Источник атаки**. при атаке в качестве источника атаки будет учитываться только указанное устройство.

   - **Все целевые устройства**. Направление атаки будет рассматривать все устройства как цель атаки.

   - **Цель атаки**. вектор атаки учитывает только указанные устройства в качестве цели атаки.

   - **Исключение устройств**. указанные устройства будут исключены из моделирования вектора атак.

   - **Исключить подсети**. указанные подсети будут исключены из моделирования вектора атак.

3. Выберите **Добавить симуляцию**. Имитация будет добавлена в список имитаций.

   :::image type="content" source="media/how-to-generate-reports/new-simulation.png" alt-text="Добавление нового моделирования.":::

4. Выберите, :::image type="icon" source="media/how-to-generate-reports/edit-a-simulation-icon.png" border="false"::: Если требуется изменить имитацию.

   Выберите, :::image type="icon" source="media/how-to-generate-reports/delete-simulation-icon.png" border="false"::: если хотите удалить имитацию.

   Выберите, :::image type="icon" source="media/how-to-generate-reports/make-a-favorite-icon.png" border="false"::: Если необходимо пометить имитацию как избранную.

5. Появится список направлений атак, содержащий оценку вектора (от 100), исходное устройство атаки и целевое устройство атаки. Выберите конкретную атаку для графического описания направлений атак.

   :::image type="content" source="media/how-to-generate-reports/sample-attack-vectors.png" alt-text="Векторы атак.":::

## <a name="sensor-data-mining-queries"></a>Данные датчика — запросы интеллектуального анализа данных

Средства интеллектуального анализа данных позволяют создавать исчерпывающую и детализированную информацию о сетевых устройствах на различных уровнях. Например, можно создать запрос на основе:

- Временные периоды

- Подключения к Интернету

- Порты

- Протоколы

- Версии встроенного по

- Команды программирования

- Неактивность устройства

Можно точно настроить отчет на основе фильтров. Например, можно выполнить запрос к определенной подсети, в которой было Обновлено встроенное по.

:::image type="content" source="media/how-to-generate-reports/active-device-list-v2.png" alt-text="Список активных устройств.":::

Для управления запросами доступны различные средства. Например, можно выполнить экспорт и сохранение.

> [!NOTE]
> Администраторы и аналитики безопасности имеют доступ к параметрам интеллектуального анализа данных.

### <a name="dynamic-updates"></a>Динамические обновления

Создаваемые запросы интеллектуального анализа данных динамически обновляются при каждом открытии. Пример:

- Если вы создаете отчет для версий встроенного по на устройствах 1 июня и снова открываете отчет в течение 10 июня, этот отчет будет обновлен с учетом информации, которая точна до 10 июня.

- Если создать отчет для обнаружения новых устройств, обнаруженных за последние 30 дней 1 июня, и открыть отчет на 30 июня, результаты будут отображаться за последние 30 дней.

### <a name="data-mining-use-cases"></a>Варианты использования интеллектуального анализа данных

Запросы можно использовать для решения широкого спектра требований к безопасности для различных групп безопасности:

- **Реагирование на инциденты SoC**. Создание отчета в режиме реального времени для помощи в немедленном реагировании на инциденты. Например, создайте отчет для списка устройств, для которых может потребоваться установка исправлений.

- **Судебные** расследования: создание отчета на основе исторических данных для исследования отчетов.

- **Целостность сети ИТ**: создание отчета, помогающего повысить общую безопасность сети. Например, создайте отчет, содержащий устройства с ненадежными учетными данными для проверки подлинности.

- **Видимость**. Создание отчета, охватывающего все элементы запроса для просмотра всех базовых параметров сети.

### <a name="data-mining-storage"></a>Хранилище интеллектуального анализа данных

Данные интеллектуального анализа данных сохраняются и хранятся непрерывно, за исключением случаев, когда устройство удаляется. Результаты интеллектуального анализа данных можно экспортировать и хранить извне на безопасном сервере. Кроме того, датчик выполняет автоматическое ежедневное резервное копирование для обеспечения непрерывности системы и сохранения данных.

### <a name="data-mining-and-reports"></a>Интеллектуальный анализ данных и отчеты 

Обычные отчеты, доступные из параметра **отчеты** , являются предопределенными отчетами по интеллектуальному анализу данных. Они не являются динамическими запросами, доступными в интеллектуальном анализе данных, но статическим представлением результатов запроса интеллектуального анализа данных.

Результаты запроса интеллектуального анализа данных недоступны пользователям RO. Администраторы и аналитики безопасности, желающие пользователям RO иметь доступ к информации, формируемой запросами интеллектуального анализа данных, должны сохранить информацию в виде отчета.

### <a name="predefined-queries"></a>Предопределенные запросы

Доступны следующие предопределенные запросы. Эти запросы создаются в режиме реального времени.

- **CVE**: список обнаруженных устройств с известными уязвимостями за последние 24 часа.

- **Исключенные CVE**: список всех CVE, которые были исключены вручную. Для получения более точных результатов в отчетах о ва и векторах атак можно настроить список CVE вручную, включив и исключив CVE.

- **Интернет**— устройства, подключенные к Интернету.

- **Неактивные устройства**: устройства, которые не были переданы за последние семь дней.

- **Активные устройства**: активные сетевые устройства за последние 24 часа.

- **Удаленный доступ**: устройства, которые обмениваются данными через протоколы удаленных сеансов.

- **Команды программирования**: устройства, которые отправляют промышленное программирование.

Эти отчеты автоматически доступны на экране **отчетов** , где пользователи ro и другие пользователи могут просматривать их. Пользователи RO не могут получить доступ к отчетам интеллектуального анализа данных.

:::image type="content" source="media/how-to-generate-reports/data-mining-screeshot-v2.png" alt-text="Экран интеллектуального анализа данных.":::

### <a name="create-a-data-mining-report"></a>Создание отчета интеллектуального анализа данных

Создание отчета интеллектуального анализа данных.

1. В боковом меню выберите **интеллектуальный анализ данных** . Предопределенные предлагаемые отчеты отображаются автоматически.

 :::image type="content" source="media/how-to-generate-reports/data-mining-screeshot-v2.png" alt-text="Выберите пункт интеллектуальный анализ данных из боковой области.":::

2. Выберите :::image type="icon" source="media/how-to-generate-reports/plus-icon.png" border="false":::.

3. Выберите **создать отчет** и определите отчет.

   :::image type="content" source="media/how-to-generate-reports/create-new-report-screen.png" alt-text="Создайте новый отчет, заполнив этот экран.":::

   Доступны следующие параметры:

   - Укажите имя и описание отчета.

   - Для категорий выберите один из следующих типов:

      - **Категории (все)** для просмотра всех результатов отчета обо всех устройствах в сети.

      - **Универсальный** для выбора стандартных категорий.

   - Выберите конкретные интересующие вас параметры отчета.

   - Выберите порядок сортировки (**ORDER BY**). Сортировка результатов на основе действия или категории.

   - Выберите **сохранить на страницах отчета** , чтобы сохранить результаты отчета в виде отчета, доступного на странице **отчета** . Это позволит пользователям RO выполнять созданный отчет.

   - Выберите **фильтры (Добавить)** , чтобы добавить дополнительные фильтры. Поддерживаются запросы с подстановочными знаками.

   - Укажите группу устройств (определенную в карте устройств).

   - Укажите IP-адрес.

   - Укажите порт.

   - Укажите MAC-адрес.

4. Щелкните **Сохранить**. Результаты отчета открываются на странице **интеллектуальный анализ данных** .

:::image type="content" source="media/how-to-generate-reports/data-mining-page.png" alt-text="Отчет о результатах, как показано на странице интеллектуальный анализ данных.":::

### <a name="manage-data-mining-reports"></a>Управление отчетами интеллектуального анализа данных

В следующей таблице описаны параметры управления интеллектуального анализа данных.

| Изображение значка | Описание |
|--|--|
| :::image type="icon" source="media/how-to-generate-reports/edit-a-simulation-icon.png" border="false"::: | Измените параметры отчета. |
| :::image type="icon" source="media/how-to-generate-reports/export-as-pdf-icon.png" border="false"::: | Экспорт в формате PDF. |
| :::image type="icon" source="media/how-to-generate-reports/csv-export-icon.png" border="false"::: |Экспорт в формате CSV. |
| :::image type="icon" source="media/how-to-generate-reports/information-icon.png" border="false"::: | Отображение дополнительных сведений, например даты последнего изменения. Используйте эту функцию для создания моментального снимка результата запроса. Это может потребоваться для дальнейшего изучения руководителей команд или аналитик SOC, например. |
| :::image type="icon" source="media/how-to-generate-reports/pin-icon.png" border="false"::: | Отображение на странице **отчеты** или скрытие на странице **отчеты** . :::image type="content" source="media/how-to-generate-reports/hide-reports-page.png" alt-text="Скройте или раскроете отчеты."::: |
| :::image type="icon" source="media/how-to-generate-reports/delete-simulation-icon.png" border="false"::: | Удалите такой отчет. |

#### <a name="create-customized-directories"></a>Создание настраиваемых каталогов 

Вы можете упорядочить обширные сведения для запросов интеллектуального анализа данных, создав каталоги для категорий. Например, можно создать каталоги для протоколов или расположений.

Чтобы создать новый каталог, выполните следующие действия.

1. Выберите :::image type="icon" source="media/how-to-generate-reports/plus-icon.png" border="false"::: , чтобы добавить новый каталог.

2. Выберите **новый каталог** , чтобы отобразить новую форму каталога.

3. Назовите новый каталог.

4. Перетащите необходимые отчеты в новый каталог. В любое время можно перетащить отчет обратно в главное представление.

5. Щелкните правой кнопкой мыши новый каталог, чтобы открыть, изменить или удалить его.

#### <a name="create-snapshots-of-report-results"></a>Создание моментальных снимков результатов отчета

Может потребоваться сохранить определенные результаты запроса для дальнейшего изучения. Например, может потребоваться поделиться результатами с различными группами безопасности.

Моментальные снимки сохраняются в результатах отчета и не создают динамические запросы.

:::image type="content" source="media/how-to-generate-reports/report-results-report.png" alt-text="Моментальные снимки.":::

Чтобы создать моментальный снимок, сделайте следующее:

1. Откройте необходимый отчет.

2. Выберите значок сведений :::image type="icon" source="media/how-to-generate-reports/information-icon.png" border="false"::: .

3. Выберите **создать**.

4. Введите имя моментального снимка и нажмите кнопку **сохранить**.

:::image type="content" source="media/how-to-generate-reports/take-a-snapshot.png" alt-text="Создание моментального снимка.":::

#### <a name="customize-the-cve-list"></a>Настройка списка CVE

Можно вручную настроить список CVE следующим образом:

  - Включить или исключить CVE

  - Изменение оценки CVE

Для выполнения изменений вручную в CVE Report:

1.  В боковом меню выберите **интеллектуальный анализ данных**.

2. Выберите :::image type="icon" source="media/how-to-generate-reports/plus-icon.png" border="false"::: в левом верхнем углу окна **интеллектуального анализа данных** . Затем выберите **создать отчет**.

   :::image type="content" source="media/how-to-generate-reports/create-a-new-report-screen.png" alt-text="Создание нового отчета.":::

3. В левой области выберите один из следующих вариантов.

   - **Известные уязвимости**. выбирает оба варианта и отображает результаты в двух таблицах отчета: один с CVE, а другой — с исключенным CVE.

   - **CVE**: Выберите этот параметр, чтобы предоставить список всех CVE.

   - **Исключенные CVE**: Выберите этот параметр, чтобы отобразить список всех исключенных CVE.

4. Введите сведения об **имени** и **описании** и нажмите кнопку **сохранить**. Новый отчет появится в окне **интеллектуальный анализ данных** .

5. Чтобы исключить CVE, откройте отчет интеллектуального анализа данных для CVE. Появится список всех CVE.

   :::image type="content" source="media/how-to-generate-reports/cves.png" alt-text="Отчет в C V E.":::

6. Чтобы включить выбор элементов в списке, выберите :::image type="icon" source="media/how-to-generate-reports/enable-selecting-icon.png" border="false"::: и выберите CVE, который требуется настроить. В нижней части отобразится панель **операций** .

   :::image type="content" source="media/how-to-generate-reports/operations-bar-appears.png" alt-text="Снимок экрана: панель операций интеллектуального анализа данных.":::

7. Выберите CVE, который необходимо исключить, а затем щелкните **удалить записи**. Выбранный CVE не отображается в списке CVE и будет отображаться в списке исключенных CVE при его создании.

8. Чтобы включить исключенные CVE в список CVE, создайте отчет для исключенных CVE и удалите из списка элементы, которые необходимо включить в список CVE.

9. Выберите CVE, в котором необходимо изменить оценку, а затем выберите **Обновить CVE Score**.

   :::image type="content" source="media/how-to-generate-reports/set-new-score-screen.png" alt-text="Обновите оценку CVE.":::

10. Введите новую оценку и нажмите кнопку **ОК**. Обновленная Оценка появится в выбранном CVE.

### <a name="reports-based-on-data-mining"></a>Отчеты, основанные на интеллектуальном анализе данных

Отчеты, отражающие сведения, формируемые результатами запроса интеллектуального анализа данных. К ним относятся отчеты интеллектуального анализа данных по умолчанию, доступные в представлении отчеты. Администраторы и аналитики безопасности могут также создавать пользовательские запросы интеллектуального анализа данных и сохранять их в виде отчетов. Эти отчеты также доступны для пользователей RO.

Создание отчета:

1. Выберите **отчеты** в боковом меню.

2. Выберите необходимый отчет для просмотра. Выбор может быть **пользовательским** или **автоматически создаваемым** отчетом, например **командами программирования** и **удаленным доступом**.

3. Отчет можно экспортировать, выбрав один из значков в правом верхнем углу экрана:

   :::image type="icon" source="media/how-to-generate-reports/export-to-pdf-icon.png" border="false"::: Экспорт в PDF-файл.

   :::image type="icon" source="media/how-to-generate-reports/export-to-csv-icon.png" border="false"::: Экспорт в CSV-файл.

> [!NOTE] 
> Пользователь RO может просматривать только отчеты, созданные для них.

:::image type="content" source="media/how-to-generate-reports/select-a-report-screen.png" alt-text="Выберите отчет для создания.":::

:::image type="content" source="media/how-to-generate-reports/remote-access-report.png" alt-text="Отчет о удаленном доступе создан.":::

## <a name="reports-for-sensor-trends-and-statistics"></a>Отчеты о тенденциях и статистике датчиков

Вы можете создавать графики и круговые диаграммы мини-приложений, чтобы получить представление о тенденциях и статистике сети. Мини-приложения можно группировать в пользовательских панелях мониторинга.

> [!NOTE]
> Процедуры, описанные в этом разделе, могут выполнять только администраторы и аналитики безопасности.

Чтобы просмотреть панели мониторинга и мини-приложения, выберите **тренды & статистики** в боковом меню.

:::image type="content" source="media/how-to-generate-reports/investigation-screenshot.png" alt-text="Снимок экрана для расследования.":::

Панель мониторинга состоит из мини-приложений, которые графически описывают следующие типы данных:

- Трафик по порту
- Пропускная способность канала
- Общая пропускная способность
- Активное TCP-подключение
- Устройства:
  - Новые устройства
  - Занятые устройства
  - Устройства по поставщикам
  - Устройства по ОС
  - Отключенные устройства
- Подключение отброшено по часам
- Оповещения для инцидентов по типу
- Доступ к таблице базы данных
- Мини-приложения для разсечения протокола
- Ethernet и IP-адрес:
  - Трафик Ethernet и IP-адресов службой CIP
  - Трафик Ethernet и IP-адреса по классу CIP
  - Трафик Ethernet и IP-адреса по командам
- СООТВЕТСТВИЕ
  - Основные операции управления OPC
  - Основные операции ввода-вывода OPC
- Компания Siemens S7:
  - S7 трафика по функциям управления
  - S7 трафика по подфункции
- SRTP
  - SRTP трафика по коду службы
  - SRTP ошибок по дням
- Суителинк:
  - Суителинк первые запрашиваемые Теги
  - Поведение числового тега Суителинк
- Трафик IEC-60870 по АСДУ
- DNP3 трафика по функциям
- Трафик MMS по службе
- Modbus трафика по функциям
- Трафик OPC-UA по службе

> [!NOTE]
>  Время в мини-приложениях задается в соответствии со временем датчика.

## <a name="reports-for-the-on-premises-management-console"></a>Отчеты для локальной консоли управления

Локальная консоль управления позволяет создавать отчеты для каждого датчика, подключенного к нему. Отчеты основываются на запросах интеллектуального анализа данных датчиков, которые выполняются.

Можно создавать следующие отчеты:

- **Активные устройства (за последние 24 часа)**: представляет список устройств, которые отображают активность сети в течение 24 часов.

- **Неактивные устройства (за последние 7 дней)**. представляет список устройств, которые не показывают активности сети за последние семь дней.

- **Команды программирования**: представляет список устройств, которые отправили программные команды в течение последних 24 часов.

- **Удаленный доступ**: предоставляет список устройств, к которым удаленные источники обращались за последние 24 часа.

:::image type="content" source="media/how-to-generate-reports/reports-view.png" alt-text="Снимок экрана представления отчетов.":::

При выборе датчика из локальной консоли управления все пользовательские отчеты, настроенные на этом датчике, отображаются в списке отчетов. Для каждого датчика можно создать отчет по умолчанию или пользовательский отчет, настроенный на этом датчике.

Создание отчета:

1. На левой панели выберите **отчеты**. Откроется окно **отчеты** .

2. В раскрывающемся списке **датчиков** выберите датчик, для которого необходимо создать отчет.

   :::image type="content" source="media/how-to-generate-reports/sensor-drop-down-list.png" alt-text="Снимок экрана: представление датчиков.":::

3. В раскрывающемся списке справа выберите отчет, который необходимо создать.

4. Чтобы создать PDF-файл результатов отчета, выберите :::image type="icon" source="media/how-to-generate-reports/pdf-report-icon.png" border="false"::: .

## <a name="risk-assessment-reports-for-the-on-premises-management-console"></a>Отчеты об оценке рисков для локальной консоли управления

Создайте отчет об оценке рисков для каждого датчика, подключенного к локальной консоли управления. Этот отчет содержит сведения о каждой из сетей, отслеживаемых датчиками.

Отчеты об оценке рисков позволяют создать оценку безопасности для каждого сетевого устройства, а также общий показатель безопасности сети. Общая оценка основана на глубокой проверке пакетов, механизмах моделирования поведения и проектировании конечного автомата для СКАДА. Доступен широкий спектр других сведений. Пример:

- Проблемы с конфигурацией

- Уязвимость устройств, приоритет которых определяется уровнем безопасности

- Проблемы безопасности сети

- Проблемы в работе сети

- "Attack vectors" (Направления атаки).

- Подключения к сетям ICS

- Internet connections (Подключения к Интернету)

- Индикаторы промышленных вредоносных программ

- Проблемы с протоколом

Отчет содержит рекомендации по устранению рисков, которые помогут улучшить оценку безопасности.

- Защита устройств: устройства с показателем безопасности выше 90%.

- **Уязвимые устройства**: устройства с показателем безопасности ниже 70%.

- **Устройства, которым требуется улучшение**: устройства с показателем безопасности в диапазоне от 70% до 89 процентов.

Чтобы создать отчет, необходимо выполнить следующие шаги.

1. В боковом меню выберите **Оценка рисков** .

2. Выберите датчик из раскрывающегося списка **выбрать датчик** .

3. Выберите **создать отчет**.

4. Выберите **скачать** в разделе **Архивные отчеты** .

Чтобы импортировать эмблему компании, сделайте следующее:

- Выберите **Импорт логотипа**.

:::image type="content" source="media/how-to-generate-reports/import-logo-screenshot.png" alt-text="Импортируйте эмблему через представление оценки рисков.":::

## <a name="see-also"></a>См. также раздел
[Работа с представлениями карт сайтов](how-to-gain-insight-into-global-regional-and-local-threats.md#work-with-site-map-views)
