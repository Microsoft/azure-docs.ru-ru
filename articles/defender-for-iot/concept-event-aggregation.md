---
title: Статистическая обработка событий (предварительная версия)
description: Защитник для агентов безопасности IoT собирает данные и системные события с локального устройства и отправляет их в облако Azure для обработки и анализа.
ms.date: 1/20/2021
ms.topic: conceptual
ms.openlocfilehash: c0280e97549009a1e4911c072a7a8ec052684b4e
ms.sourcegitcommit: f611b3f57027a21f7b229edf8a5b4f4c75f76331
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104779330"
---
# <a name="event-aggregation-preview"></a>Статистическая обработка событий (предварительная версия)

Защитник для агентов безопасности IoT собирает данные и системные события с локального устройства и отправляет их в облако Azure для обработки и анализа. Защитник для Micro Agent для Интернета вещей собирает различные типы событий устройств, включая новые процессы и все новые события подключения. Как новый процесс, так и новые события подключения могут происходить часто на устройстве в течение секунды. Эта возможность важна для обеспечения полной безопасности, однако количество сообщений, отправляемых агентами безопасности, может быстро соответствовать или превышать квоту центра Интернета вещей и ограничения стоимости. Тем не менее, эти события содержат очень ценные сведения о безопасности, которые крайне важны для защиты устройства. 

Для уменьшения дополнительной квоты и затрат при обеспечении защиты устройств защитник для агентов IoT выполняет статистическую обработку этих типов событий: 

- Процесскреате (только для Linux) 

- Коннектионкреате (только для Azure RTO) 

## <a name="how-does-event-aggregation-work"></a>Как работает агрегирование событий? 

Защитник для агентов IoT выполняет статистическую обработку событий за период времени или временное окно. По истечении интервала времени агент отправляет Агрегированные события в облако Azure для дальнейшего анализа. Агрегированные события хранятся в памяти до их отправки в облако Azure. 

Когда агент собирает идентичное событие, которое уже хранится в памяти, агент увеличивает число попаданий этого конкретного события, чтобы уменьшить объем памяти, занимаемый агентом. При прохождении интервала времени агрегирования агент отправляет число попаданий каждого произошедшего типа события. Агрегирование событий — это просто агрегирование числа попаданий для каждого собранного типа события. 

## <a name="process-events"></a>Обработка событий 

События процесса в настоящее время поддерживаются только в операционных системах Linux. 

События процесса считаются идентичными, если *Командная строка* и  *UserID*   идентичны. 

Буфер по умолчанию для событий процесса составляет 32 процессов, после чего буфер будет циклическим, а самые старые события процесса будут удалены, чтобы освободить место для новых событий процесса.  

## <a name="network-connection-events"></a>События сетевого подключения 

В настоящее время события сетевого подключения поддерживаются только в Azure RTO. 

События сетевого подключения считаются идентичными, если *локальный порт*, *Удаленный порт*, *транспортный протокол*, *локальный адрес* и  *Удаленный адрес* идентичны. 

Буфер по умолчанию для событий сетевого подключения — 64. Никакие новые сетевые события не будут кэшироваться до следующего цикла сбора. Будет записано предупреждение, чтобы увеличить размер кэша.

## <a name="next-steps"></a>Следующие шаги

Проверьте наличие [оповещений системы безопасности IOT в защитнике](concept-security-alerts.md).
