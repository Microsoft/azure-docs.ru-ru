---
title: Уведомление о плановом обслуживании базы данных Azure для MariaDB
description: В этой статье описывается функция уведомлений о плановом обслуживании в базе данных Azure для MariaDB
author: savjani
ms.author: pariks
ms.service: mariadb
ms.topic: conceptual
ms.date: 10/21/2020
ms.openlocfilehash: 2f6667980d35db611cfba293839ebf06535ee6a3
ms.sourcegitcommit: b28e9f4d34abcb6f5ccbf112206926d5434bd0da
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2021
ms.locfileid: "107225858"
---
# <a name="planned-maintenance-notification-in-azure-database-for-mariadb"></a>Уведомление о плановом обслуживании в базах данных Azure для MariaDB

Узнайте, как подготовиться к событиям планового обслуживания в базе данных Azure для MariaDB.

## <a name="what-is-a-planned-maintenance"></a>Что такое плановое обслуживание?

Служба базы данных Azure для MariaDB выполняет автоматическую установку исправлений базового оборудования, ОС и ядра СУБД. Исправление включает новые функции служб, безопасность и обновление программного обеспечения. Для ядра MariaDB обновление до дополнительных номеров версии выполняется автоматически и включается в состав цикла исправлений. Для установки исправлений не требуются действия пользователя или настройка параметров конфигурации. Исправление тщательно проверяется и развертывается с применением безопасных методик.

Плановое обслуживание — это период обслуживания, когда данные обновления службы развертываются на серверах в заданном регионе Azure. Во время планового обслуживания создается событие уведомления для клиентов о развертывании обновления службы в регионе Azure, в котором размещены серверы. Как правило, минимальная продолжительность между двумя запланированными событиями обслуживания составляет 30 дней. Вы получаете уведомление о следующем периоде обслуживания за 72 часа до его начала.

## <a name="planned-maintenance---duration-and-customer-impact"></a>Плановое обслуживание: длительность и влияние на клиентов

Плановое обслуживание для определенного региона Azure обычно должно выполняться 15 часов. Это окно также содержит время буферизации для выполнения плана отката при необходимости. Во время планового обслуживания сервер базы данных может перезапускаться, а также могут происходить случаи отработки отказа сервера БД, что может привести к кратким периодам недоступности серверов баз данных для конечных пользователей. Серверы базы данных Azure для MariaDB работают в контейнерах, поэтому перезапуски сервера базы данных обычно выполняются быстро, как правило, в течение 60–120 секунд. Все события планового обслуживания, включая перезапуск каждого сервера, тщательно контролируются командой разработчиков. Время простоя при отработке отказов зависит от времени восстановления базы данных, что может привести к тому, что база данных будет находиться в оперативном режиме, если на сервере во время операции отработки отказа имеется высокая активность транзакций. Чтобы избежать длительного перезапуска, рекомендуется избегать выполнения длительных транзакций (массовых загрузок) во время событий планового обслуживания.

В целом, хотя событие планового обслуживания длится 15 часов, влияние каждого отдельного сервера обычно длится 60 секунд, в зависимости от интенсивности транзакций на сервере. Уведомление отправляется за 72 календарных часа до начала планового обслуживания, за ним следует второе уведомление, когда обслуживание выполняется для определенного региона.

## <a name="how-can-i-get-notified-of-planned-maintenance"></a>Как получать уведомления о плановом обслуживании?

Вы можете использовать функцию уведомлений о плановом обслуживании для получения оповещений о предстоящем запланированном событии обслуживания. Вы получите уведомление о предстоящем обслуживании за 72 календарных часа до самого события. Другое уведомление отправляется, когда обслуживание выполняется в заданном регионе.

### <a name="planned-maintenance-notification"></a>Уведомления о плановом обслуживании

> [!IMPORTANT]
> Уведомления о плановом обслуживании в настоящее время доступны в предварительной версии во всех регионах, **за исключением** западной центральной части США

**Уведомления о плановом обслуживании** позволяют получать оповещения о запланированном мероприятии на обслуживание в базе данных Azure для MariaDB. Эти уведомления интегрированы в плановое обслуживание [Работоспособность служб](../service-health/overview.md) и позволяют просматривать все запланированные профилактические работы для подписок в одном месте. Они также помогают масштабировать уведомление до нужных аудиторий для разных групп ресурсов, так как у вас могут быть разные контакты, ответственные за различные ресурсы. Вы получите уведомление о предстоящем часовом обслуживании за 72 календарных часа до события.

Мы сделаем все попытки предоставить **уведомление о плановом обслуживании** за 72 часа для всех событий. Однако в случае критических обновлений или исправлений безопасности уведомления могут быть отправлены ближе к событию или пропущены.

Вы можете проверить уведомление о запланированном обслуживании на портале Azure или настроить оповещения для получения уведомлений. 

### <a name="check-planned-maintenance-notification-from-azure-portal"></a>Проверка уведомлений о плановом обслуживании с портала Azure

1. На [портале Azure](https://portal.azure.com) выберите **Работоспособность службы**.
2. Перейдите на вкладку **Плановое техническое обслуживание**
3. Выберите **подписку**, **регион и **службу**, для которых необходимо проверять уведомление о запланированном обслуживании. 
   
### <a name="to-receive-planned-maintenance-notification"></a>Получение уведомления о плановом обслуживании

1. На [портале](https://portal.azure.com)выберите **Работоспособность службы**.
2. В разделе **Оповещения** выберите **Оповещения о работоспособности**.
3. Выберите **Создать оповещение о работоспособности службы** и заполните поля.
4. Заполните обязательные поля формы. 
5. Выберите **Тип события**, щелкните **Плановое техническое обслуживание** или **Выбрать все**
6. В **Группе действий** определите, как вы хотите получать оповещение (получить электронное письмо, активировать приложение и т. д.)  
7. Убедитесь, что для параметра "Включить правило при создании" задано значение "Да".
8. Выберите **Создать правило генерации оповещений**, чтобы завершить создание уведомления

Подробные инструкции по созданию **оповещений о работоспособности службы** см. в статье [Создание оповещений журнала действий для уведомлений службы](../service-health/alerts-activity-log-service-notifications-portal.md).

## <a name="can-i-cancel-or-postpone-planned-maintenance"></a>Можно ли отменить или отложить плановое обслуживание?

Обслуживание необходимо для обеспечения безопасности, стабильной и актуальной работы сервера. Событие запланированного обслуживания не может быть отменено или отложено. После отправки уведомления в указанный регион Azure изменения расписания исправлений для отдельного сервера в этом регионе выполняться не будут. Исправление размещается для всего региона за один раз. Служба "База данных Azure для MariaDB" предназначена для приложений, ориентированных на облако, которые не требуют детального контроля или настройки службы.

## <a name="are-all-the-azure-regions-patched-at-the-same-time"></a>Применяются ли исправления для всех регионов Azure одновременно?

Нет, все регионы Azure исправляются в течение времени пошагового периода развертывания. Пошаговое окно развертывания обычно растягивается с 5 вечера до 8 утра следующего дня по местному времени в заданном регионе Azure. Для геопарных регионов Azure исправления выполняются в разные дни. Для обеспечения высокой доступности и непрерывности бизнес-процессов серверов баз данных рекомендуется использовать [реплики чтения между регионами](./concepts-read-replicas.md#cross-region-replication).

## <a name="retry-logic"></a>Логика повторных попыток

Временная ошибка, также известная как временный сбой, является ошибкой, которая устраняется автоматически. Во время обслуживания могут возникать [временные ошибки](./concepts-connectivity.md#transient-errors). Большинство из этих событий автоматически устраняются системой менее чем за 60 секунд. Временные ошибки следует обрабатывать с использованием [логики повторных подключений](./concepts-connectivity.md#handling-transient-errors).


## <a name="next-steps"></a>Следующие шаги

- Если у вас возникли вопросы или предложения, связанные с использованием Базы данных Azure для MariaDB, вы можете отправить электронное сообщение команде разработчиков Базы данных Azure для MariaDB, щелкнув ссылку AskAzureDBforMariaDB@service.microsoft.com
- См. рекомендации по созданию оповещений для метрики в статье [Как настраивать оповещения](howto-alert-metric.md).
- [Устранение проблем с подключением к Базе данных Azure для MariaDB](howto-troubleshoot-common-connection-issues.md)
- [Обработка временных ошибок и эффективное подключение к базе данных Azure для MySQL](concepts-connectivity.md)