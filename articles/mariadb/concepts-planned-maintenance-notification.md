---
title: Уведомление о плановом обслуживании — база данных Azure для MariaDB
description: В этой статье описывается запланированная функция уведомлений об обслуживании в базе данных Azure для MariaDB.
author: ambhatna
ms.author: ambhatna
ms.service: mariadb
ms.topic: conceptual
ms.date: 10/21/2020
ms.openlocfilehash: c290236dfe7e88999847f8cb0d66b2d3c868c1ab
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98664271"
---
# <a name="planned-maintenance-notification-in-azure-database-for-mariadb"></a>Уведомление о плановом обслуживании в базе данных Azure для MariaDB

Узнайте, как подготовиться к запланированным событиям обслуживания в базе данных Azure для MariaDB.

## <a name="what-is-a-planned-maintenance"></a>Что такое плановое обслуживание?

Служба "база данных Azure для MariaDB" выполняет автоматическую установку исправлений базового оборудования, ОС и ядра СУБД. Исправление включает новые функции служб, безопасность и обновления программного обеспечения. Для ядра MariaDB обновление дополнительных версий выполняется автоматически и включается как часть цикла исправления. Для установки исправлений не требуются действия пользователя или настройка параметров конфигурации. Исправление проверяется с помощью безопасного развертывания.

Плановое обслуживание — это период обслуживания, при котором эти обновления служб развертываются на серверах в заданном регионе Azure. Во время планового обслуживания создается событие уведомления для клиентов о развертывании обновления службы в регионе Azure, в котором размещены серверы. Минимальная длительность между двумя планами обслуживания составляет 30 дней. Вы получаете уведомление о следующем периоде обслуживания за 72 часа до его начала.

## <a name="planned-maintenance---duration-and-customer-impact"></a>Плановое обслуживание — длительность и влияние на клиентов

Обычно ожидается, что запланированное обслуживание для определенного региона Azure будет выполняться 15 часов. Окно также содержит время буфера для выполнения плана отката при необходимости. Во время планового обслуживания могут перезапускаться или отработки отказа сервера базы данных, что может привести к недоступности серверов баз данных для конечных пользователей. Серверы базы данных Azure для MariaDB работают в контейнерах, поэтому перезапуски сервера базы данных обычно выполняются быстро, как правило, в течение 60-120 секунд. Все запланированные события обслуживания, включая перезапуск каждого сервера, тщательно контролируются командой инженеров. Время отработки отказа сервера зависит от времени восстановления базы данных, что может привести к тому, что база данных будет находиться в оперативном режиме, если на сервере во время отработки отказа возникает высокая активность транзакций. Во избежание более длительного перезапуска рекомендуется избегать выполнения длительных транзакций (с массовыми нагрузками) во время плановых событий обслуживания.

В целом, хотя запланированное событие обслуживания выполняется в течение 15 часов, влияние отдельного сервера обычно длится 60 секунд в зависимости от транзакционного действия на сервере. Уведомление отправляется 72 календарных часов перед запуском запланированного обслуживания, а другое — в процессе обслуживания для определенного региона.

## <a name="how-can-i-get-notified-of-planned-maintenance"></a>Как можно получить уведомления о плановом обслуживании?

Вы можете использовать функцию запланированных уведомлений обслуживания для получения оповещений о предстоящем запланированном событии обслуживания. Вы получите уведомление о предстоящем часовом обслуживании 72 в календаре до события и другого, когда обслуживание выполняется в заданном регионе.

### <a name="planned-maintenance-notification"></a>Уведомление о плановом обслуживании

> [!IMPORTANT]
> Уведомления о плановом обслуживании в настоящее время доступны в предварительной версии во всех регионах, **за исключением** западной центральной части США

**Уведомления о плановом обслуживании** позволяют получать оповещения о запланированном мероприятии на обслуживание в базе данных Azure для MariaDB. Эти уведомления интегрируются с плановым обслуживанием [работоспособности служб](../service-health/overview.md) и позволяют просматривать все запланированные профилактические работы для подписок в одном месте. Он также помогает масштабировать уведомление до нужных аудиторий для разных групп ресурсов, так как у вас могут быть разные контакты, ответственные за различные ресурсы. Вы получите уведомление о предстоящем часовом обслуживании 72 в календаре до события.

Мы сделаем все попытки предоставить **уведомление о плановом обслуживании** 72 часов для всех событий. Однако в случае критических обновлений или исправлений безопасности уведомления могут быть отправлены ближе к событию или пропущены.

Вы можете проверить уведомление о запланированном обслуживании на портал Azure или настроить оповещения для получения уведомлений. 

### <a name="check-planned-maintenance-notification-from-azure-portal"></a>Проверка запланированного уведомления об обслуживании с портал Azure

1. В [портал Azure](https://portal.azure.com)выберите **работоспособность службы**.
2. Выбор вкладки " **плановое обслуживание** "
3. Выберите **подписку**, * * регион и **службу** , для которых необходимо проверить уведомление о запланированном обслуживании. 
   
### <a name="to-receive-planned-maintenance-notification"></a>Получение уведомления о запланированном обслуживании

1. На [портале](https://portal.azure.com)выберите **Работоспособность службы**.
2. В разделе **Оповещения** выберите **Оповещения о работоспособности**.
3. Выберите **+ Добавить оповещение о работоспособности службы** и заполните поля.
4. Заполните обязательные поля. 
5. Выберите **Тип события**, выберите **плановое техническое обслуживание** или **выберите все** .
6. В **группе действий** определите, как вы хотите получать оповещение (получить электронное письмо, активировать приложение логики и т. д.).  
7. Убедитесь, что для параметра Включить правило при создании задано значение Да.
8. Выберите **создать правило генерации оповещений** , чтобы завершить оповещение.

Подробные инструкции по созданию **оповещений о работоспособности службы** см. в статье [Создание оповещений журнала действий для уведомлений службы](../service-health/alerts-activity-log-service-notifications-portal.md).

## <a name="can-i-cancel-or-postpone-planned-maintenance"></a>Можно ли отменить или отложить плановое обслуживание?

Обслуживание необходимо для обеспечения безопасности, стабильной и актуальной работы сервера. Событие запланированного обслуживания не может быть отменено или отложено. После отправки уведомления в указанный регион Azure изменения расписания исправлений не могут быть сделаны для отдельных серверов в этом регионе. Исправление размещается для всего региона за один раз. Служба "база данных Azure для MariaDB" предназначена для собственного облачного приложения, которое не требует детального контроля или настройки службы.

## <a name="are-all-the-azure-regions-patched-at-the-same-time"></a>Все ли регионы Azure исправлены одновременно?

Нет, все регионы Azure будут исправлены в течение времени периодического периода развертывания. Пошаговое окно развертывания обычно растягивается от 5 PM-8 по местному времени на следующий день в заданном регионе Azure. Для геопарных регионов Azure исправления исправлены в разные дни. Для обеспечения высокой доступности и непрерывности бизнес-процессов серверов баз данных рекомендуется использовать [реплики чтения между регионами](./concepts-read-replicas.md#cross-region-replication) .

## <a name="retry-logic"></a>Логика повторных попыток

Временная ошибка, также известная как временный сбой, является ошибкой, которая устраняется автоматически. Во время обслуживания могут возникать [временные ошибки](./concepts-connectivity.md#transient-errors) . Большинство из этих событий автоматически устраняются системой менее чем за 60 секунд. Временные ошибки следует обрабатывать с помощью [логики повторных попыток](./concepts-connectivity.md#handling-transient-errors).


## <a name="next-steps"></a>Дальнейшие действия

- Если у вас есть вопросы и предложения по работе с базой данных Azure для MariaDB, отправьте сообщение электронной почты для команды "база данных Azure для MariaDB" по адресу AskAzureDBforMariaDB@service.microsoft.com
- См. рекомендации по созданию оповещений для метрики в статье [Как настраивать оповещения](howto-alert-metric.md).
- [Устранение проблем с подключением к Базе данных Azure для MariaDB](howto-troubleshoot-common-connection-issues.md)
- [Обрабатывайте временные ошибки и эффективно Подключайтесь к базе данных Azure для MariaDB](concepts-connectivity.md)