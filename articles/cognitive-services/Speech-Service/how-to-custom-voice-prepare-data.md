---
title: Подготовка данных для пользовательской службы голосовой речи
titleSuffix: Azure Cognitive Services
description: Создание пользовательского голоса для торговой марки с помощью службы распознавания речи. Вы предоставляете записи студии и связанные с ними сценарии, служба создает уникальную голосовую модель, настроенную для записанного голоса. Используйте этот голос для синтезирования речи в продуктах, средствах и приложениях.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: 22db0006e6abb38439a2db46584559dcd9ce3f3a
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101722370"
---
# <a name="prepare-data-to-create-a-custom-voice"></a>Подготовка данных для создания пользовательского голоса

Когда вы будете готовы создать собственную голосовую речь для вашего приложения, первым делом необходимо собрать звуковые записи и связанные с ними сценарии, чтобы начать обучение модели голоса. Служба распознавания речи использует эти данные для создания уникального голоса, настроенного для сопоставления голоса в записях. После обучения голоса можно приступить к синтезированию речи в приложениях.

Прежде чем вы сможете обучить собственную голосовую модель преобразования текста в речь, вам понадобятся звуковые записи и соответствующие текстовые сообщения. На этой странице мы рассмотрим типы данных, их использование и управление ими.

> [!NOTE]
> Если вы хотите обучить нейронный голос, необходимо указать профиль с учетом голоса, содержащийся в файле согласия пользователя, которому предоставлено уведомление о распознавании речи, чтобы обучить пользовательскую голосовую модель. При подготовке сценария записи убедитесь, что вы включили следующее предложение. 

> «I [штат, имя и фамилия] Помните, что записи о моем голоса будут использоваться [региону название компании] для создания и использования искусственной версии моего голоса».
Это предложение будет использоваться для проверки того, выполняются ли обучающие данные тем же лицом, которое делает согласие. Дополнительные сведения об этой [проверке](/legal/cognitive-services/speech-service/custom-neural-voice/data-privacy-security-custom-neural-voice?context=%2fazure%2fcognitive-services%2fspeech-service%2fcontext%2fcontext) см. здесь.

> Настраиваемая нейронная речь доступна с ограниченным доступом. Убедитесь, что вы понимаете [требования к ответственному AI](/legal/cognitive-services/speech-service/custom-neural-voice/limited-access-custom-neural-voice?context=%2fazure%2fcognitive-services%2fspeech-service%2fcontext%2fcontext) и [применяете доступ к нему](https://aka.ms/customneural). 

## <a name="data-types"></a>Типы данных

Набор данных для обучения голоса включает звуковые записи и текстовый файл со связанными транскрипциями. Каждый звуковой файл должен содержать один utterance (одно предложение или один ход для системы) и быть менее 15 секунд.

В некоторых случаях у вас может не быть готового набора данных и нужно будет протестировать пользовательское речевое обучение с помощью доступных звуковых файлов, коротких или длинных, с транскрипциями или без них. Мы предоставляем средства (бета-версия), которые помогут вам сегментировать звук в фразы продолжительностью и подготовить записи с помощью [API-интерфейса для транскрипции пакетной](batch-transcription.md)службы.

В этой таблице перечислены типы данных и их использование для создания пользовательской голосовой модели преобразования текста в речь.

| Тип данных | Описание | Назначение | Требуется дополнительная обработка | 
| --------- | ----------- | ----------- | --------------------------- |
| **Индивидуальный фразы продолжительностью и соответствующий транскрипция** | Коллекция (ZIP) звуковых файлов (. wav) в виде отдельных фразы продолжительностью. Длина каждого звукового файла должна составлять 15 секунд или меньше в паре с форматированной записью (txt). | Профессиональные записи с совпадающими записями | Готовы к обучению. |
| **Длинный звук + транскрипция (бета-версия)** | Коллекция (ZIP) длинных несегментированных звуковых файлов (более 20 секунд), сопоставленная с записью (txt), которая содержит все произносимые слова. | У вас есть звуковые файлы и соответствующие записи, но они не разбиты на фразы продолжительностью. | Сегментация (с использованием записи пакетов).<br>Преобразование формата аудио, если это необходимо. | 
| **Только аудио (бета-версия)** | Коллекция (ZIP) звуковых файлов без транскрипции. | Доступны только звуковые файлы без транскрипции. | Сегментация и создание транскрипции (с помощью записи пакетов).<br>Преобразование формата аудио, если это необходимо.| 

Файлы должны быть сгруппированы по типу в набор данных и переданы в виде ZIP-файла. Каждый набор данных может содержать только один тип данных.

> [!NOTE]
> Максимальное количество наборов данных, которые могут быть импортированы на подписку, составляет 10 ZIP-файлов для бесплатных пользователей подписки (F0) и 500 для пользователей стандартной подписки (S0).

## <a name="individual-utterances--matching-transcript"></a>Индивидуальный фразы продолжительностью и соответствующий транскрипция

Вы можете подготовить записи отдельных фразы продолжительностью и соответствующих записей двумя способами. Напишите сценарий и прочтите его с помощью голоса или воспользуйтесь общедоступным аудио и транскрипция его в текст. В последнем случае отредактируйте в аудиофайлах слова-паразиты, такие как "эм", заикание, нечетко или неправильно произнесенные слова.

Для создания хорошей модели голоса создайте записи в тихом помещении с высококачественным микрофоном. Очень важен последовательное соответствие громкости, скорости речи, наклона речи и выразительных маннерисмс.

> [!TIP]
> Чтобы создать голос для использования в рабочей среде, рекомендуем использовать профессиональную студию звукозаписи и актера озвучивания. Дополнительные сведения см. в разделе [Как записывать образцы голоса для создания пользовательских голосовых моделей](record-custom-voice-samples.md).

### <a name="audio-files"></a>Аудиофайлы

Каждый звуковой файл должен содержать одну utterance (одно предложение или одну поочередную систему), продолжительность которой менее 15 секунд. Все файлы должны иметь одинаковый язык. Пользовательские голоса преобразования текста в речь не поддерживаются, за исключением Chinese-English языка BI-Language. Каждый звуковой файл должен иметь уникальное числовое имя файла с расширением WAV.

При подготовке звука следуйте этим рекомендациям.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Metallica (. wav), сгруппированный в ZIP-файл |
| Частота выборки | Не менее 16 000 Гц |
| Формат выборки | PCM, 16-разрядные |
| Имя файла | Numeric с расширением. wav. Дублирующиеся имена файлов не допускаются. |
| Длина звука | Короче 15 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

> [!NOTE]
> WAV-файлы с частотой выборки ниже 16 000 Гц будут отклонены. Если ZIP-файл содержит WAV-файлы с разной частотой выборки, будут импортированы только значения, равные или превышающие 16 000 Гц. Портал в настоящее время импортирует ZIP-архивы размером до 200 МБ. Однако можно отправить несколько архивов.

### <a name="transcripts"></a>Расшифровка

Файл транскрипции является обычным текстовым файлом. Используйте эти рекомендации для подготовки транскрипций.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Обычный текст (TXT) |
| Формат кодировки | ANSI/ASCII, UTF-8, UTF-8-BOM, UTF-16-LE или UTF-16-быть. Для кодировок zh-CN, ANSI/ASCII и UTF-8 не поддерживаются. |
| Количество фраз в строке | **Одна** строка файла транскрипции должна содержать имя одного из звуковых файлов, за которым следует соответствующая транскрипция. Для разделения имени файла и транскрипции необходимо использовать символ табуляции (\t). |
| Максимальный размер файла | 2048 МБ |

Ниже приведен пример упорядочения записей utterance by utterance в одном TXT-файле:

```
0000000001[tab] This is the waistline, and it's falling.
0000000002[tab] We have trouble scoring.
0000000003[tab] It was Janet Maslin.
```
Важно, чтобы записи со100% точных транскрипций соответствующего аудио. Ошибки в транскрипциях применяют потери качества во время обучения.

## <a name="long-audio--transcript-beta"></a>Длинный звук + транскрипция (бета-версия)

В некоторых случаях сегментированный звук не может быть доступен. Мы предоставляем службу (бета-версия) с помощью пользовательского голосового портала для сегментирования длинных звуковых файлов и создания транскрипций. Не забывайте, что эта услуга будет начисляться за использование вашей подписки с использованием речи в текст.

> [!NOTE]
> Служба долгосрочной сегментации будет использовать функцию записи пакетов речи в текст, которая поддерживает только стандартные пользователи подписки (S0). Во время обработки сегментации ваши звуковые файлы и записи также будут отправляться в службу Пользовательское распознавание речи для уточнения модели распознавания, чтобы можно было улучшить точность данных. Во время этого процесса данные не будут сохранены. По завершении сегментации будут сохранены только фразы продолжительностью сегментированные и их записи сопоставления для скачивания и обучения.

### <a name="audio-files"></a>Аудиофайлы

При подготовке звука для сегментации следуйте этим рекомендациям.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Metallica (. wav) с частотой выборки не менее 16 кГц-16-бит в PCM или MP3 с поразрядной скоростью не менее 256 кбит/с, сгруппированную в ZIP-файл |
| Имя файла | Поддерживаются символы ASCII и Юникод. Дублирующиеся имена не допускаются. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все звуковые файлы должны быть сгруппированы в ZIP-файл. Файлы. wav и. MP3 можно помещают в один звуковой ZIP-файл. Например, можно передать ZIP-файл, содержащий звуковой файл с именем "кингстори. wav", 45-Second-Long, и другой звук с именем "queenstory.mp3", 200 — секунды. Все MP3-файлы будут преобразованы в формат. wav после обработки.

### <a name="transcripts"></a>Расшифровка

Записи должны быть подготовлены к спецификациям, перечисленным в этой таблице. Каждый звуковой файл должен соответствовать транскрипции.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Обычный текст (txt), сгруппированный в ZIP-файл |
| Имя файла | Использовать то же имя, что и для соответствующего звукового файла |
| Формат кодировки | Только UTF-8-BOM |
| Количество фраз в строке | Без ограничений |
| Максимальный размер файла | 2048 МБ |

Все файлы с транскрипциями в этом типе данных должны быть сгруппированы в ZIP-файл. Например, вы отправили ZIP-файл, содержащий звуковой файл с именем "кингстори. wav", 45 секунд и еще один с именем "queenstory.mp3", 200 секунд. Необходимо отправить еще один ZIP-файл, содержащий два записи с именем "kingstory.txt", другой — "queenstory.txt". В каждом простом текстовом файле будет предоставлена полная правильная транскрипция для соответствующего звука.

После успешной отправки набора данных мы поможем сегментировать звуковой файл в фразы продолжительностью на основе предоставленной записи. Вы можете проверить сегментированные фразы продолжительностью и записи с совпадающими записями, загрузив набор данных. Уникальные идентификаторы будут автоматически назначены сегментированному фразы продолжительностью. Важно убедиться, что вводимые вами записи имеют точность 100%. Ошибки в транскрипции могут снизить точность во время сегментации звука и далее ввести качество на этапе обучения, который поступает позже.

## <a name="audio-only-beta"></a>Только аудио (бета-версия)

Если у вас нет транскрипции для звуковых записей, используйте параметр **только Audio** для передачи данных. Наша система может помочь вам сегментировать и транскрипция звуковые файлы. Помните, что эта служба будет подсчитывать использование подписок речи в текст.

При подготовке звука следуйте этим рекомендациям.

> [!NOTE]
> Служба долгосрочной сегментации будет использовать функцию записи пакетов речи в текст, которая поддерживает только стандартные пользователи подписки (S0).

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Metallica (. wav) с частотой выборки не менее 16 кГц-16-бит в PCM или MP3 с поразрядной скоростью не менее 256 кбит/с, сгруппированную в ZIP-файл |
| Имя файла | Поддерживаются символы ASCII и Юникод. Дублирующиеся имена не допускаются. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все звуковые файлы должны быть сгруппированы в ZIP-файл. После успешной отправки набора данных мы поможем вам сегментировать звуковой файл в фразы продолжительностью, основываясь на службе транскрипции речевого пакета. Уникальные идентификаторы будут автоматически назначены сегментированному фразы продолжительностью. Соответствующие записи будут создаваться с помощью распознавания речи. Все MP3-файлы будут преобразованы в формат. wav после обработки. Вы можете проверить сегментированные фразы продолжительностью и записи с совпадающими записями, загрузив набор данных.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание пользовательского голоса](how-to-custom-voice-create-voice.md)
- [Руководство. запись образцов голоса](record-custom-voice-samples.md)