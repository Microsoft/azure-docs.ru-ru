---
title: CI/CD для Пользовательское распознавание речи — служба речи
titleSuffix: Azure Cognitive Services
description: Примените DevOps с рабочими процессами Пользовательское распознавание речи и CI/CD. Реализуйте существующее решение DevOps для собственного проекта.
services: cognitive-services
author: KatieProchilo
manager: cmayomsft
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 06/09/2020
ms.author: kaprochi
ms.openlocfilehash: d37fca06a3d2eafa0af9e31c3a30ac66be5404f0
ms.sourcegitcommit: 42a4d0e8fa84609bec0f6c241abe1c20036b9575
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "98020610"
---
# <a name="cicd-for-custom-speech"></a>CI/CD для набора средств "Пользовательское распознавание речи"

Реализуйте автоматизированное обучение, тестирование и управление выпусками, чтобы обеспечить непрерывное улучшение моделей Пользовательское распознавание речи при применении обновлений для обучающих и проверочных данных. С помощью эффективной реализации рабочих процессов CI/CD можно обеспечить постоянную доступность конечной точки для наиболее производительной Пользовательское распознавание речиной модели.

[Непрерывная интеграция](/azure/devops/learn/what-is-continuous-integration) (CI) — это инженерная методика, которая часто фиксирует обновления в общем репозитории и выполняет автоматизированную сборку. Рабочие процессы CI для Пользовательское распознавание речи обучения новой модели из ее источников данных и выполнения автоматического тестирования в новой модели, чтобы обеспечить лучшую производительность по сравнению с предыдущей моделью.

[Непрерывная поставка](/azure/devops/learn/what-is-continuous-delivery) (CD) принимает модели из процесса непрерывной интеграции и создает конечную точку для каждой улучшенной модели пользовательское распознавание речи. CD делает конечные точки легко доступными для интеграции в решения.

Можно использовать пользовательские решения CI/CD, но для надежного предварительно созданного решения используйте [репозиторий шаблонов Speech DevOps](https://github.com/Azure-Samples/Speech-Service-DevOps-Template), который ВЫПОЛНЯЕТ процессы CI/CD с помощью действий GitHub.

## <a name="cicd-workflows-for-custom-speech"></a>Рабочие процессы CI/CD для Пользовательское распознавание речи

Назначение этих рабочих процессов заключается в том, чтобы гарантировать, что каждая модель Пользовательское распознавание речи имеет лучшую точность распознавания по сравнению с предыдущей сборкой. Если обновления для данных тестирования и (или) обучения повышают точность, эти рабочие процессы создают новую конечную точку Пользовательское распознавание речи.

Такие серверы Git, как GitHub и Azure DevOps, могут выполнять автоматические рабочие процессы при возникновении конкретных событий Git, например слияний или запросы на включение внесенных изменений. Например, Рабочий процесс CI может быть запущен при отправке обновлений в *основную* ветвь. Разные серверы Git будут иметь различные средства, но они смогут выполнять сценарии команд интерфейса командной строки (CLI), чтобы они могли выполняться на сервере сборки.

Таким образом, рабочие процессы должны наименовать и хранить данные, тесты, тестовые файлы, модели и конечные точки, чтобы их можно было отследить до фиксации или версии, из которой они поступили. Также полезно наименовать эти ресурсы, чтобы их можно было легко увидеть, которые были созданы после обновления данных тестирования и обучающих данных.

### <a name="ci-workflow-for-testing-data-updates"></a>Рабочий процесс CI для тестирования обновлений данных

Целью рабочих процессов CI/CD является создание новой модели с помощью обучающих данных, а также проверка модели с помощью проверочных данных для определения того, была ли улучшена [Частота ошибок слова](how-to-custom-speech-evaluate-data.md#evaluate-custom-speech-accuracy) (WER) по сравнению с предыдущей моделью наилучшего выполнения ("модель тестирования"). Если новая модель работает лучше, она станет новой моделью тестирования, в которой сравниваются будущие модели.

Рабочий процесс CI для тестирования обновлений данных должен повторно проверить текущую модель тестирования с помощью обновленных тестовых данных, чтобы вычислить пересмотренный объект WER. Это гарантирует, что когда объект WER новой модели будет сравниваться с WER теста производительности, обе модели были протестированы на основе одних и тех же тестовых данных и сравниваются аналогично.

Этот рабочий процесс должен активироваться на обновлениях данных для тестирования и:

- Протестируйте модель тестирования в соответствии с обновленными данными тестирования.
- Сохраните выходные данные теста, содержащие WER модели тестирования, используя обновленные данные.
- WER на основе этих тестов станет новым тестовым предзначением, которое следует пристигать в будущих моделях.
- Рабочий процесс CD не выполняется для обновлений для тестирования данных.

### <a name="ci-workflow-for-training-data-updates"></a>Рабочий процесс CI для обновлений обучающих данных

Обновления для обучающих данных обозначают обновления пользовательской модели.

Этот рабочий процесс должен активировать обновления обучающих данных и:

- Обучение новой модели с обновленными данными для обучения.
- Протестируйте новую модель по проверочным данным.
- Сохраните тестовый вывод, содержащий WER.
- Сравните средство WER от новой модели с моделью тестирования.
- Если средство WER не улучшает работу, завершите рабочий процесс.
- Если вы улучшите WER, выполните рабочий процесс CD, чтобы создать Пользовательское распознавание речиную конечную точку.

### <a name="cd-workflow"></a>Рабочий процесс CD

После обновления обучающих данных повышается ее распознавание, Рабочий процесс CD должен автоматически выполняться, чтобы создать конечную точку для этой модели, и сделать эту конечную точку доступной, чтобы ее можно было использовать в решении.

#### <a name="release-management"></a>Управление выпуском

Большинству команд требуется процесс проверки и утверждения вручную для развертывания в рабочей среде. В рабочем развертывании может потребоваться убедиться, что это происходит, когда основные пользователи команды разработчиков доступны для поддержки или в периоды низкой нагрузки.

### <a name="tools-for-custom-speech-workflows"></a>Средства для рабочих процессов Пользовательское распознавание речи

Используйте следующие средства для рабочих процессов автоматизации CI/CD для Пользовательское распознавание речи:

- [Azure CLI](/cli/azure/?view=azure-cli-latest) , чтобы создать проверку подлинности субъекта-службы Azure, запросить подписки Azure и сохранить результаты тестов в большом двоичном объекте Azure.
- [Azure Speech CLI](spx-overview.md) для взаимодействия со службой речи из командной строки или автоматизированного рабочего процесса.

## <a name="devops-solution-for-custom-speech-using-github-actions"></a>Решение DevOps для Пользовательское распознавание речи с помощью действий GitHub

Для уже реализованного решения DevOps для Пользовательское распознавание речи перейдите в [репозиторий шаблонов DevOps речи](https://github.com/Azure-Samples/Speech-Service-DevOps-Template). Создайте копию шаблона и начните разработку пользовательских моделей с надежной системой DevOps, которая включает тестирование, обучение и управление версиями с помощью действий GitHub. Репозиторий содержит образцы данных тестирования и обучения, которые помогут в установке и объяснить рабочий процесс. После начальной настройки замените образец данных данными проекта.

[Репозиторий шаблонов DevOps речи](https://github.com/Azure-Samples/Speech-Service-DevOps-Template) предоставляет инфраструктуру и подробные рекомендации по следующим вопросам.

- Скопируйте репозиторий шаблонов в учетную запись GitHub, а затем создайте ресурсы Azure и [субъект-службу](../../active-directory/develop/app-objects-and-service-principals.md#service-principal-object) для рабочих процессов CI/CD действий GitHub.
- Пошаговое руководство по «[внутреннему циклу разработки](/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow)». Обновление обучающих и проверочных данных из ветви компонентов, проверка изменений с помощью временной модели разработки и создание запроса на вытягивание для предложения и просмотра изменений.
- При обновлении обучающих данных в запросе на включение внесенных изменений в *Main* обучить модели с помощью рабочего процесса элемента конфигурации "действия GitHub".
- Выполните автоматическую проверку точности, чтобы установить [частоту погрешности слов](how-to-custom-speech-evaluate-data.md#evaluate-custom-speech-accuracy) в модели (WER). Сохраните результаты теста в большом двоичном объекте Azure.
- Выполните рабочий процесс CD, чтобы создать конечную точку после улучшения WER.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о DevOps с помощью речи:

- Используйте [репозиторий шаблонов DevOps речи](https://github.com/Azure-Samples/Speech-Service-DevOps-Template) , чтобы реализовать DevOps для пользовательское распознавание речи с действиями GitHub.