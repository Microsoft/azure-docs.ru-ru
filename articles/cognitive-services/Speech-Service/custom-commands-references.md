---
title: Основные понятия и определения пользовательских команд — служба речи
titleSuffix: Azure Cognitive Services
description: В этой статье вы узнаете об основных понятиях и определениях для приложений с пользовательскими командами.
services: cognitive-services
author: singhsaumya
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 06/18/2020
ms.author: sausin
ms.openlocfilehash: 98510132b2341736664dfafa52e9567df95652be
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94561103"
---
# <a name="custom-commands-concepts-and-definitions"></a>Основные понятия и определения пользовательских команд

Эта статья служит ссылкой на основные понятия и определения для приложений с пользовательскими командами.

## <a name="commands-configuration"></a>Настройка команд
Команды — это основные стандартные блоки приложения пользовательских команд. Команда — это набор конфигураций, необходимых для выполнения определенной задачи, определенной пользователем.

### <a name="example-sentences"></a>Примеры предложений
Например, фразы продолжительностью — это примеры набора, которые пользователь может сказать для активации определенной команды. Необходимо указать только пример фразы продолжительностью, а не исчерпывающий список. 

### <a name="parameters"></a>Параметры
Параметры — это сведения, необходимые командам для выполнения задачи. В сложных сценариях параметры также можно использовать для определения условий, инициирующих настраиваемые действия.

### <a name="completion-rules"></a>Правила завершения
Правила завершения — это ряд правил, которые должны выполняться после того, как команда будет готова к выполнению, например при удовлетворении всех условий правил.

### <a name="interaction-rules"></a>Правила взаимодействия
Правила взаимодействия — это дополнительные правила для более конкретных или сложных ситуаций. Можно добавить дополнительные проверки или настроить дополнительные функции, такие как подтверждения или исправление с одним шагом. Вы также можете создать собственные правила взаимодействия.

## <a name="parameters-configuration"></a>Конфигурация параметров

Параметры — это сведения, необходимые командам для выполнения задачи. В сложных сценариях параметры также можно использовать для определения условий, инициирующих настраиваемые действия.

### <a name="name"></a>Имя
Параметр определяется свойством Name. Необходимо всегда давать описательное имя для параметра. На параметр можно ссылаться в разных разделах, например при создании условий, речевых ответах или других действиях.
 
### <a name="isglobal"></a>IsGlobal
Этот флажок указывает, является ли область этого параметра общей для всех команд в приложении. Если параметр является глобальным, его значение потенциально может быть предоставлено из любой области команды. После назначения значения на него можно ссылаться из любой команды. 

### <a name="required"></a>Обязательно
Этот флажок указывает, является ли значение этого параметра обязательным для выполнения команды или завершения. Необходимо настроить ответы, чтобы предложить пользователю указать значение, если параметр помечен как обязательный.

Обратите внимание, что, если для **обязательного параметра** задано **значение по умолчанию**, система по-прежнему будет явно запрашивать значение параметра.

### <a name="type"></a>Type
Пользовательские команды поддерживают следующие типы параметров:

* Дата/время
* Географический регион
* Число
* Строка

Все эти типы параметров, за исключением geography, поддерживают конфигурацию значения по умолчанию, которую можно настроить на портале.

### <a name="configuration"></a>Конфигурация
Конфигурация — это свойство параметра, определенное только для строки типа. Поддерживаются следующие значения.

* **Нет**.
* **Принимать полные входные данные**. Если параметр включен, он принимает любые входные utterance. Этот параметр полезен, если пользователю требуется параметр с полным utterance. Например, это почтовые адреса.
* **Принимать предопределенные входные значения из внешнего каталога**. это значение используется для настройки параметра, который может рассчитывать на широкий спектр значений. Примером является каталог Sales. В этом случае каталог размещается во внешней веб-конечной точке и может быть настроен независимо.
* **Принимать предопределенные входные значения из внутреннего каталога**. это значение используется для настройки параметра, который может принимать несколько значений. В этом случае значения должны быть настроены в речевом студии.


### <a name="validation"></a>Проверка
Проверки — это конструкции, применимые к определенным типам параметров, которые позволяют настраивать ограничения для значения параметра. В настоящее время пользовательские команды поддерживают проверки для следующих типов параметров:

* Дата/время
* Число

## <a name="rules-configuration"></a>Конфигурация правил
Правило в пользовательских командах определяется набором *условий* , при выполнении которых выполняется набор *действий*. Правила также позволяют настроить *состояние после выполнения* и *ожидания* для следующей очереди.

### <a name="types"></a>Типы
Пользовательские команды поддерживают следующие категории правил:

* **Правила завершения**. Эти правила должны выполняться после выполнения команды. Все правила, настроенные в этом разделе, для которых выполняются условия, будут выполнены. 
* **Правила взаимодействия**. Эти правила можно использовать для настройки дополнительных пользовательских проверок, подтверждений и одношагового исправления, а также для выполнения любой другой пользовательской логики диалогового окна. Правила взаимодействия оцениваются при каждом включении обработки и могут использоваться для активации правил завершения.

Различные действия, настроенные как часть правила, выполняются в том порядке, в котором они отображаются на портале разработки.

### <a name="conditions"></a>Условия
Условия — это требования, которые должны быть выполнены для выполнения правила. Условия правил могут иметь следующие типы:

* **Значение параметра равно**: значение настроенного параметра равно указанному значению.
* **Нет значения параметра**: настроенные параметры не должны иметь никаких значений.
* **Обязательные параметры**: настроенный параметр имеет значение.
* **Все обязательные параметры**: все параметры, отмеченные как обязательные, имеют значение.
* **Обновленные параметры**: одно или несколько значений параметров были обновлены в результате обработки текущих входных данных (utterance или Activity).
* **Подтверждение выполнено успешно**: было успешно подтверждено входное utterance или действие (да).
* **Подтверждение отклонено**: входные utterance или действие не были успешными (нет).
* **Предыдущая команда должна быть обновлена**: это условие используется в экземплярах, если необходимо перехватить подтверждение с отрицанием и обновление. В фоновом режиме это условие настраивается, когда обработчик диалогов обнаруживает отрицательное подтверждение, где цель совпадает с предыдущей, и пользователь ответил на обновление.

### <a name="actions"></a>Действия
* **Отправка речевого ответа**: отправка речевого ответа обратно клиенту.
* **Обновить значение параметра**: измените значение параметра команды на указанное значение.
* **Очистить значение параметра**: очистить значение параметра команды.
* **Вызвать конечную веб-точку**: вызов конечной веб-точки.
* **Отправить действие клиенту**: отправка настраиваемого действия клиенту.

### <a name="expectations"></a>Превосходящи
Ожидания используются для настройки подсказок для обработки следующего введенного пользователем ввода. Поддерживаются такие типы:

* **Ожидается подтверждение от пользователя**: это означает, что приложение ожидает подтверждения (да/нет) для следующего ввода данных пользователем.
* **Ожидается вход параметров от пользователя**: это означает, что в этом параметре указывается один или несколько параметров команды, ожидаемых приложением при вводе данных пользователем.

### <a name="post-execution-state"></a>Состояние после выполнения
Состояние после выполнения — это состояние диалогового окна после обработки текущего входа (utterance или Activity). Он имеет следующие типы:

* **Сохранение текущего состояния**: сохранение только текущего состояния.
* **Выполните команду**: завершите команду, и никакие дополнительные правила команды не будут обработаны.
* **Правила завершения выполнения**: выполнение всех допустимых правил завершения.
* **Ожидание входных данных пользователя**: ожидание ввода следующего пользователя.



## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [См. примеры на GitHub](https://aka.ms/speech/cc-samples)
