---
title: Модерация текста с помощью настраиваемых списков терминов — Content Moderator
titleSuffix: Azure Cognitive Services
description: Используйте API управления списками, чтобы создавать настраиваемые списки терминов, используемые в API модерации текста.
services: cognitive-services
author: PatrickFarley
manager: nitinme
ms.service: cognitive-services
ms.subservice: content-moderator
ms.topic: conceptual
ms.date: 01/10/2019
ms.author: pafarley
ms.openlocfilehash: f1dfe88741a304da92901d3997c746654336ef54
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "85800046"
---
# <a name="moderate-with-custom-term-lists-in-the-api-console"></a>Модерация с помощью настраиваемых списков терминов в консоли API

Стандартный глобальный список терминов в Azure Content Moderator достаточен для большинства задач модерации контента. Тем не менее может потребоваться проверка специальных терминов, относящихся к вашей организации. Например, может потребоваться добавить теги с названиями конкурентов для более тщательной проверки. 

Используйте [API управления списками](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f), чтобы создать настраиваемые списки терминов, используемые в API модерации текста. Операция **текстового экрана** просматривает текст на предмет ненормативной лексики, а также сравнивает текст с пользовательскими и общими адресов.

> [!NOTE]
> Существует максимальное ограничение в **5 списков терминов**, каждый из которых может содержать **не более 10 000 терминов**.
>

API управления списками можно использовать для выполнения следующих задач:
- Создание списка
- добавление терминов в список;
- проверка терминов по списку;
- удаление терминов из списка;
- удаление списка;
- изменение сведений о списке;
- обновление индекса для того, чтобы изменения в списке были учтены при новой проверке.

## <a name="use-the-api-console"></a>Использование консоли API

Прежде чем можно будет опробовать API в веб-консоли, необходимо получить ключ подписки. Этот ключ указан на вкладке **Settings** (Параметры) в поле **Ocp-Apim-Subscription-Key**. Дополнительные сведения см. в этом [обзоре](overview.md).

## <a name="refresh-search-index"></a>Обновление индекса поиска

После внесения изменений в список терминов необходимо обновить его индекс, чтобы эти изменения учитывались в будущих проверках. Точно так же поисковая система на компьютере (если она включена) или поисковая система в Интернете постоянно обновляет свой индекс, чтобы добавлять новые файлы или страницы.

1. В [справочнике по API управления списками терминов](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f) в левом меню выберите **Term Lists** (Списки терминов) > **Refresh Search Index** (Обновить индекс поиска). 

   Откроется страница **Term Lists - Refresh Search Index** (Списки терминов — обновление индекса поиска).

2. Для параметра **Open API testing console** (Открытая тестовая консоль API) выберите регион, лучше всего подходящий для вашего расположения. 

   ![Выбор региона на странице "Term Lists - Refresh Search Index" (Списки терминов — обновление индекса поиска)](images/test-drive-region.png)

   Откроется консоль API **Term Lists - Refresh Search Index** (Списки терминов — обновление индекса поиска).

3. В поле **listId** введите идентификатор списка. Введите ключ подписки, а затем щелкните **Send** (Отправить).

   ![Поле "Response content" (Содержимое ответа) в консоли "Term Lists - Refresh Search Index" (Списки терминов — обновление индекса поиска)](images/try-terms-list-refresh-1.png)

## <a name="create-a-term-list"></a>Создание списка терминов
1. Перейдите к [справочнику по API управления списками терминов](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f). 

   Откроется страница **Term Lists - Create** (Списки терминов — создание).

2. Для параметра **Open API testing console** (Открытая тестовая консоль API) выберите регион, лучше всего подходящий для вашего расположения. 

   ![Выбор региона на странице "Term Lists - Create" (Списки терминов — создание)](images/test-drive-region.png)

   Откроется консоль API **Term Lists - Create** (Списки терминов — создание).
 
3. В поле **Ocp-Apim-Subscription-Key** введите свой ключ подписки.

4. В поле **Request body** (Текст запроса) введите значения параметров **Name** (Имя) (например, MyList) и **Description** (Описание).

   ![Ввод имени и описания в поле "Request body" (Текст запроса) в консоли "Term Lists - Create" (Списки терминов — создание)](images/try-terms-list-create-1.png)

5. Используйте заполнители пар "ключ-значение", чтобы назначить более понятные метаданные для списка.

    ```json
    {
        "Name": "MyExclusionList",
        "Description": "MyListDescription",
        "Metadata": 
        {
            "Category": "Competitors",
            "Type": "Exclude"
        }
    }
    ```

   Добавьте метаданные списка в виде пар "ключ-значение", а не фактических терминов.
 
6. Нажмите кнопку **Отправить**. Будет создан список. Запишите значение **ID** (Идентификатор) этого нового списка. Этот идентификатор необходим для других функций управления списками терминов.

   ![Идентификатор списка в поле "Response content" (Содержимое ответа) в консоли "Term Lists - Create" (Списки терминов — создание)](images/try-terms-list-create-2.png)
 
7. Добавьте термины в список MyList. В левом меню в разделе **Term** (Термин) выберите **Add Term** (Добавить термин). 

   Откроется страница **Term - Add Term** (Термин — добавление термина). 

8. Для параметра **Open API testing console** (Открытая тестовая консоль API) выберите регион, лучше всего подходящий для вашего расположения. 

   ![Выбор региона на странице "Term - Add Term" (Термин — добавление термина)](images/test-drive-region.png)

   Откроется консоль API **Term - Add Term** (Термин — добавление термина).
 
9. В поле **listId** введите полученный идентификатор списка и выберите значение параметра **language**. Введите ключ подписки, а затем щелкните **Send** (Отправить).

   ![Параметры запроса в консоли "Term - Add Term" (Термин — добавление термина)](images/try-terms-list-create-3.png)
 
10. Чтобы убедиться, что термин добавлен в список, в левом меню выберите **Term** (Термин), а затем выберите **Get All Terms** (Получить все термины). 

    Откроется консоль API **Term - Get All Terms** (Термин — получение всех терминов).

11. В поле **listId** введите идентификатор списка, а затем введите свой ключ подписки. Нажмите кнопку **Отправить**.

12. В поле **Response content** (Содержимое ответа) проверьте введенные термины.

    ![Введенные термины в поле "Response content" (Содержимое ответа) в консоли "Term - Get All Terms" (Термин — получение всех терминов)](images/try-terms-list-create-4.png)
 
13. Добавьте еще несколько терминов. Теперь, когда вы создали настраиваемый список терминов, попробуйте [проверить какой-нибудь текст](try-text-api.md), используя этот список. 

## <a name="delete-terms-and-lists"></a>Удаление терминов и списков

Удалить термин или список достаточно просто. С помощью API можно выполнить следующие задачи:

- удаление термина (страница **Term - Delete** (Термин — удаление));
- удаление всех терминов в списке без удаления самого списка (страница **Term - Delete All Terms** (Термин — удаление всех терминов));
- удаление списка и всего его содержимого (страница **Term Lists - Delete** (Списки терминов — удаление)).

В этом примере удаляется один термин.

1. В [справочнике по API управления списками терминов](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f) в левом меню выберите **Term** (Термин) > **Delete** (Удалить). 

   Откроется страница **Term - Delete** (Термин — удаление).

2. Для параметра **Open API testing console** (Открытая тестовая консоль API) выберите регион, лучше всего подходящий для вашего расположения. 

   ![Выбор региона на странице "Term - Delete" (Термин — удаление)](images/test-drive-region.png)

   Откроется консоль API **Term - Delete** (Термин — удаление).
  
3. В поле **listId** введите идентификатор списка, из которого вы хотите удалить термин. Этим идентификатором является номер (в нашем примере — **122**), возвращаемый консолью **Term Lists - Get Details** (Списки терминов — получение сведений) для MyList. Введите термин и выберите нужный язык.
 
   ![Параметры запроса в консоли "Term - Delete" (Термин — удаление)](images/try-terms-list-delete-1.png)

4. Введите ключ подписки, а затем щелкните **Send** (Отправить).

5. Чтобы убедиться, что термин удален, используйте консоль **Term Lists - Get All** (Списки терминов — получение всех).

   ![Как видно в поле "Response content" (Содержимое ответа) в консоли "Term Lists - Get All" (Списки терминов — получение всех), термин удален](images/try-terms-list-delete-2.png)
 
## <a name="change-list-information"></a>Изменение сведений о списке

Можно изменить имя и описание списка, а также добавить элементы метаданных.

1. В [справочнике по API управления списками терминов](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f) в левом меню выберите **Term Lists** (Списки терминов) > **Update Details** (Обновить сведения). 

   Откроется страница **Term Lists - Update Details** (Списки терминов — обновление сведений).

2. Для параметра **Open API testing console** (Открытая тестовая консоль API) выберите регион, лучше всего подходящий для вашего расположения. 

   ![Выбор региона на странице "Term Lists - Update" (Списки терминов — обновление)](images/test-drive-region.png)

   Откроется консоль API **Term Lists - Update Details** (Списки терминов — обновление сведений).

3. В поле **listId** введите идентификатор списка, а затем введите свой ключ подписки.

4. В поле **Request body** (Текст запроса) внесите необходимые изменения, затем щелкните **Send** (Отправить).

   ![Внесение изменений в поле "Request body" (Текст запроса) в консоли "Term Lists - Update Details" (Списки терминов — обновление сведений)](images/try-terms-list-change-1.png)
 

## <a name="next-steps"></a>Дальнейшие действия

Используйте в коде REST API или начните с [краткого руководства по работе со списками терминов с помощью .NET](term-lists-quickstart-dotnet.md), чтобы интегрировать эту функцию в приложение.
