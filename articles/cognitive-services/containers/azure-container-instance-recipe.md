---
title: Рецепт экземпляра контейнера Azure
titleSuffix: Azure Cognitive Services
description: Узнайте, как развертывать контейнеры Cognitive Services в экземпляре контейнера Azure.
services: cognitive-services
author: aahill
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.topic: conceptual
ms.date: 12/18/2020
ms.author: aahi
ms.openlocfilehash: 003b4411ac791898f4a7467b9b03f29aadba2fc7
ms.sourcegitcommit: e7152996ee917505c7aba707d214b2b520348302
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2020
ms.locfileid: "97704849"
---
# <a name="deploy-and-run-container-on-azure-container-instance"></a>Развертывание образа контейнера в экземпляре контейнера

Выполните следующие действия, чтобы легко масштабировать приложения Azure Cognitive Services в облаке с помощью службы " [экземпляры контейнеров](../../container-instances/index.yml)Azure". С помощью контейнеров можно сосредоточиться на создании приложений, а не на управлении инфраструктурой. Дополнительные сведения об использовании контейнеров см. в разделе [функции и преимущества](../cognitive-services-container-support.md#features-and-benefits).

## <a name="prerequisites"></a>Предварительные требования

Рецепт работает с любым контейнером Cognitive Services. Перед использованием рецепта необходимо создать ресурс службы для переприятия. Каждая работающая служба, которая поддерживает контейнеры, содержит статью «как установить» для установки и настройки службы для контейнера. Некоторым службам требуется файл или набор файлов в качестве входных данных для контейнера. Важно понимать и успешно использовать контейнер перед использованием этого решения.

* Ресурс Azure для службы "Поиск в Azure", которую вы используете.
* URL- **адрес конечной точки** службы для поиска и просмотра URL-адреса конечной точки в портал Azure и правильный пример URL-адреса см. в этой службе. Точный формат может изменяться от службы к службе.
* **Ключ** для автообслуживания. ключи находятся на странице **ключей** для ресурса Azure. Вам потребуется только один из двух ключей. Ключ представляет собой строку, состоящий из 32 буквенно-цифровых символов.

* Один контейнер Cognitive Services на локальном узле (ваш компьютер). Убедитесь, что вы можете:
  * Вытяните изображение с помощью `docker pull` команды.
  * Запустите локальный контейнер, чтобы успешно выполнить все необходимые параметры конфигурации с помощью `docker run` команды.
  * Вызов конечной точки контейнера, получение ответа HTTP 2xx и обратного ответа JSON.

Все переменные в угловых скобках, `<>` должны быть заменены собственными значениями. Эта замена включает угловые скобки.

> [!IMPORTANT]
> Для контейнера LUIS требуется `.gz` файл модели, который извлекается во время выполнения. Контейнер должен иметь возможность доступа к этому файлу модели через подключение тома из экземпляра контейнера. Чтобы отправить файл модели, выполните следующие действия.
> 1. [Создайте файловый ресурс Azure](../../storage/files/storage-how-to-create-file-share.md). Запишите имя учетной записи хранения Azure, ключ и имя общей папки, так как они понадобятся вам позже.
> 2. [экспортируйте модель Luis (упакованное приложение) с портала Luis](../LUIS/luis-container-howto.md#export-packaged-app-from-luis). 
> 3. В портал Azure перейдите на страницу **Обзор** ресурса учетной записи хранения и выберите **файловые ресурсы**. 
> 4. Выберите имя общей папки, которое вы недавно создали, а затем щелкните **Отправить**. Затем отправьте упакованное приложение. 

# <a name="azure-portal"></a>[Портал Azure](#tab/portal)

[!INCLUDE [Portal instructions for creating an ACI instance](includes/create-container-instances-resource.md)]

# <a name="cli"></a>[CLI](#tab/cli)

[!INCLUDE [CLI instructions for creating an ACI instance](../containers/includes/create-container-instances-resource-from-azure-cli.md)]

---


## <a name="use-the-container-instance"></a>Использование экземпляра контейнера

# <a name="azure-portal"></a>[Портал Azure](#tab/portal)

1. Выберите **Обзор** и скопируйте IP-адрес. Это будет числовой IP-адрес, например `55.55.55.55` .
1. Откройте новую вкладку браузера и используйте IP-адрес, например, `http://<IP-address>:5000 (http://55.55.55.55:5000` . Вы увидите домашнюю страницу контейнера, что позволит вам узнать, что контейнер работает.

    ![Домашняя страница контейнера](../../../includes/media/cognitive-services-containers-api-documentation/container-webpage.png)

1. Выберите **Описание API службы** , чтобы просмотреть страницу Swagger для контейнера.

1. Выберите любой из API-интерфейсов **POST** и нажмите кнопку **попробовать**.  Отображаются параметры, включая входные данные. Заполните параметры.

1. Выберите **выполнить** , чтобы отправить запрос в экземпляр контейнера.

    Вы успешно создали и использовали Cognitive Services контейнеры в экземпляре контейнера Azure.

# <a name="cli"></a>[CLI](#tab/cli)

[!INCLUDE [API documentation](../../../includes/cognitive-services-containers-api-documentation.md)]

> [!NOTE]
> Если вы используете Анализ текста для контейнера работоспособности, используйте следующий URL-адрес для отправки запросов: `http://localhost:5000/text/analytics/v3.2-preview.1/entities/health`

---
