---
title: Операции получения перевода документа
titleSuffix: Azure Cognitive Services
description: Метод Get Operations возвращает список отправленных пакетных запросов и состояние каждого запроса.
services: cognitive-services
author: jann-skotdal
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: reference
ms.date: 03/25/2021
ms.author: v-jansk
ms.openlocfilehash: c42f3081a831c267c7bc605267b99e2a916ea3d8
ms.sourcegitcommit: c94e282a08fcaa36c4e498771b6004f0bfe8fb70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2021
ms.locfileid: "105613091"
---
# <a name="document-translation-get-operations"></a>Преобразование документа: операции Get

Метод Get Operations возвращает список отправленных пакетных запросов и состояние каждого запроса. Этот список содержит только пакетные запросы, отправленные пользователем (на основе подписки). Состояние каждого запроса сортируется по идентификатору.

Если количество запросов превышает лимит подкачки, используется разбиение на страницы на стороне сервера. Отклики с разбивкой на страницы указывают на частичный результат и включают в ответ маркер продолжения. Отсутствие маркера продолжения означает, что дополнительные страницы недоступны.

Параметры запроса $top и $skip можно использовать для указания числа возвращаемых результатов и смещения коллекции.

Сервер учитывает значения, указанные клиентом. Однако клиенты должны быть подготовлены к обработке ответов, которые содержат другой размер страницы или содержат маркер продолжения.

Если включены оба $top и $skip, сервер должен сначала применить $skip, а затем $top в коллекции. 

> [!NOTE]
> Если сервер не может учитывать $top и (или) $skip, сервер должен вернуть клиенту сообщение об ошибке вместо того, чтобы игнорировать параметры запроса. Это снижает риск того, что клиент делает предположения о возвращенных данных.

## <a name="request-url"></a>URL-адрес запроса

Отправьте запрос `GET` на следующий адрес.
```HTTP
GET https://<NAME-OF-YOUR-RESOURCE>.cognitiveservices.azure.com/translator/text/batch/v1.0-preview.1/batches
```

Узнайте, как найти собственное [доменное имя](../get-started-with-document-translation.md#find-your-custom-domain-name).

> [!IMPORTANT]
>
> * **Для всех запросов API к службе перевода документов требуется Пользовательская конечная точка домена**.
> * Вы не можете использовать конечную точку, найденную в портал Azure _ключах ресурсов и конечной_ точке глобального преобразователя, — `api.cognitive.microsofttranslator.com` для выполнения HTTP-запросов к преобразованию документов.

## <a name="request-parameters"></a>Параметры запроса

В таблице ниже приведены параметры, которые передаются в строке запроса.

|Параметр запроса|Обязательно|Описание|
|--- |--- |--- |
|$skip|Неверно|Пропустить записи $skip в коллекции. Если указаны оба $top и $skip, сначала применяется $skip.|
|$top|Неверно|Возьмите $top записи из коллекции. Если указаны оба $top и $skip, сначала применяется $skip.|

## <a name="request-headers"></a>Заголовки запросов

Заголовки запроса.

|Заголовки|Описание|
|--- |--- |
|Ocp-Apim-Subscription-Key|Обязательный заголовок запроса|

## <a name="response-status-codes"></a>Коды состояния ответа

Ниже приведены возможные коды состояния HTTP, которые возвращает запрос.

|Код состояния|Описание|
|--- |--- |
|200|Все в порядке. Успешный запрос и возврат состояния всех операций. Хеадерсретри-After: Интежеретаг: строка|
|400|Недопустимый запрос. Недопустимый запрос. Проверьте входные параметры.|
|401|Не авторизовано. Проверьте учетные данные.|
|500|Внутренняя ошибка сервера.|
|Другие коды состояния|<ul><li>Слишком много запросов</li><li>Сервер временно недоступен</li></ul>|

## <a name="get-operations-response"></a>Получение ответа операций

### <a name="successful-get-operations-response"></a>Ответ на получение операций успешно выполнен

При успешном отклике возвращается следующая информация.

|Имя|Тип|Описание|
|--- |--- |--- |
|идентификатор|строка|Идентификатор операции.|
|креатеддатетимеутк|строка|Дата и время создания операции.|
|ластактиондатетимеутк|строка|Дата и время обновления состояния операции.|
|status|Строка|Список возможных состояний для задания или документа: <ul><li>Отменено</li><li>Cancelling</li><li>Сбой</li><li>NotStarted</li><li>Запущен</li><li>Выполнено</li><li>ValidationFailed,</li></ul>|
|Итоги|Статуссуммари []|Сводка, содержащая приведенные ниже сведения.|
|Сводка. Итого|Целое число|Общее число документов.|
|Сводка. сбой|Целое число|Число документов с ошибками.|
|Сводка. успешное завершение|Целое число|Число успешно преобразованных документов.|
|Сводка. выполняется|Целое число|Количество обрабатываемых документов.|
|Summary. Нотетстартед|Целое число|Число документов, которые еще не начали обрабатываться.|
|Сводка. отменено|Целое число|Число отмененных документов.|
|Summary. Тоталчарактерчаржед|Целое число|Общее число оплаченных символов.|

###<a name="error-response"></a>Сообщение об ошибке

|Имя|Тип|Описание|
|--- |--- |--- |
|code|строка|Перечисления, содержащие коды ошибок высокого уровня. Возможные значения:<br/><ul><li>InternalServerError</li><li>InvalidArgument</li><li>InvalidRequest</li><li>рекуестратетухигх</li><li>ResourceNotFound</li><li>ServiceUnavailable</li><li>Не авторизовано</li></ul>|
|message|строка|Возвращает сообщение об ошибке высокого уровня.|
|target|строка|Возвращает источник ошибки. Например, это будет «Documents» или «Document ID» в случае недопустимого документа.|
|innerError|InnerErrorV2|Новый формат внутренней ошибки, который соответствует рекомендациям Cognitive Services API. Он содержит обязательные свойства ErrorCode, Message и необязательные свойства Target, Details (пара значений ключа), внутреннюю ошибку (может быть вложенной).|
|Иннереррор. Code|строка|Возвращает строку ошибки кода.|
|Иннереррор. Message|строка|Возвращает сообщение об ошибке высокого уровня.|

## <a name="examples"></a>Примеры

### <a name="example-successful-response"></a>Пример успешного ответа

Ниже приведен пример успешного ответа.

```JSON
{
  "value": [
    {
      "id": "727bf148-f327-47a0-9481-abae6362f11e",
      "createdDateTimeUtc": "2020-03-26T00:00:00Z",
      "lastActionDateTimeUtc": "2020-03-26T01:00:00Z",
      "status": "Succeeded",
      "summary": {
        "total": 10,
        "failed": 1,
        "success": 9,
        "inProgress": 0,
        "notYetStarted": 0,
        "cancelled": 0,
        "totalCharacterCharged": 0
      }
    }
  ]
}
```

### <a name="example-error-response"></a>Пример ответа на ошибку

Ниже приведен пример ответа на ошибку. Схема для других кодов ошибок одинакова.

Код состояния: 500

```JSON
{
  "error": {
    "code": "InternalServerError",
    "message": "Internal Server Error",
    "target": "Operation",
    "innerError": {
      "code": "InternalServerError",
      "message": "Unexpected internal server error has occurred"
    }
  }
}
```

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать больше об использовании перевода документов и клиентской библиотеки, следуйте нашим инструкциям в этом кратком руководстве.

> [!div class="nextstepaction"]
> [Приступая к преобразованию документов](../get-started-with-document-translation.md)
