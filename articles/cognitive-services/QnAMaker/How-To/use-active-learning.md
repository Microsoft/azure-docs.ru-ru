---
title: Использование активного обучения с базой знаний — QnA Maker
description: Узнайте, как улучшить качество базы знаний с помощью активного обучения. Просмотр, принятие или отклонение, добавление без удаления или изменения существующих вопросов.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: conceptual
ms.date: 03/18/2020
ms.openlocfilehash: 87dde7662050794a24cf976a0bae6237b91d29b2
ms.sourcegitcommit: f7eda3db606407f94c6dc6c3316e0651ee5ca37c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "102213714"
---
# <a name="active-learning"></a>Активное обучение

_Активные предложения по обучению_ позволяют повысить качество базы знаний, предлагая альтернативные вопросы на основе отправок пользователя в пару вопросов и ответов. Проверенные предложения можно добавить к существующим вопросам или отклонить.

База знаний не изменяется автоматически. Чтобы изменения вступили в силу, необходимо принять предложения. Так вы добавите новые вопросы, не меняя и не удаляя существующие.

## <a name="what-is-active-learning"></a>Что такое активное обучение?

QnA Maker изучает новые варианты вопросов с помощью механизма явных и неявных отзывов.

* [Неявная обратная связь](#how-qna-makers-implicit-feedback-works) — ранжирование понимает, когда вопрос пользователя имеет несколько ответов с оценками, которые очень близки к этому, и рассматривает это как отзыв. Для этого не нужно ничего делать.
* [Явная обратная связь](#how-you-give-explicit-feedback-with-the-train-api) . когда из базы знаний возвращаются несколько ответов с небольшим изменением, клиентское приложение запрашивает у пользователя вопрос о том, какой именно вопрос является верным. Явная обратная связь пользователя отправляется в QnA Maker с помощью [API обучения](../How-To/improve-knowledge-base.md#train-api).

Оба метода предоставляют ранжирование с аналогичными запросами, которые являются кластеризованными.

## <a name="how-active-learning-works"></a>Принцип работы активного обучения

Активное обучение активируется на основе оценок первых нескольких ответов, возвращенных QnA Maker. Если различия между парами QnA, совпадающими с запросом, находятся в небольшом диапазоне, запрос считается возможным предложением (в качестве альтернативного вопроса) для каждой из возможных пар QnA. После принятия предлагаемого вопроса для определенной пары QnA она отклоняется для других пар. После принятия предложений необходимо забывать о сохранении и обучении.

Активное обучение предоставляет наилучшие возможные предложения, если конечные точки получают приемлемое количество разных запросов использования. Если пять или более похожих запросов являются кластеризованными, каждые 30 минут QnA Maker предлагает пользователю пользовательские вопросы в конструкторе базы знаний для принятия или отклонения. Все предложения группируются по сходству, и лучшие предложения для альтернативных вопросов отображаются с учетом частоты конкретных запросов пользователей.

После предложения вопросов на портале QnA Maker необходимо просмотреть и принять или отклонить эти предложения. Нет API для управления предложениями.

## <a name="how-qna-makers-implicit-feedback-works"></a>Как работают неявные Отзывы QnA Maker

Неявная обратная связь QnA Maker использует алгоритм для определения сходства очков, а затем предоставляет активные предложения по обучению. Для определения сходства оценок применяется сложный алгоритм. Диапазоны в следующем примере не предназначены для фиксирования, но их следует использовать в качестве рекомендации для понимания воздействия только алгоритма.

Если вопрос получает оценку с высокой степенью достоверности (например, 80 %), диапазон оценок, используемых для активного обучения, расширяется (приблизительно на 10 %). Если оценка достоверности снижается (например, до 40 %), диапазон оценок также сокращается (приблизительно на 4 %).

В следующем ответе JSON от запроса к Женератеансвер QnA Maker, оценки для A, B и C будут рассматриваться как предложения.

```json
{
  "activeLearningEnabled": true,
  "answers": [
    {
      "questions": [
        "Q1"
      ],
      "answer": "A1",
      "score": 80,
      "id": 15,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q2"
      ],
      "answer": "A2",
      "score": 78,
      "id": 16,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q3"
      ],
      "answer": "A3",
      "score": 75,
      "id": 17,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q4"
      ],
      "answer": "A4",
      "score": 50,
      "id": 18,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    }
  ]
}
```

QnA Maker не знает, какой ответ является лучшим ответом. Используйте список предложений на портале QnA Maker, чтобы выбрать наилучший ответ и выполнить обучение еще раз.


## <a name="how-you-give-explicit-feedback-with-the-train-api"></a>Как вы предоставляете явный отзыв с помощью API обучения

QnA Maker нуждается в явном отзыве о том, какой из ответов был лучшим ответом. Способ определения наилучшего ответа зависит от вас и может включать:

* Отзывы пользователей, выбрав один из ответов.
* Бизнес-логика, например определение допустимого диапазона оценок.
* Сочетание отзывов пользователей и бизнес-логики.

Используйте [API обучения](/rest/api/cognitiveservices/qnamaker4.0/runtime/train) , чтобы отправить правильный ответ на QnA Maker, после того как пользователь выберет его.

## <a name="upgrade-runtime-version-to-use-active-learning"></a>Обновить версию среды выполнения для использования активного обучения

# <a name="qna-maker-ga-stable-release"></a>[Общедоступная версия QnA Maker (стабильный выпуск)](#tab/v1)

Активное обучение поддерживается в среде выполнения версии 4.4.0 и выше. Если ваша база знаний создана с помощью более ранней версии, [обновите среду выполнения](configure-QnA-Maker-resources.md#get-the-latest-runtime-updates), чтобы воспользоваться этой функцией.

# <a name="qna-maker-managed-preview-release"></a>[Управляемая служба QnA Maker (предварительный выпуск)](#tab/v2)

В QnA Maker Managed (Предварительная версия), так как среда выполнения размещается в самой QnA Makerной службе, нет необходимости обновлять среду выполнения вручную.

---

## <a name="turn-on-active-learning-for-alternate-questions"></a>Включение активного обучения для альтернативных вопросов

# <a name="qna-maker-ga-stable-release"></a>[Общедоступная версия QnA Maker (стабильный выпуск)](#tab/v1)

По умолчанию активное обучение отключено. Чтобы просматривать предлагаемые вопросы, включите эту функцию. После включения активного обучения необходимо отправить сведения из клиентского приложения в QnA Maker. Дополнительные сведения см. в разделе [архитектурный поток для использования женератеансвер и обучение API-интерфейсов из Bot](improve-knowledge-base.md#architectural-flow-for-using-generateanswer-and-train-apis-from-a-bot).

1. Выберите **опубликовать** , чтобы опубликовать базу знаний. Активные запросы на обучение собираются только из конечной точки прогнозирования API Женератеансвер. Запросы к области тест на портале QnA Maker не влияют на активное обучение.

1. Чтобы включить активное обучение на портале QnA Maker, перейдите в правый верхний угол, выберите свое **имя** и перейдите к [**параметрам службы**](https://www.qnamaker.ai/UserSettings).

    ![Включить альтернативные варианты вопросов активного обучения на странице "Параметры службы". Выберите имя пользователя в верхнем правом меню, а затем выберите параметры службы.](../media/improve-knowledge-base/Endpoint-Keys.png)


1. Найдите службу QnA Maker, а затем активируйте переключатель **Active Learning** (Активное обучение).

    > [!div class="mx-imgBorder"]
    > [![На странице Параметры службы включите функцию активного обучения. Если вы не можете переключить эту функцию, возможно, потребуется обновить службу.](../media/improve-knowledge-base/turn-active-learning-on-at-service-setting.png)](../media/improve-knowledge-base/turn-active-learning-on-at-service-setting.png#lightbox)

    > [!Note]
    > Точная версия на предыдущем рисунке показана только в качестве примера. Ваша версия может быть другой.

    После включения **активного обучения** база знаний предлагает новые вопросы через регулярные интервалы в соответствии с вопросами, отправленными пользователем. Вы можете отключить **активное обучение** с помощью этого же переключателя.
    
# <a name="qna-maker-managed-preview-release"></a>[Управляемая служба QnA Maker (предварительный выпуск)](#tab/v2)

По умолчанию активное обучение включено **в QnA Maker** Managed (Предварительная версия). Чтобы просмотреть предлагаемые альтернативные вопросы, [Используйте параметры просмотра](../How-To/improve-knowledge-base.md#view-suggested-questions) на странице Редактирование.

---

## <a name="review-suggested-alternate-questions"></a>Ознакомьтесь с предлагаемыми альтернативными вопросами

[Ознакомьтесь с дополнительными предлагаемыми вопросами](improve-knowledge-base.md) на странице **редактирования** каждой базы знаний.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Создание базы знаний](./manage-knowledge-bases.md)
