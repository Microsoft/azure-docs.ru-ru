---
title: Изменение базы знаний — QnA Maker
description: QnA Maker позволяет управлять содержимым базы знаний, предоставляя возможности удобного редактирования.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: conceptual
ms.date: 07/16/2020
ms.openlocfilehash: 8d9f54c1fcd142c77fb73c294b81bf0f11ee083f
ms.sourcegitcommit: f82e290076298b25a85e979a101753f9f16b720c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2021
ms.locfileid: "99557697"
---
# <a name="edit-qna-pairs-in-your-knowledge-base"></a>Изменение пар QnA в базе знаний

QnA Maker позволяет управлять содержимым базы знаний, предоставляя возможности удобного редактирования.

Пары QnA добавляются из источника данных, например файла или URL-адреса, или добавляются в качестве редакционного источника. Редакционный источник указывает, что пара QnA была добавлена на портал QnA вручную. Все пары QnA доступны для редактирования.

<a name="add-an-editorial-qna-set"></a>

## <a name="question-and-answer-pairs"></a>Пары вопросов и ответов

База знаний состоит из пар вопросов и ответов (QnA).  Каждая пара имеет один ответ, а пара содержит все сведения, связанные с этим _ответом_. Ответ может слабо напоминать строку базы данных или экземпляр структуры данных. **Обязательные** параметры в паре «вопрос-ответ» (QnA):

* **вопрос** -текст запроса пользователя, используемый для QnA Maker машинного обучения, для согласования с текстом вопроса пользователя с различными словами, но с тем же ответом
* ответ **.** ответ пары — ответ, возвращаемый при сопоставлении пользовательского запроса с соответствующим вопросом.

Каждая пара представляется **идентификатором**.

Дополнительные **параметры для** пары включают:

* **Альтернативные формы вопроса** — это помогает QnA Maker возвращать правильный ответ для более широкого спектра формулировки вопросов.
* **Метаданные**: метаданные — это теги, связанные с парой QnA и представленные в виде пар "ключ-значение". Теги метаданных используются для фильтрации пар QnA и ограничения набора, в котором выполняется сопоставление запросов.
* **Множественные запросы**, используемые для продолжения множественной беседы

![Базы знаний QnA Maker](../media/qnamaker-concepts-knowledgebase/knowledgebase.png)

## <a name="add-an-editorial-qna-pair"></a>Добавление пары редакционных QnA

Если у вас нет уже существующего содержимого для заполнения базы знаний, можно добавить пары QnA на портале QnA Maker.

1. Войдите на [портал QnA](https://www.qnamaker.ai/), а затем выберите базу знаний, в которую нужно добавить пару QnA.
1. На странице **Правка** базы знаний выберите **Добавить пару QnA** , чтобы добавить новую пару QnA.

    > [!div class="mx-imgBorder"]
    > ![Добавление пары QnA](../media/qnamaker-how-to-edit-kb/add-qnapair.png)

1. В строке New QnA пары добавьте необходимые поля вопросов и ответов. Другие поля являются необязательными. Все поля могут быть изменены в любое время.

1. При необходимости добавьте **[альтернативные](../Quickstarts/add-question-metadata-portal.md#add-additional-alternatively-phrased-questions)** выражения. Альтернативные выражения — это любая форма вопроса, которая существенно отличается от исходного вопроса, но должна предоставлять тот же ответ.

    Когда база знаний опубликована и включено [активное обучение](use-active-learning.md) , QnA Maker собирает варианты альтернативного выражения для принятия. Эти параметры выбираются для повышения точности прогноза.

1. При необходимости добавьте **[метаданные](../Quickstarts/add-question-metadata-portal.md#add-metadata-to-filter-the-answers)**. Чтобы просмотреть метаданные, выберите пункт **Просмотреть параметры** в контекстном меню. Метаданные предоставляют фильтры для ответов, предоставляемых клиентским приложением, например роботом чата.

1. При необходимости добавьте **[запросы к исполнению](multiturn-conversation.md)**. Дальнейшие подсказки содержат дополнительные пути взаимодействия с клиентским приложением для предоставления пользователю.

1. Выберите **сохранить и обучить** , чтобы просмотреть прогнозы, включая новую пару QnA.

## <a name="rich-text-editing-for-answer"></a>Редактирование текста для ответа в формате RTF

Редактирование текста ответа с помощью расширенного текста позволяет Markdown стили с простой панели инструментов.

1. Выберите текстовую область для ответа. панель инструментов с расширенным текстом отображается в строке пары QnA.

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана редактора форматированного текста с вопросом и ответом строки QnA пары.](../media/qnamaker-how-to-edit-kb/rich-text-control-qna-pair-row.png)

    Любой текст, уже имеющийся в ответе, отображается правильно, так как пользователь увидит его с помощью программы-робота.

1. Измените текст. Выберите функции форматирования на панели инструментов редактирования текста или воспользуйтесь функцией переключения, чтобы переключиться на синтаксис Markdown.

    > [!div class="mx-imgBorder"]
    > ![Используйте редактор форматированного текста для записи и форматирования текста и сохранения в виде Markdown.](../media/qnamaker-how-to-edit-kb/rich-text-display-image.png)

    |Возможности расширенного текстового редактора|Сочетание клавиш|
    |--|--|
    |Переключение между редактором Rich-Text и Markdown. `</>`|CTRL+M|
    |Делять. **Б**|Ctrl + фунтов|
    |Курсив, обозначенный курсивом ****|CTRL+I|
    |Неупорядоченный список||
    |Упорядоченный список||
    |Стиль абзаца||
    |Образ — Добавление образа, доступного по общедоступному URL-адресу.|CTRL + G|
    |Добавьте ссылку на общедоступный URL-адрес.|CTRL + K|
    |Смайлик — Добавление из набора значков настроения.|CTRL+E|
    |Меню "Дополнительно" — "отменить"|CTRL+Z|
    |Меню "Дополнительно" — Повтор|CTRL+Y|

1. Добавьте изображение к ответу, используя значок изображения на панели инструментов Rich Text. Редактору на месте требуется общедоступный URL-адрес изображения и альтернативный текст для изображения.


    > [!div class="mx-imgBorder"]
    > ![На снимке экрана показан редактор на месте с общедоступным URL-адресом изображения и альтернативным текстом для указанного образа.](../media/qnamaker-how-to-edit-kb/add-image-url-alternate-text.png)

1. Добавьте ссылку на URL-адрес, выбрав текст в ответе, затем щелкнув значок ссылки на панели инструментов или щелкнув значок ссылки на панели инструментов, а затем введя новый текст и URL-адрес.

    > [!div class="mx-imgBorder"]
    > ![Используйте редактор форматированного текста, чтобы добавить общедоступный образ и его замещающий текст.](../media/qnamaker-how-to-edit-kb/add-link-to-answer-rich-text-editor.png)

## <a name="edit-a-qna-pair"></a>Изменение пары QnA

Любое поле в любой паре QnA может быть изменено независимо от исходного источника данных. Некоторые поля могут быть невидимыми из-за параметров текущего **представления** , которые находятся на панели инструментов контекста.

## <a name="delete-a-qna-pair"></a>Удаление пары QnA

Чтобы удалить пару QnA, щелкните значок **Удалить** справа в конце строки QnA. Это необратимая операция. Эту операцию невозможно отменить. Рассмотрите возможность экспорта вашей базы знаний со страницы **Публикация** перед удалением пары.

![Удаление пары QnA](../media/qnamaker-how-to-edit-kb/delete-qnapair.png)

## <a name="find-the-qna-pair-id"></a>Поиск идентификатора пары QnA

Если необходимо найти идентификатор пары QnA, его можно найти в двух местах:

* Наведите указатель мыши на значок удаления в интересующей вас строке пары QnA. Текст для наведения включает идентификатор пары QnA.
* Экспорт базы знаний. Каждая пара QnA в базе знаний содержит идентификатор пары QnA.

## <a name="add-alternate-questions"></a>Добавление альтернативных вопросов

Добавьте альтернативные вопросы к существующей паре QnA, чтобы повысить вероятность совпадения с запросом пользователя.

![Добавление альтернативных вопросов](../media/qnamaker-how-to-edit-kb/add-alternate-question.png)

## <a name="linking-qna-pairs"></a>Связывание пар QnA

Связывание пар QnA предоставляется со всеми [дальнейшими инструкциями](multiturn-conversation.md). Это логическое подключение между парами QnA, управляемыми на уровне базы знаний. Вы можете изменить дальнейшие подсказки на портале QnA Maker.

Невозможно связать пары QnA в метаданных ответа.

## <a name="add-metadata"></a>Добавление метаданных

Чтобы добавить пары метаданных, сначала выберите **Параметры представления**, а затем выберите **Показать метаданные**. Отобразится столбец метаданных. Затем выберите знак, **+** чтобы добавить пару метаданных. Эта пара состоит из одного ключа и одного значения.

Дополнительные сведения о метаданных см. в кратком руководстве по QnA Maker портале для метаданных.
* [Разработка: добавление метаданных в пару "вопрос-ответ"](../quickstarts/add-question-metadata-portal.md#add-metadata-to-filter-the-answers)
* [Прогнозирование запросов: фильтрация ответов по метаданным](../quickstarts/get-answer-from-knowledge-base-using-url-tool.md)

## <a name="save-changes-to-the-qna-pairs"></a>Сохранение изменений в парах QnA

Периодически выбирайте **сохранить и обучить** после внесения изменений, чтобы избежать потери изменений.

![Добавление метаданных](../media/qnamaker-how-to-edit-kb/add-metadata.png)

## <a name="when-to-use-rich-text-editing-versus-markdown"></a>Когда следует использовать редактирование RTF-текста и Markdown

Редактирование ответов с помощью [расширенного текста](#add-an-editorial-qna-set) позволяет разработчику использовать панель инструментов форматирования для быстрого выбора и форматирования текста.

[Markdown](../reference-markdown-format.md) — это лучшее средство, когда необходимо автоматически создавать содержимое для создания баз знаний, импортируемых в рамках конвейера CI/CD или для [пакетного тестирования](../index.yml).

## <a name="editing-your-knowledge-base-locally"></a>Локальное изменение базы знаний

После создания базы знаний рекомендуется вносить изменения в текст базы знаний на [портале QnA Maker](https://qnamaker.ai), а не экспортировать и повторно импортировать его через локальные файлы. Тем не менее возможны ситуации, когда вам нужно изменить базу знаний локально.

Экспортируйте базу знаний со страницы **Параметры**, затем внесите в нее изменения в Microsoft Excel. Если вы решили использовать другое приложение для редактирования экспортированного файла, приложение может вызвать синтаксические ошибки, так как оно не является полностью совместимым с TSV. TSV-файлы в Microsoft Excel обычно не вызывают ошибок форматирования.

Закончив внесение изменений, повторно импортируйте TSV-файл со страницы **Параметры**. Это полностью заменит текущую базу знаний на импортированную.

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Collaborate on a knowledge base](../index.yml) (Совместная работа над базой знаний)

* [Управление ресурсами Azure, используемыми QnA Maker](set-up-qnamaker-service-azure.md)
