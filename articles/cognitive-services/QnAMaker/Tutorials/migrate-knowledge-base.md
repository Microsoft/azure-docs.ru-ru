---
title: Перенос баз знаний с помощью QnA Maker
description: Чтобы перенести базу знаний, необходимо экспортировать одну базы знаний, а затем импортировать ее в другую базу знаний.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: how-to
ms.date: 11/09/2020
ms.openlocfilehash: c89ab375cb02824a08ff57e6b5278dd9299126ff
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96350931"
---
# <a name="migrate-a-knowledge-base-using-export-import"></a>Миграция базы знаний с помощью экспорта и импорта

Миграция — это процесс создания новой базы знаний из существующей базы знаний. Это можно сделать по нескольким причинам.

* процесс резервного копирования и восстановления
* Конвейер CI/CD
* переместить регионы

Для миграции базы знаний необходимо экспортировать из существующей базы знаний, а затем импортировать в другую.

> [!NOTE]
> Следуйте приведенным ниже инструкциям, чтобы перенести существующую базу знаний в новый QnA Maker управляемый (Предварительная версия).

## <a name="prerequisites"></a>Предварительные условия

* Перед началом работы создайте [бесплатную учетную запись](https://azure.microsoft.com/free/cognitive-services/).
* Настройте новую [службу QnA Maker](../How-To/set-up-qnamaker-service-azure.md).

## <a name="migrate-a-knowledge-base-from-qna-maker"></a>Перенос базы знаний из QnA Maker
1. Войдите на [портал QnA Maker](https://qnamaker.ai).
1. Выберите базу знаний источника, которую необходимо перенести.

1. На странице **Параметры** выберите **Экспорт базы знаний** , чтобы скачать TSV-файл, содержащий содержимое базы знаний источника — вопросы, ответы, метаданные, приглашения к исполнению, и имена источников данных, из которых они были извлечены. Идентификаторы QnA, экспортированные с вопросами и ответами, могут использоваться для обновления определенной пары QnA с помощью [API обновления](/rest/api/cognitiveservices/qnamaker/knowledgebase/update). Идентификатор QnA для определенной пары QnA остается неизменным в ходе нескольких операций экспорта.

1. Выберите **создать базу знаний** в верхнем меню, а затем создайте _пустую_ базу знаний. Он пуст, так как при создании он не добавляется никаких URL-адресов или файлов. Они добавляются на этапе импорта после создания.

    Настройка базы знаний. Задать только новое имя базы знаний. Поддерживаются повторяющиеся имена, а также специальные знаки в имени.

    Не выбирайте ничего из шага 4, так как эти значения будут перезаписаны при импорте файла.

1. На шаге 5 Выберите **создать**.

1. В новой базе знаний откройте вкладку **Settings** (Параметры) и выберите **Import knowledge base** (Импортировать базу знаний). При этом будут импортированы вопросы, ответы, метаданные, приглашения к исполнению и сохранены имена источников данных, из которых они были извлечены. **Пары QnA, созданные в новой базе знаний, должны иметь одинаковый идентификатор QnA, который есть в экспортированном файле**. Это позволяет создать точную реплику базы знаний.

   > [!div class="mx-imgBorder"]
   > [![Импорт базы знаний](../media/qnamaker-how-to-migrate-kb/Import.png)](../media/qnamaker-how-to-migrate-kb/Import.png#lightbox)

1. **Проверьте** новую базу знаний с помощью панели "Тестирование". Узнайте, как [проверить базу знаний](../How-To/test-knowledge-base.md).

1. **Опубликуйте** базу знаний и создайте робот чата. Узнайте, как [опубликовать базу знаний](../Quickstarts/create-publish-knowledge-base.md#publish-the-knowledge-base).

## <a name="programmatically-migrate-a-knowledge-base-from-qna-maker"></a>Программная миграция базы знаний из QnA Maker

Процесс миграции программным путем можно получить с помощью следующих интерфейсов API:

**Экспорт**

* [Скачать API базы знаний](/rest/api/cognitiveservices/qnamaker4.0/knowledgebase/download)

**Импорт**

* [Reload API (перезагрузка с тем же ИДЕНТИФИКАТОРом базы знаний)](/rest/api/cognitiveservices/qnamaker4.0/knowledgebase/replace)
* [Создать API (загрузить с новым ИДЕНТИФИКАТОРом базы знаний)](/rest/api/cognitiveservices/qnamaker4.0/knowledgebase/create)


## <a name="chat-logs-and-alterations"></a>Журналы чатов и варианты
Преобразования (синонимы) без учета регистра не импортируются автоматически. Используйте [API v4](/rest/api/cognitiveservices/qnamaker4.0/knowledgebase) для перемещения изменений в новой базе знаний.

Возможность переноса журналов чатов не предусмотрена, так как новая база знаний использует для хранения журналов чатов Application Insights.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Редактирование базы знаний](../How-To/edit-knowledge-base.md)