---
title: Рекомендации по QnA Maker
description: Используйте эти рекомендации, чтобы улучшить базу знаний и предоставлять лучшие результаты пользователям приложения или чат-бота.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: conceptual
ms.date: 11/09/2020
ms.openlocfilehash: 90d526a58f4223fc70be5414ce5722238ce2c735
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101733437"
---
# <a name="best-practices-of-a-qna-maker-knowledge-base"></a>Рекомендации по использованию базы знаний QnA Maker

Руководства по [жизненному циклу разработки базы знаний](../Concepts/development-lifecycle-knowledge-base.md) помогут полостью управлять базой знаний. Используйте эти рекомендации, чтобы улучшить базу знаний и предоставить лучшие результаты для клиентского приложения или для конечных пользователей чата-роботов.

## <a name="extraction"></a>Извлечение

Служба QnA Maker постоянно улучшает алгоритмы извлечения данных вопросов и ответов из содержимого и расширяет списки поддерживаемых форматов файлов и HTML. Следуйте [рекомендациям](../Concepts/data-sources-and-content.md) по извлечению данных в соответствии с типом вашего документа.

Как правило, страницы часто задаваемых вопросов являются изолированными и не объединяются с другими данными. Руководства по продукции должны содержать четкие заголовки и, желательно, страницу индексов.

### <a name="configuring-multi-turn"></a>Настройка множественного включения

[Создайте базу знаний](../how-to/multiturn-conversation.md#create-a-multi-turn-conversation-from-a-documents-structure) с включенным множественным извлечением. Если база знаний имеет или должна поддерживать иерархию вопросов, эту иерархию можно извлечь из документа или создать после извлечения документа.

## <a name="creating-good-questions-and-answers"></a>Создание полезных вопросов и ответов

### <a name="good-questions"></a>Полезные вопросы

Лучшие вопросы просты. Рассмотрите ключевое слово или фразу для каждого вопроса, а затем создайте простой вопрос для этого ключевого слова или фразы.

Добавьте столько альтернативных вопросов, сколько вам нужно, но сделайте изменения простыми. Добавление большего количества слов или фраз, которые не являются частью основной цели вопроса, не помогает QnA Maker найти соответствие.


### <a name="add-relevant-alternative-questions"></a>Добавление соответствующих альтернативных вопросов

Пользователь может вводить вопросы с помощью диалогового стиля текста `How do I add a toner cartridge to my printer?` или поиска по ключевым словам, например `toner cartridge` . Для правильного возврата лучшего ответа база знаний должна иметь оба стиля вопросов. Если вы не знаете, какие ключевые слова вводится клиентом, используйте Application Insights данные для анализа запросов.

### <a name="good-answers"></a>Полезные ответы

Лучшие ответы — это простые ответы, но не слишком простые. Не используйте такие ответы, как `yes` и `no` . Если ваш ответ должен ссылаться на другие источники или предоставить широкие возможности мультимедиа и ссылок, используйте теги [метаданных](../how-to/edit-knowledge-base.md#add-metadata) для различения ответов, а затем [отправьте запрос](../how-to/metadata-generateanswer-usage.md#generateanswer-request-configuration) с тегами метаданных в `strictFilters` свойстве, чтобы получить правильную версию ответа.

|Ответ|Запросы фоллуп|
|--|--|
|Выключите ноутбук с помощью кнопки питания на клавиатуре.|* Сочетания клавиш для перехода в спящий режим, выключения и перезапуска.<br>* Как жестко загружается ноутбук Surface<br>* Изменение BIOS для ноутбука Surface<br>* Различия между спящим режимом, выключением и перезагрузкой|
|Служба клиента доступна по телефону, Skype и SMS за 24 часа в день.|* Контактные данные по продажам.<br> * Office и хранение мест и часов для посещения в личном месте.<br> * Аксессуары для ноутбука Surface.|

## <a name="chit-chat"></a>Беседа
Добавьте функцию "Беседа" в чат-бот, чтобы сделать его более общительным и привлекательным с незначительными трудозатратами. Вы можете легко добавлять наборы данных ХИ2ТЕСТ-Chat из предварительно определенных личных настроек при создании базы знаний и изменять их в любое время. Узнайте, как [добавить беседу в базу знаний](../How-To/chit-chat-knowledge-base.md).

ХИ2ТЕСТ-Chat поддерживается на [многих языках](../how-to/chit-chat-knowledge-base.md#language-support).

### <a name="choosing-a-personality"></a>Выбор личности
ХИ2ТЕСТ-Chat поддерживается для нескольких предварительно определенных персональных настроек:

|Персонализация |Файл набора данных QnA Maker |
|---------|-----|
|Professional |[qna_chitchat_professional. TSV](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_professional.tsv) |
|Понятное имя |[qna_chitchat_friendly. TSV](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_friendly.tsv) |
|Нечаянная |[qna_chitchat_witty. TSV](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_witty.tsv) |
|Волнует |[qna_chitchat_caring. TSV](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_caring.tsv) |
|Энтузиазмом |[qna_chitchat_enthusiastic. TSV](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_enthusiastic.tsv) |

Ответы варьируются от формального до неформального и непочтительного. Нужно выбрать личность, которая наиболее соответствует тону, который вы хотите задать своему боту. Вы можете просмотреть [наборы данных](https://github.com/Microsoft/BotBuilder-PersonalityChat/tree/master/CSharp/Datasets)и выбрать один из них в качестве основы для программы-робота, а затем настроить ответы.

### <a name="edit-bot-specific-questions"></a>Редактирование специфических вопросов для чат-бота
Существуют специфические вопросы для чат-бота, которые являются частью набора данных беседы и заполнены универсальными ответами. Измените эти ответы на такие, которые будут лучше всего отражать сведения чат-бота.

Рекомендуется сделать следующие вопросы и ответы беседы более конкретными.

* кто вы?
* что можно делать?
* Сколько вам лет?
* Кто вас создал?
* Привет

### <a name="adding-custom-chit-chat-with-a-metadata-tag"></a>Добавление настраиваемого тега ХИ2ТЕСТ-Chat с тегом метаданных

Если вы добавляете собственные пары QnA ХИ2ТЕСТ-Chat, обязательно добавьте метаданные, чтобы эти ответы возвращались. Пара имя-значение метаданных — `editorial:chitchat` .

## <a name="searching-for-answers"></a>Поиск ответов

API Женератеансвер использует как вопросы, так и ответы для поиска лучших ответов на запросы пользователя.

### <a name="searching-questions-only-when-answer-is-not-relevant"></a>Поиск по вопросам, если ответ не важен

[`RankerType=QuestionOnly`](#choosing-ranker-type)Если вы не хотите искать ответы, используйте параметр.

Примером этого является то, что база знаний представляет собой каталог акронимов в виде вопроса с полной формой в качестве ответа. Значение ответа не позволит найти соответствующий ответ.

## <a name="rankingscoring"></a>Ранжирование и оценка
Убедитесь, что вы эффективно используете функции ранжирования, поддерживаемые QnA Maker. Это повысит вероятность того, ответ будет соответствовать запросу пользователя.

### <a name="choosing-a-threshold"></a>Выбор порогового значения

[Показатель достоверности](confidence-score.md) по умолчанию, используемый в качестве порога, равен 0, однако вы можете [изменить пороговое значение](confidence-score.md#set-threshold) для базы знаний в зависимости от ваших потребностей. Поскольку все базы знаний отличны друг от друга, необходимо проверить и выбрать порог, который лучше всего подходит для вашей базы знаний.

### <a name="choosing-ranker-type"></a>Выбор типа ранжирования
По умолчанию QnA Maker выполняет поиск по вопросам и ответам. Если вы хотите выполнять поиск только по вопросам, используйте `RankerType=QuestionOnly` в тексте сообщения запроса женератеансвер.

### <a name="add-alternate-questions"></a>Добавление альтернативных вопросов
[Альтернативные вопросы](../How-To/edit-knowledge-base.md) увеличивают вероятность получения результата, соответствующего запросу пользователя. Альтернативные вопросы удобно использовать в тех случаях, когда один и тот же вопрос можно задать разными способами. Они могут включать в себя разную структуру предложений и стиль речи.

|Исходный запрос|Альтернативные запросы|Change|
|--|--|--|
|Есть ли парковка?|У вас есть автостоянка?|структуры предложения|
 |Привет!|Эй!<br>Всем привет!|стиль речи или сленговое выражение|

<a name="use-metadata-filters"></a>

### <a name="use-metadata-tags-to-filter-questions-and-answers"></a>Используйте теги метаданных, чтобы фильтровать вопросы и ответы

[Метаданные](../How-To/edit-knowledge-base.md) позволяют клиентскому приложению узнать, что оно не должно принимать все ответы, а вместо этого уменьшить результаты запроса пользователя на основе тегов метаданных. Ответ базы знаний на один и тот же запрос может различаться в зависимости от тега метаданных. Например, на вопрос *"Где находится стоянка?"* может быть несколько разных ответов, если рестораны одной сети находятся в разных городах. То есть это могут быть метаданные вида *Расположение: Сиэтл* или *Расположение: Редмонд*.

### <a name="use-synonyms"></a>Использование синонимов
# <a name="qna-maker-ga-stable-release"></a>[Общедоступная версия QnA Maker (стабильный выпуск)](#tab/v1)
Хотя на английском языке имеется какая-либо поддержка синонимов, для добавления синонимов в ключевые слова, которые принимают различные формы, используются изменения слов, не учитывающие регистр, с помощью [API изменений](/rest/api/cognitiveservices/qnamaker/alterations/replace) . Синонимы добавляются на QnA Maker уровне службы и совместно используются **всеми базами знаний в службе**.

# <a name="qna-maker-managed-preview-release"></a>[Управляемая служба QnA Maker (предварительный выпуск)](#tab/v2)
Хотя на английском языке имеется какая-либо поддержка синонимов, для добавления синонимов в ключевые слова, которые принимают различные формы, используются изменения слов, не учитывающие регистр, с помощью [API изменений](/rest/api/cognitiveservices/qnamaker/alterations/replace) . Синонимы в управляемом QnA Maker (Предварительная версия) **добавляются в базу знаний**.

|Исходное слово|Синонимы|
|--|--|
|купить|приобрести<br>NET-банковские операции<br>интернет-банкинг|

---

### <a name="use-distinct-words-to-differentiate-questions"></a>Использование уникальных слов для различения ответов
Алгоритмы ранжирования QnA Maker, сопоставляющие запрос пользователя с вопросом в базе знаний, работают эффективнее всего, если все вопросы направлены на разные потребности. Повторение одинакового набора слов в вопросах уменьшает вероятность выбора правильного ответа на запрос пользователя, содержащий эти слова.

Например, у вас могут быть два отдельных набора вопросов и ответов со следующими вопросами:

|Вопросы и ответы|
|--|
|где *находится* стоянка|
|где — *Расположение* ATM|

Поскольку эти два набора сформулированы очень похожими словами, это сходство может вызвать очень похожие оценки для многих пользовательских запросов, которые сформулированы как *"где находится `<x>`"*. Вместо этого старайтесь различать такие запросы, как  *«где — это множество приостановки»* и *«где является ATM»*, избегая таких слов, как «location», которые могут быть на многих вопросах в базе знаний.

## <a name="collaborate"></a>Совместная работа
QnA Maker дает пользователям возможность совместно работать над базой знаний. Чтобы получить доступ к базам знаний, пользователям нужен доступ к группе ресурсов Azure для QnA Maker. Некоторым организациям может потребоваться использовать внешнего исполнителя для редактирования и обслуживания баз знаний, сохраняя при этом безопасность доступа к своим ресурсам Azure. Эту модель с редактором и утверждающим можно реализовать, установив две идентичные [службы QnA Maker](../How-to/set-up-qnamaker-service-azure.md) в разных подписках и выбрав одну из них для цикла редактирования и тестирования. По завершении тестирования содержимое базы знаний переместится посредством процесса [импорта и экспорта](../Tutorials/migrate-knowledge-base.md) в службу QnA Maker утверждающего, который опубликует окончательную версию базы знаний и обновит конечную точку.



## <a name="active-learning"></a>Активное обучение

[Активное обучение](../How-to/use-active-learning.md) позволяет идеально предложить альтернативные вопросы при обеспечении достаточного качества и количества пользовательских запросов. Очень важно разрешить пользовательским запросам от клиента к приложению принимать участие в цикле обратной связи активного обучения без цензуры. После того как на портале QnA Maker предложены вопросы, можно **[отфильтровать по предложениям](../How-To/improve-knowledge-base.md)** , просмотреть и принять или отклонить эти предложения.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Редактирование базы знаний](../How-to/edit-knowledge-base.md)
