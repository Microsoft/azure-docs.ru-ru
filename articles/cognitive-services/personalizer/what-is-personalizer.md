---
title: Что такое служба "Персонализатор"?
description: Персонализатор — это облачная служба, с помощью которой приложение максимально удобный режим работы для своих пользователей, изучая их поведение в реальном времени.
ms.service: cognitive-services
ms.subservice: personalizer
ms.topic: overview
ms.date: 08/27/2020
ms.custom: cog-serv-seo-aug-2020
keywords: Персонализатор, Персонализатор Azure, машинное обучение
ms.openlocfilehash: 913b4d989865a50b23d58c5493368997248f8db8
ms.sourcegitcommit: 2f9f306fa5224595fa5f8ec6af498a0df4de08a8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2021
ms.locfileid: "98928545"
---
# <a name="what-is-personalizer"></a>Что такое служба "Персонализатор"?

Персонализатор Azure — это облачная служба, которая помогает приложениям выбрать лучший элемент содержимого для отображения пользователям. Службу "Персонализатор" можно использовать для определения продукта, который следует предложить покупателям, или выяснения оптимального расположения рекламы. После отображения содержимого для пользователя приложение отслеживает его реакцию и сообщает оценку вознаграждения службе "Персонализатор". Это гарантирует непрерывное улучшение модели машинного обучения и предоставляет Персонализатору возможность выбрать лучший элемент содержимого на основе полученной контекстной информации.

> [!TIP]
> Содержимое — это любая единица информации, например текст, изображения, URL-адреса, сообщения электронной почты или любые другие данные, среди которых нужно выбрать то, что будет отображаться для пользователей.

Прежде чем приступить к работе, ознакомьтесь с [возможностями Персонализатора с помощью этой интерактивной демонстрации](https://personalizationdemo.azurewebsites.net/).

<!--
![What is personalizer animation](./media/what-is-personalizer.gif)
-->

## <a name="how-does-personalizer-select-the-best-content-item"></a>Как Персонализатор выбирает оптимальный элемент содержимого?

Персонализатор использует **обучение с подкреплением** для выбора наиболее подходящего элемента (_действия_) на основе типичного поведения и оценки вознаграждений для всех пользователей. Действиями называются элементы содержимого, например новостные статьи, фильмы или продукты.

Вызов функции **Rank** принимает элемент Action, а также признаки этого действия и контекста, на основе которых выбирается наиболее подходящий элемент действия.

* **Действия с признаками** — это элементы содержимого, для каждого из которых указаны характерные признаки.
* **Признаки контекста** — это признаки пользователей, текущего контекста или среды, которые относятся к использованию приложения.

Вызов Rank возвращает идентификатор элемента содержимого (__action__), который нужно отобразить пользователю, в поле **Reward Action ID** (Идентификатор действия вознаграждения).

Отображаемое пользователю __действие__ выбирается с помощью моделей машинного обучения, которая пытается максимизировать общий объем вознаграждений с течением времени.

### <a name="sample-scenarios"></a>Примеры сценариев

Рассмотрим несколько сценариев, в которых Персонализатор можно использовать для выбора наилучшего содержимого для отображения пользователю.

|Тип содержимого|Действия (с признаками)|Признаки контекста|Возвращаемый идентификатор действия вознаграждения<br>(отобразить это содержимое)|
|--|--|--|--|
|Список новостей|а. `The president...` (национальная, политика, [текст])<br>b. `Premier League ...` (глобальная, спорт, [текст, изображение, видео])<br> c. `Hurricane in the ...` (региональная, погода, [текст, изображение])|Устройство, на котором просматриваются новости<br>Месяц или сезон<br>|`The president...`|
|Список фильмов|1. `Star Wars` (1977, [боевик, приключения, фэнтези], Джордж Лукас)<br>2. `Hoop Dreams` (1994, [документальный, спорт], Стив Джеймс)<br>3. `Casablanca` (1942, [романтический, драма, военный], Майкл Кертис)|Устройство, на котором просматривается фильм<br>Размер экрана<br>Тип пользователя<br>|3. `Casablanca`|
|Список продуктов|i. `Product A` (3 кг, $$$$, доставка за 24 часа)<br>ii. `Product B` (20 кг, $$, доставка за 2 недели с растаможкой)<br>iii. `Product C` (3 кг, $$$, доставка за 48 часов)|Устройство, на котором просматривается товар<br>Уровень расходов пользователя<br>Месяц или сезон|ii. `Product B`|

Персонализатор использовал обучение с подкреплением, чтобы выбрать одно лучшее действие (_reward action ID_). Модель машинного обучения использует следующие компоненты: 

* обученную модель — сведения, полученные ранее от службы персонализации и используемые для улучшения модели машинного обучения;
* текущие данные — определенные действия с признаками и признаки контекста.

## <a name="when-to-use-personalizer"></a>Когда следует использовать Персонализатор?

[API](https://go.microsoft.com/fwlink/?linkid=2092082) **ранжирования** Персонализатора вызывается каждый раз, когда приложение представляет содержимое. Такой вызов называется **событием** и характеризуется определенным _идентификатором события_.

[API](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Reward) **вознаграждения** Персонализатора можно вызывать в реальном времени или с задержкой, с учетом особенностей инфраструктуры. Оценку вознаграждений вы определяете самостоятельно в зависимости от конкретных бизнес-потребностей. Оценка вознаграждений указывается в диапазоне от 0 до 1. Это может быть одно значение, например в диапазоне от 1 (хороший) до 0 (плохой), или любое число, которое вычисляется по выбранному вами алгоритму с учетом реальных бизнес-целей и метрик.

## <a name="content-requirements"></a>Требования к содержимому

Персонализатор подходит для сценариев, в которых содержимое отвечает следующим условиям:

* Имеет ограниченный набор действий или элементов (максимум — ~50) для выбора при каждом событии персонализации. Если ваш список содержит больше элементов, [используйте модуль рекомендаций](where-can-you-use-personalizer.md#how-to-use-personalizer-with-a-recommendation-solution) для сокращения их количества до 50 элементов при каждом вызове ранжирования в службе "Персонализатор".
* содержит сведения с описанием содержимого для ранжирования: _действия с признаками_ и _признаки контекста_;
* для эффективной работы Персонализатор должен получать не менее 1000 событий, связанных с контекстом, ежедневно. Если Персонализатор не получает требуемый минимальный трафик, выбор наиболее подходящего элемента содержимого будет выполняться дольше.

Поскольку Персонализатор использует общую информацию, чтобы возвращать один лучший элемент содержимого почти в реальном времени, эта служба:
* не сохраняет профили пользователей и не управляет ими;
* не сохраняет предпочтения или журнал действий для отдельных пользователей;
* не требует очищенного и помеченного содержимого.

## <a name="how-to-design-for-and-implement-personalizer"></a>Разработка и реализация Персонализатора

1. Создайте [проект](concepts-features.md) и план по использованию содержимого, **_действий_** и **_контекстов_**. Определите алгоритм вознаграждений для оценки (**_reward_**).
1. Каждый созданный [ресурс Персонализатора](how-to-settings.md) считается за один цикл обучения. В рамках цикла будут выполняться вызовы Rank и Reward, связанные с определенным содержимым или взаимодействием с пользователем.

    |Тип ресурса| Назначение|
    |--|--|
    |[Режим ученика](concept-apprentice-mode.md) `E0`|Обучите модель Персонализатора без влияния на существующее приложение, а затем выполните развертывание в режиме интерактивного обучения в рабочей среде.|
    |Стандартный, `S0`|Режим интерактивного обучения в рабочей среде.|
    |Бесплатный, `F0`| Опробуйте режим интерактивного обучения в среде, отличной от рабочей.|

1. Добавление Персонализатора на веб-сайт, в приложение или систему:
    1. Добавьте в приложение, на веб-сайт или в систему вызов API **ранжирования** Персонализатора, чтобы определить один лучший элемент _содержимого_ перед отображением содержимого пользователю.
    1. Передайте пользователю один наиболее подходящий элемент _содержимого_, который возвращается в виде _идентификатора действия вознаграждения_.
    1. Примените _бизнес-логику_ к собранным сведениям о действиях пользователя, чтобы вычислить оценку **вознаграждения**, например:

    |Поведение|Вычисленная оценка вознаграждения|
    |--|--|
    |Пользователь выбрал один наиболее подходящий элемент _содержимого_ (идентификатор действия вознаграждения)|**1**|
    |Пользователь выбрал другое содержимое|**0**|
    |Пользователь задумался и нерешительно прокрутил страницу туда-сюда, а затем выбрал один наиболее подходящий элемент _содержимого_ (идентификатор действия вознаграждения)|**0,5**|

    1. Добавьте вызов API **вознаграждения** с оценкой в диапазоне от 0 и 1:
        * сразу после отображения содержимого;
        * или в любое время в автономной системе.
    1. [Оцените этот цикл](concepts-offline-evaluation.md) с помощью автономной оценки по прошествии некоторого периода использования. Автономная оценка позволяет тестировать и оценивать эффективность службы "Персонализатор" без изменения кода или влияния на пользовательский интерфейс.

## <a name="complete-a-quickstart"></a>Выполнение краткого руководства

Мы предлагаем краткие руководства для C#, JavaScript и Python. Каждое краткое руководство предназначено для изучения основных конструктивных шаблонов и позволяет получить рабочий код менее чем за 10 минут. 

* [Краткое руководство. Использование клиентской библиотеки Персонализатора](./quickstart-personalizer-sdk.md)

Начав работу со службой "Персонализатор", ознакомьтесь с нашими учебниками и узнайте, как использовать Персонализатор для веб-приложений, чат-роботов или Azure Notebook.

* [Руководство. Использование Персонализатора в веб-приложении .NET](tutorial-use-personalizer-web-app.md)
* [Руководство. Использование Персонализатора в чат-боте .NET](tutorial-use-personalizer-chat-bot.md)
* [Руководство. Использование Персонализатора в Azure Notebook](tutorial-use-azure-notebook-generate-loop-data.md)

## <a name="reference"></a>Справочник 

* [Пакет SDK Персонализатора для C#/.NET](/dotnet/api/overview/azure/cognitiveservices/client/personalizer)
* [Пакет SDK Персонализатора для Go](https://github.com/Azure/azure-sdk-for-go/tree/master/services/preview)
* [Пакет SDK Персонализатора для JavaScript](/javascript/api/@azure/cognitiveservices-personalizer/)
* [Пакет SDK Персонализатора для Python](/python/api/overview/azure/cognitiveservices/personalizer)
* [REST API](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Rank);

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Принцип работы Персонализатора](how-personalizer-works.md)
> [Что такое обучение с подкреплением?](concepts-reinforcement-learning.md)
