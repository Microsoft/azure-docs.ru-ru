---
title: Обеспечение обратной связи с аномалией для службы Advisor метрик
titleSuffix: Azure Cognitive Services
description: Узнайте, как отправить отзыв об аномалиях, обнаруженных вашим экземпляром советника по метрикам, и настроить результаты.
services: cognitive-services
author: mrbullwinkle
manager: nitinme
ms.service: cognitive-services
ms.subservice: metrics-advisor
ms.topic: conceptual
ms.date: 11/24/2020
ms.author: mbullwin
ms.openlocfilehash: 96a6dfebdd0047d5a6f4ff3e295ab96dd8c7226a
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96184975"
---
# <a name="provide-anomaly-feedback"></a>Предоставление отзывов о аномалиях

Отзывы пользователей — один из наиболее важных методов обнаружения дефектов в системе обнаружения аномалий. Здесь мы предоставляем способ, с помощью которого пользователи могут помечать неправильные результаты обнаружения непосредственно в временных рядах и немедленно применять отзыв. Таким образом, пользователь может изучить систему обнаружения аномалий, чтобы определить обнаружение аномалий для определенного временного ряда с помощью активных взаимодействий. 

> [!NOTE]
> В настоящее время обратная связь влияет только на результаты обнаружения аномалий за счет **интеллектуального обнаружения** , но не для **жесткого порога** и **изменения порогового значения**.

## <a name="how-to-give-time-series-feedback"></a>Как предоставить отзыв о временных рядах

Вы можете отправить отзыв со страницы сведений о метрике в любом ряду. Просто выберите любую точку, и вы увидите диалоговое окно обратной связи. Здесь отображаются измерения выбранного ряда. Можно выбрать значения измерений или даже удалить некоторые из них, чтобы получить пакет данных временных рядов. Выбрав временные ряды, нажмите кнопку **Добавить** , чтобы добавить отзыв. Существует четыре типа отзывов, которые можно было бы предоставить. Чтобы добавить несколько элементов отзыва, нажмите кнопку **сохранить** после завершения заметок.

:::image type="content" source="../media/feedback/click-on-any-point.png" alt-text="Диаграмма с данными временных рядов с синей линией и красными точками в различных точках. Красная рамка, окружающая одну точку с текстом: выберите любую точку.":::

:::image type="content" source="../media/feedback/select-or-remove.png" alt-text="Добавление диалогового окна &quot;отзыв&quot; с двумя измерениями и возможностью выбора или удаления измерений и добавления отзывов.":::

### <a name="mark-the-anomaly-point-type"></a>Отметить тип точки аномалии

Как показано на рисунке ниже, диалоговое окно обратной связи автоматически заполнит отметку времени выбранной точки, хотя это значение можно изменить. Затем нужно выбрать, следует ли определить этот элемент как `Anomaly` , `NotAnomaly` или `AutoDetect` .

:::image type="content" source="../media/feedback/anomaly-value.png" alt-text="Раскрывающееся меню с вариантами аномалии, Нотаномали и автоопределения":::

При выборе этого варианта ваш отзыв будет применен к будущей обработке обнаружения аномалий для одного и того же ряда. Обработанные точки не будут пересчитаны. Это означает, что если вы пометили аномалию как Нотаномали, мы будем подавлять аналогичные аномалии в будущем, и если вы пометили `NotAnomaly` точку как `Anomaly` , мы будем выявлять похожие моменты, как `Anomaly` в будущем. Если `AutoDetect` выбрано значение, любые предыдущие отзывы в той же точке будут игнорироваться в будущем.

## <a name="provide-feedback-for-multiple-continuous-points"></a>Оставить отзыв для нескольких непрерывных точек 

Если вы хотите предоставить возможность оставлять неаномалии для нескольких непрерывных точек одновременно, выберите группу точек, для которых нужно добавить заметки. Вы увидите выбранный интервал времени, автоматически заполняемый при предоставлении отзыва о аномалиях.

:::image type="content" source="../media/feedback/continuous-anomaly-feedback.png" alt-text="Меню отзывов о аномалиях с выбранным аномалией и заданным диапазоном времени":::

Чтобы просмотреть, затрагивает ли отдельная точка обратную связь, при просмотре временных рядов выберите одну точку. Если результат обнаружения аномалий был изменен с помощью обратной связи, в подсказке будет показано, что она **затронула отзыв: true**. Если оно отражается **на влиянии на отзыв: false**, это означает, что для этой точки был выполнен расчет отзывов об аномалиях, но результат обнаружения аномалий не должен изменяться.

:::image type="content" source="../media/feedback/affected-by-feedback.png" alt-text="Всплывающая подсказка со словами: затронута обратная связь: true, выделенное красным цветом":::

В некоторых ситуациях мы не предлагаем обратную связь:

- Аномалия вызвана праздником. Рекомендуется использовать предустановленное событие для решения такого рода ложных оповещений, так как оно будет более точным.
- Аномалия вызвана известным изменением источника данных. Например, в это время произошло изменение вышестоящей системы. В этом случае ожидается, что выдается оповещение о аномалии, поскольку нашей системе не известно, что привело к изменению значения и когда аналогичные изменения значения будут выполняться снова. Поэтому мы не рекомендуем заменять этот тип проблемы как `NotAnomaly` .

## <a name="change-points"></a>Точки изменения

Иногда изменение тенденций данных повлияет на результаты обнаружения аномалий. При принятии решения о том, является ли точка аномалией или нет, учитывается Последнее окно данных журнала. Если временные ряды имеют тенденцию, можно отметить точную точку изменения, что поможет выявить аномалию в будущем анализе.

Как показано на рисунке ниже, можно выбрать `ChangePoint` тип обратной связи, выбрать `ChangePoint` , или в `NotChangePoint` `AutoDetect` раскрывающемся списке.

:::image type="content" source="../media/feedback/changepoint.png" alt-text="Меню изменения точки с раскрывающимися списками, содержащими параметры для Чанжепоинт, Нотчанжепоинт и автообнаружения":::

> [!NOTE]
> Если данные не изменяются, необходимо пометить только одну точку как `ChangePoint` , поэтому если вы пометили `timerange` , то отметка времени и время последней точки будет автоматически заполняться. В этом случае заметка будет влиять только на результаты обнаружения аномалий только после 12 очков.

## <a name="seasonality"></a>Сезонность

Для сезонных данных, когда мы выполняем обнаружение аномалий, можно оценить период (сезонности) временных рядов и применить его к фазе обнаружения аномалий. Иногда может быть трудно опознать точный период, а также изменить период. Неверно определенный период может иметь побочные эффекты на результаты обнаружения аномалий. Текущий период можно найти в подсказке, ее имя — `Min Period` .

:::image type="content" source="../media/feedback/min-period.png" alt-text="Наложение подсказки с словами period и Number, выделенными красным цветом.":::

Вы можете отправить отзыв о периоде, чтобы устранить ошибку обнаружения аномалий. Как показано на рисунке, можно задать значение периода. Единица измерения `interval` означает один уровень детализации. Здесь нулевые интервалы означают, что данные не являются сезонными. Можно также выбрать, следует `AutoDetect` ли отменить предыдущую обратную связь и позволить конвейеру определять период автоматически. 
 
> [!NOTE]
> При задании периода не нужно назначать метку времени или timerange, период будет влиять на обнаружение будущих аномалий на всех timeseriesх с момента отправки отзыва.


:::image type="content" source="../media/feedback/period-feedback.png" alt-text="Меню с периодом автоопределения, для которого задано значение 28, а параметр Interval имеет значение 0, указывающее на несезонные.":::

## <a name="provide-comment-feedback"></a>Оставить отзыв о комментариях

Можно также добавлять комментарии к заметкам и предоставлять контекст для данных. Чтобы добавить комментарии, выберите диапазон времени и добавьте текст для комментария.

:::image type="content" source="../media/feedback/feedback-comment.png" alt-text="Меню с возможностью задания диапазона времени и поля для добавления комментария на основе текста":::

## <a name="time-series-batch-feedback"></a>Обратная связь пакета временных рядов

Как было сказано выше, модальное окно отзывов позволяет перевыбирать или удалять значения измерений для получения пакета временных рядов, определенного фильтром измерения. Можно также открыть этот модальный элемент, нажав кнопку "+" для обратной связи на левой панели и выбрав измерения и значения измерений.

:::image type="content" source="../media/feedback/feedback-time-series.png" alt-text="Меню с синим знаком «плюс», выделенным красным рядом с полем «Отзывы о Word»":::

:::image type="content" source="../media/feedback/feedback-dimension.png" alt-text="Добавление меню отзывов с двумя измерениями, обозначенными Dim1 и Dim2":::

## <a name="how-to-view-feedback-history"></a>Как просмотреть журнал отзывов

Существует два способа просмотра истории отзывов. Можно нажать кнопку Журнал отзывов на левой панели и увидеть модальный список отзывов. В нем перечисляются все отзывы, которые вы задаете, прежде чем приступать к отдельным рядам или фильтрам измерений.

:::image type="content" source="../media/feedback/feedback-history-options.png" alt-text="Меню списка отзывов":::

Другой способ просмотра истории отзывов — из серии. Вы увидите несколько кнопок в правом верхнем углу каждого ряда. Нажмите кнопку Показать отзыв, и линия будет переключена с отображения аномалий на отображение записей обратной связи. Зеленый флаг представляет точку изменения, а синие — другие точки обратной связи. Можно также выбрать их и получить список отзывов, содержащий сведения о обратной связи, предоставленные для этой точки.

:::image type="content" source="../media/feedback/feedback-history-graph.png" alt-text="Граф журнала отзывов":::

:::image type="content" source="../media/feedback/feedback-list.png" alt-text="Меню списка отзывов с двумя измерениями":::

> [!NOTE]
> Все, кто имеет доступ к метрике, могут оставлять отзывы, поэтому вы можете увидеть отзывы, предоставленные другими владельцами веб-канала данных. Если изменить ту же точку, что и другой пользователь, ваш отзыв перезапишет предыдущую обратную запись.       

## <a name="next-steps"></a>Дальнейшие действия
- [Диагностика инцидента](diagnose-incident.md).
- [Настройка метрик и детальная настройка конфигурации обнаружения](configure-metrics.md)
- [Настройка уведомлений и получение уведомлений с использованием перехватчика](../how-tos/alerts.md)