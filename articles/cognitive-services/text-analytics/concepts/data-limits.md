---
title: Ограничения данных для использования API "Анализ текста"
titleSuffix: Azure Cognitive Services
description: Ограничения данных для API "Анализ текста" из службы Cognitive Services.
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: text-analytics
ms.topic: overview
ms.date: 11/19/2020
ms.author: aahi
ms.reviewer: chtufts
ms.openlocfilehash: 9ba9fe7ca73e874fb55c228e22b884a86de736cf
ms.sourcegitcommit: 52e3d220565c4059176742fcacc17e857c9cdd02
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/21/2021
ms.locfileid: "98661465"
---
# <a name="data-and-rate-limits-for-the-text-analytics-api"></a>Ограничения данных и частоты для использования API "Анализ текста"
<a name="data-limits"></a>

В этой статье можно найти ограничения для размера данных и частоты их отправки в API "Анализ текста". Обратите внимание, что на цены не влияют ограничения данных или ограничения частоты. Сведения о ценах на ресурсы Анализа текста см. [здесь](https://azure.microsoft.com/pricing/details/cognitive-services/text-analytics/).

## <a name="data-limits"></a>Ограничения данных

> [!NOTE]
> * Если необходимо выполнить анализ документов большего размера, чем разрешено, прежде чем отправлять их в API, текст можно разбить на фрагменты меньшего размера. 
> * Документ — это одна строка текстовых символов.  

| Ограничение | Значение |
|------------------------|---------------|
| Максимальный размер одного документа | 5 120 символов, измеряемых [StringInfo.LengthInTextElements](/dotnet/api/system.globalization.stringinfo.lengthintextelements). Это относится также к API "Анализ текста" для сферы здравоохранения. |
| Максимальный размер одного документа (конечная точка `/analyze`)  | 125 тыс. символов, измеряемых [StringInfo.LengthInTextElements](/dotnet/api/system.globalization.stringinfo.lengthintextelements). Это не относится к API "Анализ текста" для сферы здравоохранения. |
| Максимальный размер всего запроса | 1 МБ, Это относится также к API "Анализ текста" для сферы здравоохранения. |


Если размер документа превышает ограничение по символам, поведение API-интерфейса будет разным для различных конечных точек:

* Конечная точка `/analyze`:
  * Если какой-либо документ в API превышает максимальный размер, весь запрос будет отклонен и поступит код ошибки `400 bad request`.
* Все остальные конечные точки:  
  * API не будет обрабатывать документ, размер которого превышает максимальный, и будет возвращать ошибку с сообщением о том, что документ недопустим. Если запрос API содержит несколько документов, API продолжит обрабатывать их, если их размер не превышает ограничение по количеству символов.

Максимальное число документов, которые можно отправить в одном запросе, зависит от используемой версии и возможностей API, которые описаны в приведенной ниже таблице.

#### <a name="version-3"></a>[Версия 3](#tab/version-3)

Для текущего API версии 3 действуют указанные ниже ограничения. При превышении указанных ниже ограничений возникнет ошибка HTTP 400.


| Компонент | Максимальное число документов на один запрос | 
|----------|-----------|
| Распознавание языка | 1000 |
| Анализ тональности | 10 |
| Интеллектуальный анализ мнений | 10 |
| Извлечение ключевых фраз | 10 |
| Распознавание именованных сущностей | 5 |
| Связывание сущностей | 5 |
| Анализ текста для сферы здравоохранения  | 10 для веб-API, 1000 для контейнера. |
| Анализ конечной точки | 25 для всех операций. |

#### <a name="version-2"></a>[Версия 2](#tab/version-2)

| Компонент | Максимальное число документов на один запрос | 
|----------|-----------|
| Распознавание языка | 1000 |
| Анализ тональности | 1000 |
| Извлечение ключевых фраз | 1000 |
| Распознавание именованных сущностей | 1000 |
| Связывание сущностей | 1000 |

---

## <a name="rate-limits"></a>Ограничения скорости

Ограничение частоты зависит от [ценовой категории](https://azure.microsoft.com/pricing/details/cognitive-services/text-analytics/). Эти ограничения одинаковы для обеих версий API. Эти ограничения частоты не применяются к API "Анализ текста" для контейнерной службы для сферы здравоохранения, для которой не заданы такие ограничения.

| Уровень          | Число запросов в секунду | Число запросов в минуту |
|---------------|---------------------|---------------------|
| S / Несколько служб | 1000                | 1000                |
| S0/F0         | 100                 | 300                 |
| S1            | 200                 | 300                 |
| S2            | 300                 | 300                 |
| S3            | 500                 | 500                 |
| S4            | 1000                | 1000                |

Тарифы на запросы рассчитываются отдельно для каждого компонента Анализа текста. Можно отправить максимальное количество запросов для используемого ценового уровня для каждого компонента одновременно. Например, если вы используете уровень `S` и отправляете 1000 запросов одновременно, в течение 59 секунд вы не сможете отправить другой запрос.


## <a name="see-also"></a>См. также раздел

* [Что такое API "Анализ текста"?](../overview.md)
* [Сведения о тарифах](https://azure.microsoft.com/pricing/details/cognitive-services/text-analytics/)
