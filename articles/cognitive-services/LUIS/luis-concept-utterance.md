---
title: Хороший пример фразы продолжительностью-LUIS
description: Речевые фрагменты — это входные данные, поступившие от пользователя, которые расшифровываются приложением. Соберите фразы, которые вы ожидаете от ваших пользователей. Включите высказывания с одинаковым смыслом, но разным составом, количеством и расположением слов.
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 05/19/2020
ms.openlocfilehash: 46004d81756809958e359c2a0b72c143599c2853
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101706764"
---
# <a name="understand-what-good-utterances-are-for-your-luis-app"></a>Выясните, какие фразы лучше подходят для вашего приложения LUIS

**Высказываниями** называются входные данные, поступившие от пользователя, которые нужно расшифровать в приложении. Чтобы научить LUIS извлекать из этих данных намерения и сущности, нужно собрать разные варианты примеров фраз для каждого намерения. Активное обучение или процесс продолжения обучения на основе новых фразы продолжительностьюов является необходимым для аналитики машинного обучения, предоставляемой LUIS.

Соберите фразы, которые вы ожидаете от ваших пользователей. Включите фразы, которые означают одно и то же, но имеют различную структуру.

* Длина фразы — короткие, средние и длинные для клиентского приложения
* Длина слова и фразы
* Размещение слов — сущностей в середине, начале и конце фразы
* Грамматика
* Преобразование во множественную форму
* Морфология
* Выбор существительных и глаголов
* [Пунктуация](luis-reference-application-settings.md#punctuation-normalization) — хороший спектр, использующий правильную, неправильную и грамматику

## <a name="how-to-choose-varied-utterances"></a>Правильный подход к выбору высказываний

Когда вы начинаете [добавлять примеры высказываний](./luis-how-to-add-entities.md) в модель LUIS, учитывайте следующие принципы.

### <a name="utterances-arent-always-well-formed"></a>Высказывания не всегда оформляются правильно

Это может быть предложение, например "забронировать мне билет в Париж", или фрагмент предложения, например "бронирование" или "рейс в Париж".  Пользователи часто допускают ошибки. При планировании приложения следует отдельно рассмотреть необходимость использования [Проверки орфографии Bing](luis-tutorial-bing-spellcheck.md) для исправления текста перед передачей входных данных от пользователя в LUIS.

Если вы не применяете поверку орфографии для высказываний пользователя, необходимо обучать LUIS по высказываниям с типичными опечатками и ошибками.

### <a name="use-the-representative-language-of-the-user"></a>Используйте типичный для пользователей язык

При выборе высказываний не забывайте, что, по вашему мнению, типичные термины или фразы могут не быть правильными, с точки зрения пользователей клиентского приложения. Чаще всего у них нет опыта по вашей предметной области. Соблюдайте осторожность при выборе таких терминов или фраз, которые используют только эксперты.

### <a name="choose-varied-terminology-as-well-as-phrasing"></a>Соблюдайте разнообразие терминов и формулировок

Часто можно заметить, что даже при осознанных усилиях разнообразить виды и формы предложений многие слова будут повторяться.

Давайте рассмотрим такие примеры высказываний:

|Примеры высказываний|
|--|
|Как мне получить компьютер?|
|Где мне получить компьютер?|
|Я хочу получить компьютер, что мне нужно сделать?|
|Когда я могу получить компьютер?|

Основной термин, « *Computer*», не изменяется. Но пользователь может применять другие слова: настольный компьютер, ноутбук, рабочая станция или просто машина. LUIS может осуществлять интеллектуальный вывод синонимов из контекста, но при создании фразы продолжительностью для обучения всегда лучше изменить их.

## <a name="example-utterances-in-each-intent"></a>Примеры высказываний по каждому намерению

Для каждого намерения следует предоставить не менее 15 примеров высказываний. Если по какому-то намерению не будет ни одного примера высказываний, обучить LUIS будет невозможно. Если у вас есть цель с одним или несколькими примерами фразы продолжительностью, LUIS может не точно предсказать намерение.

## <a name="add-small-groups-of-15-utterances-for-each-authoring-iteration"></a>Добавляйте небольшие группы по 15 высказываний при каждой итерации разработки

Нежелательно добавлять большой объем высказываний за одну итерацию обучения модели. Лучше добавлять по 15 высказываний. Каждый раз повторяйте цикл [обучения](luis-how-to-train.md), [публикации](luis-how-to-publish-app.md) и [тестирования](luis-interactive-test.md).

LUIS создает эффективные модели, если высказывания подобраны автором модели правильно. Огромные объемы обучающих данных не повышают эффективность, а только создают путаницу.

Гораздо лучше начинать с нескольких высказываний, затем проверять правильность прогноза намерений и извлечения сущностей для [высказываний на конечной точке](luis-how-to-review-endpoint-utterances.md).

## <a name="utterance-normalization"></a>Нормализация utterance

Нормализация utterance — это процесс игнорирования эффектов типов текста, таких как пунктуация и диакритические знаки, во время обучения и прогнозирования.

Параметры нормализации utterance по умолчанию отключены. Эти параметры приведены ниже:

* Формы Word
* Знак
* Пунктуация

Если включить параметр нормализации, оценки в **тестовой** области, пакетных тестах и запросах конечной точки будут изменены для всех фразы продолжительностью для этого параметра нормализации.

При клонировании версии на портале LUIS параметры версии будут продолжаться до новой клонированной версии.

Задайте параметры версии с помощью портала LUIS, в разделе **Управление** на странице **Параметры приложения** или в [API параметров обновления версии](https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/versions-update-application-version-settings). Дополнительные сведения об этих изменениях нормализации см. в [справочнике](luis-reference-application-settings.md).

### <a name="word-forms"></a>Формы Word

Нормализация **форм Word** игнорирует различия в словах, которые выходят за пределы корня.

<a name="utterance-normalization-for-diacritics-and-punctuation"></a>

### <a name="diacritics"></a>Знак

Диакритические знаки помечаются или подписываются в тексте, например:

```
İ ı Ş Ğ ş ğ ö ü
```

### <a name="punctuation-marks"></a>Знаки препинания
Нормализация **знаков препинания** означает, что перед тем, как модели будут обучены и до прогнозирования запросов конечной точки, пунктуация будет удалена из фразы продолжительностью.

В LUIS пунктуация является отдельным маркером. Utterance, содержащий точку в конце, а utterance, не содержащий точку в конце, два отдельных фразы продолжительностью и могут получить два разных прогноза.

Если знаки препинания не нормализованы, LUIS не игнорирует знаки препинания по умолчанию, так как некоторые клиентские приложения могут полагаться на эти метки. Обязательно предоставляйте примеры высказываний со знаками препинания и без них, чтобы оба варианта возвращали приблизительно одинаковый результат оценки.

Убедитесь, что модель обрабатывает пунктуацию согласно примерам высказываний (имеющих и не имеющих пунктуации) или как [pattern](luis-concept-patterns.md), в котором пунктуацию легче игнорировать с помощью специального синтаксиса: `I am applying for the {Job} position[.]`.

Если в клиентском приложении не имеет особого значения, рассмотрите возможность [игнорирования](#utterance-normalization) знаков препинания путем нормализации знаков препинания.

### <a name="ignoring-words-and-punctuation"></a>Игнорирование слов и пунктуации

Если вы хотите игнорировать отдельные слова или знаки препинания в шаблонах, используйте [шаблон](luis-concept-patterns.md#pattern-syntax) с синтаксисом _Ignore_ квадратных скобок `[]` .

<a name="training-utterances"></a>

## <a name="training-with-all-utterances"></a>Обучение со всеми фразы продолжительностью

Обучение в общем случае не является детерминированным процессом, то есть прогнозы по одним и тем же высказываниям могут немного различаться в разных версиях приложений.
Можно удалить результаты недетерминированного обучения. Для этого настройте [API параметров версии приложения](https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/versions-update-application-version-settings) с одной и той же парой "имя — значение" `UseAllTrainingData` для использования всех данных обучения.

## <a name="testing-utterances"></a>Высказывания для тестирования

Разработчикам следует тестировать приложения LUIS по реальным данным, отправляя высказывания на URL-адрес [конечной точки прогнозирования](luis-how-to-azure-subscription.md). Такие высказывания позволяют повысить эффективность поиска намерений и сущностей, используя интерфейс [просмотра высказываний](luis-how-to-review-endpoint-utterances.md). Тесты, выполняемые на панели тестирования веб-сайта LUIS, не отправляются через конечную точку и не способствуют активному обучению.

## <a name="review-utterances"></a>Просмотр высказываний

Когда модель будет обучена, опубликована и готова принимать запросы на [конечной точке](luis-glossary.md#endpoint), [просмотрите предложенные LUIS высказывания](luis-how-to-review-endpoint-utterances.md). LUIS выбирает на конечной точке высказывания с низкими оценками по намерениям или сущностям.

## <a name="best-practices"></a>Рекомендации

Просмотрите [рекомендации](luis-concept-best-practices.md) и применяйте их в рамках регулярного цикла разработки.

## <a name="label-for-word-meaning"></a>Пометка для значения слова

Если выбор или расположение слов одинаковы, но имеют разное значение, их не нужно помечать с помощью сущности.

В следующих высказываниях слово `fair` является омографом. Оно пишется одинаково, но имеет другое значение:

|Речевой фрагмент|
|--|
|Какие ярмарки проходят неподалеку от Сиэтла этим летом?|
|Справедлива ли эта оценка за обзор Сиэтла?|

Если требуется, чтобы сущность события находила все данные события, пометьте слово `fair` в первом высказывании, а не во втором.


## <a name="next-steps"></a>Дальнейшие действия
Сведения о том, как обучить приложение LUIS пониманию высказываний пользователя, см. в статье [Добавление примеров высказываний и меток с сущностями](./luis-how-to-add-entities.md).