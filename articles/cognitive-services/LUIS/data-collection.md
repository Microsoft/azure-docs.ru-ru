---
title: Сбор данных
description: Сведения о примерах данных, которые необходимо получить при разработке приложения
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 05/06/2020
ms.openlocfilehash: c901d4024292ad03a9195ad0cbd226f473917ee4
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98738090"
---
# <a name="data-collection-for-your-app"></a>Сбор данных для приложения

Приложению Распознавание речи (LUIS) требуются данные в процессе разработки приложения.

## <a name="data-used-in-luis"></a>Данные, используемые в LUIS

LUIS использует текст в качестве данных для обучения и тестирования приложения LUIS для классификации [целей](luis-concept-intent.md) и для извлечения [сущностей](luis-concept-entity-types.md). Необходим большой набор данных, достаточный для создания отдельных наборов данных как для обучения, так и для тестирования, которые выделяются именно ниже.  Данные в каждом из этих наборов не должны перекрываться.

## <a name="training-data-selection-for-example-utterances"></a>Выбор обучающих данных, например фразы продолжительностью

Выберите фразы продолжительностью для обучающего набора, основываясь на следующих критериях:

* **Реальные данные лучше**:
    * **Реальные данные из клиентского приложения**: выберите фразы продолжительностью, которые являются реальными данными из клиентского приложения.  Если клиент отправляет веб-форму с запросом уже сегодня и вы создаете робот, вы можете начать с использования данных веб-формы.
    * **Публика-источник данных**: если у вас нет данных, рассмотрите возможность публика Sources фразы продолжительностью.  Попробуйте публика-Source фразы продолжительностью от фактического заполнения пользователя для вашего сценария, чтобы получить наилучшее приближение реальных данных, которые увидят приложение. Публика-Source фразы продолжительностью лучше, чем создаваемый компьютером фразы продолжительностью.  При создании набора данных искусственного фразы продолжительностью, созданного на конкретных шаблонах, у него не будет значительных вариаций, которые будут видны людям, создающим фразы продолжительностью, и не будут хорошо обобщаться в рабочей среде.
* **Разнообразие данных**:
    * **Разнообразие регионов**. Убедитесь, что данные для каждой цели являются как можно более разнообразными _, включая выражения_ (по выбору Word) и _грамматику_.  Если вы научитесь отказываться о политиках отдела кадров в днях отпуска, убедитесь, что у вас есть фразы продолжительностью, которые представляют термины, используемые для всех регионов, которые вы обслуживаете.  Например, в Европе люди могут спросить о них `taking a holiday` и в США `taking vacation days` .
    * **Разнообразие языков**. Если у вас есть пользователи с различными языковыми данными, взаимодействующими на втором языке, убедитесь, что у вас есть фразы продолжительностью, которые представляют несобственные динамики.
    * **Разнообразие входных** данных. Рассмотрите путь к входным данным. Если вы собираете данные от одного человека, отдела или устройства ввода (микрофон), скорее всего, отсутствует разнообразие, которое будет важным для приложения, чтобы узнать о всех входных путях.
    * **Разнообразие знаков препинания**. Рассмотрите, что люди используют различные уровни пунктуации в текстовых приложениях и должны иметь разнообразие использования знаков препинания. Если вы используете данные, поступающие из речи, они не будут иметь знаков препинания, поэтому данные не должны быть.
* **Распределение данных**. Убедитесь, что распределение данных между ними представляет собой один и тот же разворот данных, получаемых клиентским приложением. Если ваше приложение LUIS будет классифицировать фразы продолжительностью, которые запрашивают запланировать отпуск (50%), но он также увидит фразы продолжительностью о запросе о оставлении дней (20%), утверждение листья (20%) и некоторые из областей видимости и «ХИ2ТЕСТ Chat» (10%) Затем набор данных должен иметь выборку процентных значений для каждого типа utterance.
* **Использовать все формы данных**: Если приложение Luis будет принимать данные в нескольких формах, обязательно включите эти формы в обучающий фразы продолжительностью. Например, если клиентское приложение принимает как голосовые, так и вводимые текстовые данные, вам нужно будет создать фразы продолжительностью с речью в тексте, а также в типизированном фразы продолжительностью.  Вы увидите различные отличия от того, как люди говорят о том, как они намерены вводить, а также различные ошибки при распознавании речи и опечатках.  Все эти варианты должны быть представлены в данных для обучения.
* **Положительные и отрицательные примеры**. чтобы обучить приложение Luis, оно должно узнать о том, что такое намерение (положительное) и что оно не (отрицательное). В LUIS фразы продолжительностью может быть положительным только одним намерением. Когда utterance добавляется к намерению, LUIS автоматически делает этот же пример utterance отрицательным примером для всех других целей.
* **Данные вне области приложения**: Если приложение будет видеть фразы продолжительностью, которые выходят за пределы определенных целей, убедитесь, что они предоставлены. Примеры, не назначенные определенному намерению, будут помечены намерением **None** .  Очень важно иметь реалистичные примеры для правильного прогнозирования фразы продолжительностью, находящихся вне области определенных целей. 

    Например, если вы создаете программу HR Bot, сосредоточенную на времени выхода, и у вас есть три целей:
    * запланировать или изменить выход
    * запрос о доступных днях выхода
    * утвердить или отклонить выход

    Вы хотите убедиться в том, что у вас есть фразы продолжительностью, охватывающие оба этих способа, но это также покрывает потенциальный фразы продолжительностью за пределами области, которую приложение должно обслуживать следующим образом:
    * `What are my medical benefits?`
    * `Who is my HR rep?`
    * `tell me a joke`
* **Редкие примеры**. в приложении должны присутствовать редкие примеры, а также распространенные примеры.  Если приложение никогда не сталкивалось с редкими примерами, оно не сможет опознать их в рабочей среде. Если вы используете реальные данные, вы сможете точно предсказать, как ваше приложение LUIS будет работать в рабочей среде.

### <a name="quality-instead-of-quantity"></a>Качество вместо количества

Рассмотрите качество существующих данных перед добавлением дополнительных данных.  С помощью LUIS вы используете машинное обучение.  Ваше приложение LUIS использует сочетание меток и определяемых вами функций машинного обучения.  Он не просто полагается на количество меток, чтобы сделать наилучший прогноз.  Разнообразие примеров и их представление о том, что приложение LUIS будет видеть в рабочей среде, является самой важной частью.

### <a name="preprocessing-data"></a>Предварительная обработка данных

Следующие этапы предварительной обработки помогут создать лучшее приложение LUIS:

* **Удалить дубликаты**: дубликаты фразы продолжительностью не будут повредны, но они не помогают, поэтому их удаление сохранит время метки.
* **Применить ту же самую клиентскую и предварительную обработку приложения**: Если клиентское приложение, которое вызывает конечную точку прогнозирования Luis, применяет обработку данных во время выполнения перед отправкой текста в Luis, необходимо обучить приложение Luis на данных, которые обрабатываются таким же образом. Например, если клиентское приложение использует [Проверка орфографии Bing](../bing-spell-check/overview.md) для исправления орфографических входных данных в Luis, исправьте обучающий и тестовый фразы продолжительностью перед добавлением в Luis.
* **Не применяйте новые процессы очистки, которые не используются клиентским приложением**. Если клиентское приложение принимает текст, сформированный в виде речи, непосредственно без каких-либо средств очистки, таких как грамматика или пунктуация, фразы продолжительностью должен отражать то же, что и недостающие знаки препинания, а также любые другие средства распознавания, которые необходимо учитывать.
* **Не очищать данные**. не изменяйте некорректные входные данные, которые могут возникнуть из-за неискаженного распознавания речи, случайных нажатий клавиш или неправильного ввода текста. Если приложение будет видеть такие входные данные, важно, чтобы оно было обучено и протестировано. Добавьте _неправильно сформированное_ намерение ввода, если вы не предполагаете, что ваше приложение будет его понимать. Пометка этих данных, чтобы помочь LUIS приложению прогнозировать правильный ответ во время выполнения. Клиентское приложение может выбрать подходящий ответ на нечитаемый фразы продолжительностью, например `Please try again` .

### <a name="labeling-data"></a>Добавление меток к данным

* **Пометка текста как верного**: в примере фразы продолжительностью должны быть все формы сущности с меткой. Сюда входит текст с ошибками, неправильно введенные и неправильное преобразование.

### <a name="data-review-after-luis-app-is-in-production"></a>Проверка данных после того, как приложение LUIS находится в рабочей среде

[Проверьте фразы продолжительностью конечных точек](luis-concept-review-endpoint-utterances.md) , чтобы отслеживать реальный трафик utterance после развертывания приложения в рабочей среде.  Это позволит вам обновить фразы продолжительностью обучения с реальными данными, что позволит улучшить работу приложения. Любое приложение, созданное на основе данных с публика или нереальными сценариями, необходимо улучшить в зависимости от реального использования.

## <a name="test-data-selection-for-batch-testing"></a>Выбор тестовых данных для пакетного тестирования

Все описанные выше принципы для обучения фразы продолжительностью применяются к фразы продолжительностью, которые следует использовать для [набора тестов](./luis-how-to-batch-test.md). Убедитесь, что распределение между способами и сущностями зеркально отражает реальное распределение.

Не используйте фразы продолжительностью из обучающего набора в тестовом наборе. Это неправильно отменяет результаты и не даст вам указания о том, как приложение LUIS будет выполняться в рабочей среде.

После публикации первой версии приложения следует обновить тестовый набор с фразы продолжительностью, чтобы убедиться, что тестовый набор отражает Рабочее распределение, и вы можете отслеживать реалистичные показатели производительности за период времени.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Узнайте, как LUIS изменяет данные перед прогнозированием](luis-concept-data-alteration.md)