---
title: Разработка итеративных приложений — LUIS
titleSuffix: Azure Cognitive Services
description: LUIS лучше всего обучается на итеративных циклах изменения моделей, примерах высказываний, публикации содержимого и сборе данных из запросов к конечным точкам.
services: cognitive-services
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 07/06/2020
ms.openlocfilehash: 753d214b520affb59722bc29dbabc50c6e5968f6
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91538727"
---
# <a name="iterative-app-design-for-luis"></a>Итеративная разработка приложений для LUIS

Приложение Распознавание речи (LUIS) изучает и выполняет наиболее эффективное использование итерации. Вот типичный цикл итерации:

* Создать новую версию
* Измените схему приложения LUIS. В том числе:
    * Намерения с примером фразы продолжительностью
    * Сущности
    * Компоненты
* Обучение, тестирование и публикация
    * Тестирование в конечной точке прогнозирования для активного обучения
* Сбор данных из запросов конечной точки

![Цикл разработки](./media/luis-concept-app-iteration/iteration.png)

## <a name="building-a-luis-schema"></a>Создание схемы LUIS

Схема приложения определяет, что пользователь запрашивает ( _намерение_ или _намерение_ ) и какие части цели предоставляют сведения (называемые _сущностями_), которые используются для определения ответа.

Схема приложения должна быть специальной для доменов приложений, чтобы определять применимые слова и фразы, а также определять типичное упорядочение слов.

Пример фразы продолжительностью представляют входные данные пользователя, такие как распознанный голос или текст, которые приложение ждет во время выполнения.

Схема требует целей и _должна иметь_ сущности.

### <a name="example-schema-of-intents"></a>Пример схемы целей

Наиболее распространенная схема — это схема намерения, упорядоченная с использованием целей. Этот тип схемы использует LUIS для определения намерения пользователя.

Тип схемы намерения может иметь сущности, если он помогает LUIS определить намерение пользователя. Например, объект отгрузки (в качестве _функции машинного обучения_ ) помогает Luis определить цель отгрузки.

### <a name="example-schema-of-entities"></a>Пример схемы сущностей

Схема сущности фокусируется на сущностях, которые являются данными, извлеченными из пользователя фразы продолжительностью. Например, если пользователь хотел бы сказать: «я хочу заказать три пиццы». Есть две сущности, которые будут извлечены: _три_ и _пиццы_. Они используются для удовлетворения намерений, которые были внесены в заказ.

Для схемы сущности цель utterance менее важна для клиентского приложения.

Распространенным способом организации схемы сущности является добавление всех примеров фразы продолжительностью к намерениям **None** .

### <a name="example-of-a-mixed-schema"></a>Пример смешанной схемы

Самая мощная и зрелая схема — это схема намерения с полным набором сущностей и функций. Эта схема может начинаться как схема намерения или сущности и увеличиваться, чтобы включать в себя основные понятия, так как клиентское приложение нуждается в этих фрагментах информации.

## <a name="add-example-utterances-to-intents"></a>Добавить пример фразы продолжительностью к каждому из целей

LUIS требуется несколько примеров фразы продолжительностью в каждом **намерении**. В примере фразы продолжительностью требуется достаточно вариантов выбора слов и порядка слов, чтобы определить, для чего предназначено utterance.

> [!CAUTION]
> Не добавляйте пример фразы продолжительностью в групповой операции. Начните с 15 – 30 отдельных и различных примеров.

Каждый пример utterance должен иметь все **необходимые данные для извлечения** и пометки с **сущностями**.

|Key, элемент|Назначение|
|--|--|
|Блокировка с намерением|**Классифицировать** пользователя фразы продолжительностью в одну намерение или действие. Примеры: `BookFlight` и `GetWeather`.|
|Сущность|Чтобы завершить намерение, необходимо **извлечь** данные из utterance. К примерам относятся Дата и время поездки и расположение.|

Приложение LUIS может быть спроектировано таким образом, чтобы игнорировать фразы продолжительностью, не относящиеся к домену приложения, путем назначения utterance намерению **None** .

## <a name="test-and-train-your-app"></a>Тестирование и обучение приложения

После получения от 15 до 30 различных примеров, фразы продолжительностью в каждом намерении, с пометкой необходимых сущностей, необходимо протестировать и [обучить](luis-how-to-train.md) приложение Luis.

## <a name="publish-to-a-prediction-endpoint"></a>Публикация в конечной точке прогнозирования

Приложение LUIS должно быть опубликовано, чтобы оно было доступно в [областях прогнозирования конечных точек](luis-reference-regions.md).

## <a name="test-your-published-app"></a>Тестирование опубликованного приложения

Вы можете протестировать опубликованное приложение LUIS из конечной точки прогнозирования HTTPS. Тестирование из конечной точки прогнозирования позволяет LUIS выбирать любой фразы продолжительностью с низкой достоверностью для [проверки](luis-how-to-review-endpoint-utterances.md).

## <a name="create-a-new-version-for-each-cycle"></a>Создать новую версию для каждого цикла

Каждая версия является моментальным снимком времени приложения LUIS. Перед внесением изменений в приложение создайте новую версию. Проще вернуться к более старой версии, чем пытаться удалить способы и фразы продолжительностью предыдущее состояние.

ИД версии состоит из символов, цифр или точки ".". Его длина не может превышать 10 символов.

Исходная версия (0.1) является заданной по умолчанию активной версией.

### <a name="begin-by-cloning-an-existing-version"></a>Начните с клонирования существующей версии

Клонирование существующей версии для использования в качестве отправной точки для каждой новой версии. После клонирования версии новая версия станет **активной** .

### <a name="publishing-slots"></a>Слоты публикации

Вы можете опубликовать в рабочей области или в рабочих слотах. У слотов могут быть разные или одинаковые версии. Это полезно для проверки изменений перед публикацией в рабочей среде, доступной для программы-роботы или других вызывающих приложений LUIS.

Обученные версии не будут автоматически доступны на [конечной точке](luis-glossary.md#endpoint)приложения Luis. Необходимо [опубликовать](luis-how-to-publish-app.md) или повторно опубликовать версию, чтобы она была доступна в конечной точке приложения Luis. Вы можете опубликовать в **промежуточном** и **рабочем** месте, предоставив две версии приложения, доступные на конечной точке. Если требуется, чтобы в конечной точке были доступны дополнительные версии приложения, необходимо экспортировать версию и повторно импортировать ее в новое приложение. Новое приложение имеет другой идентификатор.

### <a name="import-a-version"></a>Импорт версии

Версию можно **импортировать** как новую:
* Приложение с новым ИДЕНТИФИКАТОРом приложения
* Версия существующего приложения

Эта версия станет активной версией и использует идентификатор версии в `versionId` свойстве файла приложения.

### <a name="export-a-version"></a>Экспорт версии

Версию можно **экспортировать** на портале Luis на уровне приложения или версии.

* Уровень приложения — выберите приложение на странице " **Мои приложения** ", а затем щелкните **Экспорт** .
* Уровень версии — выберите ссылку на приложение на странице " **Мои приложения** ", щелкните **Управление**, выберите **версии** .

Единственное отличие состоит в том, что уровень приложения, экспортированная версия является текущей активной версией на уровне версии, вы можете выбрать любую версию для экспорта на странице **[Параметры](luis-how-to-manage-versions.md)** .

Экспортированный файл **не** содержит:

* сведения о машинном обучении, так как приложение переучить после импорта
* Сведения о участнике

Чтобы создать резервную копию схемы приложения LUIS, экспортируйте версию на [портале Luis](https://www.luis.ai/applications).

## <a name="manage-contributor-changes-with-versions-and-contributors"></a>Управление изменениями участников с помощью версий и участников

LUIS использует концепцию участников в приложении, предоставляя разрешения уровня ресурса Azure. Объедините эту концепцию с управлением версиями, чтобы обеспечить целевую совместную работу.

Используйте следующие методы для управления изменениями участников приложения.

### <a name="manage-multiple-versions-inside-the-same-app"></a>Управление несколькими версиями внутри одного приложения

Начните с [клонирования](luis-how-to-manage-versions.md#clone-a-version) из базовой версии для каждого автора.

Каждый автор вносит изменения в собственную версию приложения. Когда автор удовлетворяет модели, экспортируйте новые версии в JSON-файлы.

Экспортированные приложения `.json` или `.lu` файлы можно сравнивать с изменениями. Объедините файлы, чтобы создать один файл новой версии. Измените `versionId` свойство, чтобы обозначить новую объединенную версию. Импортируйте эту версию в исходное приложение.

Этот метод позволяет иметь одну активную версию, одну промежуточную версию и одну опубликованную версию. Вы можете сравнить результаты активной версии с опубликованной версией (этап или рабочая) на [панели интерактивного тестирования](luis-interactive-test.md).

### <a name="manage-multiple-versions-as-apps"></a>Управление несколькими версиями как приложениями

[Экспортируйте](luis-how-to-manage-versions.md#export-version) базовую версию. Каждый разработчик импортирует версию. Человек, который импортирует приложение, является владельцем версии. Когда разработчики завершат вносить изменения в приложение, экспортируйте версию.

Экспортированные приложения представляют собой файлы формата JSON, которые можно сравнивать с базовой версией. Объедините файлы, чтобы создать один JSON-файл новой версии. Измените свойство **versionId** в JSON-файле для обозначения новой объединенной версии. Импортируйте эту версию в исходное приложение.

Узнайте больше о создании вкладов из [участников совместной работы](luis-how-to-collaborate.md).

## <a name="review-endpoint-utterances-to-begin-the-new-iterative-cycle"></a>Проверка конечной точки фразы продолжительностью для начала нового цикла итерации

По завершении цикла итерации можно повторить процесс. Начните с [проверки конечной точки прогнозирования фразы продолжительностью](luis-how-to-review-endpoint-utterances.md) Luis, помеченной с низким уровнем достоверности. Проверьте эти фразы продолжительностью и правильность прогнозируемого намерения и правильность и полноту извлеченных сущностей. После просмотра и принятия изменений список проверки должен быть пустым.

## <a name="next-steps"></a>Дальнейшие действия

Узнайте о принципах [совместной работы](luis-how-to-azure-subscription.md).
