---
title: Оптимизация Azure CDN для типа доставки содержимого
description: Узнайте, как сеть доставки содержимого Azure может оптимизировать доставку на основе типа содержимого. Рекомендации по оптимизации улучшают производительность и разгрузку источника.
services: cdn
documentationcenter: ''
author: asudbring
ms.service: azure-cdn
ms.topic: how-to
ms.date: 03/25/2019
ms.author: allensu
ms.openlocfilehash: 3d207ee09a76509a65a2645515b182f8d92753b0
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100387926"
---
# <a name="optimize-azure-cdn-for-the-type-of-content-delivery"></a>Оптимизация Azure CDN для типа доставки содержимого

При передаче содержимого большой аудитории очень важно оптимизировать доставку содержимого. [Сеть доставки содержимого (CDN) Azure](cdn-overview.md) может оптимизировать процесс доставки в зависимости от типа содержимого. В качестве содержимого может выступать веб-сайт, поток мультимедиа, видео или большой загружаемый файл. При создании конечной точки CDN сценарий оптимизации указывается в параметре **Оптимизировано для**. Выбранный сценарий оптимизации определяет, каким образом будет оптимизировано содержимое, доставляемое из конечной точки сети доставки содержимого.

В сценариях оптимизации используются рекомендуемые шаблоны поведения для повышения производительности доставки содержимого и более эффективной разгрузки источника. Выбранный сценарий влияет на производительность путем изменения конфигураций частичного кэширования, фрагментирования объектов и политики выполнения повторных попыток при возникновении ошибок для источника. 

В этой статье представлен обзор различных функций оптимизации и описано, когда их следует использовать. Дополнительные сведения о функциях и ограничениях см. в соответствующих статьях для каждого отдельного типа оптимизации.

> [!NOTE]
> При создании конечной точки CDN параметр **Оптимизировано для** может меняться в зависимости от созданного типа конечной точки профиля. Поставщики сети доставки содержимого Azure применяют улучшение различными способами в зависимости от сценария. 

## <a name="provider-options"></a>Параметры поставщика

**Azure CDN уровня "Стандартный" от Майкрософт** поддерживает следующие оптимизации.

* [Общая веб-доставка](#general-web-delivery). Эта оптимизация также используется для потоковой передачи мультимедиа и скачивания больших файлов.

> [!NOTE]
> Динамическое ускорение сайтов от Майкрософт предлагается через [службу "Передняя дверь" Azure](../frontdoor/front-door-overview.md).

**Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** поддерживают следующие оптимизации.

* [Общая веб-доставка](#general-web-delivery). Эта оптимизация также используется для потоковой передачи мультимедиа и скачивания больших файлов.

* [Динамическое ускорение сайтов](#dynamic-site-acceleration) 


**Azure CDN уровня "Стандартный" от Akamai** поддерживает следующие оптимизации.

* [Общая веб-доставка](#general-web-delivery) 

* [Общая потоковая передача мультимедиа](#general-media-streaming)

* [Потоковая передача видео по запросу](#video-on-demand-media-streaming)

* [Скачивание больших файлов](#large-file-download)

* [Динамическое ускорение сайтов](#dynamic-site-acceleration) 

Корпорация Майкрософт рекомендует сравнить производительность между разными поставщиками, чтобы правильно выбрать оптимального поставщика для вашего сценария доставки.

## <a name="select-and-configure-optimization-types"></a>Выбор и настройка типов оптимизации

Чтобы создать новую конечную точку, выберите тип оптимизации, который наилучшим образом соответствует сценарию и типу содержимого, которое должна предоставлять конечная точка. 

По умолчанию выбрана **Общая веб-доставка**. Обновление **Azure CDN Standard из** конечных точек Akamai можно обновить в любое время. 

Для **Azure CDN Standard от корпорации майкрософт** **Azure CDN Standard от Verizon** и **Azure CDN Premium от Verizon**, вы не можете.

1. Выберите конечную точку в профиле **Azure CDN уровня "Стандартный" от Akamai**.

    ![Выбор конечной точки](./media/cdn-optimization-overview/01_Akamai.png)

2. В разделе Параметры выберите **Оптимизация**. Затем выберите тип из раскрывающегося списка **оптимизировано для** .

    ![Оптимизация и тип выбора](./media/cdn-optimization-overview/02_Select.png)

## <a name="optimization-for-specific-scenarios"></a>Оптимизация для конкретных сценариев

Вы можете оптимизировать конечную точку сети доставки содержимого для одного из этих сценариев. 

### <a name="general-web-delivery"></a>Общая веб-доставка

Наиболее распространенный вариант оптимизации — общая веб-доставка. Она предназначена для оптимизации общего веб-содержимого, такого как веб-страницы и веб-приложения. Эту оптимизацию также можно использовать для скачивания файлов и видео.

Типичный веб-сайт включает статическое и динамическое содержимое. К статическому содержимому относятся изображения, библиотеки JavaScript и таблицы стилей, которые можно кэшировать и доставлять различным пользователям. Динамическое содержимое персонализировано для отдельных пользователей (например, новости, которые привязаны к профилю пользователя). Динамическое содержимое (например, содержимое корзины покупателя) не кэшируется, поскольку оно уникально для каждого пользователя. С помощью общей веб-доставки можно оптимизировать весь веб-сайт. 

> [!NOTE]
> Если вы используете **Azure CDN уровня "Стандартный" от Akamai**, эта оптимизация полезна для файлов со средним размером не более 10 МБ. В противном случае, если средний размер файла превышает 10 МБ, выберите **Скачивание больших файлов** в раскрывающемся списке **Оптимизировано для**.

### <a name="general-media-streaming"></a>Общая потоковая передача мультимедиа

Если необходимо использовать конечную точку для динамической потоковой передачи и потоковой передачи видео по запросу, рекомендуется использовать оптимизацию общей потоковой передачи мультимедиа.

Потоковая передача мультимедиа зависит от времени, так как при позднем поступлении пакетов у клиента могут возникнуть неудобства при просмотре, например из-за частой буферизации видео. Потоковая оптимизация позволяет сократить задержку доставки содержимого мультимедиа и обеспечивает бесперебойную потоковую передачу для пользователей. 

Этот сценарий характерен для клиентов службы мультимедиа Azure. При использовании служб мультимедиа Azure вы получаете одну конечную точку потоковой передачи, которая может использоваться как для потоковой передачи в реальном времени, так и для потоковой передачи по запросу. В этом сценарии клиентам не требуется переключаться на другую конечную точку при переходе от потоковой передачи в реальном времени к потоковой передаче по запросу. Оптимизация общей потоковой передачи мультимедиа поддерживает такой сценарий.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для потоковой передачи обычного мультимедийного содержимого.

Дополнительные сведения об оптимизации потоковой передачи мультимедиа см. в статье [Оптимизация потоковой передачи мультимедиа через сеть доставки содержимого Azure](cdn-media-streaming-optimization.md).

### <a name="video-on-demand-media-streaming"></a>Потоковая передача видео по запросу

Оптимизация потоковой передачи видео по запросу улучшает потоковую передачу видео по запросу. При использовании конечной точки для потоковой передачи видео по запросу можно использовать этот вариант оптимизации.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для потоковой передачи мультимедийного содержимого видео по запросу.

Дополнительные сведения об оптимизации потоковой передачи мультимедиа см. в статье [Оптимизация потоковой передачи мультимедиа через сеть доставки содержимого Azure](cdn-media-streaming-optimization.md).

> [!NOTE]
> Если конечная точка CDN используется преимущественно для доставки видео по запросу, используйте этот тип оптимизации. Основное различие между этим типом оптимизации и общим типом оптимизации потоковой передачи мультимедиа — время ожидания повтора соединения. Время ожидания значительно сокращается для работы с сценариями динамической потоковой передачи.
>

### <a name="large-file-download"></a>Скачивание больших файлов

В **Azure CDN уровня "Стандартный" от Akamai** оптимизация скачивания больших файлов рассчитана на содержимое с размером файлов более 10 МБ. Если в вашем сценарии средний размер файлов меньше 10 МБ, используйте оптимизацию для общей веб-доставки. Если средний размер файла существенно превышает 10 МБ, следует создать отдельную конечную точку для больших файлов. Например, обновления встроенного программного обеспечения или обычного программного обеспечения обычно включают большие файлы. Для доставки файлов, размер которых превышает 1,8 ГБ, обязательно используйте оптимизацию скачивания больших файлов.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для доставки файлов большого размера. Здесь нет ограничений на размер файла для скачивания.

Дополнительные сведения об оптимизации скачивания больших файлов см. в разделе [Оптимизация скачивания больших файлов через сеть доставки содержимого Azure](cdn-large-file-optimization.md).

### <a name="dynamic-site-acceleration"></a>Динамическое ускорение сайтов

 Динамическое ускорение сайтов доступно для следующих профилей: **Azure CDN уровня "Стандартный" от Akamai**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon**. За использование этой оптимизации взимается дополнительная плата. Дополнительные сведения см. на странице [цен на сеть доставки содержимого](https://azure.microsoft.com/pricing/details/cdn/).

> [!NOTE]
> Динамическое ускорение сайтов от корпорации Майкрософт предлагается через [службу "Передняя дверь" Azure](../frontdoor/front-door-overview.md) , которая представляет собой глобальную службу [рассылки](https://en.wikipedia.org/wiki/Anycast) , использующую частные глобальные сети Майкрософт для доставки рабочих нагрузок приложений.

Динамическое ускорение сайтов включает различные методы, которые уменьшают задержку и повышают производительность для динамического содержимого. К таким методам относятся оптимизация маршрутов и сети, оптимизация TCP и др. 

Такую оптимизацию можно применить для ускорения веб-приложения, в котором используются несколько ответов, которые невозможно кэшировать. К ним относятся, например, результаты поиска, транзакции покупок и данные в реальном времени. Для статических данных можно использовать базовые функции кэширования сети доставки содержимого Azure. 

Дополнительные сведения о динамическом ускорении сайтов см. в статье [Динамическое ускорение сайтов с помощью Azure CDN](cdn-dynamic-site-acceleration.md).