---
title: Управление режимом кэширования Azure CDN с помощью строк запросов (ценовая категория "Стандартный")
description: Функция кэширования строк запросов в Azure CDN позволяет управлять режимом кэширования файлов, когда веб-запрос содержит строку запроса. В этой статье описывается кэширование строк запросов в продуктах Azure CDN ценовой категории "Стандартный".
services: cdn
documentationcenter: ''
author: asudbring
manager: danielgi
editor: ''
ms.assetid: 17410e4f-130e-489c-834e-7ca6d6f9778d
ms.service: azure-cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: how-to
ms.date: 06/11/2018
ms.author: allensu
ms.openlocfilehash: 1521d08ef9d431bbe8b3fd3a578297d440ed56b3
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96018585"
---
# <a name="control-azure-cdn-caching-behavior-with-query-strings---standard-tier"></a>Управление режимом кэширования Azure CDN с помощью строк запросов (ценовая категория "Стандартный")
> [!div class="op_single_selector"]
> * [Уровень служб "Стандартный"](cdn-query-string.md)
> * [Уровень Премиум](cdn-query-string-premium.md)
> 

## <a name="overview"></a>Обзор
С помощью сети доставки содержимого (CDN) Azure можно управлять способом кэширования файлов для веб-запроса, который содержит строку запроса. В веб-запросе строка запроса — это часть запроса, которая следует после вопросительного знака (?). Строка запроса может содержать одну или несколько пар "ключ-значение", в которых имя поля и его значение разделяются знаком равенства (=). Каждая пара "ключ-значение" разделяется знаком амперсанда (&). Например, http:\//www.contoso.com/content.mov?field1=value1&field2=value2. Если в строке запроса имеется несколько пар "ключ-значение", их порядок не имеет значения. 

> [!IMPORTANT]
> Продукты Azure CDN уровня "Стандартный" и "Премиум" предоставляют одинаковые возможности кэширования строк запроса, но имеют разные пользовательские интерфейсы. В этой статье описывается пользовательский интерфейс для Azure CDN уровня "Стандартный" от **Майкрософт**, **Akamai** и **Verizon**. Дополнительные сведения о кэшировании строк запроса с помощью **Azure CDN уровня "Премиум" от Verizon** см. в статье [Управление режимом кэширования сети доставки содержимого Azure с помощью строк запросов (ценовая категория "Премиум")](cdn-query-string-premium.md).

Доступны три режима строки запроса:

- **Пропуск строк запросов**. Режим по умолчанию. В этом режиме точка подключения (узел POP) CDN передает строки запросов от запрашивающей стороны на сервер-источник по первому запросу и кэширует ресурс. Все последующие запросы к этому ресурсу, которые обслуживаются из точки подключения, будут пропускать строки запроса до истечения срока действия кэшированного ресурса.

- **Обход кэширования для строк запросов**. В этом режиме запросы со строкой запроса не кэшируются на узле POP CDN. Узел POP получает ресурс непосредственно от сервера-источника и передает его запрашивающей стороне с каждым запросом.

- **Кэширование каждого уникального URL-адреса**. В этом режиме каждый запрос с уникальным URL-адресом, включая строку запроса, считается уникальным ресурсом с собственным кэшем. Например, ответ сервера-источника для запроса к example.ashx?q=test1 сохраняется в кэше на узле POP и возвращается для всех последующих кэшей с этой же строкой запроса. Запрос к example.ashx?q=test2 будет кэшироваться как отдельный ресурс с собственным сроком существования.
   
    >[!IMPORTANT] 
    > Не используйте этот режим, если строка запроса содержит параметры, которые изменяются при каждом запросе, например идентификатор сеанса или имя пользователя, так как это приведет к низкому коэффициенту попадания в кэш.

## <a name="changing-query-string-caching-settings-for-standard-cdn-profiles"></a>Изменение параметров кэширования строки запроса для профилей CDN уровня "Стандартный"
1. Откройте профиль CDN, а затем выберите конечную точку CDN, которой вы хотите управлять.
   
   ![Конечные точки профиля CDN](./media/cdn-query-string/cdn-endpoints.png)
   
2. В области слева в разделе "Параметры" щелкните **Правила кэширования**.
   
    ![Кнопка "Правила кэширования" CDN](./media/cdn-query-string/cdn-caching-rules-btn.png)
   
3. В списке **Режим кэширования строк запросов** выберите нужный режим и нажмите кнопку **Сохранить**.
   
   ![Параметры кэширования строк запроса CDN](./media/cdn-query-string/cdn-query-string.png)

> [!IMPORTANT]
> Так как передача регистрационных сведений по сети Azure CDN может занять некоторое время, параметры кэширования строк изменяются не сразу.
> - Для профилей **Azure CDN категории "Стандартный" от Майкрософт** распространение обычно выполняется в течение 10 минут. 
> - Для профилей **Azure CDN уровня "Стандартный" от Akamai** распространение обычно завершается в течение одной минуты. 
> - Для профилей **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** распространение обычно выполняется в течение 10 минут. 



