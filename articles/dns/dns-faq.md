---
title: Часто задаваемые вопросы — Azure DNS
description: В этой статье вы узнаете о часто задаваемых вопросах о Azure DNS
services: dns
author: rohinkoul
ms.service: dns
ms.topic: article
ms.date: 01/11/2021
ms.author: rohink
ms.openlocfilehash: cb14cb95ec1362782a634b0e62cfa2f8237a5852
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98246388"
---
# <a name="azure-dns-faq"></a>Вопросы и ответы об Azure DNS

## <a name="about-azure-dns"></a>Сведения об Azure DNS

### <a name="what-is-azure-dns"></a>Что такое Azure DNS?

Служба доменных имен (DNS) переводит или разрешает имя веб-сайта или службы на их IP-адрес. Azure DNS является службой размещения для доменов DNS. Она предоставляет разрешение имен с помощью инфраструктуры Microsoft Azure. Размещая домены в Azure, вы можете управлять своими записями DNS с помощью тех же учетных данных, API и инструментов и оплачивать использование, как и другие службы Azure.

Домены DNS в Azure DNS размещаются в глобальной сети DNS-серверов Azure. Эта служба использует адресацию любому устройству сети, чтобы на каждый запрос DNS отвечал ближайший доступный DNS-сервер. Azure DNS обеспечивает высокую скорость обработки запросов и высокую доступность для вашего домена.

Служба Azure DNS работает на основе Azure Resource Manager. Azure DNS преимущества диспетчер ресурсов функций, таких как управление доступом на основе ролей Azure, журналы аудита и блокировка ресурсов. Доменами и записями можно управлять с помощью портала Azure, командлетов Azure PowerShell и кроссплатформенного Azure CLI. Приложения, требующие автоматического управления DNS, можно интегрировать со службой с помощью REST API и пакетов SDK.

### <a name="how-much-does-azure-dns-cost"></a>Сколько стоит использование Azure DNS?

Модель выставления счетов DNS Azure основана на количестве зон DNS, размещенных в Azure DNS. Она также основана на количестве полученных запросов DNS. На основе использования предоставляются скидки.

Дополнительные сведения см. на [странице цен на Azure DNS](https://azure.microsoft.com/pricing/details/dns/).

### <a name="what-is-the-sla-for-azure-dns"></a>Каково Соглашение об уровне обслуживания для Azure DNS?

Azure гарантирует, что в 100 % случаев на допустимые запросы DNS поступит ответ хотя бы от одного DNS-сервера Azure.

Дополнительные сведения см. на [странице соглашения об уровне обслуживания для Azure DNS](https://azure.microsoft.com/support/legal/sla/dns).

### <a name="what-is-a-dns-zone-is-it-the-same-as-a-dns-domain"></a>Что такое "зона DNS"? Это то же самое, что и домен DNS? 

Домен — это уникальное имя в службе доменных имен. Например, contoso.com.

Зона DNS используется для размещения DNS-записей определенного домена. Например, домен contoso.com может содержать несколько записей DNS. Записи могут включать mail.contoso.com для почтового сервера и www \. contoso.com для веб-сайта. Эти записи размещаются в зоне DNS contoso.com.

Доменное имя — это *просто имя*. Зона DNS — это ресурс данных, который содержит записи DNS для имени домена. С помощью Azure DNS вы можете разместить зону DNS и управлять записями DNS для домена в Azure. Также предоставляются DNS-серверы для ответа на запросы DNS из Интернета.

### <a name="do-i-need-to-buy-a-dns-domain-name-to-use-azure-dns"></a>Необходимо ли приобретать имя домена DNS для использования Azure DNS? 

Не обязательно.

Вам не потребуется приобретать домен для размещения зоны DNS в Azure DNS. Вы можете создать зону DNS в любой момент, не владея доменным именем. Запросы DNS для данной зоны будут разрешены только в том случае, если они направлены на DNS-серверы Azure, назначенные этой зоне.

Чтобы привязать зону DNS к глобальной иерархии DNS, необходимо купить доменное имя. Затем запросы DNS из любой точки мира найдут зону DNS и ответ с помощью записи DNS.

## <a name="azure-dns-features"></a>Возможности Azure DNS

### <a name="are-there-any-restrictions-when-using-alias-records-for-a-domain-name-apex-with-traffic-manager"></a>Существуют ли ограничения при использовании записей псевдонимов для верхнего имени домена с диспетчером трафика?

Да. С диспетчером трафика Azure необходимо использовать статические общедоступные IP-адреса. Настройте целевую **внешнюю конечную точку**, используя статический IP-адрес. 

### <a name="does-azure-dns-support-dns-based-traffic-routing-or-endpoint-failover"></a>Azure DNS поддерживает маршрутизацию трафика на основе DNS и отработку отказа конечных точек?

Маршрутизацию трафика на основе DNS и отработку отказа конечных точек обеспечивает диспетчер трафика Azure. Диспетчер трафика Azure — это отдельная служба Azure, которая может использоваться вместе с Azure DNS. Дополнительные сведения см. в разделе [Обзор диспетчера трафика](../traffic-manager/traffic-manager-overview.md).

Azure DNS поддерживает только размещение "статических" доменов DNS, в которых на каждый запрос DNS для определенной записи DNS всегда передается одинаковый ответ DNS.

### <a name="does-azure-dns-support-domain-name-registration"></a>Поддерживает ли Azure DNS регистрацию доменных имен?

Нет. Чтобы приобрести доменные имена, сейчас Azure DNS не поддерживает параметр. Чтобы купить домены, необходимо использовать регистратор сторонних доменных имен. Регистратор обычно взимает небольшую годовую плату. Затем вы сможете разместить домены в Azure DNS, чтобы управлять записями DNS. Дополнительные сведения см. в статье [Делегирование домена в Azure DNS](dns-domain-delegation.md).

Возможность приобрести доменные имена отслеживается в очереди невыполненной работы Azure. Вы можете воспользоваться нашим сайтом для отзывов, чтобы [поддержать эту функцию](https://feedback.azure.com/forums/217313-networking/suggestions/4996615-azure-should-be-its-own-domain-registrar).

### <a name="does-azure-dns-support-dnssec"></a>Поддерживает ли Azure DNS набор DNSSEC?

Нет. Сейчас Azure DNS не поддерживает модуль безопасности службы доменных имен (DNSSEC).

Функция DNSSEC отслеживается в очереди невыполненной работы Azure DNS. Вы можете воспользоваться нашим сайтом для отзывов, чтобы [поддержать эту функцию](https://feedback.azure.com/forums/217313-networking/suggestions/13284393-azure-dns-needs-dnssec-support).

### <a name="does-azure-dns-support-zone-transfers-axfrixfr"></a>Поддерживает ли Azure DNS передачу зон (AXFR-IXFR)?

Нет. Сейчас Azure DNS не поддерживает передачу зон. Зоны DNS можно [импортировать в Azure DNS с помощью Azure CLI](dns-import-export.md). Затем записями DNS можно управлять с помощью [портала управления Azure DNS](dns-operations-recordsets-portal.md), нашего [REST API](/powershell/module/az.dns), [пакета SDK](dns-sdk.md), [командлетов PowerShell](dns-operations-recordsets.md) или [программы командной строки](dns-operations-recordsets-cli.md).

Функция передачи зон отслеживается в очереди невыполненной работы Azure DNS. Вы можете воспользоваться нашим сайтом для отзывов, чтобы [поддержать эту функцию](https://feedback.azure.com/forums/217313-networking/suggestions/12925503-extend-azure-dns-to-support-zone-transfers-so-it-c).

### <a name="does-azure-dns-support-url-redirects"></a>Поддерживает ли Azure DNS перенаправление URL-адресов?

Нет. Службы перенаправления URL-адреса не являются службой DNS. Они работают на уровне HTTP, а не на уровне DNS. Некоторые поставщики DNS связывают службу перенаправления URL-адресов со своим предложением. На данный момент Azure DNS не поддерживает эту функцию.

Функция перенаправления URL-адреса отслеживается в очереди невыполненной работы Azure DNS. Вы можете воспользоваться нашим сайтом для отзывов, чтобы [поддержать эту функцию](https://feedback.azure.com/forums/217313-networking/suggestions/10109736-provide-a-301-permanent-redirect-service-for-ape).

### <a name="does-azure-dns-support-the-extended-ascii-encoding-8-bit-set-for-txt-record-sets"></a>Поддерживает ли Azure DNS расширенную версию таблицы ASCII (8-бит) для набора записей типа TXT?

Да. Azure DNS поддерживает расширенную версию таблицы ASCII для набора записей типа TXT. Необходимо использовать последнюю версию интерфейсов API REST Azure, пакетов SDK, PowerShell и интерфейса командной строки. Версии, выпущенные после 1 октября 2017 г., или пакет SDK 2.1 не поддерживают расширенный набор ASCII. 

Например, вы можете ввести строку в качестве значения записи типа TXT с символами из расширенной таблицы ASCII \128. Например, "abcd\128efgh". Azure DNS во внутреннем представлении использует байтовое значение этого символа, равное 128. Это байтовое значение также возвращается с ответом в момент разрешения DNS. Обратите внимание, что "abc" и "\097\098\099" являются взаимозаменяемыми с точки зрения разрешения. 

Для записей типа TXT мы придерживаемся правил экранирования основного формата файла зоны [RFC 1035](https://www.ietf.org/rfc/rfc1035.txt). Например, `\` теперь фактически экранирует все данные в соответствии с требованиями RFC. Если указать `A\B` в качестве значения записи типа TXT, оно будет представлено и разрешено просто как `AB`. Если вам действительно нужно, чтобы запись типа TXT содержала `A\B` и имела желаемое разрешение, необходимо еще раз экранировать `\`. Например, укажите `A\\B`.

Поддержка этой возможности сейчас недоступна для записей типа TXT, созданных на портале Azure.

## <a name="alias-records"></a>Записи псевдонимов

### <a name="what-are-some-scenarios-where-alias-records-are-useful"></a>В каких сценариях полезны записи псевдонимов?

См. раздел сценариев статьи [Обзор записей псевдонимов Azure DNS](dns-alias.md).

### <a name="what-record-types-are-supported-for-alias-record-sets"></a>Какие типы записей поддерживаются для наборов записей псевдонимов?

Наборы записей псевдонимов поддерживаются для следующих типов записей в зоне DNS Azure:
 
- A; 
- AAAA;
- CNAME. 

### <a name="what-resources-are-supported-as-targets-for-alias-record-sets"></a>Какие ресурсы поддерживаются в качестве целевых объектов для наборов записей псевдонимов?

- **Выберите ресурс общедоступного IP-адреса из набора DNS-записей A/AAAA**. Можно создать набор записей A/AAAA и сделать его набором записей псевдонимов, указывающим на ресурс общедоступного IP-адреса.
- **Выберите профиль диспетчера трафика из набора DNS-записей A/AAAA/CNAME**. Можно выбрать CNAME профиля диспетчера трафика из набора DNS-записей CNAME. Например, contoso.trafficmanager.net. Теперь также можно выбрать профиль диспетчера трафика, который имеет внешние конечные точки из наборов записей A или AAAA в зоне DNS.
- **Укажите конечную точку сети доставки содержимого (CDN) Azure**. Это полезно при создании статических веб-сайтов с помощью службы хранилища Azure и Azure CDN.
- **Выберите другой набор DNS-записей в пределах той же зоны**. Записи псевдонимов могут ссылаться на другие наборы записей того же типа. Например, вы можете иметь набор записей DNS CNAME, как псевдоним для другого набора записей CNAME того же типа. Такой подход полезен в том случае, если вы хотите, чтобы некоторые наборы записей были псевдонимами, а некоторые ими не были.

### <a name="can-i-create-and-update-alias-records-from-the-azure-portal"></a>Можно ли создавать и изменять записи псевдонимов на портале Azure?

Да. Можно создать записи псевдонимов или управлять ими на портале Azure, а также интерфейсами REST API Azure, PowerShell, интерфейсом командной строки и пакетами SDK.

### <a name="will-alias-records-help-to-make-sure-my-dns-record-set-is-deleted-when-the-underlying-public-ip-is-deleted"></a>Помогают ли записи псевдонимов гарантировать, что мой набор записей DNS удаляется при удалении базового общедоступного IP-адреса?

Да. Это одна из основных возможностей записей псевдонимов. Они помогут избежать возможных простоев с точки зрения пользователей приложения.

### <a name="will-alias-records-help-to-make-sure-my-dns-record-set-is-updated-to-the-correct-ip-address-when-the-underlying-public-ip-address-changes"></a>Помогают ли записи псевдонимов гарантировать, что мой набор записей DNS будет обновлен на правильный IP-адрес при изменении базового общедоступного IP-адреса?

Да. Это одна из основных возможностей записей псевдонимов. Они помогают избежать возможных простоев или угроз безопасности с точки зрения пользователей приложения.

### <a name="are-there-any-restrictions-when-using-alias-record-sets-for-a-or-aaaa-records-to-point-to-traffic-manager"></a>Существуют ли ограничения при использовании наборов записей псевдонимов для записей A или AAAA для указания на диспетчер трафика?

Да. Чтобы указать на профиль диспетчера трафика в качестве псевдонима из набора записей A или AAAA, необходимо, чтобы профиль диспетчера трафика использовал только внешние конечные точки. При создании внешних конечных точек в диспетчере трафика укажите фактические IP-адреса конечных точек.

### <a name="is-there-an-additional-charge-to-use-alias-records"></a>Взимается ли дополнительная плата за использование записей псевдонимов?

Записи псевдонима являются квалификациями в допустимом наборе записей DNS. Для записей псевдонимов не существует дополнительного выставления счетов.

## <a name="use-azure-dns"></a>Использование Azure DNS

### <a name="can-i-co-host-a-domain-by-using-azure-dns-and-another-dns-provider"></a>Можно ли совместно разместить домен с помощью Azure DNS и другого поставщика DNS?

Да. Azure DNS поддерживает совместное размещение доменов с другими службами DNS.

Чтобы настроить совместное размещение, измените записи NS для домена, чтобы они указывали на серверы имен обоих поставщиков. Сервер доменных имен (NS) записывает элемент управления, для домена которого поставщики получают запросы DNS. Эти записи NS можно изменить в Azure DNS, в другом поставщике и в родительской зоне. Родительская зона обычно настраивается с помощью регистратора доменных имен. Дополнительные сведения о делегировании DNS см. в разделе [Делегирование зон DNS с помощью Azure DNS](dns-domain-delegation.md).

Кроме того, убедитесь, что записи DNS для домена синхронизированы между обоими поставщиками DNS. Сейчас Azure DNS не поддерживает передачу зон DNS. Необходимо синхронизировать записи DNS с помощью [портала управления Azure DNS](dns-operations-recordsets-portal.md), [REST API](/rest/api/dns/), [пакета SDK](dns-sdk.md), [командлетов PowerShell](dns-operations-recordsets.md) или [программы командной строки](dns-operations-recordsets-cli.md).

### <a name="do-i-have-to-delegate-my-domain-to-all-four-azure-dns-name-servers"></a>Мне следует делегировать мой домен на все четыре DNS-сервера Azure?

Да. Каждой зоне DNS Azure DNS назначает четыре сервера доменных имен. Этот подход предназначен для устранения ошибок и повышения устойчивости. Для соблюдения Соглашения об уровне обслуживания Azure DNS необходимо делегировать домен на все четыре сервера доменных имен.

### <a name="what-are-the-usage-limits-for-azure-dns"></a>Как ограничивается использование Azure DNS?

При использовании Azure DNS применяются приведенные ниже ограничения по умолчанию.

[!INCLUDE [dns-limits](../../includes/dns-limits.md)]

### <a name="can-i-move-an-azure-dns-zone-between-resource-groups-or-between-subscriptions"></a>Можно ли перемещать зону Azure DNS между группами ресурсов или подписками?

Да. Зоны DNS можно перемещать между группами ресурсов или подписками.

Это никак не повлияет на запросы DNS при перемещении зоны DNS. Серверы доменных имен, назначенные зоне, остаются теми же. Запросы DNS обрабатываются в обычном режиме в течение всего времени.

Дополнительные сведения и инструкции по перемещению зон DNS приведены в разделе [Перемещение ресурсов в новую группу ресурсов или подписку](../azure-resource-manager/management/move-resource-group-and-subscription.md).

### <a name="how-long-does-it-take-for-dns-changes-to-take-effect"></a>Сколько времени требуется, чтобы изменения в DNS вступили в силу?

Новые зоны DNS и записи DNS обычно быстро появляются в серверах доменных имен Azure DNS. На это уходит несколько секунд.

На изменение существующих записей DNS уходит больше времени. Они обычно появляются на Azure DNS-серверах в течение 60 секунд. DNS, кэшированная DNS-клиентами и рекурсивными распознавателями DNS за пределами Azure DNS, может повлиять на время. Чтобы управлять длительностью этого кэширования, используйте свойство срока жизни (TTL) каждого набора записей.

### <a name="how-can-i-protect-my-dns-zones-against-accidental-deletion"></a>Как защитить мои зоны DNS от ненамеренного удаления?

С помощью Azure Resource Manager можно управлять Azure DNS. Azure DNS извлекает пользу из возможностей управления доступом, которые предоставляет Azure Resource Manager. Управление доступом на основе ролей Azure можно использовать для управления тем, какие пользователи имеют доступ на чтение или запись в зонах DNS и наборах записей. Можно блокировать ресурсы, чтобы предотвратить ненамеренное изменение или удаление зон DNS и наборов записей.

Дополнительные сведения см. в статье [Как защитить зоны и записи DNS](dns-protect-zones-recordsets.md).

### <a name="how-do-i-set-up-spf-records-in-azure-dns"></a>Как настроить записи SPF в Azure DNS?

[!INCLUDE [dns-spf-include](../../includes/dns-spf-include.md)]

### <a name="do-azure-dns-name-servers-resolve-over-ipv6"></a>Выполняется ли на DNS-серверах разрешение по протоколу IPv6? 

Да. Azure DNS-серверы являются 	двойными стеками. Двойной стек означает, что у них есть IPv4- и IPv6-адреса. Чтобы найти IPv6-адреса для Azure DNS-серверов, назначенных зоне DNS, можно использовать такой инструмент, как nslookup. Например, `nslookup -q=aaaa <Azure DNS Nameserver>`.

### <a name="how-do-i-set-up-an-idn-in-azure-dns"></a>Как настроить записи IDN в Azure DNS?

Международные доменные имена (IDN) создаются путем кодирования DNS-имен в формат [punycode](https://en.wikipedia.org/wiki/Punycode). Запросы DNS выполняются с использованием этих имен в формате punycode.

Чтобы настроить имена IDN в Azure DNS, преобразуйте имя зоны или набора записей в punycode. Azure DNS в настоящее время не поддерживает встроенное преобразование в punycode.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные [сведения о Azure DNS](dns-overview.md).

- [Использование Azure DNS для частных доменов](private-dns-overview.md).

- [Дополнительные сведения о зонах и записях DNS](dns-zones-records.md).

- [Краткое руководство. Настройка Azure DNS для разрешения имен с помощью портала Azure](dns-getstarted-portal.md).
