---
title: Ограничения для диска Azure Data Box | Документы Майкрософт
description: Описание ограничений системы и рекомендуемых размеров для диска Microsoft Azure Data Box.
services: databox
author: alkohli
ms.service: databox
ms.subservice: disk
ms.topic: article
ms.date: 11/05/2019
ms.author: alkohli
ms.openlocfilehash: e003d0121721838bd5ae038a3a8b4d1b8cd9d1eb
ms.sourcegitcommit: 65cef6e5d7c2827cf1194451c8f26a3458bc310a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/19/2021
ms.locfileid: "98573196"
---
# <a name="azure-data-box-disk-limits"></a>Ограничения для Диска Azure Data Box


Учитывайте эти ограничения, когда развертываете и используете решение диска Microsoft Azure Data Box.

## <a name="data-box-service-limits"></a>Ограничения службы Data Box

 - Служба Data Box доступна в регионах Azure, перечисленных в поле [доступность по регионам](data-box-disk-overview.md#region-availability).
 - Диск Data Box поддерживается одну учетную запись хранения.

## <a name="data-box-disk-performance"></a>Производительность диска Data Box

При тестировании с дисками, подключенными через USB 3.0, производительность диска составляла до 430 МБ/с. Фактические значения варьируются в зависимости от используемого размера файла. Для небольших файлов производительность может быть ниже.

## <a name="azure-storage-limits"></a>Ограничения службы хранилища Azure

Этот раздел описывает ограничения для службы хранилища Azure и требуемые соглашения об именовании для файлов Azure, блочных BLOB-объектов Azure и страничных BLOB-объектов Azure применительно к службе Data Box. Тщательно изучите ограничения хранилища и следуйте всем рекомендациям.

Актуальные сведения об ограничениях службы хранилища Azure и рекомендациях по именованию общих папок, контейнеров и файлов см. в следующих статьях:

- [Именование контейнеров и ссылка на них](/rest/api/storageservices/naming-and-referencing-containers--blobs--and-metadata)
- [Именование общих папок и ссылка на них](/rest/api/storageservices/naming-and-referencing-shares--directories--files--and-metadata)
- [Блочные BLOB-объекты и соглашения о страничных объектах](/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs)

> [!IMPORTANT]
> Если имеются любые файлы или каталоги, превышающие ограничения службы хранилища Azure или несоответствующие соглашениям об именовании файлов и BLOB-объектов Azure, они не направляются в службу хранилища Azure через службу Data Box.

## <a name="data-upload-caveats"></a>Предупреждения, связанные с передачей данных

- Не нужно копировать данные прямо на диски. Копирование данных в предварительно созданные папки *BlockBlob*,*PageBlob* и *азурефиле* .
- Папка внутри *BlockBlob* и *PageBlob* является контейнером. Например, контейнеры создаются в виде *BlockBlob/контейнер* и *PageBlob/контейнер*.
- Если у вас есть объект Azure (например, большой двоичный объект) в облаке с тем же именем, что и у копируемого объекта, Диск Data Box переименовывает файл в виде файла (1) в облаке.
- Каждый файл, записанный в общие папки *BlockBlob* и *PageBlob*, отправляется в виде блочного и страничного BLOB-объекта, соответственно.
- Любая пустая иерархия каталогов (без файлов), созданная в папках *BlockBlob* и *PageBlob*, не передается.
- Если при отправке данных в Azure возникают ошибки, в целевой учетной записи хранения создается журнал ошибок. Путь к этому журналу ошибок доступен на портале при завершении передачи, чтобы вы могли просмотреть журнал и предпринять корректирующие действия. Не удаляйте данные из источника, не проверив переданные данные.
- Метаданные файлов и разрешения NTFS не сохраняются при передаче данных в службу файлов Azure. Например, *последний измененный* атрибут файлов не будет сохраняться при копировании данных.
- Если вы указали управляемые диски в том порядке, просмотрите следующие дополнительные рекомендации.

    - Вы можете иметь только один управляемый диск с заданным именем в группе ресурсов во всех предварительно созданных папках и по всему Диску Data Box. Это значит, что виртуальные жесткие диски, отправленные в предварительно созданные папки, должны иметь уникальные имена. Убедитесь, что указанное имя не совпадает с уже существующим управляемым диском в группе ресурсов. Если виртуальные жесткие диски имеют одинаковые имена, только один виртуальный жесткий диск преобразуется в управляемый диск с таким именем. Другие виртуальные жесткие диски передаются в виде страничных BLOB-объектов в промежуточную учетную запись хранения.
    - Всегда копируйте виртуальные жесткие диски в одну из предварительно созданных папок. Если вы копируете виртуальные жесткие диски за пределами этих папок или в созданную вами папку, они отправляются в учетную запись хранения Azure в виде страничных BLOB-объектов, а не управляемых дисков.
    - Чтобы создать управляемые диски, можно отправить только фиксированные виртуальные жесткие диски. Динамические виртуальные жесткие диски, разностные виртуальные жесткие диски или VHDX-файлы не поддерживаются.
    - Файлы, не являющиеся VHD-файлами, скопированные в созданные ранее папки управляемых дисков, не будут преобразованы в управляемый диск.

## <a name="azure-storage-account-size-limits"></a>Ограничения размера для учетной записи хранения Azure

Ниже приведены ограничения на размер данных, которые могут быть скопированы в учетную запись хранения. Убедитесь, что отправляемые данные соответствуют этим ограничениям. 

| Тип данных             | Ограничение по умолчанию          |
|--------------------------|------------------------|
| блочный большой двоичный объект, страничный BLOB-объект    | Текущие сведения об этих ограничениях см. в статье целевые [объекты масштабирования хранилища BLOB-объектов Azure](../storage/blobs/scalability-targets.md#scale-targets-for-blob-storage), целевые [объекты масштабирования хранилища Azure](../storage/common/scalability-targets-standard-account.md#scale-targets-for-standard-storage-accounts)уровня "Стандартный" и [целевое устройство масштабирования файлов Azure](../storage/files/storage-files-scale-targets.md#file-share-and-file-scale-targets). <br /><br /> К ограничениям относятся данные из всех источников, включая Диск Data Box.|


## <a name="azure-object-size-limits"></a>Ограничения размера для объектов Azure

Ниже приведены размеры объектов Azure, которые могут быть записаны. Убедитесь, что все передаваемые файлы соответствуют этим ограничениям.

| Тип объекта Azure | Ограничение по умолчанию                                             |
|-------------------|-----------------------------------------------------------|
| Блочный BLOB-объект        | ~4,75 ТиБ                                                 |
| Страничный BLOB-объект         | 8 ТиБ <br> (Каждый файл, переданный в формате страничного BLOB-объекта, должен быть согласован в 512 байт, иначе передача завершится ошибкой. <br> VHD и VHDX имеют согласованный размер 512 байт.) |
|Файлы Azure        | 1 ТиБ <br> Макс. размер общего ресурса составляет 5 тиб     |
| Управляемые диски     |4 ТиБ <br> Дополнительные сведения о размере и ограничениях см. в следующих статьях: <li>[Целевые показатели масштабируемости для управляемых дисков](../virtual-machines/disks-scalability-targets.md#managed-virtual-machine-disks)</li>|


## <a name="azure-block-blob-page-blob-and-file-naming-conventions"></a>Соглашения об именовании для файлов, блочных и страничных BLOB-объектов Azure

| Сущность                                       | Соглашения                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Имена контейнеров для блочного BLOB-объекта и страничного BLOB-объекта <br> Общая папка для файлов Azure | Это должно быть допустимое DNS-имя длиной от 3 до 63 знаков. <br>  Первый символ — буква или цифра. <br> Может содержать только строчные буквы, цифры и дефисы (-). <br> Перед каждым дефисом и после него должна стоять буква или цифра. <br> Последовательные дефисы в именах использовать запрещено. |
| Имена каталогов и файлов для файлов Azure     |<li> Не меняющие и не учитывающие регистр, не превышающие 255 символов. </li><li> Не может заканчиваться косой чертой (/). </li><li>Если это предусмотрено, она будет автоматически удалена. </li><li> Следующие символы не допускаются: <code>" \\ / : \| < > * ?</code></li><li> Зарезервированные веб-адреса должны быть надлежащим образом экранированы. </li><li> Запрещены недопустимые знаки URL-пути. Кодовые точки \\ , такие как uE000, не являются допустимыми символами Юникода. Некоторые символы ASCII или Юникода, например управляющие символы (0x00 в 0x1F, \\ u0081 и т. д.), также не допускаются. Правила, регулирующие строки Юникода в HTTP/1.1, см. в документах RFC 2616, Section 2.2: Basic Rules (раздел 2.2: Основные правила) и RFC 3987. </li><li> Следующие имена файлов недопустимы: LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9, COM1, COM2, COM3, COM4, ​​COM5, COM6, COM7, COM8, COM9, PRN, AUX, NUL, CON, CLOCK$, точечный символ (.) и два точечных символа (..).</li>|
| Имена блочного BLOB-объекта и страничного BLOB-объекта      | Имена BLOB-объектов указываются с учетом регистра и могут содержать любое сочетание символов. <br> Длина имени BLOB-объекта должна составлять от 1 до 1024 символов. <br> Зарезервированные веб-адреса должны быть надлежащим образом экранированы. <br>Число сегментов пути, содержащих имя BLOB-объекта, не может превышать 254. Сегмент пути — это строка между последовательными символами-разделителями (например, косая черта"/"), которая соответствует имени виртуального каталога. |

## <a name="managed-disk-naming-conventions"></a>Соглашения об именовании управляемых дисков

| Сущность | Соглашения                                             |
|-------------------|-----------------------------------------------------------|
| Имена управляемых дисков       | <li> Длина имени должна составлять от 1 до 80 символов. </li><li> Имя должно начинаться с буквы или цифры, заканчиваться буквой, цифрой или символом подчеркивания. </li><li> Имя может содержать только буквы, цифры, символы подчеркивания, точки или дефисы. </li><li>   Имя не должно содержать пробелы или `/` .                                              |

## <a name="next-steps"></a>Следующие шаги

- Проверка [диск Data Box требования к системе](data-box-disk-system-requirements.md)