---
title: Вывод списка назначений ролей Azure с помощью портал Azure Azure RBAC
description: Узнайте, как определить, к каким ресурсам пользователи, группы, субъекты-службы или управляемые удостоверения имеют доступ с помощью портал Azure и управления доступом на основе ролей Azure (Azure RBAC).
services: active-directory
author: rolyon
manager: mtillman
ms.service: role-based-access-control
ms.topic: how-to
ms.workload: identity
ms.date: 12/09/2020
ms.author: rolyon
ms.openlocfilehash: 7d53df4159c071c17657e8a8367da605b6a5dc9e
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100556172"
---
# <a name="list-azure-role-assignments-using-the-azure-portal"></a>Вывод списка назначений ролей Azure с помощью портала Azure.

[!INCLUDE [Azure RBAC definition list access](../../includes/role-based-access-control/definition-list.md)] В этой статье описывается, как вывести список назначений ролей с помощью портал Azure.

> [!NOTE]
> Если в вашей организации есть функции управления с использованием внешнего источника для поставщика услуг, использующего [Управление делегированными ресурсами Azure](../lighthouse/concepts/azure-delegated-resource-management.md), назначения ролей, предоставленные этим поставщиком услуг, не будут показаны здесь.

## <a name="list-role-assignments-for-a-user-or-group"></a>Вывод списка назначений ролей для пользователя или группы

Чтобы быстро просмотреть роли, назначенные пользователю или группе в подписке, используйте область **назначения ролей Azure** .

1. В портал Azure выберите **все службы** в меню портал Azure.

1. Выберите **Azure Active Directory** а затем выберите **Пользователи** или **группы**.

1. Выберите пользователя или группу, для которой требуется перечислить назначения ролей.

1. Щелкните **назначения ролей Azure**.

    Отобразится список ролей, назначенных выбранному пользователю или группе в различных областях, таких как группа управления, подписка, Группа ресурсов или ресурс. Этот список включает все назначения ролей, на чтение которых у вас есть разрешение.

    ![Назначения ролей для пользователя](./media/role-assignments-list-portal/azure-role-assignments-user.png)    

1. Чтобы изменить подписку, щелкните список **подписки** .

## <a name="list-owners-of-a-subscription"></a>Список владельцев подписки

Пользователи, которым назначена роль [владельца](built-in-roles.md#owner) подписки, могут управлять всеми в подписке. Чтобы получить список владельцев подписки, выполните следующие действия.

1. На портале Azure щелкните **Все службы**, а затем **Подписки**.

1. Щелкните подписку, для которой нужно получить список владельцев.

1. Щелкните **Управление доступом (IAM)** .

1. Щелкните вкладку **Назначения ролей**, чтобы просмотреть все назначения ролей для этой подписки.

1. Перейдите к разделу **владельцы** , чтобы просмотреть всех пользователей, которым была назначена роль владельца для этой подписки.

   ![Управление доступом к подпискам — вкладка "назначения ролей"](./media/role-assignments-list-portal/sub-access-control-role-assignments-owners.png)

## <a name="list-role-assignments-at-a-scope"></a>Вывод списка назначений ролей в области

1. В портал Azure щелкните **все службы** , а затем выберите область. Например, можно выбрать **Группы управления**, **Подписки**, **Группы ресурсов** или конкретный ресурс.

1. Щелкните конкретный ресурс.

1. Щелкните **Управление доступом (IAM)** .

1. Щелкните вкладку **Назначения ролей**, чтобы просмотреть все назначения ролей в этой области.

   ![Управление доступом — вкладка "Назначение ролей"](./media/role-assignments-list-portal/rg-access-control-role-assignments.png)

   На вкладке "Назначение ролей" вы увидите назначения прав доступа в этой области. Обратите внимание, что одни роли привязаны к **этому ресурсу**, а другие **унаследованы** из другой области. Доступ назначается конкретному ресурсу либо наследуется от назначения в родительской области.

## <a name="list-role-assignments-for-a-user-at-a-scope"></a>Вывод списка назначений ролей для пользователя в области

Чтобы получить список доступа для пользователя, группы, субъекта-службы или управляемого удостоверения, вы перечислите их назначения ролей. Выполните следующие действия, чтобы получить список назначений ролей для одного пользователя, группы, субъекта-службы или управляемого удостоверения в определенной области.

1. В портал Azure щелкните **все службы** , а затем выберите область. Например, можно выбрать **Группы управления**, **Подписки**, **Группы ресурсов** или конкретный ресурс.

1. Щелкните конкретный ресурс.

1. Щелкните **Управление доступом (IAM)** .

1. Щелкните вкладку **Проверить доступ**.

    ![Управление доступом к группе ресурсов — вкладка "Проверить доступ"](./media/role-assignments-list-portal/rg-access-control-check-access.png)

1. В списке **найти** выберите пользователя, группу, субъект-службу или управляемое удостоверение, для которого требуется проверить доступ.

1. В поле поиска введите строку для поиска в каталоге по отображаемым именам, адресам электронной почты или идентификаторам объектов.

    ![Проверка доступа — выбор списка](./media/shared/rg-check-access-select.png)

1. Выберите субъект безопасности, чтобы открыть область **Назначения**.

    На этой панели вы можете просмотреть права доступа выбранного субъекта безопасности в этой области и унаследованные от этой области. Назначения в дочерних областях не указаны. Отобразятся следующие назначения:

    - Назначения ролей, добавленные с помощью Azure RBAC.
    - Назначения запрета, добавленные с помощью Azure Blueprints или управляемых приложений Azure.
    - Назначения классического администратора службы или соадминистратора для классических развертываний. 

    ![Область назначений](./media/shared/rg-check-access-assignments-user.png)

## <a name="list-role-assignments-for-a-managed-identity"></a>Вывод списка назначений ролей для управляемого удостоверения

Вы можете перечислить назначения ролей для назначенных системой и назначаемых пользователем управляемых удостоверений в определенной области с помощью колонки **управления доступом (IAM)** , как описано выше. В этом разделе описывается, как вывести список назначений ролей только для управляемого удостоверения.

### <a name="system-assigned-managed-identity"></a>Управляемое удостоверение, назначаемое системой

1. В портал Azure откройте управляемое системой удостоверение.

1. В меню слева щелкните **удостоверение**.

    ![Управляемое удостоверение, назначаемое системой](./media/shared/identity-system-assigned.png)

1. В разделе **разрешения** щелкните **назначения ролей Azure**.

    Отобразится список ролей, назначенных выбранному системой управляемому удостоверению в различных областях, таких как группа управления, подписка, Группа ресурсов или ресурс. Этот список включает все назначения ролей, на чтение которых у вас есть разрешение.

    ![Назначение ролей для управляемого удостоверения, назначенного системой](./media/shared/role-assignments-system-assigned.png)

1. Чтобы изменить подписку, щелкните список **Подписка** .

### <a name="user-assigned-managed-identity"></a>Управляемое удостоверение, назначаемое пользователем

1. В портал Azure откройте управляемое пользователем удостоверение.

1. Щелкните **назначения ролей Azure**.

    Отобразится список ролей, назначенных выбранному пользователем управляемому удостоверению в различных областях, таких как группа управления, подписка, Группа ресурсов или ресурс. Этот список включает все назначения ролей, на чтение которых у вас есть разрешение.

    ![Снимок экрана, на котором показаны назначения ролей для управляемого удостоверения, назначенного пользователем.](./media/shared/role-assignments-user-assigned.png)

1. Чтобы изменить подписку, щелкните список **Подписка** .

## <a name="list-number-of-role-assignments"></a>Перечисление количества назначений ролей

В каждой подписке вы можете назначить до **2000** ролей. Это ограничение распространяется на назначения ролей в пределах подписки, группы ресурсов и ресурсов. Чтобы помочь вам в отслеживании этого предела, вкладка **назначения ролей** содержит диаграмму, в которой указано количество назначений ролей для текущей подписки.

![Управление доступом — диаграмма назначений ролей](./media/role-assignments-list-portal/access-control-role-assignments-chart.png)

Если вы получаете близкое к максимальному количеству и пытаетесь добавить дополнительные назначения ролей, вы увидите предупреждение на панели **Добавление назначения ролей** . Способы уменьшения числа назначений ролей см. в разделе [Устранение неполадок в Azure RBAC](troubleshooting.md#azure-role-assignments-limit).

![Управление доступом — предупреждение о добавлении роли](./media/role-assignments-list-portal/add-role-assignment-warning.png)

## <a name="download-role-assignments"></a>Скачать назначения ролей

Назначения ролей можно загрузить в области в форматах CSV или JSON. Это может быть полезно, если необходимо проверить список в электронной таблице или выполнить инвентаризацию при переносе подписки.

При скачивании назначений ролей следует учитывать следующие критерии.

- Если у вас нет разрешений на чтение каталога, например роль "читатели каталога", столбцы DisplayName, SignInName и ObjectType будут пустыми.
- Назначения ролей, субъект безопасности которых был удален, не включены.
- Доступ, предоставленный классическим администраторам, не включается.

Выполните следующие действия, чтобы скачать назначения ролей в области.

1. В портал Azure щелкните **все службы** , а затем выберите область, в которой необходимо загрузить назначения ролей. Например, можно выбрать **Группы управления**, **Подписки**, **Группы ресурсов** или конкретный ресурс.

1. Щелкните конкретный ресурс.

1. Щелкните **Управление доступом (IAM)** .

1. Нажмите кнопку **скачать назначения ролей** , чтобы открыть область Загрузка назначений ролей.

    ![Контроль доступа — Загрузка назначений ролей](./media/role-assignments-list-portal/download-role-assignments.png)

1. С помощью флажков выберите назначения ролей, которые необходимо включить в скачанный файл.

    - **Унаследовано** — включить наследуемые назначения ролей для текущей области.
    - **В текущей области** — включить назначения ролей для текущей области.
    - **Дочерние элементы** — включите назначения ролей на уровнях ниже текущей области. Этот флажок отключен для области группы управления.

1. Выберите формат файла, который может содержать значения с разделителями-запятыми (CSV) или нотация объектов JavaScript (JSON).

1. Укажите имя файла.

1. Нажмите кнопку **Пуск** , чтобы начать загрузку.

    Ниже приведены примеры выходных данных для каждого формата файла.

    ![Скачать назначения ролей в формате CSV](./media/role-assignments-list-portal/download-role-assignments-csv.png)

    ![Снимок экрана с загруженными назначениями ролей в формате JSON.](./media/role-assignments-list-portal/download-role-assignments-json.png)

## <a name="next-steps"></a>Дальнейшие действия

- [Назначение ролей Azure с помощью портала Azure](role-assignments-portal.md)
- [Устранение неполадок в Azure RBAC](troubleshooting.md)
