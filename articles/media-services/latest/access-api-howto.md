---
title: Начало работы с проверкой подлинности Azure AD
description: Узнайте, как получить доступ к проверке подлинности Azure Active Directory (Azure AD) для работы с API служб мультимедиа Azure.
services: media-services
documentationcenter: ''
author: IngridAtMicrosoft
manager: femila
editor: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: how-to
ms.date: 03/17/2021
ms.author: inhenkel
ms.openlocfilehash: 6b59276cc340f133c0f270e8ab95051b3c392e1c
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104581292"
---
# <a name="get-credentials-to-access-media-services-api"></a>Получение учетных данных для доступа к API служб мультимедиа

[!INCLUDE [media services api v3 logo](./includes/v3-hr.md)]

При использовании проверки подлинности Azure AD со службами мультимедиа Azure доступны два метода проверки подлинности:

- **Проверка подлинности на основе участника-службы** (рекомендуется)

    Аутентификация службы. Этот метод аутентификации обычно используют приложения, которые выполняют службы управляющей программы, службы среднего уровня или запланированные задания: веб-приложения, приложения-функции, приложения логики, интерфейсы API или микрослужбы.
- **Проверка подлинности пользователей**

    Аутентификация пользователя, который использует приложение для взаимодействия с ресурсами служб мультимедиа. Интерактивное приложение должно сначала запросить у пользователя учетные данные. Примером может послужить приложение консоли управления, которое используется авторизованными пользователями для мониторинга заданий кодирования или потоковой трансляции. 

В этой статье описываются действия по получению учетных данных для доступа к API служб мультимедиа. Перейдите на одну из следующих вкладок.

## <a name="prerequisites"></a>Предварительные требования

- Учетная запись Azure. Если у вас нет учетной записи Azure, начните с получения [бесплатной пробной версии](https://azure.microsoft.com/pricing/free-trial/).
- Учетная запись служб мультимедиа. Дополнительные сведения см. в статье [Создание учетной записи служб мультимедиа Azure с помощью портала Azure](create-account-howto.md).

## <a name="portal"></a>[Портал](#tab/portal/)

### <a name="api-access"></a>Доступ через API

Страница **доступа к API** позволяет выбрать метод проверки подлинности, который будет использоваться для подключения к API. На этой странице также приведены значения, необходимые для подключения к API.

1. На [портале Azure](https://portal.azure.com/) выберите свою учетную запись служб мультимедиа.
2. Выберите колонку **доступ через API** на левой панели навигации.
3. В разделе **Подключение к API службы мультимедиа** выберите версию API служб мультимедиа, к которой необходимо подключиться (V3 — последняя версия службы).

### <a name="service-principal-authentication--recommended"></a>Проверка подлинности на основе участника-службы (рекомендуется)

Проверяет подлинность службы с помощью приложения Azure Active Directory (Azure AD) и секретного ключа. Этот метод рекомендуется использовать для всех служб среднего уровня, которые обращаются к API служб мультимедиа. Примеры: веб-приложения, функции, приложения логики, интерфейсы API и микрослужбы. Это рекомендуемый метод проверки подлинности.

#### <a name="manage-your-azure-ad-app-and-secret"></a>Управление приложением и секретным ключом Azure AD

В разделе **Управление приложением AAD и секретным ключом** можно выбрать или создать новое приложение Azure AD и создать секретный ключ. В целях безопасности секретный ключ не отображается после закрытия колонки. Приложение использует идентификатор приложения и секретный ключ проверки подлинности для получения действующего токена для служб мультимедиа.

Необходимо иметь достаточные разрешения для регистрации приложения в арендаторе Azure AD и назначения приложению роли в подписке Azure. Дополнительные сведения см. в разделе [Требуемые разрешения](../../active-directory/develop/howto-create-service-principal-portal.md#permissions-required-for-registering-an-app).

#### <a name="connect-to-media-services-api"></a>Подключение к API служб мультимедиа

В разделе **Подключение к API служб мультимедиа** приведены значения, используемые для подключения приложения участника-службы. Можно получить текстовые значения или скопировать блоки JSON или XML.

### <a name="user-authentication"></a>Аутентификация пользователей

Этот параметр можно использовать для проверки подлинности сотрудника или участника Azure Active Directory, который использует приложение для работы с ресурсами служб мультимедиа. Интерактивное приложение должно сначала запросить у пользователя учетные данные. Этот метод проверки подлинности нельзя использовать для приложений управления.

#### <a name="connect-to-media-services-api"></a>Подключение к API служб мультимедиа

Скопируйте учетные данные для подключения пользовательского приложения из раздела **Подключение к API служб мультимедиа**. Можно получить текстовые значения или скопировать блоки JSON или XML.

## <a name="cli"></a>[CLI](#tab/cli/)

[!INCLUDE [media-services-v3-cli-access-api-include](../../../includes/media-services-v3-cli-access-api-include.md)]

---

## <a name="next-steps"></a>Дальнейшие действия

[Руководство. Отправка, кодировка и потоковая передача видео с помощью служб мультимедиа версии 3](stream-files-tutorial-with-api.md).
