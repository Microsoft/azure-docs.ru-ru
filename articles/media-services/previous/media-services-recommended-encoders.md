---
title: Сведения о кодировщиках, рекомендуемых службами мультимедиа Azure | Документация Майкрософт
description: В этой статье приведен список локальных кодировщиков, рекомендованных службами мультимедиа Azure.
services: media-services
keywords: encoding;encoders;media
author: IngridAtMicrosoft
manager: johndeu
ms.author: johndeu
ms.date: 03/10/2021
ms.topic: article
ms.service: media-services
ms.openlocfilehash: 98d78a105bf06a2e49dee0b8c2be710b220a0023
ms.sourcegitcommit: 225e4b45844e845bc41d5c043587a61e6b6ce5ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2021
ms.locfileid: "103009442"
---
# <a name="recommended-on-premises-encoders"></a>Рекомендуемые локальные кодировщики

[!INCLUDE [media services api v2 logo](./includes/v2-hr.md)]

При потоковой трансляции с помощью служб мультимедиа Azure можно указать, как ваш канал должен принимать входной поток. Если вы решили использовать локальный кодировщик с каналом кодирования в реальном времени, ваш кодировщик должен передать высококачественный поток с односкоростной передачей в качестве выходных данных. Если вы решили использовать локальный кодировщик с транзитным каналом, кодировщик должен передать поток с несколькими скоростями в качестве выходных данных со всеми требуемыми качествами вывода. Дополнительные сведения см. [в статье динамическая Потоковая трансляция с помощью локальных кодировщиков](media-services-live-streaming-with-onprem-encoders.md).

## <a name="encoder-requirements"></a>Требования к кодировщику

Кодировщики должны поддерживать TLS 1,2 при использовании протоколов HTTPS или РТМПС.

## <a name="live-encoders-that-output-rtmp"></a>Динамические кодировщики, выдающие RTMP 

Для служб мультимедиа Azure рекомендуется использовать один из следующих динамических кодировщиков, которые выдают содержимое в формате RTMP:

- Adobe Flash Media Live Encoder 3.2;
- Haivision Makito X HEVC;
- Haivision KB
- Wirecast аудиопотока (версия 13.0.2 или более поздняя из-за требования TLS 1,2)

  Кодировщики должны поддерживать TLS 1,2 при использовании протоколов РТМПС.
- Teradek Slice 756;
- OBS Studio
- VMIX
- xStream
- Switcher Studio (iOS)

## <a name="live-encoders-that-output-fragmented-mp4"></a>Динамические кодировщики, выдающие фрагментированный MP4 

Для служб мультимедиа Azure рекомендуется использовать один из следующих динамических кодировщиков, которые выдают потоковую передачу фрагментированного MP4 (Smooth Streaming) с несколькими скоростями:

- Media Excel Hero Live и Hero 4K (UHD/HEVC)
- Ateme TITAN Live;
- Cisco Digital Media Encoder 2200;
- В режиме реального времени (версия 2.14.15 и выше из-за требования TLS 1,2)

  Кодировщики должны поддерживать TLS 1,2 при использовании протоколов HTTPS.
- Envivio 4Caster C4 Gen III;
- Imagine Communications Selenio MCP3;

> [!NOTE]
> Динамический кодировщик может передавать поток с единой скоростью в сквозной канал. Но применять такую конфигурацию не рекомендуется, так как она не позволяет использовать потоковую передачу с переменной скоростью для клиента.

## <a name="how-to-become-an-on-premises-encoder-partner"></a>Как стать локальным партнером кодировщика

Как службы мультимедиа Azure на локальном партнере кодировщика, службы мультимедиа допускают ваш продукт, предрекомендую использовать ваш кодировщик для корпоративных клиентов. Чтобы стать локальным партнером по кодировщику, необходимо проверить совместимость локального кодировщика со службами мультимедиа. Для этого выполните следующие проверки.

Проверка сквозного канала
1. Создайте или откройте учетную запись служб мультимедиа Azure.
2. Создание и запуск **сквозного** канала
3. Настройте кодировщик для передачи потока с несколькими скоростями.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик примерно на 10 минут.
6. Остановите динамическое событие.
7. Создайте и запустите конечную точку потоковой передачи, используйте проигрыватель, например [проигрыватель мультимедиа Azure](https://aka.ms/azuremediaplayer), чтобы просмотреть архивные ресурсы и проверить наличие ошибок для всех уровней качества (или просмотрите и проверьте ресурсы по URL-адресу предварительного просмотра во время сеанса до шага 6).
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.
9. Сбрасывайте состояние канала после создания каждого примера.
10. Повторите шаги 3–9 для всех конфигураций, поддерживаемых вашим кодировщиком (с сообщениями о рекламе, субтитрами, различными скоростями кодирования и без этих настроек).

Проверка канала кодирования в реальном времени
1. Создайте или откройте учетную запись служб мультимедиа Azure.
2. Создайте и запустите канал **кодирования в реальном времени**.
3. Настройте кодировщик для передачи потока с единой скоростью.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик примерно на 10 минут.
6. Остановите динамическое событие.
7. Создайте и запустите конечную точку потоковой передачи, используйте проигрыватель, например [проигрыватель мультимедиа Azure](https://aka.ms/azuremediaplayer), чтобы просмотреть архивные ресурсы и проверить наличие ошибок для всех уровней качества (или просмотрите и проверьте ресурсы по URL-адресу предварительного просмотра во время сеанса до шага 6).
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.
9. Сбрасывайте состояние канала после создания каждого примера.
10. Повторите шаги 3–9 для всех конфигураций, поддерживаемых вашим кодировщиком (с сообщениями о рекламе, субтитрами, различными скоростями кодирования и без этих настроек).

Проверка срока службы
1. Создайте или откройте учетную запись служб мультимедиа Azure.
2. Создание и запуск **сквозного** канала
3. Настройте кодировщик для передачи потока с несколькими скоростями.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик на неделю или на более длительный период.
6. Используйте проигрыватель, например [проигрыватель мультимедиа Azure](https://aka.ms/azuremediaplayer), чтобы время от времени смотреть потоковую трансляцию (или архивный ресурс) и проверять видео на наличие видимых ошибок.
7. Остановите динамическое событие.
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.

Наконец, отправьте записанные настройки и параметры динамического архива в службы мультимедиа по адресу электронной почты amsstreaming@microsoft.com. После получения службы мультимедиа выполнят проверочные тесты с примерами из вашего динамического кодировщика. Вы можете связаться со службами мультимедиа для уточнения любых вопросов, связанных с этим процессом.
