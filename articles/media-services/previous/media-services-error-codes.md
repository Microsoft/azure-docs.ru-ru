---
title: Коды ошибок служб мультимедиа Azure | Документация Майкрософт
description: Вы можете получить коды ошибок HTTP от службы в зависимости от таких проблем, как сроки действия маркеров проверки подлинности, которые не поддерживаются в службах мультимедиа. В этой статье приводится обзор кодов ошибок API служб мультимедиа Azure версии 2.
author: IngridAtMicrosoft
manager: femila
editor: ''
services: media-services
documentationcenter: ''
ms.assetid: d3a62a64-7608-4b17-8667-479b26ba0d6c
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/10/2021
ms.author: inhenkel
ms.openlocfilehash: 10ade5c8f34d806ca5706ccaaf4b7ff2e05ba657
ms.sourcegitcommit: 225e4b45844e845bc41d5c043587a61e6b6ce5ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2021
ms.locfileid: "103013420"
---
# <a name="azure-media-services-error-codes"></a>Коды ошибок служб мультимедиа Azure

[!INCLUDE [media services api v2 logo](./includes/v2-hr.md)]

При использовании служб мультимедиа Microsoft Azure могут отображаться коды ошибок HTTP из службы в зависимости от возникших проблем, например истек срок действия маркеров проверки подлинности или действия не поддерживаются в службах мультимедиа. Ниже приведен список **кодов ошибок HTTP**, которые могут возвращать службы мультимедиа, и возможные причины возникновения.  

## <a name="400-bad-request"></a>400 — недопустимый запрос
Запрос содержит недопустимые сведения и отклонен по одной из причин ниже:

* Указана неподдерживаемая версия API. Дополнительные сведения см. в статье [Обзор интерфейса REST API служб мультимедиа](media-services-rest-how-to-use.md).
* Не указана версия API служб мультимедиа. Сведения о том, как указать версию API, см. в статье [Media Services Operations REST API Reference](/rest/api/media/operations/azure-media-services-rest-api-reference) (Справочник по REST API операций служб мультимедиа).
  
  > [!NOTE]
  > Если для подключения к службам мультимедиа используются пакеты SDK для .NET или Java, версия API указывается автоматически при каждой попытке и выполнении некоторых операций в службах мультимедиа.
  > 
  > 
* Указано неопределенное свойство. Имя свойства указывается в сообщении об ошибке. Указать можно только те свойства, которые являются элементами этой сущности. Список сущностей и их свойств см. в [справочнике по REST API служб мультимедиа Azure](/rest/api/media/operations/azure-media-services-rest-api-reference).
* Указано недопустимое значение свойства. Имя свойства указывается в сообщении об ошибке. Чтобы просмотреть допустимые типы свойств и их значения, перейдите по предыдущей ссылке.
* Значение свойства отсутствует и его требуется указать.
* Часть URL-адреса содержит недопустимое значение.
* Предпринята попытка обновить свойство writeOnce.
* Предпринята попытка создать сущность job с входной сущностью asset, для которой не указано или не удалось определить основную сущность assetFile.
* Предпринята попытка обновить указатель SAS. Указатели SAS можно только создать или удалить. Потоковые указатели нельзя обновлять. Дополнительные сведения см. в статье [Locators](/rest/api/media/operations/locator) (Указатели).
* Отправлена неподдерживаемая операция или неподдерживаемый запрос.

## <a name="401-unauthorized"></a>401 — недостаточно прав
Невозможно выполнить проверку подлинности запроса (прежде чем его можно будет авторизовать) по одной из следующих причин:

* Отсутствует заголовок проверки подлинности.
* Недопустимое значение в заголовке проверки подлинности.
  * Срок действия токена истек. 
  * Маркер содержит недопустимую подпись.

## <a name="403-forbidden"></a>403. Запрещено
Запрос запрещен по одной из следующих причин:

* Не удалось найти учетную запись служб мультимедиа, или она удалена.
* Учетная запись служб мультимедиа отключена. Тип запроса — не HTTP GET. Операции служб возвратят ответ 403.
* Маркер проверки подлинности не содержит сведения об учетных данных пользователя: accountName и/или subscriptionId. Эти сведения можно найти в расширении пользовательского интерфейса служб мультимедиа для вашей учетной записи служб мультимедиа на портале управления Azure.
* Ресурс недоступен.
  
  * Предпринята попытка использовать mediaProcessor, недоступную для вашей учетной записи служб мультимедиа.
  * Предпринята попытка обновить jobTemplate, определенную службами мультимедиа.
  * Предпринята попытка перезаписать другой указатель учетной записи служб мультимедиа.
  * Предпринята попытка перезаписать contentKey учетной записи служб мультимедиа.
* Не удалось создать ресурс, так как достигнута квота службы для учетной записи служб мультимедиа. Дополнительные сведения о квотах и ограничениях см. [здесь](media-services-quotas-and-limitations.md).

## <a name="404-not-found"></a>404 — не найдено
Запрос запрещен в ресурсе по одной из следующих причин:

* Предпринята попытка обновить несуществующую сущность.
* Предпринята попытка удалить несуществующую сущность.
* Предпринята попытка создать сущность, которая ссылается на несуществующую.
* Предпринята попытка получить несуществующую сущность.
* Предпринята попытка указать учетную запись хранения, не связанную с учетной записью служб мультимедиа.  

## <a name="409-conflict"></a>409. Конфликт
Запрос запрещен по одной из следующих причин:

* В нескольких сущностях assetFile в asset указано имя.
* Предпринята попытка создать вторую основную сущность assetFile в сущности asset.
* Предпринята попытка создать contentKey с указанным идентификатором, который уже используется.
* Предпринята попытка создать locator с указанным идентификатором, который уже используется.
* В нескольких сущностях ingestManifestFile указано имя в ingestManifest.
* Предпринята попытка связать вторую сущность сontentKey шифрования с сущностью asset, зашифрованную в хранилище.
* Предпринята попытка связать одну и ту же сущность сontentKey с asset.
* Предпринята попытка создать указатель на asset, контейнер хранилища которой отсутствует или больше не связан с asset.
* Предпринята попытка создать указатель на asset, которая уже использует 5 указателей. (В хранилище Azure установлено ограничение в пять политик общего доступа для одного контейнера хранилища.)
* Связывание учетной записи хранения asset с ingestManifestAsset, который не соответствует учетной записи хранения, используемой родительской сущностью ingestManifest.  

## <a name="500-internal-server-error"></a>500 Internal Server Error (внутренняя ошибка сервера)
Во время обработки запроса в службах мультимедиа возникли ошибки, которые не позволяют продолжить обработку. Это может быть вызвано одной из следующих причин.

* Происходит сбой создания asset или job из-за временной недоступности информации о квоте службы учетной записи служб мультимедиа.
* Происходит сбой создания контейнера хранилища BLOB-объектов ingestManifest или asset, так как данные учетной записи для учетной записи хранения временно недоступны.
* Другая непредвиденная ошибка.

## <a name="503-service-unavailable"></a>503 — Служба недоступна
Серверу не удается получить запросы. Эта ошибка может быть вызвана большим количеством запросов к службе. Механизм регулирования служб мультимедиа ограничивает использование ресурсов для приложений, создающих избыточный запрос к службе.

> [!NOTE]
> Просмотрите сообщение и строку кода ошибки, чтобы получить более подробные сведения о причине возникновения ошибки 503. Эта ошибка не всегда указывает на регулирование.
> 
> 

Ниже перечислены возможные описания состояния:

* Сервер занят. Предыдущие запуски этого типа запроса заняли больше {0} с.
* Сервер занят. Отрегулировать можно больше такого количества запросов в секунду: {0}.
* Сервер занят. За {1} с можно отрегулировать больше такого количества запросов: {0}.

Чтобы устранить эту ошибку, мы рекомендуем использовать экспоненциальную логику отсрочки повтора. Это означает использование увеличивающихся интервалов между повторными попытками для последующих сообщений об ошибках.  Дополнительные сведения о блоке приложения для обработки временной ошибки см. [здесь](/previous-versions/msp-n-p/hh680905(v=pandp.50)).

> [!NOTE]
> Если вы используете [пакет SDK для служб мультимедиа Azure для .NET](https://github.com/Azure/azure-sdk-for-media-services/tree/master), логика повторных попыток для ошибки 503 реализована с помощью пакета SDK.  
> 
> 

## <a name="see-also"></a>См. также:
[Media Services Management Error Codes](/rest/api/media/) (Коды ошибок управления службами мультимедиа)

## <a name="next-steps"></a>Дальнейшие действия
[!INCLUDE [media-services-learning-paths-include](../../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>Отзывы
[!INCLUDE [media-services-user-voice-include](../../../includes/media-services-user-voice-include.md)]
