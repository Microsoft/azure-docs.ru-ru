---
title: Создание эскиза спрайта с помощью Служб мультимедиа Azure | Документация Майкрософт
description: В этой статье показано, как создать эскиз спрайта с помощью Служб мультимедиа Azure.
services: media-services
documentationcenter: ''
author: IngridAtMicrosoft
manager: femila
editor: ''
ms.service: media-services
ms.workload: ''
ms.topic: article
ms.date: 03/10/2021
ms.author: inhenkel
ms.openlocfilehash: ce66b6f605b10f65ec8a98d14c682928c7b21321
ms.sourcegitcommit: 225e4b45844e845bc41d5c043587a61e6b6ce5ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2021
ms.locfileid: "103012247"
---
# <a name="generate-a-thumbnail-sprite"></a>Создание эскиза спрайта

[!INCLUDE [media services api v2 logo](./includes/v2-hr.md)]

Media Encoder Standard можно использовать для создания эскиза спрайта, который представляет собой JPEG-файл, содержащий несколько эскизов разрешений небольшого размера, объединенных в одно (большое) изображение вместе с VTT-файлом. Этот VTT-файл указывает диапазон времени во входных видеоданных, которые представляет каждый эскиз, а также размер и координаты этого эскиза в большом JPEG-файле. Видеопроигрыватели используют VTT-файл и изображение спрайта, чтобы показать "визуальную" панель поиска, предоставляя читателю визуальную обратную связь при очистке назад и вперед по временной шкале видео.

Чтобы использовать Media Encoder Standard для создания эскиза спрайта, необходима предустановка.

1. Необходимо использовать формат JPG изображения эскиза.
2. Необходимо использовать значения Start, Step, Range в виде меток времени или значений % (а не количества кадров). 
    
    1. Допустимо смешивать метки времени и значения %.

3. Значение SpriteColumn должно быть неотрицательным числом больше или равным 1.

    1. Если для SpriteColumn установлено значение M >= 1, выходное изображение представляет собой прямоугольник со столбцами M. Если количество эскизов, сгенерированных с помощью # 2, не является точным кратным M, последняя строка будет неполной и останется с черными пикселями.  

Пример:

```json
{
    "Version": 1.0,
    "Codecs": [
    {
      "Start": "00:00:01",
      "Type": "JpgImage",
      "Step": "5%",
      "Range": "100%",
      "JpgLayers": [
        {
          "Type": "JpgLayer",
          "Width": "10%",
          "Height": "10%",
          "Quality": 90
        }
      ],
      "SpriteColumn": 10
    }
      ],
      "Outputs": [
        {
          "FileName": "{Basename}_{Index}{Extension}",
          "Format": {
            "Type": "JpgFormat"
          }
        }
   ]
}
```

## <a name="known-issues"></a>Известные проблемы

1.  Невозможно создать изображение спрайта с помощью одной строки изображений (SpriteColumn = 1 выдает изображение с одним столбцом).
2.  Фрагментирование изображений спрайтов в изображения JPEG со средним размером еще не поддерживается. Таким образом, следует принять меры для ограничения числа эскизов и их размеров, чтобы результирующий совмещенный эскиз спрайта имел около 8М пикселей или меньше.
3.  Проигрыватель мультимедиа Azure поддерживает спрайты только в браузерах Microsoft Edge, Chrome и Firefox. Разбор VTT в IE11 не поддерживается.

## <a name="next-steps"></a>Дальнейшие действия

[Кодирование контента](media-services-encode-asset.md)
