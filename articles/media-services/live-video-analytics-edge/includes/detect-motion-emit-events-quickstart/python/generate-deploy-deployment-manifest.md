---
ms.openlocfilehash: 94044e95e83742487a0d4d650814a5324f07011a
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101750344"
---
Манифест развертывания определяет, какие именно модули развертываются на пограничном устройстве. Кроме того, он определяет параметры конфигурации для этих модулей. 

Выполните перечисленные ниже действия, чтобы создать манифест на базе файла шаблона, а затем развернуть его на пограничном устройстве.

1. Откройте Visual Studio Code.
1. Рядом с областью **ЦЕНТР ИНТЕРНЕТА ВЕЩЕЙ AZURE** выберите значок **Дополнительные действия**, чтобы задать строку подключения к Центру Интернета вещей. Строку подключения можно скопировать из файла *src/cloud-to-device-console-app/appsettings.json*. 

    ![Установка строки подключения Центра Интернета вещей](../../../media/quickstarts/set-iotconnection-string.png)

> [!NOTE]
> Возможно, вам будет предложено ввести сведения о встроенной конечной точке для Центра Интернета вещей. Чтобы получить эти сведения, на портале Azure перейдите в Центр Интернета вещей и найдите пункт **Встроенные конечные точки** в области навигации слева. Щелкните этот пункт и найдите значение **конечной точки, совместимой с центрами событий,** в разделе **Конечная точка, совместимая с концентратором событий**. В поле скопируйте текст и используйте его. Значение конечной точки будет приблизительно таким:  
    ```
    Endpoint=sb://iothub-ns-xxx.servicebus.windows.net/;SharedAccessKeyName=iothubowner;SharedAccessKey=XXX;EntityPath=<IoT Hub name>
    ```

1. Щелкните правой кнопкой мыши **src/edge/deployment.template.json** и выберите **Generate IoT Edge Deployment Manifest** (Создать манифест развертывания IoT Edge).

    ![Создание файла манифеста развертывания IoT Edge](../../../media/quickstarts/generate-iot-edge-deployment-manifest.png)

    В результате этого действия в папке *src/edge/config* должен быть создан файл манифеста под названием *deployment.amd64.json*.
1. Щелкните правой кнопкой мыши файл **src/edge/config/deployment.amd64.json**, выберите **Create Deployment for Single Device** (Создать развертывание для одного устройства), а затем выберите — имя пограничного устройства.

    ![Создание развертывания для одного устройства](../../../media/quickstarts/create-deployment-single-device.png)

1. Вам будет предложено выбрать устройство Центра Интернета вещей. Выберите устройство **lva-sample-device** из раскрывающегося меню.
1. Примерно через 30 секунд обновите содержимое Центра Интернета вещей в левом нижнем углу окна. Теперь в пограничном устройстве должны отображаться следующие развернутые модули:

    * Аналитика видеотрансляций в IoT Edge (модуль `lvaEdge`).
    * Симулятор протокола RTSP (модуль `rtspsim`)

Модуль симулятора RTSP имитирует видеотрансляцию с применением видеофайла, который был скопирован на пограничное устройство при запуске [сценария подготовки ресурсов Аналитики видеотрансляций](https://github.com/Azure/live-video-analytics/tree/master/edge/setup). 

> [!NOTE]
> Если вы используете собственное пограничное устройство вместо того, которое было подготовлено с помощью нашего скрипта установки, перейдите на свое пограничное устройство и выполните следующие команды с **правами администратора**, чтобы извлечь и сохранить пример видеофайла, используемый для этого краткого руководства.  

```
mkdir /home/lvaedgeuser/samples      
mkdir /home/lvaedgeuser/samples/input    
curl https://lvamedia.blob.core.windows.net/public/camera-300s.mkv > /home/lvaedgeuser/samples/input/camera-300s.mkv  
chown -R lvalvaedgeuser:localusergroup /home/lvaedgeuser/samples/  
```
На этом этапе модули развернуты, но графы мультимедиа неактивны.
