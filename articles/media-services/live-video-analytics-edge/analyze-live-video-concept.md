---
title: Анализ динамического видео без записи — Azure
description: Граф мультимедиа можно использовать для извлечения аналитики из видеопотока в реальном времени без записи его на границе или в облаке. Эта концепция обсуждается в этой статье.
ms.topic: conceptual
ms.date: 04/27/2020
ms.openlocfilehash: 25a7cadc47603b726542fa391d441e1fbca78908
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "97398980"
---
# <a name="analyzing-live-video-without-any-recording"></a>Анализ динамического видео без записи

## <a name="suggested-pre-reading"></a>Рекомендуемые материалы для предварительного ознакомления 

* [Понятие графа мультимедиа](media-graph-concept.md)
* [Запись видео на основе событий](event-based-video-recording-concept.md)

## <a name="overview"></a>Обзор  

Вы можете использовать граф мультимедиа для анализа видео в реальном времени без записи каких-либо частей видео в файл или ресурс. Показанные ниже графы мультимедиа аналогичны тем, которые описаны в статье о [записи видео на основе событий](event-based-video-recording-concept.md), но без узла приемника ресурса или узла приемника файла.

### <a name="motion-detection"></a>Обнаружение движения

Показанный ниже граф мультимедиа состоит из узла [источника данных RTSP](media-graph-concept.md#rtsp-source) , узла [процессора для обнаружения движения](media-graph-concept.md#motion-detection-processor) и узла [приемника сообщений центра Интернета вещей](media-graph-concept.md#iot-hub-message-sink) . Представление JSON топологии графа такого графа мультимедиа можно найти [здесь](https://github.com/Azure/live-video-analytics/blob/master/MediaGraph/topologies/motion-detection/topology.json). Эта диаграмма позволяет обнаруживать движение во входящем потоке живого видео и передавать события движения в другие приложения и службы через узел приемника сообщений центра Интернета вещей. Внешние приложения или службы могут активировать оповещение или отправить уведомление соответствующим сотрудникам.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/analyze-live-video/motion-detection.svg" alt-text="Аналитика видеотрансляции на основе обнаружения движения":::

### <a name="analyzing-video-using-a-custom-vision-model"></a>Анализ видео с помощью пользовательской модели представления 

Показанный ниже граф мультимедиа позволяет анализировать поток динамического видео с помощью пользовательской модели представления, упакованной в отдельный модуль. Представление JSON топологии графа такого графа мультимедиа можно найти [здесь](https://github.com/Azure/live-video-analytics/blob/master/MediaGraph/topologies/httpExtension/topology.json). Некоторые примеры можно увидеть в [статье](https://github.com/Azure/live-video-analytics/tree/master/utilities/video-analysis) о переносе моделей в IOT Edge модули, которые выполняются в качестве службы вывода.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/analyze-live-video/motion-detected-frames.svg" alt-text="Интерактивная аналитика видео на основе внешнего модуля":::

На этом графе мультимедиа входные данные из источника RTSP отправляются в узел [обработчика расширений HTTP](media-graph-concept.md#http-extension-processor) , который отправляет кадры изображения (в форматах JPEG, BMP или PNG) во внешнюю службу вывода. Результаты внешней службы вывода извлекаются узлом расширения HTTP и ретранслируются в центр IoT Edge через узел приемника сообщений центра Интернета вещей. Этот тип графа мультимедиа можно использовать для создания решений для различных сценариев, например для понимания распределения временных рядов транспортных средств на пересечении, понимания шаблона трафика потребителя в розничном магазине и т. д.
>[!TIP]
> Можно управлять частотой кадров в узле обработчика расширений HTTP, используя `samplingOptions` поле перед его отправкой.

Усовершенствованием этого примера является использование процессора детектора движения перед узлом обработчика расширений HTTP. Это снизит нагрузку на службу вывода, так как она используется только при наличии в видео действий перемещения.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/analyze-live-video/custom-model.svg" alt-text="Интерактивная аналитика видео на основе обнаруженных в ходе движения кадров с помощью внешнего модуля":::

## <a name="next-steps"></a>Дальнейшие действия

[Непрерывная запись видео](continuous-video-recording-concept.md)
