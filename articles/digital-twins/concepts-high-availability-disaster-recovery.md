---
title: Высокая доступность и аварийное восстановление
titleSuffix: Azure Digital Twins
description: Описание функций Azure и Azure Digital двойников, которые позволяют создавать высокодоступные решения Интернета вещей Azure с возможностями аварийного восстановления.
author: baanders
ms.author: baanders
ms.date: 10/14/2020
ms.topic: conceptual
ms.service: digital-twins
ms.openlocfilehash: 3336a086fbe8f4291f752836a610cd80b773ec2d
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98790822"
---
# <a name="azure-digital-twins-high-availability-and-disaster-recovery"></a>Высокая доступность и аварийное восстановление в Azure Digital двойников

Ключевой областью, с которой следует помнить о устойчивых решениях Интернета вещей, является непрерывность бизнес-процессов и аварийное восстановление. Разработка для обеспечения **высокой доступности (HA)** и **аварийного восстановления (Dr)** может помочь в определении и достижении необходимых целей для вашего решения.

В этой статье обсуждаются функции высокого уровня доступности и аварийного восстановления, предоставляемые специально для службы Digital двойников.

Azure Digital двойников поддерживает следующие возможности:
* *Высокая доступность в пределах региона* — встроенная избыточность для обеспечения бесперебойной работы службы.
* *Кросс-многорегионовый аварийный восстановление* — отработка отказа в геопарный регион Azure в случае непредвиденного сбоя центра обработки данных

Вы также можете ознакомиться с разделом [*"рекомендации Azure*](#best-practices) " для получения общих руководств по проектированию высокого уровня доступности и аварийного восстановления.

## <a name="intra-region-ha"></a>Обеспечение высокого уровня доступности внутри региона
 
Azure Digital двойников обеспечивает высокую доступность в пределах региона, реализуя избыточность в службе. Это отражается в [соглашении об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/digital-twins) для времени бесперебойной работы службы. **Разработчикам решения Microsoft Azure Digital двойников не требуется дополнительная работа, чтобы воспользоваться преимуществами этих функций высокой доступности.** Несмотря на то, что Azure Digital двойников предлагает достаточно высокую гарантию доступности, временные сбои по-прежнему могут быть ожидаемыми, как и для любой платформы распределенных вычислений. Соответствующие политики повтора должны быть встроены в компоненты, взаимодействующие с облачным приложением, чтобы работать с временными сбоями.

## <a name="cross-region-dr"></a>Обеспечение возможности аварийного восстановления между регионами

В некоторых редких случаях, когда центр обработки данных попытается расширить работу из-за сбоев питания или других событий в регионе, возможны некоторые ситуации. Такие события редки, и во время таких сбоев возможности внутренней доступности в регионе, описанные выше, могут не помочь. Azure Digital двойников решает это с помощью отработки отказа, инициированной корпорацией Майкрософт.

**Отработка отказа, инициированная корпорацией Майкрософт** , используется корпорацией Майкрософт в редких ситуациях для отработки отказа всех экземпляров Azure Digital двойников из затронутого региона в соответствующий геосвязанный регион. Этот процесс является параметром по умолчанию (без способа отказаться от пользователей) и не требует вмешательства пользователя. Майкрософт оставляет за собой право определять, в каких случаях использовать этот параметр. Этот механизм не требует согласия пользователя перед отработкой отказа экземпляра пользователя.

>[!NOTE]
> Некоторые службы Azure также предоставляют дополнительный параметр, называемый **клиентом отработкой отказа**, который позволяет клиентам инициировать отработку отказа только для своего экземпляра, например для выполнения ДЕТАЛИЗАЦИи аварийного восстановления. Этот механизм в настоящее время **не поддерживается** в Azure Digital двойников. 

## <a name="monitor-service-health"></a>Мониторинг работоспособности служб

После отработки отказа и восстановления экземпляров Azure Digital двойников вы можете отслеживать процесс с помощью средства [Azure Health Service](../service-health/service-health-overview.md) . Служба работоспособности службы отслеживает работоспособность служб Azure в разных регионах и подписках, а также предоставляет обмен информацией, влияющей на работу служб, о сбоях и простоях.

В ходе события отработки отказа служба работоспособности служб может указать, когда служба не работает и когда она архивируется.

Просмотр событий работоспособности службы...
1. Выберите [работоспособность службы](https://portal.azure.com/?feature.customportal=false#blade/Microsoft_Azure_Health/AzureHealthBrowseBlade/serviceIssues) в портал Azure (вы можете использовать эту ссылку или найти ее с помощью панели поиска на портале).
1. Используйте меню слева для перехода на страницу *Журнал работоспособности* .
1. Найдите *имя проблемы* , начинающееся с **Azure Digital двойников**, и выберите его.

    :::image type="content" source="media/concepts-high-availability-disaster-recovery/navigate.png" alt-text="Снимок экрана портал Azure отображение страницы &quot;журнал работоспособности&quot;. За последние несколько дней отображается список нескольких проблем, и выделена проблема с названием &quot;Azure Digital двойников-Западная Европа — устранение рисков&quot;." lightbox="media/concepts-high-availability-disaster-recovery/navigate.png":::

1. Для получения общих сведений о сбоях перейдите на вкладку *Сводка* .

    :::image type="content" source="media/concepts-high-availability-disaster-recovery/summary.png" alt-text="На странице Журнал работоспособности выделена вкладка Сводка. На вкладке отображаются общие сведения, такие как затронутый ресурс, его регион и подписка." lightbox="media/concepts-high-availability-disaster-recovery/summary.png":::
1. Дополнительные сведения и обновления по вопросу см. на вкладке *проблемы обновления* .

    :::image type="content" source="media/concepts-high-availability-disaster-recovery/issue-updates.png" alt-text="На странице Журнал работоспособности выделена вкладка обновления проблем. На вкладке отображается несколько записей, показывающих текущее состояние за день назад." lightbox="media/concepts-high-availability-disaster-recovery/issue-updates.png":::


Обратите внимание, что сведения, отображаемые в этом средстве, не относятся к одному цифровому экземпляру Azure. После использования работоспособности службы для понимания того, что происходит со службой Digital двойников в определенном регионе или в подписке, вы можете отслеживать шаг дальше, используя [средство проверки работоспособности ресурсов](troubleshoot-resource-health.md) для детализации конкретных экземпляров и определения их влияния.

## <a name="best-practices"></a>Рекомендации

Рекомендации по высокой доступности и АВАРИЙному восстановлению см. в следующих руководствах по Azure в этой статье: 
* В статье [*техническое руководство по обеспечению непрерывности бизнес-процессов Azure*](/azure/architecture/framework/resiliency/overview) описывается общая инфраструктура, которая поможет вам подумать о непрерывности бизнес-процессов и аварийном восстановлении. 
* В статье [*Аварийное восстановление и высокий уровень доступности для приложений Azure*](/azure/architecture/framework/resiliency/backup-and-recovery) приведены рекомендации по архитектуре для приложений Azure, обеспечивающих высокий уровень доступности (HA) и аварийное восстановление (Dr).

## <a name="next-steps"></a>Дальнейшие действия 

Ознакомьтесь с дополнительными сведениями о начале работы с решениями для цифрового двойников Azure:
 
* [*Что такое Azure Digital Twins?*](overview.md)
* [*Краткое руководство. изучение примера сценария*](quickstart-adt-explorer.md)