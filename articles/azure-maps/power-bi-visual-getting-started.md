---
title: Начало работы с Azure Maps Power BI Visual | Карты Microsoft Azure
description: В этой статье вы узнаете, как использовать визуальный элемент карт Microsoft Azure для Power BI.
author: rbrundritt
ms.author: richbrun
ms.date: 12/07/2020
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: cpendle
ms.custom: ''
ms.openlocfilehash: a563a7776e84289e38743057778e8fe10fd17503
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96904709"
---
# <a name="getting-started-with-the-azure-maps-power-bi-visual"></a>Начало работы с Azure Maps Power BI Visual

<Token>**применимо к:** ![ Зеленая галочка. ](media/power-bi-visual/yes.png) Служба Power BI для **_потребителей_** ![ зеленая галочка. ](media/power-bi-visual/yes.png) Служба Power BI для конструкторов, & разработчикам зеленые галочки ![ . ](media/power-bi-visual/yes.png) Power BI Desktop ![ X, указывающее на отсутствие. ](media/power-bi-visual/no.png) Требуется лицензия Pro или Premium</Token>

В этой статье показано, как использовать визуальный элемент карт Microsoft Azure для Power BI.

> [!NOTE]
> Этот визуальный элемент можно создать и просмотреть как в Power BI Desktop, так и в служба Power BI. Шаги и иллюстрации в этой статье относятся к Power BI Desktop.

Визуальный элемент Azure Maps для Power BI предоставляет широкий набор визуализаций для пространственных данных, которые отображаются поверх карты. По оценкам, более 80 % бизнес-данных включают контекст расположения. Визуальный элемент Azure Maps можно использовать для получения подробных сведений о том, как этот контекст расположения связан с бизнес-данными и влияет на них.

![Power BI Desktop с визуальным элементом Azure Maps с отображением бизнес-данных](media/power-bi-visual/azure-maps-visual-hero.png)

## <a name="what-is-sent-to-azure"></a>Что отправляется в Azure?

Azure Maps визуальный элемент подключается к облачной службе, размещенной в Azure, для получения данных о местоположении, таких как изображения и координаты карт, которые используются для создания визуализации карт. 

-   Сведения об области, на которую нацелена схема, отправляются в Azure для получения изображений, необходимых для отрисовки холста карт (также называемых плитками карт). 
-   Данные в сегментах расположения, широты и долготы могут быть отправлены в Azure для получения координат карт (процесс, называемый геокодированием). 
-   Данные телеметрии могут быть собраны на работоспособность визуального элемента (т. е. отчеты о сбоях), если включен параметр телеметрии в Power BI.

В отличие от описанных выше сценариев, другие данные на карте не отправляются на серверы Azure Maps. Все данные, готовые к просмотру, выполняются локально в клиенте.

Вам или администратору может потребоваться обновить брандмауэр, чтобы разрешить доступ к Azure Maps платформе, которая использует следующий URL-адрес.

> `https://atlas.microsoft.com`

Дополнительные сведения о конфиденциальности и условиях использования, связанных с Azure Maps визуального элемента, см. в [Microsoft Azure юридической информации](https://azure.microsoft.com/support/legal/).

## <a name="azure-maps-visual-preview-behavior-and-requirements"></a>Azure Maps визуального (Предварительная версия) поведения и требования

Существует несколько вопросов и требований для **Azure Maps** визуального элемента. :

-   **Azure Maps** визуальный элемент (Предварительная версия) должен быть включен в Power BI Desktop. Чтобы включить **Azure Maps** визуальный элемент, выберите параметры **файла** &gt; **и** &gt; **параметры параметры** &gt; **Предварительная версия компонентов**, а затем установите флажок **Azure Maps визуальный** элемент. Если после этого визуальный элемент Azure Maps недоступен, скорее всего, необходимо включить переключатель администратора клиента на портале администрирования.
-   Набор данных должен содержать поля со сведениями **широты** и **долготы** . Геокодирование полей расположения будет добавлено в будущем обновлении.
-   Встроенный элемент управления условными обозначениями для Power BI в настоящее время не отображается в этой предварительной версии. Он будет добавлен в будущем обновлении.

## <a name="use-the-azure-maps-visual-preview"></a>Использование визуального элемента Azure Maps (Предварительная версия)

После включения визуального элемента **Azure Maps** выберите значок **Azure Maps** в области **визуализации** .

![Azure Maps визуальной кнопки на панели "визуализации"](media/power-bi-visual/azure-maps-in-visualizations-pane.png)

Power BI создает пустой холст визуального конструктора Azure Maps. В предварительной версии отображается дополнительное заявление об отказе.

![Power BI Рабочий стол с Azure Mapsным визуальным элементом, загруженным в исходное состояние](media/power-bi-visual/visual-initial-load.png)

Чтобы загрузить Azure Maps визуальный элемент, выполните следующие действия:

1.  В области **поля** перетащите поля данных, содержащие сведения о координатах широты и долготы, в сегменты **широты** и/или **долготы** . Это минимальный объем данных, необходимый для загрузки визуального элемента Azure Maps.
    
    > [!div class="mx-imgBorder"]
    > ![Azure Maps визуального отображения точек в виде пузырьков на карте после указанных полей широты и долготы](media/power-bi-visual/bubble-layer.png)

2.  Чтобы задать цвет данных на основе классификации, перетащите поле категории в контейнер **условных обозначений** на панели **поля** . В этом примере мы используем столбец **админдистрикт** (также известный как штат или провинция).  
    
    > [!div class="mx-imgBorder"]
    > ![Azure Maps визуального отображения точек в виде цветных пузырьков на карте после указанного поля условных обозначений](media/power-bi-visual/bubble-layer-with-legend-color.png)

    > [!NOTE]
    > Встроенный элемент управления условными обозначениями для Power BI в настоящее время не отображается в этой предварительной версии. Он будет добавлен в будущем обновлении.

3.  Чтобы отмасштабировать данные относительно, перетащите меру в контейнер « **Размер** » на панели « **поля** ». В этом примере мы используем столбец **Sales** .  
    
    > [!div class="mx-imgBorder"]
    > ![Azure Maps визуальное отображение точек в виде цветных и масштабируемых пузырьков на карте после указанного поля размера.](media/power-bi-visual/bubble-layer-with-legend-color-and-size.png)

4.  Используйте параметры на панели **Формат** для настройки подготовки данных к просмотру. На следующем рисунке показана та же схема, что и в приведенном выше примере, но с параметром прозрачность заливка текстуры, равным 50% и включенным параметром контрастной структуры.  
    
    > [!div class="mx-imgBorder"]
    > ![Azure Maps визуального отображения точек в виде пузырьков на карте с помощью пользовательского стиля](media/power-bi-visual/bubble-layer-styled.png)

## <a name="fields-pane-buckets"></a>Контейнеры области полей

Следующие контейнеры данных доступны в области **поля** визуального элемента Azure Maps.

| Поле     | Описание  |
|-----------|--------------|
| Широта  | Поле, используемое для указания значения широты точек данных. Значения широты должны находиться в диапазоне от-90 до 90 в десятичном формате.  |
| Долгота | Поле, используемое для указания значения долготы точек данных. Значения долготы должны находиться в диапазоне от-180 до 180 в десятичном формате.  |
| Условные обозначения    | Поле, используемое для категоризации данных и назначения уникального цвета для точек данных в каждой категории. При заполнении этого контейнера в области **форматирования** появится раздел **цвета данных** , который позволяет корректировать цвета. |
| Размер      | Мера, используемая для относительных размеров точек данных на карте.   |
| Подсказки  | Дополнительные поля данных, которые отображаются в подсказках при наведении указателя мыши на фигуры. |

## <a name="map-settings"></a>Параметры карты

В разделе " **Параметры отображения** " панели "формат" представлены параметры, позволяющие настроить отображение отображения и реакцию на обновления.

| Параметр             | Описание  |
|---------------------|--------------|
| Автомасштабирование           | Автоматически масштабирует карту в данные, загруженные с помощью области **полей** визуального элемента. По мере изменения данных сопоставленная схема обновит свое расположение соответствующим образом. Если ползунок находится в положении **Off** , дополнительные параметры представления карт отображаются для представления карт по умолчанию. |
| Международный перенос          | Позволяет пользователю неограниченное горизонтальное панорамирование по карте. |
| Выбор стиля        | Добавляет на карту кнопку, которая позволяет читателям отчета изменить стиль схемы. |
| Элементы управления навигацией | Добавляет кнопки на карту в качестве другого метода, позволяя читателям отчета изменять масштаб, вращать и менять шаг на карте. Дополнительные сведения см. в этом документе, посвященном [переходу по карте](map-accessibility.md#navigating-the-map) за сведениями о различных способах перемещения по карте. |
| Стиль карты           | Стиль схемы. Дополнительные сведения о [поддерживаемых стилях карт](supported-map-styles.md)см. в этом документе. |

### <a name="map-view-settings"></a>Параметры представления карт

Если ползунок **автомасштабирования** находится в положении **выкл** ., то отображаются следующие параметры, позволяющие пользователю указать сведения о представлении карт по умолчанию.

| Параметр          | Описание   |
|------------------|---------------|
| Масштабирование             | Уровень масштабирования по умолчанию для схемы. Может быть числом от 0 до 22. |
| Центральная Широта  | Широта по умолчанию в центре схемы. |
| Центральная Долгота | Долгота по умолчанию в центре схемы. |
| Направление          | Ориентация по умолчанию на карте в градусах, где 0 — Север, 90 — Восток, 180 — Юг, а 270 — запад. Может быть любым числом от 0 до 360. |
| Высота тона            | Значение наклона по умолчанию на карте в градусах от 0 до 60, где 0 просматривается на карте. |

## <a name="considerations-and-limitations"></a>Рекомендации и ограничения

Azure Maps визуальный элемент доступен в следующих службах и приложениях:

| Службы или приложения                              | Доступность |
|------------------------------------------|--------------|
| Power BI Desktop                         | Да          |
| Служба Power BI (app.powerbi.com)       | Да          |
| Мобильные приложения Power BI             | Да          |
| Публикация в Интернете через Power BI                  | Нет           |
| Power BI Embedded                        | Нет           |
| Внедрение службы Power BI (PowerBI.com) | Да          |

Поддержка дополнительных Power BI служб и приложений будет добавлена в будущие обновления.

**Где доступна Azure Maps?**

На данный момент Azure Maps в настоящее время доступна во всех странах и регионах, за исключением следующих:

- Китай
- Южная Корея

Сведения о покрытии для различных служб Azure Maps, которые являются мощными для этого визуального элемента, см. в документе [сведения о географическом покрытии](geographic-coverage.md) .

**Какие веб-браузеры поддерживаются Azure Mapsным визуальным объектом?**

Сведения о [Azure Maps поддерживаемых браузеров веб-пакета SDK](supported-browsers.md)см. в этой документации.

**Сколько точек данных можно визуализировать?**

Этот визуальный элемент поддерживает до 30 000 точек данных.

**Могут ли использоваться адреса или другие строки расположения в этом визуальном элементе?**

Первоначальная Предварительная версия этого визуального элемента поддерживает только значения широты и долготы в десятичных градусах. В следующем обновлении будет добавлена поддержка адресов и других строк расположения.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о Azure Maps Power BI визуального элемента:

> [!div class="nextstepaction"]
> [Основные сведения о слоях в Azure Maps Power BI Visual](power-bi-visual-understanding-layers.md)

> [!div class="nextstepaction"]
> [Управление Azure Maps визуального элемента в Организации](power-bi-visual-manage-access.md)

Настройка визуального элемента:

> [!div class="nextstepaction"]
> [Советы и рекомендации по форматированию цветом в Power BI](/power-bi/visuals/service-tips-and-tricks-for-color-formatting)

> [!div class="nextstepaction"]
> [Настройка заголовков визуализаций, фона и условных обозначений](/power-bi/visuals/power-bi-visualization-customize-title-background-and-legend)