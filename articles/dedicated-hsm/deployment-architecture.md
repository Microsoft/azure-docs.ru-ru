---
title: Архитектура развертывания выделенного устройства HSM Azure | Документация Майкрософт
description: Рекомендации по подходам к проектированию при использовании выделенного устройства HSM Azure как составной части архитектуры приложения
services: dedicated-hsm
author: msmbaldwin
manager: rkarlin
ms.custom: mvc, seodec18
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: how-to
ms.date: 02/05/2020
ms.author: mbaldwin
ms.openlocfilehash: 6a0767b077886337331f24b15715247006f3fe2c
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94888901"
---
# <a name="azure-dedicated-hsm-deployment-architecture"></a>Архитектура развертывания Выделенного устройства HSM Azure

Служба выделенных устройств HSM Azure обеспечивает хранение криптографических ключей в Azure, которое соответствует строгим требованиям к безопасности. Служба выделенных устройств HSM Azure будет полезна клиентам в следующих случаях:

* если требуется соответствие требованиям сертификации FIPS 140-2 уровня 3;
* если нужен монопольный доступ к HSM;
* если нужен полный контроль над устройствами клиента.

Устройства HSM распределяются между центрами обработки данных корпорации Майкрософт и на основе двух таких устройств можно легко подготовить к работе решение высокой доступности. Также их можно развернуть в разных регионах, чтобы решение было устойчивым к аварийным ситуациям. Регионы с выделенным HSM, доступными в настоящее время, можно проверить на [странице продукты по регионам](https://azure.microsoft.com/global-infrastructure/services/?products=azure-dedicated-hsm). 

В каждом из регионов установлены стойки HSM, развернутые в двух независимых центрах обработки данных или по крайней мере в двух независимых зонах доступности. Например, в Южной Восточная Азия есть три зоны доступности, а Восточная часть США 2 — два. В Европе, Азии используется всего восемь регионов, а США, которые предлагают выделенную службу HSM, и эти изменения добавляются при добавлении новых стоек HSM в новые регионы. Дополнительная информация опубликована на официальной странице [сведений о регионах Azure](https://azure.microsoft.com/global-infrastructure/regions/).
При разработке любого решения на основе выделенных устройств HSM следует учитывать такие факторы, как расположение и задержки, высокий уровень доступности, поддержка других распределенных приложений.

## <a name="device-location"></a>Расположение устройства

Оптимальным для устройства HSM будет ближайшее расположение к тем приложениям, которые выполняют криптографические операции. В пределах одного региона можно ожидать задержки не более 10 миллисекунд. Задержка между регионами может оказаться выше в 5 или даже в 10 раз.

## <a name="high-availability"></a>Высокий уровень доступности

Для обеспечения высокой доступности клиент должен использовать два устройства HSM в регионе, настроенном с помощью Санлес Software в качестве пары высокого уровня доступности. Такой формат развертывания обеспечивает доступность ключей даже в тех случаях, когда одно из устройств не может выполнять операции с ключами из-за локальных проблем. Он значительно сокращает риск на периоды замены или ремонта оборудования, например при замене блока питания. Очень важно учитывать при проектировании все потенциальные сбои на региональном уровне. Сбои на региональном уровне могут происходить при стихийных бедствиях, например ураганах, наводнениях или землетрясениях. Для предотвращения отрицательных последствий следует подготовить устройства HSM в другом регионе. Устройства, развернутые в другом регионе, могут объединяться через конфигурацию программного обеспечения Thales. Таким образом, для обеспечения высокого уровня доступности и устойчивости к аварийным ситуациям развертывание должно включать не менее четырех устройств HSM, размещенных в двух регионах. Локальная избыточность и избыточность между регионами будут основными факторами и при принятии решений о развертывании дополнительных устройств HSM, если это потребуется для снижения задержки, повышения производительности или для соблюдения других требований конкретного приложения.

## <a name="distributed-application-support"></a>Поддержка распределенных приложений

Выделенные устройства HSM обычно развертываются для поддержки приложений, которым нужно выполнять операции по сохранению и извлечению ключей. Выделенные устройства HSM содержат по 10 секций для поддержки разных приложений. При выборе местоположения устройства следует составить целостное представление обо всех приложениях, которые будут использовать эту службу.

## <a name="next-steps"></a>Дальнейшие действия

После определения архитектуры развертывания большинство операций настройки для реализации этой архитектуры будет предоставлять Thales. Это в частности касается настройки устройств и сценариев интеграции с приложениями. Для получения дополнительных сведений используйте портал [поддержки клиентов Thales](https://supportportal.gemalto.com/csm/) и загрузите руководства по администрированию и настройке. Сайт для партнеров корпорации Майкрософт содержит много разных руководств по интеграции.
Мы рекомендуем хорошо разобраться в основных понятиях службы, таких как высокий уровень доступности и безопасность, прежде чем переходить к подготовке устройств, разработке и развертыванию приложений.
Дополнительные сведения об основных понятиях:

* [Обеспечение высокого уровня доступности](high-availability.md)
* [Физическая безопасность](physical-security.md)
* [Сеть](networking.md)
* [Возможности поддержки](supportability.md)
* [Мониторинг](monitoring.md)
