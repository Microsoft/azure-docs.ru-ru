---
title: Работоспособность ресурсов для облачных служб (классическая модель)
description: В этой статье рассказывается о поддержке Работоспособность ресурсовной проверки (RHC) для облачные службы Microsoft Azure (классическая модель).
ms.topic: article
ms.service: cloud-services
ms.date: 10/14/2020
ms.author: tagore
author: tanmaygore
ms.reviewer: mimckitt
ms.custom: ''
ms.openlocfilehash: 37294e681066eb27ace69bcacee3a813b750b8eb
ms.sourcegitcommit: 6272bc01d8bdb833d43c56375bab1841a9c380a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2021
ms.locfileid: "98743514"
---
# <a name="resource-health-check-rhc-support-for-azure-cloud-services-classic"></a>Работоспособность ресурсовная проверка (RHC) поддержка облачных служб Azure (классическая модель)

> [!IMPORTANT]
> [Облачные службы Azure (Расширенная поддержка)](../cloud-services-extended-support/overview.md) — это новая модель развертывания на основе Azure Resource Manager для продукта облачных служб Azure.После этого изменения облачные службы Azure, работающие в модели развертывания на основе Service Manager Azure, были переименованы как облачные службы (классические), и все новые развертывания должны использовать [облачные службы (Расширенная поддержка)](../cloud-services-extended-support/overview.md).

В этой статье рассказывается о поддержке Работоспособность ресурсовной проверки (RHC) для [облачные службы Microsoft Azure (классическая модель)](https://azure.microsoft.com/services/cloud-services) .

[Работоспособность ресурсов Azure](../service-health/resource-health-overview.md) для облачных служб помогает диагностировать и получать поддержку проблем служб, влияющих на развертывание облачной службы, ролей & экземпляров ролей. Он сообщает о текущем и прошлом работоспособности облачных служб на уровне развертывания, роли & роли.

Служба "состояние Azure" сообщает о проблемах, влияющих на широкий набор клиентов Azure. Работоспособность ресурсов предоставляет персонализированную панель мониторинга работоспособности ресурсов. Работоспособность ресурсов показывает все случаи, когда ресурсы были недоступны из-за проблем со службами Azure. Эти данные позволяют легко определить, нарушено ли соглашение об уровне обслуживания.

:::image type="content" source="media/cloud-services-allocation-failure/rhc-blade-cloud-services.png" alt-text="На рисунке показана колонка &quot;Проверка работоспособности ресурсов&quot; в портал Azure.":::

## <a name="how-health-is-checked-and-reported"></a>Как проверяется состояние работоспособности и отображается ли оно?
Состояние работоспособности ресурса указывается на уровне развертывания или роли. Проверка работоспособности происходит на уровне экземпляра роли. Мы будем объединять состояние и сообщать о нем на уровне роли. Пример: Если все экземпляры роли доступны, состояние роли доступно. Аналогичным образом мы будем объединять состояние работоспособности всех ролей и сообщать о них на уровне развертывания. Пример: Если доступны все роли, то состояние развертывания станет доступным. 

## <a name="why-i-cannot-see-health-status-for-my-staging-slot-deployment"></a>Почему не отображается состояние работоспособности для развертывания промежуточного слота?
Проверки работоспособности ресурсов работают только для развертывания производственного слота. Развертывание промежуточного слота пока не поддерживается. 

## <a name="does-resource-health-check-also-check-the-health-of-the-application"></a>Проверяется ли проверка работоспособности приложения Работоспособность ресурсов?
Нет, проверка работоспособности происходит только для экземпляров роли и не отслеживает работоспособность приложения. Пример: Даже если 1 из 3 экземпляров роли неработоспособны, приложение по-прежнему может быть доступно. RHC не использует [проверки балансировщика нагрузки](../load-balancer/load-balancer-custom-probe-overview.md) или зонд гостевого агента. Поэтому клиенты должны продолжать использовать проверки балансировщика нагрузки для мониторинга работоспособности своего приложения. 

## <a name="what-are-the-annotations-for-cloud-services"></a>Каковы аннотации для облачных служб?
Заметки — это состояние работоспособности развертывания или ролей. Существуют различные заметки на основе состояния работоспособности, причины изменения состояния и т. д. 

## <a name="what-does-it-mean-by-role-instance-being-unavailable"></a>Что означает, что экземпляр роли недоступен?
Это означает, что экземпляр роли не выдает на платформу работоспособный сигнал. Проверьте состояние экземпляра роли, чтобы получить подробное описание причин, по которым не будет выдаваться работоспособный сигнал.

## <a name="what-does-it-mean-by-deployment-being-unknown"></a>Что означает развертывание "неизвестно"?
Неизвестно — сводный показатель работоспособности развертывания облачной службы определить нельзя. Обычно это означает, что для облачной службы не создано рабочее развертывание (и что Azure начинает сбор событий работоспособности), или на платформе возникли проблемы при сборе событий работоспособности для этого развертывания.

## <a name="why-does-role-instance-annotations-mentions-vms-instead-of-role-instances"></a>Почему заметки экземпляра роли упоминают виртуальные машины вместо экземпляров роли?
Поскольку экземпляры роли по сути являются виртуальными машинами, а проверка работоспособности виртуальных машин повторно используется для экземпляров ролей, термин ВМ используется для представления экземпляров роли. 

## <a name="cloud-services-deployment-level-annotations--their-meanings"></a>Заметки в облачных службах (уровень развертывания) & их значения
| Annotation | Описание | 
| --- | --- | 
| Доступно| Нет известных проблем с платформой Azure, затрагивающих это развертывание облачной службы. |
| Неизвестно | Сейчас не удается определить работоспособность этого развертывания облачной службы. | 
| Настройка Работоспособность ресурсов | Настройка работоспособности ресурсов для этого ресурса. Служба работоспособности ресурсов наблюдает за ресурсами Azure, чтобы предоставить сведения о текущих и прошлых событиях, которые были затронуты ими.|
| Деградация | Производительность развертывания вашей облачной службы снижается. Идет автоматическое восстановление развертывания вашей облачной службы и определение источника проблемы. В настоящее время дополнительные действия не требуются. |
| Unhealthy | Развертывание облачной службы неработоспособно, так как {0} {1} недоступны экземпляры роли |
| Деградация | Развертывание облачной службы снижено из-за {0} {1} недоступности экземпляров роли | 
| Доступно и может быть затронуто | Выполняется развертывание облачной службы, но непрерывный сбой службы Azure может препятствовать подключению к ней. Подключение будет восстановлено после устранения сбоя |
| Недоступно и может затронуть | Работоспособность этого развертывания облачной службы может затронуть сбой службы Azure. Развертывание облачной службы будет автоматически восстановлено после устранения сбоя |
| Неизвестно и может быть затронуто | Сейчас не удается определить работоспособность этого развертывания облачной службы. Это может быть вызвано неисправностью службы Azure, которая может повлиять на эту виртуальную машину, которая будет автоматически восстановлена после устранения сбоя |

## <a name="cloud-services-role-instance-level-annotations--their-meanings"></a>Заметки в облачных службах (уровень экземпляра роли) & их значения
| Annotation | Описание | 
| --- | --- | 
| Доступно | Нет известных проблем с платформой Azure, затрагивающих эту виртуальную машину | 
| Неизвестно | Сейчас не удается определить работоспособность этой виртуальной машины |
| Остановлено и отменено выделение | Эта виртуальная машина останавливается и освобождается по запросу полномочного пользователя или процесса |
| Настройка Работоспособность ресурсов | Настройка работоспособности ресурсов для этого ресурса. Служба работоспособности ресурсов наблюдает за ресурсами Azure, чтобы предоставить сведения о текущих и прошлых событиях, которые были затронуты ими. |
| Недоступно | Ваша виртуальная машина недоступна. Мы работаем над автоматическим восстановлением вашей виртуальной машины и определением источника проблемы. В настоящее время дополнительные действия не требуются. |
| Деградация | Производительность вашей виртуальной машины понижена. Мы работаем над автоматическим восстановлением вашей виртуальной машины и определением источника проблемы. В настоящее время дополнительные действия не требуются. |
| Сбой оборудования сервера узла | На эту виртуальную машину влияет Неустранимая ошибка {Хардварекатегори} на сервере узла. Azure выполнит повторное развертывание виртуальной машины на работоспособном сервере узла. |
| Миграция запланирована из-за сниженного оборудования | В Azure обнаружено, что производительность на сервере узла снижена ({0}) и в ближайшее время произойдет сбой. Мы постараемся выполнить динамическую миграцию виртуальной машины как можно скорее или повторно развернем ее после {1} (UTC). Чтобы снизить риск для службы и в случае сбоя оборудования до того, как произойдет миграция системы, рекомендуется как можно скорее повторно развернуть виртуальную машину. |
| Доступно и может быть затронуто | Виртуальная машина работает, но непрерывный сбой службы Azure может препятствовать подключению к ней. Подключение будет восстановлено после устранения сбоя |
| Недоступно и может затронуть | Работоспособность этой виртуальной машины может затронуть сбой службы Azure. Виртуальная машина будет автоматически восстановлена после устранения сбоя |
| Неизвестно и может быть затронуто | Сейчас не удается определить работоспособность этой виртуальной машины. Это может быть вызвано неисправностью службы Azure, которая может повлиять на эту виртуальную машину, которая будет автоматически восстановлена после устранения сбоя |
| Выделенные ресурсы оборудования | Виртуальной машине назначены ресурсы оборудования, и скоро она будет подключена к сети |
| Остановка и отмена выделения | Эта виртуальная машина останавливается и освобождается по запросу полномочного пользователя или процесса |
| Обновляемая конфигурация | Конфигурация этой виртуальной машины обновляется по запросу полномочного пользователя или процесса |
| Перезагружено пользователем | Эта виртуальная машина перезагружается по запросу полномочного пользователя или процесса. После завершения перезагрузки он будет подключен к сети. |
| Повторное развертывание на другом узле | Эта виртуальная машина повторно развертывается на другом узле по запросу полномочного пользователя или процесса. После завершения повторного развертывания он будет подключен к сети. |
| Остановлено пользователем | Эта виртуальная машина останавливается по запросу полномочного пользователя или процесса |
| Остановлено пользователем или процессом | Эта виртуальная машина остановлена по запросу полномочного пользователя или процесса, выполняющегося на виртуальной машине. |
| Запущено пользователем | Эта виртуальная машина запускается по запросу полномочного пользователя или процесса. Скоро будет доступен в сети |
| Повторное развертывание обслуживания на другом узле | Эта виртуальная машина повторно развертывается на другом сервере узла в рамках планового действия по обслуживанию. После завершения повторного развертывания он будет подключен к сети. |
| Перезагрузка инициирована с компьютера | Перезагрузка была активирована с виртуальной машины. Это может быть вызвано сбоем операционной системы виртуальной машины или выполняться по запросу полномочного пользователя или процесса. После завершения перезагрузки виртуальная машина будет подключена к сети. |
| Изменено пользователем | Размер этой виртуальной машины изменяется по запросу полномочного пользователя или процесса. После завершения изменения размера он будет подключен к сети. |
| Компьютер аварийно завершил работу | Перезагрузка была активирована с виртуальной машины. Это может быть вызвано сбоем операционной системы виртуальной машины или выполняться по запросу полномочного пользователя или процесса. После завершения перезагрузки виртуальная машина будет подключена к сети. |
| Перезагрузка обслуживания для обновления узла | На сервере узла, где работает эта виртуальная машина, применялись обновления в рамках обслуживания. Никаких дополнительных действий от вас пока не требуется. После завершения обслуживания он будет подключен к сети. |
| Повторное развертывание на новом оборудовании | Эта виртуальная машина недоступна, так как она повторно развертывается на более новом оборудовании в рамках запланированного обслуживания. Никаких дополнительных действий от вас пока не требуется. После завершения запланированного обслуживания он будет подключен к сети. |
| Компьютер с низким приоритетом с вытеснением | Эта виртуальная машина замещена. Эта виртуальная машина с низким приоритетом останавливается и освобождается. |
| Перезагрузка сервера узла | К сожалению, виртуальная машина недоступна из-за непредвиденной перезагрузки сервера узла. Сервер узла сейчас перезагружается. После перезагрузки виртуальная машина будет подключена к сети. В настоящее время дополнительные действия не требуются. |
| Повторное развертывание из-за сбоя узла | К сожалению, виртуальная машина недоступна и повторно развертывается из-за непредвиденного сбоя на сервере узла. В Azure начат процесс автоматического восстановления. Сейчас виртуальная машина запускается в другом узле. В настоящее время дополнительные действия не требуются. |
| Непредвиденный сбой узла | К сожалению, виртуальная машина недоступна из-за непредвиденного сбоя на сервере узла. В Azure запущено автоматическое восстановление с перезапуском сервера узла. Никаких дополнительных действий от вас пока не требуется. После завершения перезагрузки виртуальная машина будет подключена к сети. |
| Повторное развертывание из-за незапланированного обслуживания узла | К сожалению, виртуальная машина недоступна и повторно развертывается из-за непредвиденного сбоя на сервере узла. Azure начал процесс автоматического восстановления и сейчас запускает виртуальную машину на другом сервере узла. В настоящее время дополнительные действия не требуются. |
| Сбой подготовки | К сожалению, ваша виртуальная машина недоступна из-за непредвиденных проблем с подготовкой. Не удалось подготовить виртуальную машину из-за непредвиденной ошибки |
| Динамическая миграция | Эта виртуальная машина приостановлена из-за операции динамической миграции с сохранением памяти. Обычно виртуальная машина возобновляет работу в течение 10 секунд. В настоящее время дополнительные действия не требуются. |
| Динамическая миграция | Эта виртуальная машина приостановлена из-за операции динамической миграции с сохранением памяти. Обычно виртуальная машина возобновляет работу в течение 10 секунд. В настоящее время дополнительные действия не требуются. | 
| Удаленный диск отключен | К сожалению, ваша виртуальная машина недоступна из-за потери подключения к удаленному диску. Мы работаем над восстановлением подключения к диску. В настоящее время дополнительные действия не требуются. |
| Проблемы со службой Azure | На виртуальную машину влияет служба Azure |
| Сетевая ошибка | На эту виртуальную машину влияет сетевое устройство верхнего уровня |
| Недоступно | Ваша виртуальная машина недоступна. Сейчас не удается определить причину простоя |
| Перезагрузка сервера узла | К сожалению, виртуальная машина недоступна из-за непредвиденной перезагрузки сервера узла. Непредвиденная проблема с сервером узла препятствует автоматическому восстановлению виртуальной машины |
| Повторное развертывание из-за сбоя узла | К сожалению, виртуальная машина недоступна из-за непредвиденного сбоя на сервере узла. Непредвиденная проблема с узлом препятствует автоматическому восстановлению виртуальной машины |
| Непредвиденный сбой узла | К сожалению, виртуальная машина недоступна из-за непредвиденного сбоя на сервере узла. Непредвиденная проблема с узлом препятствует автоматическому восстановлению виртуальной машины |
| Повторное развертывание из-за незапланированного обслуживания узла | К сожалению, виртуальная машина недоступна из-за непредвиденного сбоя на сервере узла. Непредвиденная проблема с узлом препятствует автоматическому восстановлению виртуальной машины |
| Сбой подготовки | К сожалению, ваша виртуальная машина недоступна из-за непредвиденных проблем с подготовкой. Не удалось подготовить виртуальную машину из-за непредвиденной ошибки |
| Удаленный диск отключен | К сожалению, ваша виртуальная машина недоступна из-за потери подключения к удаленному диску. Непредвиденная проблема препятствует автоматическому восстановлению виртуальной машины |
| Перезагрузка из-за обновления гостевой ОС | Перезагрузка была инициирована платформой Azure для применения нового обновления гостевой ОС. После завершения перезагрузки виртуальная машина будет подключена к сети. |