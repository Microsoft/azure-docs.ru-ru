---
title: Обработка прерываний служб Azure, влияющих на облачные службы Azure (классические)
description: Узнайте, что делать, если прерывание работы службы Azure влияет на облачные службы Azure.
ms.topic: article
ms.service: cloud-services
ms.date: 10/14/2020
ms.author: tagore
author: tanmaygore
ms.reviewer: mimckitt
ms.custom: ''
ms.openlocfilehash: cdd6c9da5a1895d4aadd73133734cd4c8204ecf1
ms.sourcegitcommit: 6272bc01d8bdb833d43c56375bab1841a9c380a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2021
ms.locfileid: "98742171"
---
# <a name="what-to-do-in-the-event-of-an-azure-service-disruption-that-impacts-azure-cloud-services-classic"></a>Что делать в случае прерывания работы службы Azure, влияющего на облачные службы Azure (классические)

> [!IMPORTANT]
> [Облачные службы Azure (Расширенная поддержка)](../cloud-services-extended-support/overview.md) — это новая модель развертывания на основе Azure Resource Manager для продукта облачных служб Azure.После этого изменения облачные службы Azure, работающие в модели развертывания на основе Service Manager Azure, были переименованы как облачные службы (классические), и все новые развертывания должны использовать [облачные службы (Расширенная поддержка)](../cloud-services-extended-support/overview.md).

Корпорация Майкрософт прилагает все усилия для того, чтобы наши службы всегда были доступны. Иногда по независящим от нас обстоятельствам происходят незапланированные нарушения работы служб.

Корпорация Майкрософт предоставляет соглашения об уровне обслуживания (SLA) для своих служб, в которых гарантируется их время бесперебойной работы и доступность. Соглашения об уровне обслуживания для отдельных служб Azure можно найти в разделе [Соглашения об уровне обслуживания Azure](https://azure.microsoft.com/support/legal/sla/).

В платформе Azure уже имеется множество встроенных возможностей для поддержки высокодоступных приложений. Дополнительные сведения об этих службах см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](/azure/architecture/framework/resiliency/backup-and-recovery).

В этой статье описывается действительный сценарий аварийного восстановления, при котором из-за масштабного стихийного бедствия или обширного прерывания работы службы весь регион оказывается подвержен сбою. Такие события происходят нечасто, но необходимо быть готовыми к тому, что сбой всего региона возможен. Если весь регион испытывает перебои в работе службы, то локально избыточные копии ваших данных становятся временно недоступными. Если включена георепликация, то в другом регионе будут храниться три дополнительные копии больших двоичных объектов и таблиц службы хранилища Azure. В случае сбоя всего региона или аварии, при которой основной регион не может быть восстановлен, Azure перераспределяет все DNS-записи в геореплицированный регион.

> [!NOTE]
> Учтите, что этот процесс нельзя контролировать, и он выполняется только при нарушениях работы службы на уровне центра обработки данных. Поэтому для обеспечения самого высокого уровня доступности необходимо также использовать и другие стратегии архивации приложения. Дополнительные сведения см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](/azure/architecture/framework/resiliency/backup-and-recovery). Если вы хотите повлиять на отработку отказа, попробуйте использовать [геоизбыточное хранилище с доступом только для чтения (RA-GRS)](../storage/common/storage-redundancy.md), которое создает в другом регионе копию ваших данных с доступом только для чтения.
>
>


## <a name="option-1-use-a-backup-deployment-through-azure-traffic-manager"></a>Вариант 1. Использование архивации с помощью диспетчера трафика Azure
Самое надежное решение аварийного восстановления заключается в поддержке нескольких развертываний приложения в разных регионах и в направлении трафика между ними с помощью [диспетчера трафика Azure](../traffic-manager/traffic-manager-overview.md). Диспетчер трафика Azure предоставляет несколько [методов маршрутизации](../traffic-manager/traffic-manager-routing-methods.md), поэтому вы можете управлять развертываниями, используя основную или резервную модель или разделяя трафик между ними.

![Балансировка облачных служб Azure по регионам с помощью диспетчера трафика Azure](./media/cloud-services-disaster-recovery-guidance/using-azure-traffic-manager.png)

Чтобы быстро среагировать на потерю региона, важно настроить [мониторинг конечных точек](../traffic-manager/traffic-manager-monitoring.md) диспетчера трафика.

## <a name="option-2-deploy-your-application-to-a-new-region"></a>Вариант 2. Развертывание приложения в новом регионе
Использование нескольких активных развертываний, как описано в предыдущем варианте, влечет за собой дополнительные расходы. Если цель времени восстановления (RTO) достаточно гибкая и у вас есть исходный код или скомпилированный пакет облачных служб, можно создать новый экземпляр приложения в другом регионе и обновить записи DNS, чтобы они указывали на новое развертывание.

Дополнительные сведения о том, как создавать и развертывать приложения облачной службы, см. [здесь](cloud-services-how-to-create-deploy-portal.md).

В зависимости от источников данных приложения может потребоваться проверка процедур восстановления для источника данных приложения.

* Источники данных службы хранилища Azure см. в статье [избыточность службы хранилища Azure](../storage/common/storage-redundancy.md) для проверки доступных параметров на основе выбранной модели избыточности для вашего приложения.
* Аналогичные сведения для источников данных базы данных SQL приведены в разделе [Обзор. Непрерывность облачных бизнес-процессов и аварийное восстановление баз данных с базой данных SQL](../azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview.md) .


## <a name="option-3-wait-for-recovery"></a>Вариант 3. Ожидание восстановления
В этом случае вам не нужно ничего делать. Однако служба будет недоступна до восстановления региона. Текущее состояние службы можно просмотреть на [панели мониторинга работоспособности служб Azure](https://azure.microsoft.com/status/).

## <a name="next-steps"></a>Следующие шаги
Чтобы больше узнать о том, как реализовать стратегию обеспечения аварийного восстановления и высокого уровня доступности, ознакомьтесь с разделом [Аварийное восстановление и высокий уровень доступности для приложений на платформе Azure](/azure/architecture/framework/resiliency/backup-and-recovery).

Возможности облачной платформы подробно описаны в [техническом руководстве по обеспечению непрерывности бизнес-процессов Azure](/azure/architecture/checklist/resiliency-per-service).