---
title: Рекомендации
description: Рекомендуемые рекомендации для получения улучшенных результатов
author: ariye
ms.author: crtreasu
ms.date: 02/17/2021
ms.topic: best-practice
ms.service: azure-object-anchors
ms.openlocfilehash: da3be6e3d97e50b27ded29ba017164fdbd9a0a5b
ms.sourcegitcommit: 15d27661c1c03bf84d3974a675c7bd11a0e086e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2021
ms.locfileid: "102503051"
---
# <a name="best-practices"></a>Рекомендации

Рекомендуется выполнить некоторые из этих действий, чтобы получить лучшие результаты.

## <a name="ingestion"></a>Прием

- Проверьте размеры физических объектов. Привязки объектов лучше подходят для объектов, минимальное измерение которых находится в диапазоне рекомендуемых 1м-10 миллионов.
- Изучите трехмерную модель в программном обеспечении, например [**мешлаб**](https://www.meshlab.net/) , для получения следующих сведений.
  - Убедитесь, что в трехмерной модели есть сетка треугольника и что треугольники на наружной поверхности наружу. Это значит, что вершины должны быть ориентированы на то, чтобы эти нормали следовали правому правилу на их ориентации.
  - Убедитесь, что объемная модель задана с правильными единицами масштабирования по отношению к физическим объектам. Единицы должны быть одного из следующих: ***сантиметры, деЦиметерс, футы, дюймы, километры, измерительные приборы, миллиметры, метры***.
  - Подтвердите Номинальное направление падения притяжения, соответствующее реальной вертикальной ориентации объекта. Если вертикальная или сила притяжения объекта имеет значение-Y, используйте ***(0,-1, 0)** _ или _*_ (0, 0,-1) _ * * для-Z, а также в любом другом направлении.
  - Убедитесь, что трехмерная модель кодируется в одном из поддерживаемых форматов: `.glb` , `.gltf` , `.ply` , `.fbx` , `.obj` .
- Наша служба преобразования модели может занять много времени для обработки большого, высоколодной модели (уровня детализации). Для эффективность можно предварительно обработать трехмерную модель, чтобы удалить внутренние грани.

## <a name="detection"></a>Обнаружение

> [!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/Azure-Object-Anchors-Detection-and-Alignment-Best-Practices/player]

- Для указанного пакета SDK среды выполнения требуется предоставленный пользователем регион поиска для поиска и обнаружения физических объектов. Областью поиска может быть ограничивающий прямоугольник, сфера, представление фрустум или любое их сочетание. Чтобы избежать ложного обнаружения, предпочтительнее задать область поиска, достаточно достаточную для покрытия объекта. При использовании предоставленных примеров приложений можно перейти с одной стороны объекта на 2 метров от ближайшей области и запустить приложение.
- Перед запуском приложения привязок объектов на устройстве HoloLens 2 Извлеките голограммы из окружения рабочей области, используя основные параметры устройств с помощью ***параметров — >>ных голограмм*** .

  Этот шаг гарантирует, что если новый объект, например автомобиль, будет находиться в том же пространстве, что и другой ранее, или объект переместился из целевого пространства, все старые и несущественные голограммы не будут сохранены и создаст путаницу для объекта, который сейчас находится в представлении.
- После удаления голограмм и перед запуском приложения просканируйте объект, например автомобиль, просмотрев объект, людьми устройство от примерно 1-2 метров и медленно идущее вокруг объекта один или два раза.

  Этот шаг гарантирует, что все остаточные оценки поверхности, созданные в пространстве, будут обновлены с помощью поверхностей текущего целевого объекта, с которым вы будете работать. В противном случае приложение может видеть двойные фантомные поверхности, ведущие к неточному выравниванию трехмерной модели и связанных голограмм. Предварительное сканирование объекта также значительно сокращает задержку при обнаружении AOA, скажем, от 30 секунд до 5 секунд.
- Для темных и хорошо отражающих объектов может потребоваться сканирование объекта в более близком диапазоне, а также перемещение вверх и вниз, влево и вправо, чтобы позволить устройству видеть поверхности с нескольких углов и нескольких расстояний.
- При возникновении неправильного обнаружения объекта, такого как перевернутая ориентация, или неправильной модели, такой как наклонная модель, необходимо визуализировать пространственное сопоставление. Часто неправильные результаты возникают из-за низкой или неполной реконструкции поверхности. Можно удалить голограммы, проверить объект и снова запустить обнаружение объектов в приложении.
- Предоставленный пакет SDK для среды выполнения предоставляет несколько параметров, позволяющих пользователям точно настраивать обнаружение, как показано в примерах приложений. Параметры по умолчанию подходят для большинства объектов. Если вы обнаружите, что вам нужно изменить их для конкретных объектов, ниже приведены некоторые рекомендации.
  - Используйте низкое пороговое значение покрытия поверхности, если физический объект большой, темный или блестящий.
  - Разрешите небольшое изменение масштаба (например, 0,1) для больших объектов, таких как автомобиль.
  - Разрешить некоторое отклонение в градусах между локальным вертикальным направлением объекта и расстояние, когда объект находится на наклоне.
