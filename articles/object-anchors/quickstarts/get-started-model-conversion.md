---
title: Краткое руководство. Создание модели Объектных привязок для использования в приложении
description: В этом кратком руководстве вы узнаете, как создать модель Объектных привязок из трехмерной модели.
author: craigktreasure
manager: virivera
ms.author: crtreasu
ms.date: 02/22/2021
ms.topic: quickstart
ms.service: azure-object-anchors
ms.openlocfilehash: 93443a321f22d232f8b2bfa6a0fe5a05a5e18175
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101747954"
---
# <a name="quickstart-create-an-object-anchors-model-from-a-3d-model"></a>Краткое руководство. Создание модели Объектных привязок из трехмерной модели

Объектные привязки Azure — это управляемая облачная служба, которая преобразует трехмерные модели в модели ИИ, обеспечивающие работу с объектами в смешанной реальности для HoloLens. Это краткое руководство описывает создание модели Объектных привязок из трехмерной модели с помощью C#/пакета SDK для .NET Core.

Вы узнаете, как:

> [!div class="checklist"]
> * создать учетную запись Объектных привязок;
> * преобразовать трехмерную модель для создания модели Объектных привязок.

## <a name="prerequisites"></a>Предварительные требования

В рамках этого краткого руководства вам потребуются:

* Компьютер Windows с установленной <a href="https://www.visualstudio.com/downloads/" target="_blank">Visual Studio 2019</a>.
* <a href="https://git-scm.com" target="_blank">Git для Windows</a>.
* <a href="https://dotnet.microsoft.com/download/dotnet-core/3.1">Пакет SDK для .NET Core 3.1</a>.

[!INCLUDE [quickstarts-free-trial-note](../../../includes/quickstarts-free-trial-note.md)]

## <a name="create-an-object-anchors-account"></a>создать учетную запись Объектных привязок;

Сначала необходимо создать учетную запись с использованием службы Объектные привязки.

1. Перейдите на [портал Azure](https://portal.azure.com/) и выберите **Создать ресурс**.

   :::image type="content" source="./media/create-aoa-resource-1.png" alt-text="Создать новый ресурс":::

2. Найдите ресурс **Объектные привязки**.

   Выполните поиск строки "Объектные привязки".

   :::image type="content" source="./media/create-aoa-resource-2.png" alt-text="Выбор ресурса Объектных привязок":::

   В результатах поиска для ресурса **Объектные привязки** выберите **Создать -> Объектные привязки**.

   :::image type="content" source="./media/create-aoa-resource-3.png" alt-text="Создание ресурса Объектных привязок":::

3. В диалоговом окне **Учетная запись Объектных привязок** сделайте следующее.
    * Введите уникальное имя ресурса.
    * Выберите подписку, к которой хотите подключить ресурс.
    * Создайте группу ресурсов или используйте имеющуюся.
    * Выберите регион, в котором должен находиться ресурс.

    :::image type="content" source="./media/create-aoa-resource-4.png" alt-text="Ввод сведений об учетной записи ресурса Объектных привязок":::

    Выберите **Создать**, чтобы начать создание ресурса.

4. После создания ресурса выберите команду **Перейти к ресурсу**.

   :::image type="content" source="./media/create-aoa-resource-5.png" alt-text="Перейти к ресурсу":::

5. На странице "Обзор" сделайте следующее.

   Запишите **Домен учетной записи**. Он понадобится вам позднее.

   :::image type="content" source="./media/create-aoa-resource-6.1.png" alt-text="Копирование домена учетной записи для ресурса Объектных привязок":::

   Запишите **ИД учетной записи**. Он понадобится вам позднее.

   :::image type="content" source="./media/create-aoa-resource-6.2.png" alt-text="Копирование идентификатора учетной записи для ресурса Объектных привязок":::

   Перейдите на страницу **Ключи доступа** и запишите **Первичный ключ**. Он понадобится вам позднее.

   :::image type="content" source="./media/create-aoa-resource-7.png" alt-text="Копирование ключа учетной записи для ресурса Объектных привязок":::

## <a name="get-the-sample-project"></a>Скачивание примера проекта

[!INCLUDE [Clone Sample Repo](../../../includes/object-anchors-clone-sample-repository.md)]

## <a name="convert-a-3d-model"></a>Преобразование трехмерной модели

Теперь вы можете преобразовать трехмерную модель.

1. Откройте `quickstarts/conversion/Conversion.sln` в Visual Studio. Это решение содержит консольный проект C#.

2. В корне проекта откройте файл `Configuration.cs` и замените значения `set-me` в следующих полях:

   | Поле         | Описание                                                         |
   |---------------|---------------------------------------------------------------------|
   | AccountDomain | **Домен учетной записи** для созданной выше учетной записи Объектных привязок. |
   | AccountId     | **Идентификатор учетной записи** для созданной выше учетной записи Объектных привязок.     |
   | AccountKey    | **Первичный ключ** для созданной выше учетной записи Объектных привязок.     |

   Необходимо проверить четыре дополнительных поля:

    | Поле                    | Описание                       |
    | ---                      | ---                               |
    | InputAssetPath           | Абсолютный путь к трехмерной модели на локальном компьютере (вы можете использовать образец модели в папке `assets/models`). Поддерживаемые форматы файлов: `fbx`, `ply`, `obj`, `glb` и `gltf`. |
    | AssetDimensionUnit       | Единица измерения для трехмерной модели. Доступ ко всем поддерживаемым единицам измерения можно получить с помощью перечисления `Azure.MixedReality.ObjectAnchors.Conversion.AssetLengthUnit`. |
    | Сила тяготения                  | Направление вектора силы тяжести трехмерной модели. Этот трехмерный вектор задает направление вниз в системе координат модели. Например, если отрицательный `y` соответствует направлению вниз в трехмерном пространстве модели, это значение будет равно `Vector3(0.0f, -1.0f, 0.0f)`. |

3. Выполните сборку и запустите проект, чтобы передать трехмерную модель, зарегистрируйте новое задание преобразования в службе и дождитесь его завершения. После завершения задания будет скачана модель Объектных привязок рядом с файлом, указанным в `InputAssetPath`. Должен отобразиться результат, аналогичный следующему выводу консоли:

   ```shell
    Asset   : ***********
    Gravity : ***********
    Unit    : ***********
    Attempting to upload asset...
    Attempting to create asset conversion job...
    Successfully created asset conversion job. Job ID: ***********
    Waiting for job completion...

    Asset conversion job completed successfully.
    Attempting to download result as '***********'...
    Success!
   ```

   Запишите **Идентификатор задания** для дальнейшего использования. Он может пригодиться при отладке или устранении неполадок.

4. После успешного завершения задания вы увидите файл формата `<Model-Filename-Without-Extension>_<JobID>.ou` в указанном расположении выходных данных. Например, если имя файла для трехмерной 3D-модели —, `chair.ply` а идентификатор задания — `00000000-0000-0000-0000-000000000000`, то имя файла выходных данных службы будет иметь значение `chair_00000000-0000-0000-0000-000000000000.ou`.

[!INCLUDE [Clean-up section](../../../includes/clean-up-section-portal.md)]

## <a name="next-steps"></a>Дальнейшие действия

В этом кратком руководстве вы создали учетную запись Объектных привязок и преобразовали трехмерную модель для создания модели Объектных привязок. Чтобы узнать, как интегрировать эту модель в приложение смешанной реальности с помощью пакета SDK Объектных привязок, перейдите к любой из следующих статей:

> [!div class="nextstepaction"]
> [Unity HoloLens](get-started-unity-hololens.md)

> [!div class="nextstepaction"]
> [Unity HoloLens с MRTK](get-started-unity-hololens-mrtk.md)

> [!div class="nextstepaction"]
> [HoloLens DirectX](get-started-hololens-directx.md)
