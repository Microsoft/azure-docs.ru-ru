---
title: Об аварийном восстановлении для локальных приложений с помощью Azure Site Recovery
description: Описание рабочих нагрузок, которые можно защитить с помощью аварийного восстановления в службе Azure Site Recovery.
ms.topic: conceptual
ms.date: 03/18/2020
ms.openlocfilehash: 2b901425a0020c0ccc7b834ee36d965910028018
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "80062842"
---
# <a name="about-disaster-recovery-for-on-premises-apps"></a>Сведения об аварийном восстановлении для локальных приложений

В этой статье описываются локальные рабочие нагрузки и приложения, которые можно защитить для аварийного восстановления с помощью службы [Azure Site Recovery](site-recovery-overview.md) .

## <a name="overview"></a>Обзор

Организациям требуется стратегия непрерывности бизнес-процессов и аварийного восстановления (BCDR) для обеспечения безопасности и доступности рабочих нагрузок и данных во время запланированного и незапланированного простоя. И восстанавливаются до обычных рабочих условий.

Site Recovery — это служба Azure, которая помогает реализовать стратегию BCDR. Она позволяет выполнять репликацию в облако или на дополнительный сайт с учетом особенностей приложения. Site Recovery можно использовать для управления репликацией, выполнения тестирования аварийного восстановления и выполнения отработки отказа и восстановления размещения. Приложения могут работать на компьютерах под управлением Windows или Linux, физических серверах, VMware или Hyper-V.

Site Recovery интегрируется с приложениями Майкрософт, такими как SharePoint, Exchange, Dynamics, SQL Server и Active Directory. Корпорация Майкрософт тесно сотрудничает с ведущими поставщиками, включая Oracle, SAP и Red Hat. Решения репликации можно настроить для нескольких приложений.

## <a name="why-use-site-recovery-for-application-replication"></a>Причины использования Site Recovery для репликации приложений

Site Recovery помогает реализовать защиту и восстановление на уровне приложения следующим образом:

- Не зависит от приложения и обеспечивает репликацию для всех рабочих нагрузок, работающих на поддерживаемом компьютере.
- Почти синхронная репликация с целями точки восстановления (RPO) на 30 секунд, чтобы удовлетворить потребности большинства важных бизнес-приложений.
- Моментальные снимки с согласованием для одноуровневых и многоуровневых приложений.
- Интеграция с SQL Server AlwaysOn и связь с другими технологиями репликации на уровне приложений. Например, Active Directory репликация, SQL AlwaysOn и группы доступности базы данных Exchange (DAG).
- Гибкие планы восстановления, позволяющие восстанавливать весь стек приложений одним щелчком мыши и включать в план внешние скрипты и ручные действия.
- Расширенное управление сетью в Site Recovery и Azure для упрощения требований к сети приложений. Управление сетью, например возможность резервировать IP-адреса, настраивать балансировку нагрузки и интеграцию с диспетчером трафика Azure для переключения сети с низким временем восстановления (RTO).
- обширная библиотека автоматизации, содержащая готовые к работе и учитывающие особенности приложений сценарии, которые можно скачать и интегрировать с планами восстановления.

## <a name="workload-summary"></a>Обзорная таблица рабочих нагрузок

Служба Site Recovery может реплицировать любое приложение, работающее на поддерживаемой машине. Мы сотрудничаем с командами разработчиков продуктов для дополнительного тестирования приложений, указанных в следующей таблице.

| **Рабочая нагрузка** |**Репликация виртуальных машин Azure в Azure** |**Репликация виртуальных машин Hyper-V на дополнительный сайт** | **Репликация виртуальных машин Hyper-V в Azure** | **Репликация виртуальных машин VMware на дополнительный сайт** | **Репликация виртуальных машин VMware в Azure** |
| --- | --- | --- | --- | --- |---|
| Active Directory, DNS |Да |Да |Да |Да |Да|
| Веб-приложения (IIS, SQL) |Да |Да |Да |Да |Да|
| System Center Operations Manager |Да |Да |Да |Да |Да|
| SharePoint |Да |Да |Да |Да |Да|
| SAP<br/><br/>Репликация сайта SAP в Azure без кластера |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт)|
| Exchange (не DAG) |Да |Да |Да |Да |Да|
| Удаленный рабочий стол/VDI |Да |Да |Да |Да |Да|
| Linux (операционная система и приложения) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт) |Да (Проверено корпорацией Майкрософт)|
| Dynamics AX |Да |Да |Да |Да |Да|
| Файловый сервер Windows |Да |Да |Да |Да |Да|
| Citrix XenApp и XenDesktop |Да|Н/Д |Да |Н/Д |Да |

## <a name="replicate-active-directory-and-dns"></a>Репликация Active Directory и DNS

Инфраструктура Active Directory и DNS необходима для большинства корпоративных приложений. Во время аварийного восстановления необходимо защитить и восстановить эти компоненты инфраструктуры перед восстановлением рабочих нагрузок и приложений.

Azure Site Recovery позволяет создать полностью автоматизированный план аварийного восстановления для Active Directory и DNS. Например, чтобы выполнить отработку отказа SharePoint и SAP с первичного на вторичный сайт, можно настроить план восстановления, который сначала отработка отказа Active Directory. Затем используйте дополнительный план восстановления для конкретного приложения для отработки отказа других приложений, которые используют Active Directory.

Дополнительные [сведения](site-recovery-active-directory.md) об аварийном восстановлении для Active Directory и DNS.

## <a name="protect-sql-server"></a>Защита SQL Server

SQL Server предоставляет основу служб Data Services для многих бизнес-приложений в локальном центре обработки данных. Site Recovery можно использовать с технологиями SQL Server высокого уровня доступности и аварийного восстановления для защиты многоуровневых корпоративных приложений, использующих SQL Server.

Преимущества службы Site Recovery:

- Простое и экономичное решение аварийного восстановления для SQL Server. Репликация нескольких версий и выпусков автономных серверов и кластеров SQL Server в Azure или на дополнительный сайт.
- Интеграция с группами доступности SQL AlwaysOn для управления отработкой отказа и восстановлением размещения с использованием планов восстановления Azure Site Recovery.
- Планы комплексного восстановления для всех уровней приложения, включая базы данных SQL Server.
- Масштабирование SQL Server для пиковых нагрузок с _Site Recovery, развернув их на_ более крупные размеры виртуальных машин IaaS в Azure.
- Простое тестирование аварийного восстановления SQL Server. Можно запускать тестовые отработки отказа и выполнять проверки на соответствие без влияния на рабочую среду.

Дополнительные [сведения](site-recovery-sql.md) об аварийном восстановлении для SQL Server.

## <a name="protect-sharepoint"></a>Защита SharePoint

Azure Site Recovery помогает защитить развертывания SharePoint следующим образом:

- Устраняется необходимость в резервной ферме аварийного восстановления и соответствующие расходы на инфраструктуру. Используйте Site Recovery для репликации всей фермы (веб-, приложения и уровня базы данных) в Azure или на дополнительный сайт.
- Упрощается развертывание приложения и управлением им. Обновления, развернутые на первичном сайте, реплицируются автоматически. Обновления доступны после отработки отказа и восстановления фермы на вторичном сайте. Понижается сложность управления и затраты, связанные с своевременным обновлением фермы.
- Упрощается разработка и тестирование приложений SharePoint благодаря созданию реплики рабочей среды по запросу для тестирования и отладки.
- Упрощается переход в облако благодаря использованию Site Recovery для переноса развертываний SharePoint в Azure.

Дополнительные [сведения](site-recovery-sharepoint.md) об аварийном восстановлении для SharePoint.

## <a name="protect-dynamics-ax"></a>Защита Dynamics AX

Azure Site Recovery обеспечивает защиту решения Dynamics AX ERP следующим образом:

- Управление репликацией всей среды Dynamics AX (уровни веб-приложений и AOS, уровни базы данных, SharePoint) в Azure или на дополнительный сайт.
- упрощает перенос развертываний Dynamics AX в облако (Azure);
- упрощает разработку и тестирование приложений Dynamics AX, создавая реплику рабочей среды по запросу для тестирования и отладки.

Дополнительные [сведения](site-recovery-dynamicsax.md) об аварийном восстановлении для динамической AX.

## <a name="protect-remote-desktop-services"></a>Защита службы удаленных рабочих столов

Службы удаленных рабочих столов (RDS) включает инфраструктуру виртуальных рабочих столов (VDI), рабочие столы на основе сеансов и приложения, которые позволяют пользователям работать в любом месте.

С Azure Site Recovery можно реплицировать следующие службы:

- Репликация управляемых или неуправляемых виртуальных рабочих столов в составе пула на дополнительный сайт.
- Репликация удаленных приложений и сеансов на дополнительный сайт или Azure.

В следующей таблице приведены параметры репликации.

| **RDS** |**Репликация виртуальных машин Azure в Azure** | **Репликация виртуальных машин Hyper-V на дополнительный сайт** | **Репликация виртуальных машин Hyper-V в Azure** | **Репликация виртуальных машин VMware на дополнительный сайт** | **Репликация виртуальных машин VMware в Azure** | **Репликация физических серверов на дополнительный сайт** | **Репликация физических серверов в Azure** |
|---| --- | --- | --- | --- | --- | --- | --- |
| **Виртуальный рабочий стол в составе пула (неуправляемый)** |Нет|Да |Нет |Да |Нет |Да |Нет |
| **Виртуальный рабочий стол в пуле (управляемый и без UPD)** |Нет|Да |Нет |Да |Нет |Да |Нет |
| **Сеансы удаленных приложений и рабочих столов (без UPD)** |Да|Да |Да |Да |Да |Да |Да |

Дополнительные [сведения](/windows-server/remote/remote-desktop-services/rds-disaster-recovery-with-azure) об аварийном восстановлении RDS.

## <a name="protect-exchange"></a>Защита Exchange

Site Recovery защищает Exchange следующим образом.

- Для небольших развертываний Exchange, например отдельного или изолированного сервера, Site Recovery обеспечивает репликацию и отработку отказа в Azure или на дополнительный сайт.
- Для более крупных развертываний Site Recovery интегрируется с группами DAG Exchange.
- Exchange DAG рекомендуется в качестве основного решения для аварийного восстановления Exchange на уровне предприятия.  Планы восстановления Site Recovery могут включать в себя группы DAG для координации отработки отказа DAG на различных сайтах.

Дополнительные сведения об аварийном восстановлении Exchange см. в статье [Exchange DAG](/Exchange/high-availability/database-availability-groups/database-availability-groups) and [Exchange Recovery](/Exchange/high-availability/disaster-recovery/disaster-recovery).

## <a name="protect-sap"></a>Защита SAP

Site Recovery обеспечивает защиту развертывания SAP благодаря следующим возможностям:

- защита рабочих приложений SAP NetWeaver и других приложений, запущенных в локальной среде, с помощью репликации компонентов в Azure;
- защита рабочих приложений SAP NetWeaver и других приложений, запущенных в Azure, с помощью репликации компонентов в другой центр обработки данных Azure;
- упрощение миграции в облако благодаря использованию Site Recovery для переноса развертывания SAP в Azure;
- упрощение обновления, тестирования и создания прототипов проектов SAP путем создания рабочего клона по запросу для тестирования приложений SAP.

Дополнительные [сведения](site-recovery-sap.md) об аварийном восстановлении для SAP.

## <a name="protect-internet-information-services"></a>Защита службы IIS

Используйте Site Recovery для защиты развертывания службы IIS (IIS) следующим образом.

Azure Site Recovery обеспечивает аварийное восстановление путем репликации важных компонентов из вашей среды на "холодный" удаленный сайт или в общедоступное облако, например Microsoft Azure. Так как виртуальные машины с веб-сервером и базой данных реплицируются на сайт восстановления, нет необходимости в отдельной резервной копии для файлов конфигурации или сертификатов. Сопоставления и привязки приложения, которые зависят от переменных среды, измененных после отработки отказа, можно обновить с помощью скриптов, интегрированных в планы аварийного восстановления. Виртуальные машины включаются на сайт восстановления только во время отработки отказа. Azure Site Recovery также помогает управлять сквозной отработкой отказа, предоставляя следующие возможности:

- Последовательность завершения работы и запуска виртуальных машин на разных уровнях.
- Добавление скриптов для разрешения обновления зависимостей и привязок приложений на виртуальных машинах после их запуска. С помощью скриптов можно также обновить DNS-сервер, чтобы он указывал на сайт восстановления.
- Выделяйте IP-адреса виртуальным машинам, выполняемым перед отработкой отказа, путем сопоставления основной сети и сетей восстановления и используйте сценарии, которые не нужно обновлять после отработки отказа
- Возможность отработки отказа одним щелчком для нескольких веб-приложений, которая устраняет путаницу во время аварии.
- Возможность тестирования планов восстановления в изолированной среде для детализации аварийного восстановления.

Дополнительные [сведения](site-recovery-iis.md) об аварийном восстановлении для IIS.

## <a name="protect-citrix-xenapp-and-xendesktop"></a>Защита Citrix XenApp и XenDesktop

Site Recovery обеспечивает защиту развертывания Citrix XenApp и XenDesktop благодаря следующим возможностям:

- Включите защиту для развертывания Citrix XenApp и XenDesktop. Репликация различных слоев развертывания в Azure: Active Directory, DNS-сервера, сервера базы данных SQL, контроллера доставки Citrix, сервера витрин, XenApp Master (VDA), сервера лицензирования Citrix XenApp.
- Упрощение миграции в облако благодаря использованию Site Recovery для переноса развертывания Citrix XenApp и XenDesktop в Azure.
- Упрощение тестирования Citrix XenApp и XenDesktop благодаря созданию реплики рабочей среды по запросу для тестирования и отладки.
- Это решение применимо только к виртуальным рабочим столам Windows Server, а не к виртуальным рабочим столам клиента. Виртуальные рабочие столы клиентов еще не поддерживаются для лицензирования в Azure. Дополнительные сведения о лицензировании рабочих столов клиента и сервера в Azure см. [здесь](https://azure.microsoft.com/pricing/licensing-faq/).

Дополнительные [сведения](site-recovery-citrix-xenapp-and-xendesktop.md) об аварийном восстановлении для развертываний Citrix XenApp и XenDesktop. Также можно обратиться к [документу Citrix](https://aka.ms/citrix-xenapp-xendesktop-with-asr).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные [сведения](azure-to-azure-quickstart.md) об аварийном восстановлении для виртуальной машины Azure.
