---
title: Часто задаваемые вопросы о службе "Центры событий Azure" | Документация Майкрософт
description: В этой статье содержится список часто задаваемых вопросов о службе "Центры событий Azure" и ответы на эти вопросы.
ms.topic: article
ms.date: 01/20/2021
ms.openlocfilehash: e6fd4814e771d03827e51f1cd5ee182c9e432cc5
ms.sourcegitcommit: 77afc94755db65a3ec107640069067172f55da67
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98696114"
---
# <a name="event-hubs-frequently-asked-questions"></a>Часто задаваемые вопросы о Центрах событий

## <a name="general"></a>Общие сведения

### <a name="what-is-an-event-hubs-namespace"></a>Что такое пространство имен Центров событий?
Пространство имен — это контейнер, ограничивающий область действия для Центра событий и (или) разделов Kafka. Оно предоставляет уникальное [полное доменное имя (FQDN)](https://en.wikipedia.org/wiki/Fully_qualified_domain_name). Пространство имен выполняет роль контейнера приложений, в котором могут размещаться несколько Центров событий и (или) разделов Kafka. 

### <a name="when-do-i-create-a-new-namespace-vs-use-an-existing-namespace"></a>Когда следует создавать новое пространство имен, а когда — использовать существующее пространство имен?
Счета за выделение емкости ([единицы пропускной способности(TU)](#throughput-units)) выставляются на уровне пространства имен. Пространство имен также связано с регионом.

Создать новое пространство имен вместо использования существующего может быть желательно в одном из следующих сценариев. 

- Требуется концентратор событий, связанный с новым регионом.
- Требуется концентратор событий, связанный с другой подпиской.
- Требуется концентратор событий с отдельным выделением емкости (т. е. потребность емкости пространства имен с добавленным концентратором событий превысит порог в 40 TU и вы не хотите создавать выделенный кластера).  

### <a name="what-is-the-difference-between-event-hubs-basic-and-standard-tiers"></a>Какова разница между Центрами событий ценовых категорий "Базовый" и "Стандартный"?

Центры событий ценовой категории "Стандартный" предоставляют функции, недоступные для категории "Базовый". Ценовая категория "Стандартный" включает в себя следующие функции:

* более длительное хранение событий;
* дополнительные подключения через брокер с оплатой избыточных событий в случае превышения установленного количества;
* возможность использования нескольких [групп объектов-получателей](event-hubs-features.md#consumer-groups);
* [возможность использования функции записи](event-hubs-capture-overview.md).
* [Интеграция с Kafka](event-hubs-for-kafka-ecosystem-overview.md)

Дополнительные сведения о ценовых категориях, включая Центры событий ценовой категории "Выделенный", см. на странице [цен на Центры событий](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="where-is-azure-event-hubs-available"></a>Где доступны Центры событий Azure?

Центры событий Azure доступны во всех поддерживаемых регионах Azure. Список см. на странице [регионов Azure](https://azure.microsoft.com/regions/).  

### <a name="can-i-use-a-single-advanced-message-queuing-protocol-amqp-connection-to-send-and-receive-from-multiple-event-hubs"></a>Можно ли использовать одно подключение Расширенный протокол управления очередью сообщений (AMQP) для отправки и получения из нескольких концентраторов событий?

Да, при условии, что все концентраторы событий находятся в одном пространстве имен.

### <a name="what-is-the-maximum-retention-period-for-events"></a>Каков максимальный срок хранения событий?

Центры событий (цен. категория "Стандартный") в настоящее время поддерживают максимальный срок хранения в семь дней. Концентраторы событий не предназначены для постоянного хранения данных. Периоды хранения более 24 часов предназначены для сценариев, в которых удобно воспроизводить поток событий в тех же системах. Например, чтобы обучить или проверить новую модель машинного обучения для существующих данных. Если требуется хранить сообщения дольше семи дней, включите функцию [Сбор](event-hubs-capture-overview.md) в Центрах событий, чтобы извлекать из концентратора событий данные в учетную запись хранения или учетную запись службы Azure Data Lake по своему выбору. Включение записи повлечет за собой затраты в соответствии с приобретенной единицей пропускной способности.

Вы можете настроить срок хранения для захваченных данных в учетной записи хранения. **Управление жизненным циклом** службы хранилища Azure предлагает многофункциональные политики на основе правил для учетных записей v2 общего назначения и хранилищ BLOB-объектов. Эти политики позволяют переводить данные на новые уровни доступа и удалять их по завершении жизненного цикла. Дополнительные сведения см. в статье [Управление жизненным циклом хранилища BLOB-объектов Azure](../storage/blobs/storage-lifecycle-management-concepts.md). 

### <a name="how-do-i-monitor-my-event-hubs"></a>Как применить мониторинг для концентраторов событий?
Концентраторы событий создают метрики, которые предоставляют в [Azure Monitor](../azure-monitor/overview.md) полные данные о состоянии ресурсов. Они позволяют оценить общую работоспособность службы Центров событий не только на уровне пространства имен, но также и на уровне сущностей. Узнайте, какие возможности мониторинга поддерживаются для [Центров событий Azure](event-hubs-metrics-azure-monitor.md).

### <a name="where-does-azure-event-hubs-store-data"></a><a name="in-region-data-residency"></a>Где концентраторы событий Azure хранят данные?
Концентраторы событий Azure Standard и выделенные уровни хранят метаданные и данные в выбранных регионах. При настройке географического аварийного восстановления для пространства имен концентраторов событий Azure метаданные копируются в выбранный дополнительный регион. Таким образом, эта служба автоматически удовлетворяет требованиям местонахождение данных региона, включая те, которые указаны в [центре управления безопасностью](https://azuredatacentermap.azurewebsites.net/).

[!INCLUDE [event-hubs-connectivity](../../includes/event-hubs-connectivity.md)]

## <a name="apache-kafka-integration"></a>Интеграция с Apache Kafka

### <a name="how-do-i-integrate-my-existing-kafka-application-with-event-hubs"></a>Как интегрировать существующее приложение Kafka с Центрами событий?
Центры событий предоставляют конечную точку Kafka, которую могут использовать существующие приложения на основе Kafka. Чтобы настроить Kafka в режиме PaaS (платформа как услуга), достаточно лишь изменить конфигурацию. Так вы сможете обойтись без создания собственного кластера Kafka. Центры событий поддерживают Apache Kafka 1.0 и более новые версии клиента, а также работают с существующими приложениями, средствами и платформами Kafka. Дополнительные сведения см. в [репозитории Центров событий для Kafka](https://github.com/Azure/azure-event-hubs-for-kafka).

### <a name="what-configuration-changes-need-to-be-done-for-my-existing-application-to-talk-to-event-hubs"></a>Какие изменения нужно внести в конфигурацию, чтобы существующее приложение могло взаимодействовать с Центрами событий?
Чтобы подключиться к концентратору событий с поддержкой Kafka, следует обновить конфигурации клиентов Kafka. Для этого создайте пространство имен Центров событий и получите [строку подключения](event-hubs-get-connection-string.md). Измените bootstrap.servers, чтобы он содержат полное доменное имя Центров событий и порт 9093. Обновите файл sasl.jaas.config, чтобы направлять клиент Kafka к конечной точке Центров событий (которая является полученной строкой подключения) и использовать правильную проверку подлинности, как показано ниже:

```properties
bootstrap.servers={YOUR.EVENTHUBS.FQDN}:9093
request.timeout.ms=60000
security.protocol=SASL_SSL
sasl.mechanism=PLAIN
sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="$ConnectionString" password="{YOUR.EVENTHUBS.CONNECTION.STRING}";
```

Пример.

```properties
bootstrap.servers=dummynamespace.servicebus.windows.net:9093
request.timeout.ms=60000
security.protocol=SASL_SSL
sasl.mechanism=PLAIN
sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="$ConnectionString" password="Endpoint=sb://dummynamespace.servicebus.windows.net/;SharedAccessKeyName=DummyAccessKeyName;SharedAccessKey=XXXXXXXXXXXXXXXXXXXXX";
```
Примечание. Если sasl.jaas.config не является поддерживаемой конфигурацией в вашей платформе, найдите конфигурации, используемые для задания имени пользователя и пароля SASL и используйте их вместо них. В качестве имени пользователя задайте $ConnectionString, а в качестве пароля — строки подключения для Центров событий.

### <a name="what-is-the-messageevent-size-for-event-hubs"></a>Каков размер сообщения (события) для Центров событий?
Для Центров событий допускается максимальный размер сообщения 1 МБ.

## <a name="throughput-units"></a>Единицы пропускной способности

### <a name="what-are-event-hubs-throughput-units"></a>Что такое единицы пропускной способности Центров событий?
Пропускная способность Центров событий определяет объем данных (в мегабайтах) или число событий (в тысячах) размером 1 КБ, которые могут проходить через Центр событий. Пропускная способность измеряется в единицах пропускной способности. Единицы пропускной способности следует приобретать заранее до начала работы со службой Центров событий. Единицы пропускной способности для Центров событий вы можете указать явным образом с помощью портала Azure или шаблонов Resource Manager для Центров событий. 


### <a name="do-throughput-units-apply-to-all-event-hubs-in-a-namespace"></a>Применяются ли единицы пропускной способности одновременно для всех Центров событий в пространстве имен?
Да, единицы пропускной способности применяются для всех Центров событий в пространстве имен. Это означает, что единицы пропускной способности приобретаются на уровне пространства имен и совместно используются всеми Центрами событий в этом пространстве имен. Каждая единица пропускной способности предоставляет следующие возможности для пространства имен:

- до 1 МБ в секунду входящих событий (событий, отправленных в концентратор событий), но не более 1000 входящих событий, операций управления или контролирующих вызовов API в секунду;
- До 2 МБ в секунду исходящих событий (событий, полученных от концентратора событий), но не более 4096 исходящих событий.
- до 84 ГБ хранилища событий (достаточно для срока хранения 24 часа, используемого по умолчанию).

### <a name="how-are-throughput-units-billed"></a>Как выставляются счета за единицы пропускной способности?
Единицы пропускной способности тарифицируются на почасовой основе. Счет выставляется, исходя из максимального числа единиц, выбранных в течение каждого часа. 

### <a name="how-can-i-optimize-the-usage-on-my-throughput-units"></a>Как правильно оптимизировать использование единиц пропускной способности?
Вы можете начать с одной единицы пропускной способности и настроить [автоматическое расширение](event-hubs-auto-inflate.md). Функция автоматического расширения позволяет увеличивать количество единиц пропускной способности по мере роста трафика и (или) объема полезных данных. Можно также задать верхний предел количества для единиц пропускной способности.

### <a name="how-does-auto-inflate-feature-of-event-hubs-work"></a>Как работает функция автоматического расширения для Центров событий?
Автоматическое расширение позволяет увеличить масштаб для единиц пропускной способности. Это позволяет вам для начала работы приобрести небольшое количество единиц пропускной способности. Автоматическое расширение будет увеличивать масштаб по мере роста объема входящих данных. Так вы сэкономите средства, сохраняя полный контроль над количеством используемых единиц пропускной способности. Эта функция выполняет **только увеличение масштаба**, а обратное снижение масштаба вы контролируете самостоятельно, изменяя количество используемых единиц пропускной способности. 

Мы предлагаем начать с небольшого значения единиц пропускной способности (например, 2). Если вы ожидаете роста трафика до 15 единиц пропускной способности, включите для пространства имен функцию автоматического расширения и установите максимальное ограничение в 15 единиц пропускной способности. Теперь количество единиц пропускной способности будет увеличиваться автоматически по мере роста трафика.

### <a name="is-there-a-cost-associated-when-i-turn-on-the-auto-inflate-feature"></a>Взимается ли плата за использование функции автоматического расширения?
Эта функция предоставляется **без дополнительных затрат**. 

### <a name="how-are-throughput-limits-enforced"></a>Как применяются ограничения пропускной способности?
Если общая **входящая** пропускная способность или общий коэффициент входящих событий во всех концентраторах событий в пространстве имен превышает суммарные ограничения по единицам, отправители регулируются и получают ошибки, указывающие на превышение квоты входящих сообщений.

Если общая **исходящая** пропускная способность или общий коэффициент исходящих событий во всех Центрах событий в пространстве имен превышает суммарные ограничения по единицам, получатели будут регулироваться, но ошибок регулирования не создается. 

Квоты на входящие и исходящие сообщения применяются независимо, поэтому отправитель не может стать причиной замедления получения событий, а получатель — причиной прекращения отправки событий в концентратор событий.

### <a name="is-there-a-limit-on-the-number-of-throughput-units-that-can-be-reservedselected"></a>Существует ли ограничение на количество единиц пропускной способности, которые могут быть зарезервированы или выбраны?

При создании пространства имен уровня "базовый" или "Стандартный" в портал Azure можно выбрать до 20 единиц пропускной способности для пространства имен. Чтобы подать ему **ровно** 40 единиц пропускной способности, отправьте  [запрос в службу поддержки](../azure-portal/supportability/how-to-create-azure-support-request.md).  

1. На странице **пространство имен шины событий** выберите **новый запрос в службу поддержки** в меню слева. 
1. На странице **новый запрос в службу поддержки** выполните следующие действия.
    1. В качестве **сводки** Опишите проблемы в нескольких словах. 
    1. В поле **Тип проблемы** выберите **Квота**. 
    1. Для **подтипа проблемы** выберите **запрос на увеличение или уменьшение единицы пропускной способности**. 
    
        :::image type="content" source="./media/event-hubs-faq/support-request-throughput-units.png" alt-text="Страница Поддержка":::

При объемах более 40 единиц пропускной способности Центры событий предлагают специальную модель учета ресурсов и емкости, именуемую Центры событий ценовой категории "Выделенный" . Центры событий ценовой категории "Выделенный" приобретаются кратно единицам мощности. Дополнительные сведения см. в разделе [центры событий (цен. Категория "выделенный")-Overview](event-hubs-dedicated-overview.md).

## <a name="dedicated-clusters"></a>Кластеры категории "Выделенный"

### <a name="what-are-event-hubs-dedicated-clusters"></a>Что такое Центры событий ценовой категории "Выделенный"?
Ценовая категория "Выделенный" для Центров событий позволяет создавать развертывания с одним клиентом для самых требовательных пользователей. Это предложение создает кластер с привязкой к объему ресурсов, который не ограничен единицами пропускной способности. Это означает, что вы можете использовать такой кластер для приема и потоковой передачи данных в любых объемах, которые смогут поддерживать ЦП и память кластера. Дополнительные сведения см. в статье [Обзор Центров событий ценовой категории "Выделенный"](event-hubs-dedicated-overview.md).

### <a name="how-do-i-create-an-event-hubs-dedicated-cluster"></a>Как создать кластер Центров событий ценовой категории "Выделенный"?
Пошаговые инструкции и дополнительные сведения о настройке выделенного кластера концентраторов событий см. в разделе [Краткое руководство. Создание выделенного кластера концентраторов событий с помощью портал Azure](event-hubs-dedicated-cluster-create-portal.md). 


[!INCLUDE [event-hubs-dedicated-clusters-faq](../../includes/event-hubs-dedicated-clusters-faq.md)]


## <a name="partitions"></a>Секции

### <a name="how-many-partitions-do-i-need"></a>Сколько секций мне нужно?
Количество секций определяется во время создания. Рабочий диапазон — от 1 до 32. Количество секций не изменяется на всех уровнях, кроме [выделенного уровня](event-hubs-dedicated-overview.md), поэтому при задании числа секций следует учитывать долгосрочное масштабирование. Секции — это способ организации данных, который соотносится со степенью параллелизма подчиненных элементов, требуемой для работы потребляющих приложений. Поэтому количество секций в концентраторе событий непосредственно связано с предполагаемым числом параллельных модулей чтения. Дополнительные сведения о секциях см. в разделе [Секции](event-hubs-features.md#partitions).

Вы можете задать для него максимально возможное значение, которое равно 32, во время создания. Помните, что наличие нескольких секций приведет к тому, что события отправляются в несколько секций без сохранения их порядка, если только не настроить отправители на отправку в одну секцию из 32, оставив оставшиеся 31 секцию избыточными. В первом случае вам придется считывать события по всем 32 секциям. Во втором случае нет очевидных дополнительных затрат, помимо дополнительной настройки, которую необходимо внести на узле обработчика событий.

В Центрах событий предусмотрен один модуль чтения секции на каждую группу потребителей. В большинстве вариантов использования значение по умолчанию (четыре секции) является достаточным. Если вы планируете масштабировать обработку событий, то рассмотрите добавление дополнительных секций. В секции нет определенного ограничения пропускной способности, однако суммарная пропускная способность в пространстве имен ограничивается количеством единиц пропускной способности. Увеличивая количество единиц пропускной способности в пространстве имен, вы можете увеличить количество секций, чтобы в параллельных модулях чтения также достигалась максимальная пропускная способность.

Тем не менее, если применяется модель, в которой приложение сопоставлено с конкретной секцией, то увеличение количества секций может не иметь никакого эффекта. Дополнительные сведения см. в статье [Доступность и согласованность в Центрах событий](event-hubs-availability-and-consistency.md).

### <a name="increase-partitions"></a>Увеличение секций
Вы можете запросить увеличение числа секций до 40 (точно), отправив запрос в службу поддержки. 

1. На странице **пространство имен шины событий** выберите **новый запрос в службу поддержки** в меню слева. 
1. На странице **новый запрос в службу поддержки** выполните следующие действия.
    1. В качестве **сводки** Опишите проблемы в нескольких словах. 
    1. В поле **Тип проблемы** выберите **Квота**. 
    1. Для **подтипа проблемы** выберите **запрос на изменение секции**. 
    
        :::image type="content" source="./media/event-hubs-faq/support-request-increase-partitions.png" alt-text="Увеличить число секций":::

Число секций может быть увеличено до ровно 40. В этом случае число единиц пропускной способности также должно быть увеличено до 40. Если позже вы решите уменьшить ограничение TU до <= 20, максимальное число секций также будет уменьшено до 32. 

Уменьшение количества секций не влияет на существующие концентраторы событий, так как секции применяются на уровне концентратора событий и после создания концентратора являются неизменяемыми. 

## <a name="pricing"></a>Цены

### <a name="where-can-i-find-more-pricing-information"></a>Где я могу найти дополнительные сведения о ценах?

Полные сведения о ценах на Центры событий см. в разделе со [сведениями о ценах на Центры событий](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="is-there-a-charge-for-retaining-event-hubs-events-for-more-than-24-hours"></a>Взимается ли плата за хранение событий Центров событий более 24 часов?

Центры событий ценовой категории "Стандартный" разрешают хранение сообщений более 24 часов, но не более 7 дней. Если общий объем всех хранимых событий превышает лимит хранения для выбранного количества единиц пропускной способности (84 ГБ для каждой единицы), то за избыточный объем взимается плата согласно опубликованным ценам на хранилище BLOB-объектов Azure. Лимит хранения для каждой единицы пропускной способности покрывает все расходы для срока хранения в 24 часа (по умолчанию), даже если единица пропускной способности использована максимально.

### <a name="how-is-the-event-hubs-storage-size-calculated-and-charged"></a>Как рассчитывается и оплачивается размер хранилища Центров событий?

Общий размер всех хранимых событий, включая внутреннюю дополнительную память для заголовков событий или дисковые накопительные структуры во всех концентраторах событий, измеряется в течение дня. В конце дня вычисляется максимальный размер хранилища. Ежедневный лимит хранения рассчитывается на основе минимального количества единиц пропускной способности, которое было выбрано в течение дня (каждая единица имеет ограничение в 84 ГБ). Если общий размер превышает рассчитанный ежедневный лимит хранения, избыточный объем оплачивается согласно ценам на хранилище BLOB-объектов Azure (по цене **локально избыточного хранилища** ).

### <a name="how-are-event-hubs-ingress-events-calculated"></a>Как рассчитываются входящие события Центров событий?

Каждое событие, отправленное в концентратор событий, считается оплачиваемым сообщением. *Входящее событие* определяется как единица данных, размер которой меньше или равен 64 КБ. Любое событие, размер которого меньше или равен 64 КБ, считается одним оплачиваемым событием. Если размер события превышает 64 КБ, то количество оплачиваемых сообщений вычисляется исходя из размера, кратного 64 КБ. Например, событие размером 8 КБ, отправленное концентратору событий, оплачивается как одно событие, а сообщение размером 96 КБ, отправленное концентратору событий, оплачивается как два события.

События, потребляемые из концентратора событий, операции управления и вызовы управления, такие как контрольные точки, не считаются оплачиваемыми входящими событиями, но начисляются до квоты на единицу пропускной способности.

### <a name="do-brokered-connection-charges-apply-to-event-hubs"></a>Применяется ли плата за подключение через посредника для Центров событий?

Плата за подключение взимается только при использовании протокола AMQP. При отправке событий с помощью HTTP плата за подключение не взимается вне зависимости от количества отправляющих систем или устройств. Если планируется использовать AMQP (например, для достижения более эффективной потоковой передачи событий или включения двусторонней связи в сценариях управления Интернетом вещей), то ознакомьтесь со [сведениями о ценах на Центры событий](https://azure.microsoft.com/pricing/details/event-hubs/), чтобы узнать, сколько подключений доступно на каждом уровне служб.

### <a name="how-is-event-hubs-capture-billed"></a>Как выставляются счета за использование функции "Сбор" в Центрах событий?

Функция записи активируется, когда ее включают в любом концентраторе событий пространства имен. Счет за использование функции "Сбор" в Центрах событий выставляется на почасовой основе для каждой приобретенной единицы пропускной способности. Так как количество единиц пропускной способности может увеличиваться или уменьшаться, стоимость каждого часа использования функции записи в службе "Центры событий" рассчитывается отдельно. Дополнительные сведения о выставлении счетов за использование функции "Сбор" в Центрах событий см. на [этой странице](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="do-i-get-billed-for-the-storage-account-i-select-for-event-hubs-capture"></a>Нужно ли мне оплачивать учетную запись хранения, которая выбрана для использования функции "Сбор" в Центрах событий?

Функция записи использует учетную запись хранения, указанную при его включении в концентраторе событий. Так как эта учетная запись хранения принадлежит вам, все платежи за изменения этой конфигурации оплачиваются через вашу подписку Azure.

## <a name="quotas"></a>Квоты

### <a name="are-there-any-quotas-associated-with-event-hubs"></a>Существуют ли квоты, связанные с Центрами событий?

Список всех квот для Центров событий см. в статье [Квоты для Центров событий](event-hubs-quotas.md).

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="why-am-i-not-able-to-create-a-namespace-after-deleting-it-from-another-subscription"></a>Почему я не могу создать пространство имен после удаления его из другой подписки? 
При удалении пространства имен из подписки подождите 4 часа, прежде чем создать его заново с тем же именем в другой подписке. Иначе можно получить сообщение об ошибке `Namespace already exists`. 

### <a name="what-are-some-of-the-exceptions-generated-by-event-hubs-and-their-suggested-actions"></a>Какие исключения создаются Центрами событий? Какие действия можно предпринять?

Список возможных исключений Центров событий приведен в статье [Исключения обмена сообщениями Центров событий](event-hubs-messaging-exceptions.md).

### <a name="diagnostic-logs"></a>Журналы диагностики

Центры событий поддерживают два типа [журналов диагностики](event-hubs-diagnostic-logs.md) — журналы ошибок функции "Сбор" и операционные журналы. Оба типа представлены в формате JSON и могут быть включены на портале Azure.

### <a name="support-and-sla"></a>Поддержка и соглашение об уровне обслуживания

Техническая поддержка для концентраторов событий доступна на [Странице Майкрософт с вопросами и ответами для Служебной шины Azure](/answers/topics/azure-service-bus.html). Поддержка по выставлению счетов и управлению подпиской предоставляется бесплатно.

Дополнительные сведения о соглашении об уровне обслуживания см. на странице [Соглашения об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/).

## <a name="azure-stack-hub"></a>Azure Stack Hub

### <a name="how-can-i-target-a-specific-version-of-azure-storage-sdk-when-using-azure-blob-storage-as-a-checkpoint-store"></a>Как можно выбрать конкретную версию пакета SDK службы хранилища Azure при использовании хранилища BLOB-объектов Azure в качестве хранилища контрольных точек?
Если запустить этот код в центре Azure Stack, вы получите ошибки во время выполнения, если вы не используете конкретную версию API хранилища. Это связано с тем, что пакет SDK для Центров событий использует последний доступный в Azure API службы хранилища Azure, который может быть недоступным на вашей платформе Azure Stack Hub. Центр Azure Stack может поддерживать другую версию пакета SDK для хранилища BLOB-объектов, которая обычно доступна в Azure. Если вы используете хранилище блогов Azure в качестве хранилища контрольных точек, проверьте [поддерживаемую версию API службы хранилища Azure для сборки Azure Stackного центра](/azure-stack/user/azure-stack-acs-differences?#api-version) и нацеливание на эту версию в коде. 

Например, если вы используете Azure Stack Hub версии 2005, самая высокая доступная версия для службы хранилища — версия 2019-02-02. По умолчанию клиентская библиотека пакета SDK для Центров событий использует последнюю доступную версию в Azure (2019-07-07 на момент выпуска пакета SDK). В этом случае, помимо выполнения действий, описанных в этом разделе, необходимо также добавить код для API службы хранилища версии 2019-02-02. Пример назначения конкретной версии API хранилища см. в следующих примерах для C#, Java, Python и JavaScript/TypeScript.  

Пример назначения определенной версии API хранилища из кода см. в следующих примерах на сайте GitHub: 

- [.NET](https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/eventhub/Azure.Messaging.EventHubs.Processor/samples/)
- [Java](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/eventhubs/azure-messaging-eventhubs-checkpointstore-blob/src/samples/java/com/azure/messaging/eventhubs/checkpointstore/blob/EventProcessorWithCustomStorageVersion.java)
- Python — [синхронный](https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/eventhub/azure-eventhub-checkpointstoreblob/samples/receive_events_using_checkpoint_store_storage_api_version.py), [асинхронный](https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/eventhub/azure-eventhub-checkpointstoreblob-aio/samples/receive_events_using_checkpoint_store_storage_api_version_async.py)
- [JavaScript](https://github.com/Azure/azure-sdk-for-js/blob/master/sdk/eventhub/eventhubs-checkpointstore-blob/samples/javascript/receiveEventsWithApiSpecificStorage.js) и [TypeScript](https://github.com/Azure/azure-sdk-for-js/blob/master/sdk/eventhub/eventhubs-checkpointstore-blob/samples/typescript/src/receiveEventsWithApiSpecificStorage.ts)

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о Центрах событий см. в следующих источниках:

* [Общие сведения о Центрах событий](./event-hubs-about.md)
* [Создание концентратора событий](event-hubs-create.md)
* [Автоматическое расширение Центров событий](event-hubs-auto-inflate.md)
