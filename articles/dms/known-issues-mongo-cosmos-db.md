---
title: 'Известные проблемы: миграция с MongoDB на CosmosDB Azure'
titleSuffix: Azure Database Migration Service
description: Сведения об известных проблемах и ограничениях миграции при миграции с MongoDB на Azure Cosmos DB с помощью Azure Database Migration Service.
services: database-migration
author: pochiraju
ms.author: rajpo
manager: craigg
ms.reviewer: craigg
ms.service: dms
ms.workload: data-services
ms.custom: seo-lt-2019
ms.topic: troubleshooting
ms.date: 02/27/2020
ms.openlocfilehash: be6d9d3b8a20e11c874234baae26629ce0187e4f
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91291816"
---
# <a name="known-issuesmigration-limitations-with-migrations-from-mongodb-to-azure-cosmos-dbs-api-for-mongodb"></a>Известные проблемы/ограничения миграции при миграции с MongoDB на API Azure Cosmos DB для MongoDB

Известные проблемы и ограничения, связанные с миграцией из MongoDB в API-интерфейс Cosmos DB для MongoDB, описаны в следующих разделах.

## <a name="migration-fails-as-a-result-of-using-the-incorrect-ssl-cert"></a>Сбой миграции в результате использования неверного SSL-сертификата

* **Симптом**. Эта проблема очевидна, когда пользователь не может подключиться к исходному серверу MongoDB. Несмотря на то, что все порты брандмауэра открыты, пользователь по-прежнему не сможет подключиться.

| Причина         | Решение |
| ------------- | ------------- |
| Использование самозаверяющего сертификата в Azure Database Migration Service может привести к сбою миграции из-за неправильного SSL-сертификата. Сообщение об ошибке может включать "удаленный сертификат является недопустимым в соответствии с процедурой проверки". | Используйте подлинный сертификат из центра сертификации.  Самозаверяющие сертификаты обычно используются только во внутренних тестах. При установке подлинного сертификата из центра сертификации можно использовать SSL в Azure Database Migration Service без проблем (подключения к Cosmos DB используют SSL через API Mongo).<br><br> |

## <a name="unable-to-get-the-list-of-databases-to-map-in-dms"></a>Не удалось получить список баз данных для отображения в DMS

* **Симптом**. не удалось получить список баз данных в колонке " **параметр базы данных** " при использовании **данных из режима хранилища Azure** в колонке " **Выбор источника** ".

| Причина         | Решение |
| ------------- | ------------- |
| В строке подключения учетной записи хранения отсутствуют сведения SAS, поэтому проверка подлинности невозможна. | Создайте SAS в контейнере больших двоичных объектов в Обозреватель службы хранилища и используйте URL-адрес со сведениями о SAS контейнера в качестве подробной строки подключения к источнику.<br><br> |

## <a name="using-an-unsupported-version-of-the-database"></a>Использование неподдерживаемой версии базы данных

* **Симптом**. сбой миграции.

| Причина         | Решение |
| ------------- | ------------- |
| Попытка перехода на Azure Cosmos DB из неподдерживаемой версии MongoDB. | По мере выпуска новых версий MongoDB они тестируются для обеспечения совместимости с Azure Database Migration Service, а служба периодически обновляется для принятия последних версий. Если необходимо выполнить миграцию немедленно, в качестве обходного пути можно экспортировать базы данных или коллекции в службу хранилища Azure, а затем указать источник результирующего дампа. Создайте SAS в контейнере больших двоичных объектов в Обозреватель службы хранилища, а затем используйте URL-адрес со сведениями о SAS контейнера в качестве подробной строки подключения к источнику.<br><br> |

## <a name="next-steps"></a>Дальнейшие действия

* Ознакомьтесь с руководством [Миграция MongoDB в API Azure Cosmos DB для MongoDB Online с помощью DMS](tutorial-mongodb-cosmos-db-online.md).
* Ознакомьтесь с руководством [Миграция MongoDB в API Azure Cosmos DB для MongoDB в автономном режиме с помощью DMS](tutorial-mongodb-cosmos-db.md).