---
title: Azure Service Fabric CLI — создание sfctl
description: Сведения о sfctl, интерфейсе командной строки Azure Service Fabric. Содержит список команд для Docker Compose приложений.
author: jeffj6123
ms.topic: reference
ms.date: 1/16/2020
ms.author: jejarry
ms.openlocfilehash: e84b35ff3dfa7be0c848a4d7b906c622d9b88914
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "86257336"
---
# <a name="sfctl-compose"></a>sfctl compose
Создание, удаление приложений Docker Compose и управление ими.

## <a name="commands"></a>Команды

|Команда|Описание|
| --- | --- |
| create | Создает развертывание Compose в Service Fabric. |
| list | Возвращает список развертываний Compose, созданных в кластере Service Fabric. |
| remove | Удаляет существующее развертывание Compose в Service Fabric из кластера. |
| status | Возвращает сведения о развертывании Compose в Service Fabric. |
| обновление | Запускает обновление развертывания Compose в кластере Service Fabric. |
| upgrade-rollback | Запускает откат обновления развертывания Compose в кластере Service Fabric. |
| upgrade-status | Возвращает сведения о последнем обновлении данного развертывания Compose в Service Fabric. |

## <a name="sfctl-compose-create"></a>sfctl compose create
Создает развертывание Compose в Service Fabric.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Имя развертывания. |
| --file-path [обязательный параметр] | Путь к целевому файлу Docker Compose. |
| --encrypted-pass | Вместо того чтобы ожидать ввода пароля к реестру контейнера, используется уже зашифрованная фраза-пароль. |
| --has-pass | Запрашивает пароль к реестру контейнеров. |
| --timeout -t | Значение по умолчанию\: 60. |
| --user | Имя пользователя для подключения к реестру контейнеров. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-list"></a>sfctl compose list
Возвращает список развертываний Compose, созданных в кластере Service Fabric.

Возвращает состояние развертываний Compose, которые были созданы или в процессе создания в кластере Service Fabric. Ответ содержит имя, состояние и другие сведения о развертывании Compose. Если список развертываний не помещается на странице, возвращается одна страница результатов и маркер продолжения, который можно использовать для получения следующей страницы.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --continuation-token | Параметр маркера продолжения используется для получения следующего набора результатов. Маркер продолжения с непустым значением добавляется в ответ API, когда результаты из системы не помещаются в один ответ. Когда это значение передается в следующем вызове API, API возвращает следующий набор результатов. Если результаты отсутствуют, маркер продолжения не будет содержать значение. Значение этого параметра не должно быть указано в формате URL-адреса. |
| --max-results | Максимальное количество результатов, возвращаемых в результате страничного запроса. Этот параметр определяет максимальное число возвращаемых результатов. Возвращаемых результатов может быть меньше, чем указанное максимальное количество результатов, если они не помещаются в сообщении согласно ограничениям максимального размера сообщения, определенным в конфигурации. Если этот параметр равен нулю или не указан, то результат страничного запроса содержит максимальное число результатов, помещающееся в возвращаемом сообщении. |
| --timeout -t | Время ожидания сервера для выполнения операции в секундах. Это время ожидания указывает период времени, в течение которого клиент желает ожидать завершения запрошенной операции. Значение по умолчанию для этого параметра — 60 секунд.  Значение по умолчанию\: 60. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-remove"></a>sfctl compose remove
Удаляет существующее развертывание Compose в Service Fabric из кластера.

Удаляет существующее развертывание Compose в Service Fabric.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Идентификатор развертывания. |
| --timeout -t | Время ожидания сервера для выполнения операции в секундах. Это время ожидания указывает период времени, в течение которого клиент желает ожидать завершения запрошенной операции. Значение по умолчанию для этого параметра — 60 секунд.  Значение по умолчанию\: 60. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-status"></a>sfctl compose status
Возвращает сведения о развертывании Compose в Service Fabric.

Возвращает состояние развертывания Compose, которое создано или находится в процессе создания в кластере Service Fabric и имя которого совпадает со значением, указанным в качестве параметра. Ответ содержит имя, состояние и другие сведения о развертывании.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Идентификатор развертывания. |
| --timeout -t | Время ожидания сервера для выполнения операции в секундах. Это время ожидания указывает период времени, в течение которого клиент желает ожидать завершения запрошенной операции. Значение по умолчанию для этого параметра — 60 секунд.  Значение по умолчанию\: 60. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-upgrade"></a>sfctl compose upgrade
Запускает обновление развертывания Compose в кластере Service Fabric.

Проверяет указанные параметры обновления и запускает обновление развертывания, если параметры верные.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Имя развертывания. |
| --file-path [обязательный параметр] | Путь к целевому файлу Docker Compose. |
| --default-svc-type-health-map | Словарь в формате JSON, который описывает политики работоспособности, используемые для оценки работоспособности служб. |
| --encrypted-pass | Вместо того чтобы ожидать ввода пароля к реестру контейнера, используется уже зашифрованная фраза-пароль. |
| --failure-action | Возможные значения\: Invalid, Rollback, Manual. |
| --force-restart | Принудительный перезапуск процессов при обновлении, даже если версии кода не изменены. <br><br> При обновлении изменяется только конфигурация или данные. |
| --has-pass | Запрашивает пароль к реестру контейнеров. |
| --health-check-retry | Продолжительность времени между попытками выполнить проверку работоспособности, если приложение или кластер неработоспособны. |
| --health-check-stable | Период времени, в течение которого приложение или кластер должен оставаться работоспособным, прежде чем процесс обновления перейдет к следующему домену обновления. <br><br> Сначала он интерпретируется как строка, представляющая длительность ISO 8601. В случае неудачи он интерпретируется как число, представляющее общее количество миллисекунд. |
| --health-check-wait | Продолжительность ожидания после завершения обновления домена до начала процесса проверки работоспособности. |
| --replica-set-check | Максимальный период времени, на протяжении которого можно блокировать обработку домена обновления и не допустить потери доступности в случае возникновения непредвиденных проблем. <br><br> По истечении времени ожидания обработка домена обновления будет выполняться независимо от проблем с потерей доступа. Время ожидания сбрасывается при запуске каждого домена обновления. Допустимые значения — от 0 до 42949672925 включительно. |
| --svc-type-health-map | Список объектов в формате JSON, которые описывают политики работоспособности, применяемые для оценки работоспособности различных типов служб. |
| --timeout -t | Значение по умолчанию\: 60. |
| --unhealthy-app | Максимально допустимый процент неработоспособных приложений, по достижении которого отображается сообщение об ошибке. <br><br> Например, чтобы разрешить 10 % неработоспособных приложений, это значение должно быть равно 10. Это значение указывает максимально допустимый процент неработоспособных приложений, превышение которого вызывает состояние "Error" при оценке кластера. Если процент учитывается, но имеется по крайней мере одно неработоспособное приложение, то состояние работоспособности оценивается как "Warning". Это вычисляется путем деления числа неработоспособных приложений на общее число экземпляров приложений в кластере. |
| --upgrade-domain-timeout | Время выполнения каждого домена обновления, по истечении которого выполняется действие FailureAction. <br><br> Сначала он интерпретируется как строка, представляющая длительность ISO 8601. В случае неудачи он интерпретируется как число, представляющее общее количество миллисекунд. |
| --upgrade-kind | Значение по умолчанию\: Rolling. |
| --upgrade-mode | Возможные значения\: Invalid, UnmonitoredAuto, UnmonitoredManual, Monitored.  Значение по умолчанию\: UnmonitoredAuto. |
| --upgrade-timeout | Общее время завершения обновления, по истечении которого выполняется действие FailureAction. <br><br> Сначала он интерпретируется как строка, представляющая длительность ISO 8601. В случае неудачи он интерпретируется как число, представляющее общее количество миллисекунд. |
| --user | Имя пользователя для подключения к реестру контейнеров. |
| --warning-as-error | Указывает, учитываются ли предупреждения с той же степенью серьезности, что и ошибки. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-upgrade-rollback"></a>sfctl compose upgrade-rollback
Запускает откат обновления развертывания Compose в кластере Service Fabric.

Выполняет откат обновления развертывания Compose в Service Fabric.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Идентификатор развертывания. |
| --timeout -t | Время ожидания сервера для выполнения операции в секундах. Это время ожидания указывает период времени, в течение которого клиент желает ожидать завершения запрошенной операции. Значение по умолчанию для этого параметра — 60 секунд.  Значение по умолчанию\: 60. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |

## <a name="sfctl-compose-upgrade-status"></a>sfctl compose upgrade-status
Возвращает сведения о последнем обновлении данного развертывания Compose в Service Fabric.

Возвращает сведения о состоянии обновления развертывания сборки, а также сведения для упрощения отладки приложений неисправности.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --deployment-name [обязательный параметр] | Идентификатор развертывания. |
| --timeout -t | Время ожидания сервера для выполнения операции в секундах. Это время ожидания указывает период времени, в течение которого клиент желает ожидать завершения запрошенной операции. Значение по умолчанию для этого параметра — 60 секунд.  Значение по умолчанию\: 60. |

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug | Повышение уровня детализации журнала для включения всех журналов отладки. |
| --help -h | Отображение этого справочного сообщения и выход. |
| --output -o | Формат вывода.  Допустимые значения\: json, jsonc, table, tsv.  Значение по умолчанию\: json. |
| --query | Строка запроса JMESPath. Дополнительные сведения и примеры см. на веб-сайте http\://jmespath.org/. |
| --verbose | Повышение уровня детализации журнала. Чтобы включить полные журналы отладки, используйте параметр --debug. |


## <a name="next-steps"></a>Дальнейшие действия
- [Настройте](service-fabric-cli.md) Service Fabric CLI.
- Узнайте, как использовать интерфейс командной строки Service Fabric, с помощью [примеров сценариев](./scripts/sfctl-upgrade-application.md).
