---
title: Развертывание управляемого кластера Service Fabric (предварительная версия) с помощью Azure Resource Manager
description: Создание управляемого кластера Service Fabric с помощью шаблона Azure Resource Manager
ms.topic: quickstart
ms.date: 09/28/2020
ms.custom: references_regions
ms.openlocfilehash: 079e8e3e39bd306332abb43fa2ae1f8cc04e305b
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91410423"
---
# <a name="quickstart-deploy-a-service-fabric-managed-cluster-preview-with-an-azure-resource-manager-template"></a>Краткое руководство. Развертывание управляемого кластера Service Fabric (предварительная версия) с помощью шаблона Azure Resource Manager

Управляемые кластеры Service Fabric — это доработанная модель кластерного ресурса Azure Service Fabric, которая упрощает развертывание кластеров, а также процесс управления ими. Управляемые кластеры Service Fabric — это полностью инкапсулированный ресурс, позволяющий развертывать один кластерный ресурс Service Fabric вместо развертывания всех базовых ресурсов, составляющих кластер Service Fabric. В этой статье описано развертывание тестового управляемого кластера Service Fabric в Azure с помощью шаблона Azure Resource Manager (ARM).

Кластер с тремя узлами категории "Базовый", развернутый в этом учебнике, предназначен только для обучения (а не рабочих нагрузок). Дополнительные сведения см. в разделе [Номера SKU управляемого кластера Service Fabric](overview-managed-cluster.md#service-fabric-managed-cluster-skus).

## <a name="prerequisites"></a>Предварительные требования

Перед началом работы с этим кратким руководством:

* Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись](https://azure.microsoft.com/free/?WT.mc_id=A261C142F).

## <a name="review-the-template"></a>Изучение шаблона

Шаблон, используемый в этом кратком руководстве, взят из раздела [Примеры Azure — Service Fabric](https://github.com/Azure-Samples/service-fabric-cluster-templates/tree/master/SF-Managed-Basic-SKU-1-NT).

## <a name="create-a-client-certificate"></a>Создание клиентского сертификата

В управляемых кластерах Service Fabric в качестве ключа для контроля доступа используется сертификат клиента. Если у вас уже есть сертификат клиента, который вы хотите использовать для управления доступом к кластеру, этот шаг можно пропустить.

Если необходимо создать новый сертификат клиента, выполните действия, описанные в разделе [Настройка и получение сертификата из Azure Key Vault](../key-vault/certificates/quick-create-portal.md).

Запишите отпечаток сертификата, так как он потребуется для развертывания шаблона на следующем шаге.

## <a name="deploy-the-template"></a>Развертывание шаблона

1. Выберите следующее изображение, чтобы войти на портал Azure и открыть шаблон.

      [![Развертывание в Azure](../media/template-deployments/deploy-to-azure.svg)](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure-Samples%2Fservice-fabric-cluster-templates%2Fmaster%2FSF-Managed-Basic-SKU-1-NT%2Fazuredeploy.json)

2. Введите или выберите следующие значения.

    В этом кратком руководстве укажите собственные значения для следующих параметров шаблона:

    * **Подписка**: Выберите подписку Azure.
    * **Группа ресурсов**. Выберите **Создать**. Введите уникальное имя для группы ресурсов, например *myResourceGroup*, а затем нажмите кнопку **ОК**.
    * **Расположение.** Выберите расположение, например **eastus2**. Поддерживаемые регионы для предварительной версии управляемых кластеров Service Fabric: `centraluseuap`, `eastus2euap`, `eastasia`, `northeurope`, `westcentralus`и `eastus2`.
    * **Имя кластера**. Введите уникальное имя кластера, например *mysfcluster*.
    * **Имя администратора**. Введите имя администратора, который будет использоваться для RDP на базовых виртуальных машинах в кластере.
    * **Пароль администратора**. Введите пароль администратора, который будет использоваться для RDP на базовых виртуальных машинах в кластере.
    * **Отпечаток сертификата клиента**. Укажите отпечаток сертификата клиента, который хотите использовать для доступа к кластеру. Если у вас нет сертификата, выполните действия по [настройке и получению сертификата](../key-vault/certificates/quick-create-portal.md), чтобы создать самозаверяющий сертификат.
    * **Имя типа узла**. Введите уникальное имя для типа узла, например *nt1*.
    * **Я принимаю указанные выше условия**. Установите этот флажок, чтобы принять условия. 

3. Щелкните **Приобрести**.

4. Развертывание управляемого кластера Service Fabric займет несколько минут. Прежде чем переходить к следующим шагам, дождитесь успешного завершения развертывания.

## <a name="validate-the-deployment"></a>Проверка развертывания

### <a name="review-deployed-resources"></a>Просмотр развернутых ресурсов

После завершения развертывания найдите значение Service Fabric Explorer в выходных данных и откройте адрес в веб-браузере, чтобы просмотреть кластер в Service Fabric Explorer. При появлении запроса о сертификате используйте сертификат, для которого в шаблоне был предоставлен отпечаток клиента.

> [!NOTE]
> Выходные данные развертывания можно найти на портале Azure на вкладке развертывания группы ресурсов.

## <a name="clean-up-resources"></a>Очистка ресурсов

Удалите группу ресурсов для управляемого кластера Service Fabric, если она больше не нужна. Чтобы удалить группу ресурсов на портале, сделайте следующее:

1. В поле *Поиск* в верхней части портала введите имя группы ресурсов. Если в результатах поиска отображается группа ресурсов, используемая в этом кратком руководстве, выберите ее.
2. Выберите **Удалить группу ресурсов**.
3. В поле **Введите имя группы ресурсов:** введите имя группы ресурсов и выберите **Удалить**.

## <a name="next-steps"></a>Дальнейшие действия

В этом кратком руководстве вы развернули управляемый кластер Service Fabric. Дополнительные сведения о масштабировании кластера см. в статье:

> [!div class="nextstepaction"]
> [Масштабирование управляемого кластера Service Fabric](tutorial-managed-cluster-scale.md)
