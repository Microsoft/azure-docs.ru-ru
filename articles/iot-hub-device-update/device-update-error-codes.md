---
title: Коды ошибок клиента для обновления устройства для центра Интернета вещей Azure | Документация Майкрософт
description: В этом документе содержится таблица кодов ошибок клиента для различных компонентов обновления устройства.
author: lichris
ms.author: lichris
ms.date: 2/18/2021
ms.topic: reference
ms.service: iot-hub-device-update
ms.openlocfilehash: 5251d0cb09e40305d1efd89c31d3af0fa36ad385
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2021
ms.locfileid: "101663651"
---
# <a name="device-update-for-iot-hub-error-codes"></a>Коды ошибок центра Интернета вещей при обновлении устройства

Этот документ содержит таблицу кодов ошибок для различных компонентов обновления устройств. Это предназначено для использования в качестве справочной документации для пользователей, желающих проанализировать собственные коды ошибок для диагностики и устранения проблем.

Существует два основных компонента на стороне клиента, которые могут создавать коды ошибок: агент обновления устройства и агент оптимизации доставки.

## <a name="device-update-agent"></a>Агент обновления устройства

### <a name="resultcode-and-extendedresultcode"></a>ResultCode и Екстендедресулткоде

Отчеты об обновлении устройства для интерфейса PnP центра Интернета вещей `ResultCode` и `ExtendedResultCode` , которые можно использовать для диагностики сбоев. Дополнительные [сведения](device-update-plug-and-play.md) об основном интерфейсе PnP обновления устройства.

#### <a name="resultcode"></a>ResultCode

`ResultCode` — Это общий код состояния, который соответствует соглашению о коде состояния HTTP.
Дополнительные [сведения](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) о кодах состояния HTTP.

#### <a name="extendedresultcode"></a>екстендедресулткоде

`ExtendedResultCode` — Это целое число со сведениями о кодированной ошибке.

Скорее всего, `ExtendedResultCode` в интерфейсе PnP будет отображаться как целое число со знаком. Чтобы декодировать `ExtendedResultCode` , преобразуйте целое число со знаком в шестнадцатеричное значение без знака. Используются только первые 4 байта в `ExtendedResultCode` и имеют форму, `F` `FFFFFFF` где первая часть представляет собой **код устройства** , а остальные биты — **код ошибки**.

**Коды устройств**

| Код устройства     | Описание  |
|-------------------|--------------|
| D                 | Ошибка, вызванная из пакета SDK для DO|
| E                 | Код ошибки является кодом перезаписи |


Пример.

`ExtendedResultCode` равно `-536870781`

Шестнадцатеричное представление без знака `-536870781` имеет значение `FFFFFFFF E0000083` .

| Игнорировать    | Код устройства  | Код ошибки   |
|-----------|----------------|--------------|
| FFFFFFFF  | E              | 0000083      |

`0x83` в шестнадцатеричном формате используется `131` десятичное значение, равное значению возврата для `ENOLCK` .

## <a name="delivery-optimization-agent"></a>Агент оптимизации доставки
В следующей таблице перечислены коды ошибок, относящиеся к компоненту оптимизации доставки (DO) клиента обновления устройства. Компонент DO отвечает за загрузку обновления содержимого на устройство IoT.

Код ошибки можно получить, изучив исключения, созданные в ответ на вызов API.

| Код ошибки  | Ошибка строки                       | Тип                 | Описание |
|-------------|------------------------------------|----------------------|-------------|
| 0x80D01001L | DO_E_NO_SERVICE                    | Н/Д                  | Службе оптимизации доставки не удалось предоставить службу |
| 0x80D02002L | DO_E_DOWNLOAD_NO_PROGRESS          | Скачать задание         | Загрузка файла не обнаружила хода выполнения за указанный период |
| 0x80D02003L | DO_E_JOB_NOT_FOUND                 | Скачать задание         | Задание не найдено |
| 0x80D02005L | DO_E_NO_DOWNLOADS                  | Скачать задание         | Нет файлов для скачивания, которые сейчас существуют |
| 0x80D0200CL | DO_E_JOB_TOO_OLD                   | Скачать задание         | Задание не завершено или было отменено до достижения максимального порогового значения возраста |
| 0x80D02011L | DO_E_UNKNOWN_PROPERTY_ID           | Скачать задание         | Свойство SetProperty () или an () вызвано с неизвестным ИДЕНТИФИКАТОРом свойства |
| 0x80D02012L | DO_E_READ_ONLY_PROPERTY            | Скачать задание         | Не удается вызвать функцию SetProperty () для свойства, доступного только для чтения |
| 0x80D02013L | DO_E_INVALID_STATE                 | Скачать задание         | Запрошенное действие запрещено в текущем состоянии задания. Возможно, задание было отменено или завершено. Сейчас он находится в состоянии "только для чтения". |
| 0x80D02018L | DO_E_FILE_DOWNLOADSINK_UNSPECIFIED | Скачать задание         | Не удалось запустить скачивание, так как не указан приемник скачивания (локальный файл или потоковый интерфейс) |
| 0x80D02200L | DO_E_DOWNLOAD_NO_URI               | Интерфейс Идодовнлоад| Загрузка началась без указания URI |
| 0x80D03805L | DO_E_BLOCKED_BY_NO_NETWORK         | Временные трудности | Скачивание приостановлено из-за потери сетевого подключения |
| 0x80D05001L | DO_E_HTTP_BLOCKSIZE_MISMATCH       | HTTP                 | HTTP-сервер вернул ответ с размером данных, не равным запрошенному |
| 0x80D05002L | DO_E_HTTP_CERT_VALIDATION          | HTTP                 | Проверка сертификата HTTP-сервера не пройдена |
| 0x80D05010L | DO_E_INVALID_RANGE                 | HTTP                 | Указанный диапазон байтов недопустим |
| 0x80D05011L | DO_E_INSUFFICIENT_RANGE_SUPPORT    | HTTP                 | Сервер не поддерживает необходимый протокол HTTP. Оптимизация доставки (DO) требует, чтобы сервер поддерживал заголовок диапазона |
| 0x80D05012L | DO_E_OVERLAPPING_RANGES            | HTTP                 | Список диапазонов байтов содержит несколько перекрывающихся диапазонов, которые не поддерживаются. |
## <a name="device-update-content-service"></a>Служба обновления содержимого устройства
В следующей таблице перечислены коды ошибок, относящиеся к компоненту службы содержимого службы обновления устройств. Компонент службы содержимого отвечает за обработку импорта содержимого обновления.

| Код ошибки                    | Ошибка строки                                                               | Дальнейшие действия                         |
|-------------------------------|----------------------------------------------------------------------------|------------------------------------|
| "Упдатеалреадексистс"         | Обновление с тем же идентификатором уже существует.                              | Убедитесь, что вы импортируете обновление, которое еще не было импортировано в этот экземпляр обновления для центра Интернета вещей. |
| "Дупликатеконтентимпорт"      | Одинаковое содержимое, импортированное одновременно несколько раз.                  | То же, что и для Упдатеалреадексистс. |
| "Каннотпроцессимпортманифест" | Ошибка при обработке манифеста импорта.                                          | Сведения о правильном форматировании манифеста импорта см. в статье [Основные понятия импорта](./import-concepts.md) и импорт документации по [обновлению](./import-update.md) . |
| "Каннотдовнлоад"              | Не удается скачать манифест импорта.                                           | Убедитесь, что URL-адрес файла манифеста импорта является допустимым. |
| "Каннотпарсе"                 | Не удается проанализировать манифест импорта.                                              | Проверьте правильность манифеста импорта в соответствии со схемой, определенной в документации по [обновлению импорта](./import-update.md) . |
| "Унсуппортедверсион"          | Версия схемы импорта манифеста не поддерживается.                           | Убедитесь, что в манифесте импорта используется последняя схема, определенная в документации по [обновлению импорта](./import-update.md) . |
| "Упдателимитексцеедед"         | Ошибка при импорте обновления из-за превышения предела.                              | Достигнуто предельное число различных поставщиков, имен или версий, разрешенных в вашем экземпляре обновления для центра Интернета вещей. Удалите некоторые обновления из экземпляра и повторите попытку. |
| "Упдатепровидер"              | Не удается импортировать нового поставщика обновлений.                                       | Достигнуто ограничение на количество различных __поставщиков__ , разрешенных в вашем экземпляре обновления для центра Интернета вещей. Удалите некоторые обновления из экземпляра и повторите попытку. |
| "Упдатенаме"                  | Не удается импортировать новое имя обновления для указанного поставщика.                | Достигнуто ограничение на количество различных __имен__ , допустимых для одного поставщика в вашем экземпляре обновления для центра Интернета вещей. Удалите некоторые обновления из экземпляра и повторите попытку. |
| "Упдатеверсион"               | Невозможно импортировать новую версию обновления для указанного поставщика и имени.    | Достигнуто предельное число различных __версий__ , допустимых для одного поставщика и имени в вашем экземпляре обновления для центра Интернета вещей. Удалите некоторые обновления с этим именем из экземпляра и повторите попытку. |
| "Упдатепровидеркомпатибилити" | Не удается импортировать дополнительного поставщика обновлений с заданной совместимостью. | При определении свойств производителя устройства и совместимости модели устройства в манифесте импорта следует помнить, что обновление устройства для центра Интернета вещей поддерживает одно сочетание поставщика и имени для данного производителя или модели. Это означает, что при попытке использовать одни и те же свойства совместимости производителя или модели с несколькими сочетаниями "поставщик-имя" эти ошибки будут отображаться. Чтобы устранить эту проблему, убедитесь, что все обновления для данного устройства (как определено изготовителем или моделью) используют один и тот же поставщик и имя. Хотя это и не является обязательным, можно рассмотреть возможность предоставления поставщику того же самого, что и у производителя, и имени, которое соответствует модели, просто для простоты. |
| "Упдатенамекомпатибилити"     | Не удается импортировать дополнительное имя обновления с заданной совместимостью.     | То же, что и для Упдатепровидеркомпатибилити. Контентлимитнамеспацекомпатибилити. |
| "Упдатеверсионкомпатибилити"  | Невозможно импортировать дополнительную версию обновления с заданной совместимостью.  | То же, что и для Упдатепровидеркомпатибилити. Контентлимитнамеспацекомпатибилити. |
| "Каннотпроцессупдатефиле"     | Ошибка при обработке исходного файла.                                              |                                    |
| "Контентфилеканнотдовнлоад"   | Не удается скачать исходный файл.                                               | Убедитесь, что URL-адрес файлов обновления все еще действителен. |

**[Следующий шаг: устранение проблем с обновлением устройства](.\troubleshoot-device-update.md)**