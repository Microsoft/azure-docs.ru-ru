---
title: Общие сведения об обновлении устройств для Центра Интернета вещей Azure | Документация Майкрософт
description: Обновление устройств для Центра Интернета вещей — это служба, которая позволяет развертывать обновления на устройствах Интернета вещей по беспроводной сети.
author: vimeht
ms.author: vimeht
ms.date: 2/11/2021
ms.topic: overview
ms.service: iot-hub-device-update
ms.openlocfilehash: 95cecd66f4d0164594eb4e8da9efe765b5833e5e
ms.sourcegitcommit: 9f4510cb67e566d8dad9a7908fd8b58ade9da3b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "106120781"
---
# <a name="device-update-for-iot-hub-preview-overview"></a>Обновление устройств для Центра Интернета вещей: обзор

Обновление устройств для Центра Интернета вещей — это служба, которая позволяет развертывать обновления на устройствах Интернета вещей по беспроводной сети.

По мере того как организации стремятся повысить продуктивность и эффективность своей деятельности, решения в области Интернета вещей будут применяться все шире. В связи с этим устройства, входящие в состав таких решений, должны быть созданы на принципах надежности и безопасности, легко подключаться к сети и управляться в среде любого масштаба. Обновление устройств для Центра Интернета вещей — это комплексная платформа, которую клиенты могут использовать для публикации, распространения и администрирования обновлений через Интернет для любых устройств — от миниатюрных датчиков до аппаратуры уровня шлюза. 

Чтобы воспользоваться всеми преимуществами цифровой трансформации на базе Интернета вещей, клиентам необходима возможность управлять устройствами, обслуживать и обновлять их в любом масштабе. Ознакомьтесь с преимуществами развертывания службы Обновления устройств для Центра Интернета вещей, такими как возможность оперативно реагировать на угрозы для безопасности и добавлять новые функции для достижения бизнес-целей без дополнительных расходов на разработку и обслуживание, связанных с созданием собственной платформы для обновления.

## <a name="support-for-a-wide-range-of-iot-devices"></a>Поддержка широкого спектра устройств Интернета вещей


Служба Обновления устройств для Центра Интернета вещей позволяет оптимизировать развертывание обновлений и упрощает операционные процессы благодаря интеграции с [Центром Интернета вещей Azure](https://azure.microsoft.com/en-us/services/iot-hub/). Такая интеграция позволяет легко внедрить службу обновления устройств в любое существующее решение. Эта система служит облачной платформой для подключения практически любых устройств. Служба Обновления устройств поддерживает широкий спектр операционных систем Интернета устройств, включая Linux b [Azure RTOS](https://azure.microsoft.com/en-us/services/rtos/) (операционную систему реального времени), а также возможность расширения благодаря открытому стандарту. Мы разрабатываем Обновление устройств для Центра Интернета вещей совместно с нашими партнерами, производящими микросхемы, в том числе со STMicroelectronics, NXP, Renesas и Microchip. Изучите [примеры](https://github.com/azure-rtos/samples/tree/PublicPreview/ADU) основных макетов плат, которые включают руководства по началу работы с ними, описывающие настройку, создание и развертывание обновлений по беспроводной сети (OTA) для микроконтроллеров. 

Доступны образ эмулятора агента Обновления устройств и эталонный образ Yokto Raspberry Pi.
Служба Обновления устройств для Центра Интернета вещей также поддерживает возможность обновления устройств Azure IoT Edge. Агент Обновления устройств предоставляется для платформы Ubuntu Server 18.04 amd64. Также доступен открытый исходный код службы Обновления устройств для Центра Интернета вещей, если ваша платформы не входит в число перечисленных выше. Вы можете портировать агент на используемый вами дистрибутив.

Служба Обновления устройств работает с системой IoT Plug ang Plan (PnP) и способна управлять любым устройством, поддерживающим необходимые интерфейсы PnP. Дополнительные сведения см. в [Обновление устройств для Центра Интернета вещей и IoT Plug and Play](device-update-plug-and-play.md).

## <a name="support-for-a-wide-range-of-update-artifacts"></a>Поддержка широкого спектра артефактов обновления

Обновление устройств для Центра Интернета вещей поддерживает два вида обновлений: на основе образов или пакетов.

Обновления на основе пакетов являются целевыми и изменяют только конкретный компонент или приложение на устройстве. Благодаря этому меньше используется пропускная способность и сокращается время скачивания и установки обновления. Обновления на основе пакетов, как правило, позволяют сократить время простоя обновляемых устройств и избежать расходов, связанных с созданием образов.

Обновления на основе образов позволяют с большей вероятностью получить требуемое конечное состояние устройства. Результаты обновления, для которого использовался образ, обычно проще реплицировать между подготовительной и рабочей средой, так как в этом случае не возникают проблемы, связанные с пакетами и их зависимостями.
Благодаря целостной природе такого обновления можно легко внедрить двухузловую модель отработки отказа.

Единого решения не существует: оптимальный вариант следует выбирать с учетом конкретных особенностей сценария применения. Служба Обновления устройств для Центра Интернета вещей поддерживает обновление на основе как образов, так и пакетов, благодаря чему вы можете выбрать подходящую схему обновления для среды своего устройства.

## <a name="flexible-features-for-updating-devices"></a>Гибкие функции обновления устройств

Функции Обновления устройств для Центра Интернета вещей обеспечивают поддержку широкого спектра возможностей:

* Интерфейс управления обновлениями, интегрированный с Центром Интернета вещей Azure
* Постепенное развертывание обновлений с использованием групп устройств и графиков обновлений
* Программные API для автоматизации и создания индивидуально настраиваемых порталов
* Представления, позволяющие мгновенно оценить соответствие требованиям и статус обновлений для разнородных парков оборудования
* Поддержка отказоустойчивых процессов обновления устройств (A/B) с возможностью беспрепятственного отката
* Подписка и управление доступом на основе ролей через портал Azure.com
* Локальный кэш содержимого и поддержка вложенных пограничных узлов для обновления отключенных от "облака" устройств
* Средства детального управления обновлениями и отчетами 

Средства управления и развертывания для службы Обновления устройств в Центре Интернета вещей позволяют пользователям добиться максимальной продуктивности и сэкономить ценное время. Служба Обновления устройств для Центра Интернета вещей поддерживает возможность группировки устройств и выбора тех из них, на которые следует развернуть обновление. Пользователи также могут просматривать состояние развертывания обновлений и отслеживать их успешную установку на каждом устройстве.

В случае сбое обновления служба Обновления устройств для Центра Интернета вещей также позволяет пользователю определить устройства, на которых не удалось применить обновление, и просмотреть сведения о неполадках. Возможность выявлять устройства, обновления на которые не удалось установить, экономит часы, которые были бы потрачены на поиск проблемы вручную.

### <a name="best-in-class-security-at-global-scale"></a>Лучшая в своем классе система безопасности в глобальном масштабе

Microsoft Azure поддерживает более миллиарда устройств Интернета вещей во всем мире, и это число растет день ото дня. Служба Обновления устройств для Центра Интернета вещей основана на этой платформе и обладает надежностью, которая доказана на примере Центра обновления Windows, поэтому устройства можно легко обновлять в глобальном масштабе.

В Службе Обновления устройств для Центра Интернета вещей применяются комплексные средства безопасности, разработанные для Microsoft Azure, поэтому клиентам не придется тратить время на их самостоятельное создание с нуля.


## <a name="device-update-workflows"></a>Рабочие процессы Обновления устройств

Функции обновления устройств можно разделить на три категории: интеграция агента, импорт и управление.

### <a name="device-update-agent"></a>Агент обновления устройств

При получении команды для обновления на устройстве выполняется соответствующая фаза обновления (загрузка, установка или применение). Служба Обновления устройств получает статус каждого из этих этапов через Центр Интернета вещей, и вы можете отслеживать текущее состояние развертывания. Если текущих обновлений нет, вы также увидите соответствующее состояние. Развертывание можно отменить в любой момент.

:::image type="content" source="media/understand-device-update/client-agent-workflow.png" alt-text="Схема рабочего процесса агента Обновления устройств." lightbox="media/understand-device-update/client-agent-workflow.png":::

[Подробнее](device-update-agent-overview.md) об агенте обновления устройств. 

### <a name="importing"></a>Импорт

Импорт позволяет принимать обновления в Обновлении устройств, чтобы вы могли развернуть их на устройствах. Служба Обновления устройств поддерживает возможность развернуть по одному обновлению на устройство. Это идеальный вариант для полного обновления образа, в ходе которого обновляется сразу весь раздел ОС, либо для применения манифеста, в котором описаны пакеты, требующие обновления на устройстве. Чтобы импортировать обновления в службу Обновления устройств, сначала создайте манифест импорта, описывающий обновление, а затем отправьте файлы обновления и манифест импорта в место, доступное через Интернет. После этого можно через портал Azure или [REST API обновления устройств](https://docs.microsoft.com/rest/api/deviceupdate/) инициировать асинхронный процесс импорта обновлений. Служба Обновления устройств отправляет файлы, обрабатывает их и делает доступными для распространения на устройствах IoT.

Конфиденциальное загружаемое содержимое можно защитить с помощью подписанного URL-адреса (SAS), такого как динамический SAS для Хранилища BLOB-объектов Azure. [Подробнее о SAS](../storage/common/storage-sas-overview.md)

:::image type="content" source="media/understand-device-update/import-update.png" alt-text="Схема рабочего процесса импорта в службе Обновления устройств для Центра Интернета вещей." lightbox="media/understand-device-update/import-update.png":::

[Подробнее](import-concepts.md) об импорте обновлений. 

### <a name="grouping-and-deployment"></a>Группировка и развертывание

После импорта обновления можно просмотреть совместимые обновления для устройств и классов устройств.

Служба Обновления устройств поддерживает концепцию **групп** на базе тегов в Центре Интернета вещей. Снизить вероятность возникновения проблем при развертывании в рабочей среде можно посредством предварительного развертывания обновления в тестовой группе.

Развертывания в службе Обновления устройств — удобный способ связать нужное содержимое с определенным набором совместимых устройств. Служба Обновления устройства управляет процессом отправки команд на каждое устройство для загрузки и установки обновлений, а также передачи данные о состоянии.

:::image type="content" source="media/understand-device-update/manage-deploy-updates.png" alt-text="Схема рабочего процесса группировки и развертывания в службе Обновления устройств для Центра Интернета вещей." lightbox="media/understand-device-update/manage-deploy-updates.png":::

[Подробнее](device-update-compliance.md) о принципах развертывания

[Подробнее](device-update-groups.md) о группах обновления устройств


## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Создание учетной записи и экземпляра обновления](create-device-update-account.md)