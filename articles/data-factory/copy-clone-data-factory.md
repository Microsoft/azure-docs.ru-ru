---
title: Копирование или клонирование фабрики данных в службе "Фабрика данных Azure"
description: Узнайте, как выполнять копирование или клонирование фабрики данных в службе "Фабрика данных Azure".
ms.service: data-factory
author: chez-charlie
ms.author: chez
ms.reviewer: jburchel
ms.topic: conceptual
ms.date: 06/30/2020
ms.openlocfilehash: e13aa0a66d1c1a65462e80f14efc048dd2f06c8c
ms.sourcegitcommit: f611b3f57027a21f7b229edf8a5b4f4c75f76331
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104780282"
---
# <a name="copy-or-clone-a-data-factory-in-azure-data-factory"></a>Копирование или клонирование фабрики данных в службе "Фабрика данных Azure"

[!INCLUDE[appliesto-adf-xxx-md](includes/appliesto-adf-xxx-md.md)]

В этой статье описывается, как выполнять копирование или клонирование фабрики данных в службе "Фабрика данных Azure".

## <a name="use-cases-for-cloning-a-data-factory"></a>Варианты использования клонирования фабрики данных

Ниже описаны некоторые обстоятельства, в которых вам может оказаться полезным копирование или клонирование фабрики данных:

- **Перемещение фабрики данных** в новый регион. Если вы хотите переместить фабрику данных в другой регион, лучше всего создать копию в целевом регионе и удалить существующую.

- **Переименование фабрики данных**. Переименование ресурсов не поддерживается в Azure. Если вы хотите переименовать фабрику данных, можно клонировать фабрику данных с другим именем и удалить существующую.

- **Отладка изменений** при недостатке функций отладки. В большинстве случаев можно использовать [отладку](iterative-development-debugging.md). В других случаях тестирование изменений в клонированной среде "песочницы" имеет смысл. Например, способ, которым будут работать параметризованные конвейеры ETL, когда триггер срабатывает при поступлении файла в сравнении с окном времени "переворачивающегося", может быть легко тестироваться только при отладке. В таких случаях может потребоваться клонировать изолированную среду для экспериментов. Так как фабрика данных Azure оплачивает затраты в первую очередь на количество запусков, Вторая фабрика не приводит к дополнительной оплате.

## <a name="how-to-clone-a-data-factory"></a>Клонирование фабрики данных

1. Прежде всего необходимо создать целевую фабрику данных из портал Azure.

1. В режиме GIT:
    1. Каждый раз при публикации на портале шаблон диспетчер ресурсов фабрики сохраняется в GIT в \_ ветви ADF Publish.
    1. Подключите новую фабрику к тому _же_ репозиторию и создайте сборку из \_ ветви публикации ADF. Ресурсы, такие как конвейеры, наборы данных и триггеры, будут проходить через

1. В режиме реального времени:
    1. Пользовательский интерфейс фабрики данных позволяет экспортировать всю полезную нагрузку фабрики данных в файл шаблона диспетчер ресурсов и файл параметров. Доступ к ним можно получить с помощью кнопки шаблон **ARM \ экспорт диспетчер ресурсов шаблона** на портале.
    1. Вы можете внести соответствующие изменения в файл параметров и поменять местами новые значения для новой фабрики.
    1. Затем можно развернуть его с помощью стандартных методов развертывания шаблона диспетчер ресурсов.

1. Если в исходной фабрике есть Интегратионрунтиме Селфхостед, необходимо предварительно создать ее с тем же именем в целевой фабрике. Если вы хотите совместно использовать Селфхостед Integration Runtime между различными фабриками, вы можете использовать шаблон, опубликованный [здесь](create-shared-self-hosted-integration-runtime-powershell.md) для предоставления общего доступа к селфхостед IR.

1. По соображениям безопасности созданный шаблон диспетчер ресурсов не будет содержать секретных сведений, например паролей для связанных служб. Поэтому необходимо предоставить учетные данные в качестве параметров развертывания. Если ввод учетных данных вручную нежелателен для ваших параметров, попробуйте получить строки подключения и пароли из Azure Key Vault. [Подробнее](store-credentials-in-key-vault.md)

## <a name="next-steps"></a>Следующие шаги

Ознакомьтесь с руководством по созданию фабрики данных на портале Azure в статье [Создание фабрики данных с помощью пользовательского интерфейса службы "Фабрика данных Azure"](quickstart-create-data-factory-portal.md).
