---
title: Преобразование окна в потоке данных сопоставления
description: Преобразование окна потока данных сопоставления фабрики данных Azure
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 11/16/2020
ms.openlocfilehash: 56024fd0aac2f9fbefb7fe919eef2481550e573f
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100367832"
---
# <a name="window-transformation-in-mapping-data-flow"></a>Преобразование окна в потоке данных сопоставления

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

Преобразование окна позволяет определять агрегирования столбцов на основе окон в ваших потоках данных. В построителе выражений вы можете определить различные типы объединений на основе данных или временных окон (предложение SQL OVER, например LEAD, LAG, NTILE, CUMEDIST, RANK и т. д.). В ваших выходных данных будет сгенерировано новое поле, которое будет включать такие агрегаты. Вы также можете включить дополнительные поля "Группировать по".

![Снимок экрана показывает окно, выбранное в меню.](media/data-flow/windows1.png "Windows 1")

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4IAVu]

## <a name="over"></a>Over
Задайте секционирование данных столбцов для своего преобразования окна. Эквивалент в SQL — это параметр ```Partition By``` в предложении Over в SQL. Если вы хотите создать расчет или выражение для секционирования, вы можете сделать это, наведя курсор на имя столбца и выбрав "Вычисляемый столбец".

![Снимок экрана показывает параметры окна с выбранной вкладкой "выше".](media/data-flow/windows4.png "Windows 4")

## <a name="sort"></a>Сортировка
Еще одна функция предложения Over —это установка параметра ```Order By```. Он задает порядок сортировки данных. Вы также можете создать выражение для значения расчета в этом поле столбца для сортировки.

![Снимок экрана показывает параметры окна с выбранной вкладкой «сортировка».](media/data-flow/windows5.png "Windows 5")

## <a name="range-by"></a>Range By
Затем задайте для рамки окна параметр "Неограниченная" или "Ограниченная". Чтобы сделать рамку окна неограниченной, установите ползунок в положение "Неограниченная" с двух концов. Если вы выберете вариант между положениями "Неограниченная" и "Текущая строка", вам нужно задать начальное и конечное значение смещения. Оба значения должны быть положительными целыми числами. Вы можете использовать относительные числа или значения из своих данных.

Ползунок окна задает два значения: значения перед текущей строкой и значения после текущей строки. Начальное и конечное значения смещения соответствуют двум селекторам на ползунке.

![Снимок экрана показывает параметры окна с выбранной вкладкой диапазон.](media/data-flow/windows6.png "Windows 6")

## <a name="window-columns"></a>Столбцы окна
Наконец, с помощью построителя выражений определите объединения, которые вы хотите использовать с окнами данных, например RANK, COUNT, MIN, MAX, DENSE RANK, LEAD, LAG и т. д.

![Снимок экрана показывает результат действия по созданию окон.](media/data-flow/windows7.png "Windows 7")

Полный список объединений и аналитических функций, которые доступны вам для использования в языке выражений Потока данных ADF через построитель выражений, приведены здесь: https://aka.ms/dataflowexpressions.

## <a name="next-steps"></a>Дальнейшие действия

Если вы ищете простое агрегирование по группам, используйте [Преобразование «Статистическая обработка](data-flow-aggregate.md) »
