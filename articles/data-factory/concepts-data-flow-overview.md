---
title: Сопоставление потоков данных
description: Общие сведения о сопоставлении потоков данных в фабрике данных Azure
author: kromerm
ms.author: makromer
ms.reviewer: daperlov
ms.service: data-factory
ms.topic: conceptual
ms.custom: references_regions
ms.date: 12/10/2020
ms.openlocfilehash: 1529d2d546227880fee71d1823482e040d2e57c1
ms.sourcegitcommit: 18a91f7fe1432ee09efafd5bd29a181e038cee05
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2021
ms.locfileid: "103564326"
---
# <a name="mapping-data-flows-in-azure-data-factory"></a>Сопоставление потоков данных в фабрике данных Azure

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

## <a name="what-are-mapping-data-flows"></a>Сведения о сопоставлении потоков данных

Сопоставление потоков данных — это визуально спроектированные преобразования данных в фабрике данных Azure. Потоки данных позволяют инженерам данных разрабатывать логику преобразования данных без написания кода. Результирующие потоки данных выполняются как действия в конвейерах фабрики данных Azure, использующие кластеры с горизонтальным масштабированием Apache Spark. Действия потока данных могут работать с использованием существующих возможностей планирования, управления, потока и мониторинга фабрики данных Azure.

Сопоставление потоков данных обеспечивает полностью визуальный интерфейс без необходимости написания кода. Потоки данных выполняются в кластерах выполнения, управляемых ADF, для обработки масштабируемых данных. Фабрика данных Azure обрабатывает все операции перевода кода, оптимизации пути и выполнения заданий потока данных.

## <a name="getting-started"></a>Начало работы

Потоки данных создаются из панели ресурсы фабрики, такой как конвейеры и наборы данных. Чтобы создать поток данных, щелкните знак "плюс" рядом с **ресурсами фабрика**, а затем выберите **поток данных**. 

![Новый поток данных](media/data-flow/new-data-flow.png)

Это действие выполняет переход к холсту потока данных, где можно создать логику преобразования. Выберите **Добавить источник** , чтобы начать настройку преобразования источника. Дополнительные сведения см. в разделе [Преобразование источника](data-flow-source.md).

## <a name="authoring-data-flows"></a>Создание потоков данных

У потока данных сопоставления есть уникальный холст, предназначенный для упрощения создания логики преобразования. Холст потока данных разделяется на три части: Верхняя панель, диаграмма и панель конфигурации. 

![На снимке экрана показан холст потока данных с верхней полосой, диаграммой и панелью конфигурации с меткой.](media/data-flow/canvas-1.png "Холст")

### <a name="graph"></a>График

Граф отображает поток преобразования. Он показывает журнал преобразований источника данных по мере их последовательного в один или несколько приемников. Чтобы добавить новый источник, выберите **Добавить источник**. Чтобы добавить новое преобразование, выберите знак "плюс" в правом нижнем углу существующего преобразования. Узнайте больше о том [, как управлять диаграммой потока данных](concepts-data-flow-manage-graph.md).

![На снимке экрана показана часть графа холста с текстовым полем поиска.](media/data-flow/canvas-2.png)

### <a name="configuration-panel"></a>Панель конфигурации

На панели конфигурация отображаются параметры, относящиеся к текущему выбранному преобразованию. Если преобразование не выбрано, то отображается поток данных. В общей конфигурации потока данных можно добавить параметры с помощью вкладки **Параметры** . Дополнительные сведения см. в разделе [Сопоставление параметров потока данных](parameters-data-flow.md).

Каждое преобразование содержит по крайней мере четыре вкладки конфигурации.

#### <a name="transformation-settings"></a>Параметры преобразования

Первая вкладка в области конфигурации каждого преобразования содержит параметры, относящиеся к этому преобразованию. Дополнительные сведения см. на странице документации по преобразованию.

![Вкладка "Параметры источника"](media/data-flow/source1.png "Вкладка "Параметры источника"")

#### <a name="optimize"></a>Оптимизация

Вкладка **Оптимизация** содержит параметры для настройки схем секционирования. Чтобы узнать больше о том, как оптимизировать потоки данных, см. [руководство по повышению производительности потока данных сопоставления](concepts-data-flow-performance.md).

![На снимке экрана показана вкладка "оптимизация", включающая параметр секции, тип секции и число секций.](media/data-flow/optimize.png)

#### <a name="inspect"></a>Изучение

На вкладке **Проверка** представлено представление метаданных потока данных, для которого выполняется преобразование. Можно увидеть количество столбцов, изменить столбцы, добавить столбцы, типы данных, порядок столбцов и ссылки на столбцы. **Проверка** — это представление метаданных, доступное только для чтения. Для просмотра метаданных в области **проверки** не нужно включать режим отладки.

![Проверить](media/data-flow/inspect1.png "Изучение")

При изменении формы данных с помощью преобразований в области **проверки** будут отображаться потоки изменений метаданных. Если в преобразовании источника не определена схема, метаданные не будут отображаться в области **проверки** . Отсутствие метаданных является распространенным в сценариях смещения схемы.

#### <a name="data-preview"></a>Предварительный просмотр данных

Если режим отладки включен, вкладка **Предварительный просмотр данных** предоставляет интерактивный моментальный снимок данных при каждом преобразовании. Дополнительные сведения см. [в разделе Предварительный просмотр данных в режиме отладки](concepts-data-flow-debug-mode.md#data-preview).

### <a name="top-bar"></a>Верхняя панель

Верхняя панель содержит действия, влияющие на весь поток данных, например сохранение и проверку. Можно также просмотреть базовый код JSON и скрипт потока данных для логики преобразования. Дополнительные сведения см. в статье о [сценарии потока данных](data-flow-script.md).

## <a name="available-transformations"></a>Доступные преобразования

Просмотрите [Общие сведения о преобразовании потока данных сопоставления](data-flow-transformation-overview.md) , чтобы получить список доступных преобразований.

## <a name="data-flow-activity"></a>Действие потока данных

Сопоставление потоков данных выполняется в конвейерах ADF с помощью [действия потока данных](control-flow-execute-data-flow-activity.md). Все, что пользователь должен сделать, — это указать, какую среду выполнения интеграции использовать, и передать значения параметров. Дополнительные сведения см. в статье о [среде выполнения интеграции Azure](concepts-integration-runtime.md#azure-integration-runtime).

## <a name="debug-mode"></a>Режим отладки

Режим отладки позволяет интерактивно просматривать результаты каждого шага преобразования во время сборки и отладки потоков данных. Сеанс отладки можно использовать как при построении логики потока данных, так и при выполнении отладки конвейера с действиями потока данных. Дополнительные сведения см. в [документации по режиму отладки](concepts-data-flow-debug-mode.md).

## <a name="monitoring-data-flows"></a>Мониторинг потоков данных

Поток данных сопоставления интегрируется с существующими возможностями мониторинга фабрики данных Azure. Сведения о том, как понять выходные данные мониторинга потока данных, см. в разделе [наблюдение за потоками данных сопоставления](concepts-data-flow-monitoring.md).

Группа фабрики данных Azure создала [рекомендации по настройке производительности](concepts-data-flow-performance.md) , которые помогут вам оптимизировать время выполнения потоков данных после создания бизнес-логики.

## <a name="available-regions"></a>Доступные регионы

= = = = = = = При сопоставлении потоки данных доступны в следующих регионах в ADF:

| Регион Azure | Потоки данных в ADF |
| ------------ | ----------------- |
|  Центральная Австралия | |
| Центральная Австралия 2 | |
| Восточная Австралия | ✓ |
| Australia Southeast   | ✓ |
| Brazil South  | ✓ |
| Центральная Канада | ✓ |
| Центральная Индия | ✓ |
| Центральная часть США    | ✓ |
| Восточный Китай |      |
| Восточный Китай 2  |   |
| Китай не региональный | |
| Северный Китай |     |
| Северный Китай 2 | |
| Восточная Азия | ✓ |
| Восточная часть США   | ✓ |
| восточная часть США 2 | ✓ |
| Центральная Франция | ✓ |
| Южная Франция  | |
| Центральная Германия (независимых) | |
| Германия (без привязки к региону) (независимых) | |
| Северная Германия (общедоступная) | |
| Северо-Восток Германии (независимых) | |
| Центрально-Западная Германия (общедоступная) |  |
| Japan East | ✓ |
| Западная Япония |  |
| Республика Корея, центральный регион | ✓ |
| Республика Корея, южный регион | |
| Центрально-северная часть США  | ✓ |
| Северная Европа  | ✓ |
| Восточная Норвегия; | |
| Западная Норвегия | |
| Северная часть ЮАР;    | ✓ |
| Западная часть ЮАР |  |
| Центрально-южная часть США  | |
| Южная Индия | |
| Southeast Asia    | ✓ |
| Северная Швейцария |   |
| Западная Швейцария | |
| Центральная часть ОАЭ. | |
| Северная часть ОАЭ; |  |
| южная часть Соединенного Королевства  | ✓ |
| западная часть Соединенного Королевства |     |
| центральный регион US DoD | |
| восточный регион US DoD | |
| US Gov (Аризона) |      |
| US Gov (без привязки к региону) | |
| US Gov (Техас) | |
| US Gov (Вирджиния) |     |
| центрально-западная часть США |     |
| Западная Европа   | ✓ |
| Западная Индия | |
| Западная часть США   | ✓ |
| Западная часть США 2 | ✓ |

## <a name="next-steps"></a>Дальнейшие действия

* Узнайте, как создать [Преобразование источника](data-flow-source.md).
* Узнайте, как создавать потоки данных в [режиме отладки](concepts-data-flow-debug-mode.md).
