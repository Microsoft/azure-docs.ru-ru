---
title: Миграция локальных заданий SQL Server Integration Services (SSIS) в фабрику данных Azure
description: В этой статье описывается, как перенести задания SQL Server Integration Services (SSIS) в конвейеры или действия/триггеры фабрики данных Azure с помощью SQL Server Management Studio.
author: chugugrace
ms.author: chugu
ms.service: data-factory
ms.topic: conceptual
ms.date: 4/7/2020
ms.openlocfilehash: ec10abfd6f2fc221a9e86203b2faa0d173d67675
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100379596"
---
# <a name="migrate-sql-server-agent-jobs-to-adf-with-ssms"></a>Перенос заданий агент SQL Server в ADF с помощью SSMS

[!INCLUDE[appliesto-adf-xxx-md](includes/appliesto-adf-xxx-md.md)]

При [переносе локальных рабочих нагрузок SQL Server Integration Services (SSIS) в службы SSIS в ADF](scenario-ssis-migration-overview.md)после переноса пакетов служб SSIS можно выполнить пакетную миграцию заданий агент SQL Server с типом шага задания SQL Server Integration Services пакета в конвейеры и действия в фабрике данных Azure (ADF), а также триггеры расписания через SQL Server Management Studio (SSMS) **Мастер миграции заданий служб SSIS**.

Как правило, для выбранных заданий агента SQL с применимыми типами шагов заданий **Мастер миграции заданий служб SSIS** может:

- Сопоставьте локальное расположение пакета служб SSIS, куда переносятся пакеты, доступные в службах SSIS в ADF.
    > [!NOTE]
    > Расположение пакета файловой системы поддерживается только.
- Перенесите применимые задания с соответствующими шагами заданий в соответствующие ресурсы ADF, как показано ниже:

|Объект задания агента SQL Server  |Ресурс ADF  |Примечания|
|---------|---------|---------|
|Задание агента SQL Server|pipeline     |Имя конвейера будет *создано для \<job name>*. <br> <br> Встроенные задания агента неприменимы: <li> Задание обслуживания сервера служб SSIS <li> syspolicy_purge_history <li> collection_set_ * <li> mdw_purge_data_ * <li> sysutility_ *|
|Шаг задания служб SSIS|Действие "выполнение пакета служб SSIS"|<li> Имя действия будет иметь значение \<step name> . <li> Учетная запись-посредник, используемая в шаге задания, будет перенесена как проверка подлинности Windows для этого действия. <li> *Параметры выполнения* , за исключением *использования 32-разрядной среды выполнения* , определенной в шаге задания, будут пропущены при миграции. <li> *Проверка* , определенная в шаге задания, будет пропущена при миграции.|
|schedule      |Триггер "Расписание"        |Будет создано имя триггера расписания *для \<schedule name>*. <br> <br> Следующие параметры в расписании заданий агента SQL Server будут проигнорированы при миграции: <li> Интервал второго уровня. <li> *Запускать автоматически при запуске агента SQL Server* <li> *Запускать при бездействии процессоров* <li> день *недели* и *выходные* дни<time zone> <br> Ниже приведены отличия расписания заданий агента SQL Server к триггеру расписания ADF: <li> Последующий запуск триггера расписания ADF не зависит от состояния выполнения предшествующей ему инициации запуска. <li> Конфигурация повторения триггера расписания ADF отличается от ежедневной частоты в задании агента SQL Server.|

- Создание шаблонов Azure Resource Manager (ARM) в локальной выходной папке и развертывание в фабрике данных напрямую или позднее вручную. Дополнительные сведения о ADF диспетчер ресурсов Templates см. в разделе [типы ресурсов Microsoft. данных фактов](/azure/templates/microsoft.datafactory/allversions).

## <a name="prerequisites"></a>Предварительные требования

Для работы функции, описанной в этой статье, требуется SQL Server Management Studio версии 18,5 или более поздней. Чтобы получить последнюю версию SSMS, перейдите на страницу [скачивания SQL Server Management Studio (SSMS)](/sql/ssms/download-sql-server-management-studio-ssms).

## <a name="migrate-ssis-jobs-to-adf"></a>Миграция заданий служб SSIS в ADF

1. В среде SSMS в обозревателе объектов выберите агент SQL Server, задания, щелкните правой кнопкой мыши и выберите пункт **перенести задания служб SSIS в ADF**.
![На снимке экрана показан SQL Server Management Studio Обозреватель объектов, где можно выбрать задания, а затем перенести задания s I в D F.](media/how-to-migrate-ssis-job-ssms/menu.png)

1. Войдите в Azure, выберите подписка Azure, фабрика данных и Integration Runtime. Служба хранилища Azure является необязательной, которая используется на этапе сопоставления расположений пакетов, если задания служб SSIS, для которых выполняется миграция, имеют пакеты файловой системы служб SSIS.
![меню](media/how-to-migrate-ssis-job-ssms/step1.png)

1. Сопоставьте пути пакетов служб SSIS и файлов конфигурации в заданиях служб SSIS с путями назначения, к которым могут обращаться перенесенные конвейеры. На этом шаге сопоставления можно выполнить следующие действия:

    1. Выберите исходную папку, а затем — **Добавить сопоставление**.
    1. Обновить путь к исходной папке. Допустимые пути — это пути к папкам или пути к родительской папке пакетов.
    1. Обновление пути к конечной папке. По умолчанию используется относительный путь к учетной записи хранения по умолчанию, которая выбрана на шаге 1.
    1. Удаление выбранного сопоставления с помощью **удаления сопоставления**.
![На снимке экрана показаны страницы пакетов и путей конфигурации карты S s, где можно добавить сопоставление. ](media/how-to-migrate-ssis-job-ssms/step2.png)
 ![ На снимке экрана показаны страницы пакетов и путей конфигурации карт S, на которых можно обновить исходные и конечные пути к папкам.](media/how-to-migrate-ssis-job-ssms/step2-1.png)

1. Выберите применимые задания для миграции и настройте параметры соответствующих *выполняемых действий пакета служб SSIS*.

    - *Параметр по умолчанию* применяется ко всем выбранным шагам по умолчанию. Дополнительные сведения о каждом свойстве см. в разделе Параметры для [действия "выполнение пакета служб SSIS](how-to-invoke-ssis-package-ssis-activity.md) *"* , если расположение пакета является *файловой системой (пакетом)*.
    ![На снимке экрана показана страница Выбор S s заданий, где можно настроить параметры соответствующего действия выполненного пакета служб SSIS.](media/how-to-migrate-ssis-job-ssms/step3-1.png)
    - Настройка *шага*, Настройка параметра для выбранного шага.
        
        **Применить настройку по умолчанию**: выбрано значение по умолчанию. Снимите флажок, чтобы настроить параметр только для выбранного шага.  
        Дополнительные сведения о других свойствах см. в разделе *вкладка "Параметры"* для [действия "выполнение пакета служб SSIS](how-to-invoke-ssis-package-ssis-activity.md) ", если расположение пакета является *файловой системой (пакетом)*.
    ![На снимке экрана показана страница Выбор S s заданий, где можно применить параметры по умолчанию.](media/how-to-migrate-ssis-job-ssms/step3-2.png)

1. Создание и развертывание шаблона ARM.
    1. Выберите или введите путь к выходным данным для шаблонов ARM перенесенных конвейеров ADF. Папка будет создана автоматически, если она не существует.
    2. Выберите вариант **развертывания шаблонов ARM в фабрике данных**.
        - По умолчанию выбрано значение не выбрано. Созданные шаблоны ARM можно развернуть позже вручную.
        - Выберите для непосредственного развертывания созданных шаблонов ARM в фабрике данных.
    ![На снимке экрана показана страница Настройка миграции, на которой можно выбрать или ввести выходной путь для шаблонов ARM перенесенных конвейеров ADF и выбрать вариант развертывания шаблонов ARM в фабрике данных.](media/how-to-migrate-ssis-job-ssms/step4.png)

1. Выполните миграцию, а затем проверьте результаты.
![На снимке экрана показана страница результатов миграции, на которой отображается ход выполнения миграции.](media/how-to-migrate-ssis-job-ssms/step5.png)

## <a name="next-steps"></a>Следующие шаги

[Запуск и мониторинг конвейера](how-to-invoke-ssis-package-ssis-activity.md)