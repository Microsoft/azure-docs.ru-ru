---
title: Устранение неполадок при сопоставлении потоков данных
description: Узнайте, как устранять неполадки потока данных в фабрике данных Azure.
ms.author: makromer
author: kromerm
ms.reviewer: daperlov
ms.service: data-factory
ms.topic: troubleshooting
ms.date: 03/18/2021
ms.openlocfilehash: a475441a845300d74014924415a4e48ae4de16df
ms.sourcegitcommit: a9ce1da049c019c86063acf442bb13f5a0dde213
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2021
ms.locfileid: "105628294"
---
# <a name="troubleshoot-mapping-data-flows-in-azure-data-factory"></a>Устранение неполадок сопоставления потоков данных в фабрике данных Azure

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

В этой статье рассматриваются распространенные методы устранения неполадок при сопоставлении потоков данных в фабрике данных Azure.

## <a name="common-error-codes-and-messages"></a>Распространенные коды ошибок и сообщения об ошибках 

### <a name="error-code-df-executor-sourceinvalidpayload"></a>Код ошибки: DF-Executor-SourceInvalidPayload
- **Сообщение**. Не удалось выполнить предварительный просмотр данных, отладку и поток данных конвейера, так как контейнер не существует
- **Причина**: набор данных содержит контейнер, который не существует в хранилище.
- **Рекомендация**: Убедитесь, что контейнер, указанный в наборе данных, существует и доступен.

### <a name="error-code-df-executor-systeminvalidjson"></a>Код ошибки: DF-Executor-SystemInvalidJson

- **Сообщение**. Ошибка синтаксического анализа JSON, неподдерживаемая кодировка или многострочность
- **Причина**: возможные проблемы с JSON-файлом: неподдерживаемая кодировка, повреждение байт или использование источника JSON в качестве одного документа во многих вложенных строках.
- **Рекомендация**: Убедитесь, что кодировка JSON-файла поддерживается. В преобразовании «источник», использующем набор данных JSON, разверните **Параметры JSON** и включите **один документ**.
 
### <a name="error-code-df-executor-broadcasttimeout"></a>Код ошибки: DF-Executor-BroadcastTimeout

- **Сообщение**. Ошибка окончания времени ожидания трансляции. Убедитесь, что широковещательный поток создает данные в течение 60 секунд во время отладки и 300 секунд при выполнении заданий.
- **Причина**: для широковещательных запусков по умолчанию используется время ожидания в 60 секунд, а для выполнения заданий — 300 секунд. Поток, выбранный для вещания, слишком велик для получения данных в пределах этого ограничения.
- **Рекомендация**: на вкладке **Оптимизация** в преобразованиях потока данных для операций JOIN, EXISTS и Lookup. Параметр широковещательной рассылки по умолчанию имеет значение **Auto**. Если задан параметр **Auto** или вы вручную настраиваете левую или правую сторону для вещания в **фиксированном** состоянии, можно настроить более крупную конфигурацию среды выполнения интеграции Azure (IR) или отключить вещание. Для наилучшей производительности потоков данных рекомендуется разрешить Spark вещание с помощью **Auto** и использовать оптимизированную для памяти Azure IR. 
 
  Если вы запускаете поток данных при выполнении теста отладки из запуска конвейера отладки, вы можете столкнуться с этим условием чаще. Это связано с тем, что фабрика данных Azure регулирует время ожидания вещания до 60 секунд, чтобы обеспечить более быструю процедуру отладки. Вы можете продлить время ожидания до 300-секундного запуска триггера. Для этого можно использовать параметр среды выполнения действия " **Отладка**",  >   чтобы использовать Azure IR, определенные в действии конвейера "выполнение потока данных".

- **Сообщение**. ошибка истечения времени ожидания широковещательного подключения. чтобы избежать этой проблемы, можно выбрать параметр "Выкл." вещания в преобразовании «соединение/существует» или «Уточняющий запрос». Если вы планируете широковещательное соединение для повышения производительности, убедитесь, что широковещательный поток может создавать данные в течение 60 секунд при выполнении отладки и 300 секунд при выполнении заданий.
- **Причина**: время ожидания вещания по умолчанию составляет 60 секунд в запусках отладки и 300 секунд в выполнении задания. В широковещательном соединении поток, выбранный для вещания, слишком велик для получения данных в пределах этого предела. Если широковещательное соединение не используется, передача по умолчанию по потоку данных может достигать такого же ограничения.
- **Рекомендация**. Отключите параметр Broadcast или Избегайте широковещательной трансляции больших потоков данных, для которых обработка может занять более 60 секунд. Выберите поток меньшего размера для вещания. Большие таблицы хранилища данных SQL Azure и исходные файлы обычно не являются хорошим выбором. При отсутствии широковещательного подключения при возникновении этой ошибки используйте кластер большего размера.

### <a name="error-code-df-executor-conversion"></a>Код ошибки: DF-Executor-Conversion

- **Сообщение**. Сбой преобразования в дату или время из-за недопустимого символа
- **Причина**: данные не имеют ожидаемого формата.
- **Рекомендация**: Используйте правильный тип данных.

### <a name="error-code-df-executor-invalidcolumn"></a>Код ошибки: DF-Executor-InvalidColumn
- **Сообщение**. Необходимо указать имя столбца в запросе, задайте псевдоним при использовании функции SQL
- **Причина**: не указано имя столбца.
- **Рекомендация**: Задайте псевдоним, если вы используете функцию SQL, например min () или Max ().

### <a name="error-code-df-executor-drivererror"></a>Код ошибки: DF-исполнителя-Дривереррор
- **Сообщение**: INT96 имеет устаревший тип отметок времени, который не поддерживается ПОТОКОМ данных ADF. Попробуйте обновить тип столбца до последних типов.
- **Причина**: ошибка драйвера.
- **Рекомендация**: INT96 — это устаревший тип отметки времени, который не поддерживается потоком данных фабрики данных Azure. Рекомендуется обновить тип столбца до последнего типа.

### <a name="error-code-df-executor-blockcountexceedslimiterror"></a>Код ошибки: DF-исполнителя-Блокккаунтексцеедслимитеррор
- **Сообщение**: Счетчик незафиксированных блоков не может превышать максимальное ограничение в 100 000 блоков. Проверьте конфигурацию большого двоичного объекта.
- **Причина**: максимальное число незафиксированных блоков в большом двоичном объекте — 100 000.
- **Рекомендация**: чтобы получить дополнительные сведения об этой проблеме, обратитесь к группе разработчиков продуктов Майкрософт.

### <a name="error-code-df-executor-partitiondirectoryerror"></a>Код ошибки: DF-исполнителя-Партитиондиректореррор
- **Сообщение**: указанный исходный путь содержит либо несколько секционированных каталогов (например, <Source Path> /<корневой каталог 1>/a = 10/b = 20, <Source Path> /<корневой каталог 2>/c = 10/d = 30) или секционированный каталог с другим файлом или несекционированным каталогом (например, <Source Path> /<корневой каталог 1>/a = 10/b = 20, <Source Path> /Directory 2/file1), удалите корневой каталог раздела из исходного пути и прочтите его с помощью отдельного преобразования источника.
- **Причина**: исходный путь содержит несколько секционированных каталогов или секционированный каталог с другим файлом или несекционированным каталогом.
- **Рекомендация**: удалите секционированный корневой каталог из исходного пути и прочтите его с помощью отдельного преобразования источника.

### <a name="error-code-df-executor-invalidtype"></a>Код ошибки: DF-исполнителя-Инвалидтипе
- **Сообщение**. Убедитесь, что тип параметра совпадает с типом переданного значения. Передача параметров с плавающей точкой из конвейеров в настоящее время не поддерживается.
- **Причина**: тип данных для объявленного типа несовместим с фактическим значением параметра.
- **Рекомендация**: Убедитесь, что значения параметров, переданные в поток данных, соответствуют объявленному типу.

### <a name="error-code-df-executor-parseerror"></a>Код ошибки: DF-исполнителя-Парсиррор
- **Сообщение**: выражение не может быть проанализировано
- **Причина**: в выражении возникли ошибки синтаксического анализа из-за неправильного форматирования.
- **Рекомендация**: Проверьте форматирование в выражении.

### <a name="error-code-df-executor-systemimplicitcartesian"></a>Код ошибки: DF-Executor-SystemImplicitCartesian
- **Сообщение**. Неявное декартово произведение для внутреннего соединения не поддерживается, используйте перекрестное соединение. Столбцы, используемые при соединении, должны создавать уникальные ключи для строк.
- **Причина**: неявные декартовы продукты для внутренних соединений между логическими планами не поддерживаются. Если вы используете столбцы в соединении, создайте уникальный ключ.
- **Рекомендация**: для соединений, не основанных на равенство, используйте перекрестное соединение.

### <a name="error-code-getcommand-outputasync-failed"></a>Код ошибки: Сбой команды OutputAsync
- **Сообщение**. Во время отладки потока данных и предварительного просмотра данных Сбой команды GetCommand OutputAsync с...
- **Причина**: Эта ошибка является внутренней ошибкой службы. 
- **Рекомендация**: повторите операцию и перезапустите сеанс отладки. Если повторная попытка и перезагрузка не помогли устранить проблему, обратитесь в службу поддержки пользователей. 

### <a name="error-code-df-executor-outofmemoryerror"></a>Код ошибки: DF-исполнителя-OutOfMemoryError
 
- **Сообщение**: в кластере возникла ошибка нехватки памяти во время выполнения. Повторите попытку, используя среду выполнения интеграции с большим числом ядер и (или) оптимизированным для памяти типом вычислений
- **Причина**: в кластере заканчивается память.
- **Рекомендация**: Отладочные кластеры предназначены для разработки. Используйте выборку данных и соответствующий тип вычислений и размер для запуска полезных данных. Советы по повышению производительности см. в разделе [сопоставление с данными о производительности потока данных](concepts-data-flow-performance.md).

### <a name="error-code-df-executor-illegalargument"></a>Код ошибки: DF-исполнителя-Иллегаларгумент

- **Сообщение**. Убедитесь, что ключ доступа в связанной службе указан правильно.
- **Причина**: имя учетной записи или ключ доступа неверны.
- **Рекомендация**: Убедитесь, что имя учетной записи или ключ доступа, указанные в связанной службе, указаны правильно. 

### <a name="error-code-df-executor-columnunavailable"></a>Код ошибки: DF-исполнителя-Колумнунаваилабле
- **Сообщение**: имя столбца, используемое в выражении, недоступно или недопустимо.
- **Причина**: в выражении используется недопустимое или недоступное имя столбца.
- **Рекомендация**: Проверьте имена столбцов, используемые в выражениях.

 ### <a name="error-code-df-executor-outofdiskspaceerror"></a>Код ошибки: DF-исполнителя-Аутофдискспацееррор
- **Сообщение**: Внутренняя ошибка сервера
- **Причина**: в кластере заканчивается свободное место.
- **Рекомендация**: Повторите конвейер. Если это не решит проблему, обратитесь в службу поддержки пользователей.


 ### <a name="error-code-df-executor-storeisnotdefined"></a>Код ошибки: DF-исполнителя-Стореиснотдефинед
- **Сообщение**: Конфигурация хранилища не определена. Эта ошибка потенциально вызвана недопустимым назначением параметра в конвейере.
- **Причина**: не определено.
- **Рекомендация**: Проверьте назначение значения параметра в конвейере. Выражение параметра может содержать недопустимые символы.


### <a name="error-code-4502"></a>Код ошибки: 4502
- **Сообщение**. существуют существенные одновременные выполнения маппингдатафлов, которые вызывают сбои из-за регулирования в Integration Runtime.
- **Причина**: большое количество запусков действий потока данных происходит параллельно в среде выполнения интеграции. Дополнительные сведения см. в статье [ограничения фабрики данных Azure](../azure-resource-manager/management/azure-subscription-service-limits.md#data-factory-limits).
- **Рекомендация**. Если требуется параллельное выполнение дополнительных действий потока данных, распределите их между несколькими средами выполнения интеграции.


### <a name="error-code-invalidtemplate"></a>Код ошибки: Инвалидтемплате
- **Сообщение**: невозможно вычислить выражение конвейера.
- **Причина**: выражение конвейера, переданное в действии потока данных, не обрабатывается правильно из-за синтаксической ошибки.
- **Рекомендация**: Проверьте действие в мониторинге активности, чтобы проверить выражение.

### <a name="error-code-2011"></a>Код ошибки: 2011
- **Сообщение**: действие было запущено на Azure Integration Runtime и не смогло расшифровать учетные данные хранилища данных или вычислить подключение с помощью автономной Integration Runtime. Проверьте конфигурацию связанных служб, связанных с этим действием, и убедитесь, что используется правильный тип среды выполнения интеграции.
- **Причина**: поток данных не поддерживает связанные службы в самостоятельных средах выполнения интеграции.
- **Рекомендация**: Настройка потока данных для выполнения в управляемой среде выполнения интеграции виртуальной сети.

### <a name="error-code-df-xml-invalidvalidationmode"></a>Код ошибки: DF-XML-Инвалидвалидатионмоде
- **Сообщение**: указан недопустимый режим проверки XML.
- **Рекомендация**: проверьте значение параметра и укажите правильный режим проверки.

### <a name="error-code-df-xml-invaliddatafield"></a>Код ошибки: DF-XML-Инвалиддатафиелд
- **Message**: поле для поврежденных записей должно иметь строковый тип и допускающий значение null.
- **Рекомендация**: Убедитесь, что столбец `\"_corrupt_record\"` в исходном проекте имеет строковый тип данных.

### <a name="error-code-df-xml-malformedfile"></a>Код ошибки: DF-XML-Малформедфиле
- **Сообщение**: неправильно сформированный XML в "фаилфастмоде".
- **Рекомендация**: обновите содержимое XML-файла в правильном формате.

### <a name="error-code-df-xml-invaliddatatype"></a>Код ошибки: DF-XML-Инвалиддататипе
- **Сообщение**: XML-элемент содержит вложенные элементы или атрибуты, и его невозможно преобразовать.

### <a name="error-code-df-xml-invalidreferenceresource"></a>Код ошибки: DF-XML-Инвалидреференцересаурце
- **Сообщение**: не удается разрешить ссылочный ресурс в XML-файле данных.
- **Рекомендация**. необходимо проверить ссылочный ресурс в XML-файле данных.

### <a name="error-code-df-xml-invalidschema"></a>Код ошибки: DF-XML-Инвалидсчема
- **Сообщение**: Проверка схемы не пройдена.

### <a name="error-code-df-xml-unsupportedexternalreferenceresource"></a>Код ошибки: DF-XML-Унсуппортедекстерналреференцересаурце
- **Сообщение**: внешний ссылочный ресурс в файле данных XML не поддерживается.
- **Рекомендация**: обновление содержимого XML-файла, если внешний ссылочный ресурс сейчас не поддерживается.

### <a name="error-code-df-gen2-invalidaccountconfiguration"></a>Код ошибки: DF-GEN2-Инвалидаккаунтконфигуратион
- **Сообщение**: следует указать либо один из ключей учетной записи, либо клиент/Спнид/Спнкредентиал/Спнкредентиалтипе или Мисервицеури/мисервицетокен.
- **Рекомендация**: Настройте правую учетную запись в связанной службе Gen2.

### <a name="error-code-df-gen2-invalidauthconfiguration"></a>Код ошибки: DF-GEN2-Инвалидаусконфигуратион
- **Сообщение**: можно указать только один из трех методов проверки подлинности (Key, SERVICEPRINCIPAL и MI). 
- **Рекомендация**: выберите правильный тип проверки подлинности в связанной службе Gen2.

### <a name="error-code-df-gen2-invalidserviceprincipalcredentialtype"></a>Код ошибки: DF-GEN2-ИнвалидсервицепринЦипалкредентиалтипе
- **Сообщение**: сервицепринЦипалкредентиалтипе является недопустимым.

### <a name="error-code-df-gen2-invaliddatatype"></a>Код ошибки: DF-GEN2-Инвалиддататипе
- **Сообщение**: недопустимый тип облака.

### <a name="error-code-df-blob-invalidaccountconfiguration"></a>Код ошибки: DF-BLOB-Инвалидаккаунтконфигуратион
- **Сообщение**: необходимо указать либо ключ учетной записи, либо sas_token.

### <a name="error-code-df-blob-invalidauthconfiguration"></a>Код ошибки: DF-BLOB-Инвалидаусконфигуратион
- **Сообщение**: можно указать только один из двух методов проверки подлинности (ключ, SAS).

### <a name="error-code-df-blob-invaliddatatype"></a>Код ошибки: DF-BLOB-Инвалиддататипе
- **Сообщение**: недопустимый тип облака.

### <a name="error-code-df-cosmos-partitionkeymissed"></a>Код ошибки: DF-Cosmos-Партитионкэймиссед
- **Сообщение**: необходимо указать путь к ключу секции для операций обновления и удаления.
- **Рекомендация**: используйте параметр предоставления ключа секции в настройках приемника Cosmos.

### <a name="error-code-df-cosmos-invalidpartitionkey"></a>Код ошибки: DF-Cosmos-Инвалидпартитионкэй
- **Сообщение**: путь к ключу секции не может быть пустым для операций обновления и удаления.
- **Рекомендация**: используйте параметр предоставления ключа секции в настройках приемника Cosmos.

### <a name="error-code-df-cosmos-idpropertymissed"></a>Код ошибки: DF-Cosmos-Идпропертимиссед
- **Сообщение**: свойство "ID" должно быть сопоставлено для операций удаления и обновления.
- **Рекомендация**: Убедитесь, что входные данные имеют `id` столбец в параметрах приемника Cosmos. Если нет, используйте **SELECT или производное преобразование** , чтобы создать этот столбец перед приемником.

### <a name="error-code-df-cosmos-invalidpartitionkeycontent"></a>Код ошибки: DF-Cosmos-Инвалидпартитионкэйконтент
- **Сообщение**: ключ секции должен начинаться с/.
- **Рекомендация**: чтобы ключ раздела начался `/` в параметрах приемника Cosmos, например: `/movieId` .

### <a name="error-code-df-cosmos-invalidpartitionkey"></a>Код ошибки: DF-Cosmos-Инвалидпартитионкэй
- **Сообщение**: partitionKey не сопоставлено в приемнике для операций удаления и обновления.
- **Рекомендация**. в настройках приемника Cosmos используйте ключ раздела, который совпадает с ключом секции контейнера.

### <a name="error-code-df-cosmos-invalidconnectionmode"></a>Код ошибки: DF-Cosmos-Инвалидконнектионмоде
- **Сообщение**: недопустимое connectionMode.
- **Рекомендация**. Убедитесь, что поддерживаемым режимом является **Gateway** и **DirectHttps** в параметрах Cosmos.

### <a name="error-code-df-cosmos-invalidaccountconfiguration"></a>Код ошибки: DF-Cosmos-Инвалидаккаунтконфигуратион
- **Сообщение**: следует указать AccountName или аккаунтендпоинт.

### <a name="error-code-df-github-writenotsupported"></a>Код ошибки: DF-GitHub-Вритенотсуппортед
- **Сообщение**: в хранилище GitHub не допускаются операции записи.

### <a name="error-code-df-pgsql-invalidcredential"></a>Код ошибки: DF-PGSQL-Инвалидкредентиал
- **Сообщение**: необходимо указать пользователя или пароль.
- **Рекомендация**: Убедитесь в наличии правильных параметров учетных данных в связанной службе PostgreSQL.

### <a name="error-code-df-snowflake-invalidstageconfiguration"></a>Код ошибки: DF-снежинка-Инвалидстажеконфигуратион
- **Сообщение**: только тип хранилища BLOB-объектов можно использовать в качестве промежуточного в операции чтения и записи «снежинка».

### <a name="error-code-df-snowflake-invalidstageconfiguration"></a>Код ошибки: DF-снежинка-Инвалидстажеконфигуратион
- **Сообщение**: свойства этапа "Снежинка" следует указывать с помощью проверки подлинности Azure BLOB + SAS.

### <a name="error-code-df-snowflake-invaliddatatype"></a>Код ошибки: DF-снежинка-Инвалиддататипе
- **Сообщение**: тип Spark не поддерживается в снежинки.
- **Рекомендация**: используйте **Преобразование "производная** ", чтобы изменить связанный столбец входных данных на строковый тип перед приемником снежинки. 

### <a name="error-code-df-hive-invalidblobstagingconfiguration"></a>Код ошибки: DF-Hive-Инвалидблобстагингконфигуратион
- **Сообщение**: должны быть указаны свойства промежуточного хранения хранилища BLOB-объектов.

### <a name="error-code-df-hive-invalidgen2stagingconfiguration"></a>Код ошибки: DF-Hive-InvalidGen2StagingConfiguration
- **Сообщение**: ADLS 2-го поколения промежуточное хранение хранилища поддерживает только учетные данные ключа субъекта-службы.
- **Рекомендация**: Подтвердите применение учетных данных ключа субъекта-службы в связанной Службе ADLS 2-го поколения, которая используется в качестве промежуточной.

### <a name="error-code-df-hive-invalidgen2stagingconfiguration"></a>Код ошибки: DF-Hive-InvalidGen2StagingConfiguration
- **Сообщение**: должны быть указаны свойства промежуточного хранения хранилища ADLS 2-го поколения. Требуется либо ключ, либо клиент/Спнид/Спнкэй, либо Мисервицеури/Мисервицетокен.
- **Рекомендация**: Примените правильные учетные данные, которые используются в качестве промежуточного в Hive в связанной Службе ADLS 2-го поколения. 

### <a name="error-code-df-hive-invaliddatatype"></a>Код ошибки: DF-Hive-Инвалиддататипе
- **Сообщение**: неподдерживаемые столбцы.
- **Рекомендация**: обновите столбец входных данных в соответствии с типом данных, поддерживаемым Hive.

### <a name="error-code-df-hive-invalidstoragetype"></a>Код ошибки: DF-Hive-Инвалидсторажетипе
- **Сообщение**: тип хранилища может быть либо BLOB-объектом, либо Gen2.

### <a name="error-code-df-delimited-invalidconfiguration"></a>Код ошибки: DF-Инвалидконфигуратион-с разделителями
- **Сообщение**: необходимо указать либо одну из пустых строк, либо пользовательский заголовок.
- **Рекомендация**: укажите пустые строки или пользовательские заголовки в параметрах CSV.

### <a name="error-code-df-delimited-columndelimitermissed"></a>Код ошибки: DF-Колумнделимитермиссед-с разделителями
- **Сообщение**: разделитель столбцов является обязательным для синтаксического анализа.
- **Рекомендация**: Убедитесь, что в параметрах CSV имеется разделитель столбцов.

### <a name="error-code-df-mssql-invalidcredential"></a>Код ошибки: DF-MSSQL-Инвалидкредентиал
- **Сообщение**: следует указать либо пользователя, либо пароль, либо клиент/Спнид/спнкэй, либо Мисервицеури/мисервицетокен.
- **Рекомендация**: применение правильных учетных данных в связанной связанной службе MSSQL.

### <a name="error-code-df-mssql-invaliddatatype"></a>Код ошибки: DF-MSSQL-Инвалиддататипе
- **Сообщение**: неподдерживаемые поля.
- **Рекомендация**: Измените столбец входных данных в соответствии с типом данных, поддерживаемым MSSQL.

### <a name="error-code-df-mssql-invalidauthconfiguration"></a>Код ошибки: DF-MSSQL-Инвалидаусконфигуратион
- **Сообщение**: можно указать только один из трех методов проверки подлинности (Key, SERVICEPRINCIPAL и MI).
- **Рекомендация**. в связанной службе MSSQL можно указать только один из трех методов проверки подлинности (Key, SERVICEPRINCIPAL и MI).

### <a name="error-code-df-mssql-invalidcloudtype"></a>Код ошибки: DF-MSSQL-Инвалидклаудтипе
- **Сообщение**: недопустимый тип облака.
- **Рекомендация**: Проверьте тип облака в связанной службе MSSQL.

### <a name="error-code-df-sqldw-invalidblobstagingconfiguration"></a>Код ошибки: DF-SQLDW-Инвалидблобстагингконфигуратион
- **Сообщение**: должны быть указаны свойства промежуточного хранения хранилища BLOB-объектов.

### <a name="error-code-df-sqldw-invalidstoragetype"></a>Код ошибки: DF-SQLDW-Инвалидсторажетипе
- **Сообщение**: тип хранилища может быть либо BLOB-объектом, либо Gen2.

### <a name="error-code-df-sqldw-invalidgen2stagingconfiguration"></a>Код ошибки: DF-SQLDW-InvalidGen2StagingConfiguration
- **Сообщение**: ADLS 2-го поколения промежуточное хранение хранилища поддерживает только учетные данные ключа субъекта-службы.

### <a name="error-code-df-sqldw-invalidconfiguration"></a>Код ошибки: DF-SQLDW-Инвалидконфигуратион
- **Сообщение**: должны быть указаны свойства промежуточного хранения хранилища ADLS 2-го поколения. Требуется либо ключ, либо клиент/Спнид/Спнкредентиал/Спнкредентиалтипе, либо Мисервицеури/Мисервицетокен.

### <a name="error-code-df-delta-invalidconfiguration"></a>Код ошибки: DF-Дельта-Инвалидконфигуратион
- **Сообщение**: отметка времени и версия не могут быть установлены одновременно.

### <a name="error-code-df-delta-keycolumnmissed"></a>Код ошибки: DF-Дельта-Кэйколумнмиссед
- **Сообщение**: для операций, которые не могут быть вставлены, должны быть указаны ключевые столбцы.

### <a name="error-code-df-delta-invalidtableoperationsettings"></a>Код ошибки: DF-Дельта-Инвалидтаблеоператионсеттингс
- **Сообщение**: параметры повторного создания и усечения не могут быть одновременно указаны.

### <a name="error-code-df-excel-worksheetconfigmissed"></a>Код ошибки: DF-Excel-Воркшитконфигмиссед
- **Сообщение**: требуется имя или индекс листа Excel.
- **Рекомендация**: проверьте значение параметра и укажите имя листа или индекс для чтения данных Excel.

### <a name="error-code-df-excel-invalidworksheetconfiguration"></a>Код ошибки: DF-Excel-Инвалидворкшитконфигуратион
- **Сообщение**: имя и индекс листа Excel не могут существовать одновременно.
- **Рекомендация**: проверьте значение параметра и укажите имя листа или индекс для чтения данных Excel.

### <a name="error-code-df-excel-invalidrange"></a>Код ошибки: DF-Excel-Инвалидранже
- **Сообщение**: указан недопустимый диапазон.
- **Рекомендация**: проверьте значение параметра и укажите допустимый диапазон в следующем [формате: формат Excel в свойствах Factory-Dataset данных Azure](./format-excel.md#dataset-properties).

### <a name="error-code-df-excel-worksheetnotexist"></a>Код ошибки: DF-Excel-Воркшитнотексист
- **Сообщение**: лист Excel не существует.
- **Рекомендация**: проверьте значение параметра и укажите допустимое имя листа или индекс для чтения данных Excel.

### <a name="error-code-df-excel-differentschemanotsupport"></a>Код ошибки: DF-Excel-Дифферентсчеманотсуппорт
- **Сообщение**: чтение файлов Excel с другой схемой сейчас не поддерживается.

### <a name="error-code-df-excel-invaliddatatype"></a>Код ошибки: DF-Excel-Инвалиддататипе
- **Сообщение**: тип данных не поддерживается.

### <a name="error-code-df-excel-invalidfile"></a>Код ошибки: DF-Excel-Инвалидфиле
- **Сообщение**: недопустимый файл Excel предоставляется, хотя поддерживаются только файлы. xlsx и. xls.

### <a name="error-code-df-adobeintegration-invalidmaptofilter"></a>Код ошибки: DF-Адобеинтегратион-Инвалидмаптофилтер
- **Сообщение**: настраиваемый ресурс может иметь только один ключ или идентификатор, сопоставленный с фильтром.

### <a name="error-code-df-adobeintegration-invalidpartitionconfiguration"></a>Код ошибки: DF-Адобеинтегратион-Инвалидпартитионконфигуратион
- **Сообщение**: поддерживается только один раздел. Схема секционирования может быть циклический перебор или hash.
- **Рекомендация**. в параметрах адобеинтегратион убедитесь, что у вас есть только один раздел. Схема секционирования может быть циклический перебор или hash.

### <a name="error-code-df-adobeintegration-keycolumnmissed"></a>Код ошибки: DF-Адобеинтегратион-Кэйколумнмиссед
- **Сообщение**: необходимо указать ключ для операций, которые не могут быть вставлены.
- **Рекомендация**. Укажите ключевые столбцы в параметрах адобеинтегратион для операций, которые не являются вставляемыми.

### <a name="error-code-df-adobeintegration-invalidpartitiontype"></a>Код ошибки: DF-Адобеинтегратион-Инвалидпартитионтипе
- **Сообщение**: тип секции должен быть циклический перебор.
- **Рекомендация**: Убедитесь, что тип секции — циклический перебор в параметрах адобеинтегратион.

### <a name="error-code-df-adobeintegration-invalidprivacyregulation"></a>Код ошибки: DF-Адобеинтегратион-Инвалидпривацирегулатион
- **Сообщение**: в настоящее время поддерживается только регламентирование конфиденциальности gdpr.
- **Рекомендация**: Подтвердите соблюдение конфиденциальности в параметрах адобеинтегратион — **"GDPR"**.

## <a name="miscellaneous-troubleshooting-tips"></a>Прочие советы по устранению неполадок
- **Ошибка:** возникло непредвиденное исключение, сбой выполнения.
    - **Сообщение**. Во время выполнения действия потока данных: возникло непредвиденное исключение, и произошел сбой выполнения.
    - **Причина**: Эта ошибка является внутренней ошибкой службы. Повторите операцию и перезапустите сеанс отладки.
    - **Рекомендация**. Если повторная попытка и перезагрузка не помогли устранить проблему, обратитесь в службу поддержки пользователей.

-  **Ошибка**: выходные данные не выводятся при соединении во время предварительной версии отладочных данных.
    - **Сообщение**: существует большое количество значений NULL или отсутствующих значений, которые могут быть вызваны тем, что вычислено слишком мало строк. Попробуйте обновить ограничение для строк отладки и обновить данные.
    - **Причина**: условие объединения либо не соответствует ни одной строке, либо привело к большому числу значений NULL во время просмотра данных.
    - **Рекомендация**: в **параметрах отладки** увеличьте число строк в пределах исходной строки. Не забудьте выбрать Azure IR с кластером потока данных, достаточно большим для обработки дополнительных данных.
    
- **Причина**: ошибка проверки в источнике с многострочными CSV-файлами. 
    - **Сообщение**: может появиться одно из следующих сообщений об ошибке:
        - Последний столбец имеет значение null или отсутствует.
        - Проверка схемы в источнике завершается ошибкой.
        - Импорт схемы не удается правильно отобразить в интерфейсе UX, а последний столбец содержит символ новой строки в имени.
    - **Причина**. в потоке данных СОПОСТАВЛЕНИЯ исходный CSV-файл не работает, если в качестве разделителя строк используется \r\n. Иногда дополнительные строки при возврате каретки могут вызвать ошибки. 
    - **Рекомендация**: Создайте файл в источнике, используя \n в качестве разделителя строк, а не \r\n. Или используйте действие копирования для преобразования CSV-файла, чтобы использовать \n в качестве разделителя строк.

## <a name="general-troubleshooting-guidance"></a>Общие рекомендации по устранению неполадок
1. Проверьте состояние подключений к набору данных. В каждом преобразовании источника и приемника перейдите к связанной службе для каждого набора данных, который вы используете, и проверьте подключения.
2. Проверьте состояние соединений файлов и таблиц в конструкторе потока данных. В режиме отладки выберите **Предварительный просмотр данных** в исходных преобразованиях, чтобы убедиться, что вы можете получить доступ к данным.
3. Если все выглядит правильно в предварительной версии данных, перейдите в конструктор конвейера и разместите поток данных в действии конвейера. Выполните отладку конвейера для комплексного тестирования.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об устранении неполадок см. в следующих ресурсах:

*  [Блог о Фабрике данных](https://azure.microsoft.com/blog/tag/azure-data-factory/)
*  [Запросы на добавление функции в Фабрику данных](https://feedback.azure.com/forums/270578-data-factory)
*  [Видео по Azure](https://azure.microsoft.com/resources/videos/index/?sort=newest&services=data-factory)
*  [Форум Stack Overflow по Фабрике данных](https://stackoverflow.com/questions/tagged/azure-data-factory)
*  [Сведения о Фабрике данных в Twitter](https://twitter.com/hashtag/DataFactory)
