---
title: Инструмент копирования данных в Фабрике данных Azure
description: В этой статье предоставляются сведения об инструменте копирования данных в пользовательском интерфейсе фабрики данных Azure
author: dearandyxu
ms.service: data-factory
ms.topic: conceptual
ms.date: 06/17/2020
ms.author: yexu
ms.openlocfilehash: 18d61c7f51547a524e64fc44c98e70e0f5bc2752
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100373000"
---
# <a name="copy-data-tool-in-azure-data-factory"></a>Инструмент копирования данных в фабрике данных Azure
[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

Инструмент копирования данных фабрики данных Azure предназначен для оптимизации процесса приема данных в озеро данных, что обычно является первым шагом сценария комплексной интеграции данных.  Это позволяет сэкономить время, особенно при использовании фабрики данных Azure для принятия данных из источников данных впервые. Ниже приведены некоторые преимущества использования этого средства:

- При использовании инструмента копирования данных фабрики данных Azure вам требуется понимать определения фабрики данных для связанных служб, наборов данных, конвейеров, действий и триггеров. 
- Процедура отправки данных в озеро данных с помощью инструмента копирования данных интуитивно понятна. Это средство автоматически создает все необходимые ресурсы фабрики данных для копирования данных из выбранного исходного хранилища данных в выбранное хранилище данных назначения или хранилище данных-приемник. 
- Инструмент копирования данных позволяет проверить, были ли данные приняты во время авторизации, что позволяет с самого начала избежать потенциальных ошибок.
- Если необходимо реализовать сложную бизнес-логику для загрузки данных в озеро данных, вы все еще можете изменять ресурсы фабрики данных, созданные инструментом копирования данных, используя авторизацию каждого действия в пользовательском интерфейсе фабрики данных. 

В следующей таблице предоставлены рекомендации по использованию инструмента копирования данных и авторизации каждого действия в пользовательском интерфейсе фабрики данных: 

| Средство копирования данных | Авторизация каждого действия (действие копирования) |
| -------------- | -------------------------------------- |
| Требуется легко создавать задачи загрузки данных без изучения сущностей фабрики данных Azure, таких как связанные службы, наборы данных, конвейеры и т. д. | Требуется реализовать комплексную и гибкую логику для загрузки данных в озеро. |
| Требуется быстро загрузить большое количество артефактов данных в озеро данных. | Необходимо связать действие копирования с последующими действиями для очистки обработки данных. |

Чтобы запустить инструмент копирования данных, на домашней странице фабрики данных щелкните плитку **Копировать данные**.

![Страница "Начало работы". Ссылка на инструмент копирования данных](./media/doc-common-process/get-started-page.png)


## <a name="intuitive-flow-for-loading-data-into-a-data-lake"></a>Интуитивная процедура загрузки данных в озеро данных
Этот инструмент позволяет легко переместить данные из разнообразных источников в места назначения за считанные минуты с использованием интуитивно понятной процедуры:  

1. Настройте параметры **источника**.
2. Настройте параметры **назначения**. 
3. Настройте **дополнительные параметры** операции копирования, такие как сопоставление столбцов, параметры производительности и параметры отказоустойчивости. 
4. Укажите **расписание** задачи загрузки данных. 
5. Просмотрите **сводку** сущностей фабрики данных, которые будут созданы. 
6. При необходимости **измените** конвейер, чтобы обновить параметры действия копирования. 

   Инструмент изначально предназначен для работы с большими объемами данных и поддерживает разнообразные данные и типы объектов. Его можно использовать для перемещения сотен папок, файлов или таблиц. Инструмент позволяет выполнять автоматический предварительный просмотр данных, собирать и автоматически сопоставлять схемы, а также фильтровать данные.

![Средство копирования данных](./media/copy-data-tool/copy-data-tool.png)

## <a name="automatic-data-preview"></a>Автоматический предварительный просмотр данных
Часть данных можно просмотреть из выбранного исходного хранилища данных, что позволяет проверить копируемые данные. Кроме того, если исходные данные находятся в текстовом файле, инструмент копирования данных анализирует его, чтобы автоматически обнаружить сведения о разделителях строк и столбцов, а также о схемах.

![Параметры файла](./media/copy-data-tool/file-format-settings.png)

После обнаружения:

![Обнаруженные параметры файла и предварительная версия](./media/copy-data-tool/after-detection.png)

## <a name="schema-capture-and-automatic-mapping"></a>Сбор и автоматическое сопоставление схем
Схема источника данных во многих случаях может отличаться от схемы назначения данных. В этом случае необходимо сопоставить столбцы в исходной схеме со столбцами в целевой схеме.

Инструмент копирования данных выполняет мониторинг и определяет поведение при сопоставлении столбцов между хранилищами в источнике и назначении. После выбора одного или нескольких столбцов из исходного хранилища данных и сопоставления их со схемой назначений инструмент копирования данных начинает анализировать шаблон для пар столбцов, выбранных из обоих источников. Затем он применяет тот же шаблон для остальных столбцов. Таким образом все столбцы сопоставляются с назначением так, как это необходимо, всего за несколько щелчков.  Если вас не устраивает сопоставление столбцов, предоставляемое инструментом копирования данных, его можно проигнорировать и продолжить вручную сопоставлять столбцы. Тем временем инструмент копирования данных постоянно изучает и обновляет шаблон сопоставления столбцов, и в конечном счете он становится таким, как нужно вам. 

> [!NOTE]
> При копировании данных из SQL Server или базы данных SQL Azure в Azure синапсе Analytics, если таблица не существует в целевом хранилище, Копирование данных средство поддерживает автоматическое создание таблицы с помощью исходной схемы. 

## <a name="filter-data"></a>Фильтрация данных
Исходные данные можно отфильтровать, чтобы выбрать только те, которые необходимо скопировать в хранилище данных-приемник. Благодаря фильтрации объем данных, которые необходимо скопировать в хранилище данных-приемник, уменьшается, и, таким образом, повышается пропускная способность операции копирования. В инструменте копирования данных предусмотрен гибкий способ фильтрации данных в реляционной базе данных с помощью языка запросов SQL или файлов в папке больших двоичных объектов Azure. 

### <a name="filter-data-in-a-database"></a>Фильтрация данных в базе данных
На следующем снимке экрана показан SQL-запрос на фильтрацию данных.

![Фильтрация данных в базе данных](./media/copy-data-tool/filter-data-in-database.png)

### <a name="filter-data-in-an-azure-blob-folder"></a>Фильтрация данных в папке больших двоичных объектов Azure
Вы можете использовать переменные в пути к папке для копирования данных из папки. Поддерживаемые переменные: **{year}** , **{month}** , **{day}** , **{hour}** и **{minute}** . Пример: inputfolder/{year}/{month}/{day}. 

Предположим, что у вас есть входные каталоги с именами в следующем формате: 

```
2016/03/01/01
2016/03/01/02
2016/03/01/03
...
```

Нажмите кнопку **Обзор** в разделе **Файл или папка**, перейдите к любой из этих папок, например 2016->03->01->02, и щелкните **Выбрать**. В текстовом поле появится такое значение: 2016/03/01/02. 

Затем измените в нем **2016** на **{year}** , **03** на **{month}** , **01** на **{day}** , **02** на **{hour}** и нажмите клавишу **TAB**. Вы увидите раскрывающиеся списки, в которых можно выбрать формат для этих четырех переменных, как показано ниже.

![Фильтрация папки или файла](./media/copy-data-tool/filter-file-or-folder.png)

Инструмент копирования данных создает параметры с выражениями, функциями и системными переменными, которые можно использовать для представления {year}, {month}, {day}, {hour} и {minute} при создании конвейера.

## <a name="scheduling-options"></a>Параметры планирования
Операцию копирования можно выполнить однократно или запускать по расписанию (ежечасно, ежедневно и т. д.). Эти варианты можно использовать с соединителями в различных средах, в том числе в локальных средах или в облаке, а также с копиями на локальном компьютере. 

Однократная операция копирования позволяет один раз переместить данные из источника в целевое расположение. Ее можно применять к данным любого размера и любого из поддерживаемых форматов. Запланированное копирование позволяет копировать данные с определенной периодичностью. Для запланированного копирования можно задать широкий набор настроек (повторение, время ожидания, предупреждения и т. д.).

![Параметры планирования](./media/copy-data-tool/scheduling-options.png)


## <a name="next-steps"></a>Дальнейшие действия
Ознакомьтесь с руководствами ниже, при работе с которыми используется инструмент копирования данных:

- [Использование средства копирования данных для копирования данных](quickstart-create-data-factory-copy-data-tool.md)
- [Копирование данных из хранилища BLOB-объектов Azure в базу данных SQL Azure с помощью средства копирования данных](tutorial-copy-data-tool.md) 
- [Копирование данных из локальной базы данных SQL Server в хранилище BLOB-объектов Azure с помощью средства копирования данных](tutorial-hybrid-copy-data-tool.md)
