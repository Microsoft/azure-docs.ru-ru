---
title: Смена учетных данных для входа в заданиях Azure Stream Analytics
description: В этой статье объясняется, как обновить учетные данные для приемников входных и выходных данных в заданиях Azure Stream Analytics.
author: enkrumah
ms.author: ebnkruma
ms.service: stream-analytics
ms.topic: how-to
ms.date: 06/21/2019
ms.custom: seodec18
ms.openlocfilehash: fd6c072f9783e8ff5d4d5e465b513c2e530bfd63
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98015238"
---
# <a name="rotate-login-credentials-for-inputs-and-outputs-of-a-stream-analytics-job"></a>Смена учетных данных для источников входных данных и мест назначения выходных данных задания Stream Analytics

Каждый раз, когда вы повторно создаете учетные данные для источника входных данных или мест назначения выходных данных задания Stream Analytics, необходимо обновлять задание с помощью новых учетных данных. Перед обновлением учетных данных необходимо остановить задание, так как их невозможно изменить во время его выполнения. Во избежание задержек между остановкой задания и его повторным запуском Stream Analytics поддерживает возобновление работы с момента последнего выхода. В этом разделе описывается процесс смены учетных данных для входа и перезапуска задания с новыми учетными данными.

## <a name="regenerate-new-credentials-and-update-your-job-with-the-new-credentials"></a>Повторное создание учетных данных и их добавление в задание 

В этом разделе вы узнаете, как повторно создать учетные данные для хранилища BLOB-объектов, Центров событий, базы данных SQL и службы "Хранилище таблиц". 

### <a name="blob-storagetable-storage"></a>Хранилище больших двоичных объектов и табличное хранилище
1. Перейдите на портал Azure, войдите в учетную запись хранения, используемую в качестве входной или выходной для задания Stream Analytics.    
2. В разделе параметров щелкните **Ключи доступа**. Из двух ключей по умолчанию (key1, key2) выберите тот, который не используется заданием, и повторно создайте его:  
   ![Повторное создание ключей для учетной записи хранения](media/stream-analytics-login-credentials-inputs-outputs/regenerate-storage-keys.png)
3. Скопируйте созданный ключ.    
4. На портале Azure найдите необходимое задание Stream Analytics, выберите **Stop** (Остановить) и дождитесь остановки задания.    
5. Найдите входные или выходные данные хранилища BLOB-объектов или таблиц, для которых требуется обновить учетные данные.    
6. Найдите поле **Ключ учетной записи хранения**, вставьте в него созданный ключ и щелкните **Сохранить**.    
7. Проверка подключения будет автоматически запускаться при сохранении изменений. ее можно просмотреть на вкладке "уведомления". Существует два уведомления: одно соответствует сохранению обновления, а другое соответствует проверке подключения.  
   ![Уведомления после редактирования ключа](media/stream-analytics-login-credentials-inputs-outputs/edited-key-notifications.png)
8. Перейдите к разделу [Запуск задания с момента последней остановки](#start-your-job-from-the-last-stopped-time).

### <a name="event-hubs"></a>Центры событий

1. Перейдите на портал Azure и войдите в концентратор событий, используемый в качестве входного или выходного для задания Stream Analytics.    
2. В разделе параметров щелкните **Политики общего доступа** и выберите необходимую политику доступа. На выбор предлагаются **первичный** и **вторичный** ключи. Выберите тот, который не используется заданием, и создайте его повторно:  
   ![Повторное создание ключей для Центров событий Azure](media/stream-analytics-login-credentials-inputs-outputs/regenerate-event-hub-keys.png)
3. Скопируйте созданный ключ.    
4. На портале Azure найдите необходимое задание Stream Analytics, выберите **Stop** (Остановить) и дождитесь остановки задания.    
5. Найдите входные или выходные данные концентраторов событий, для которых требуется обновить учетные данные.    
6. Найдите поле **Ключ политики концентратора событий**, вставьте в него созданный ключ и щелкните **Сохранить**.    
7. При сохранении изменений автоматически запускается проверка подключения. Убедитесь, что она прошла успешно.    
8. Перейдите к разделу [Запуск задания с момента последней остановки](#start-your-job-from-the-last-stopped-time).

### <a name="sql-database"></a>База данных SQL

Чтобы обновить учетные данные входа существующего пользователя, необходимо подключиться к базе данных SQL. Вы можете обновить учетные данные с помощью портала Azure или клиентского инструмента (например, SQL Server Management Studio). В этом разделе показан процесс обновления учетных данных с помощью портала Azure.

1. Перейдите на портал Azure и войдите в базу данных SQL, используемую в качестве входной или выходной для задания Stream Analytics.    
2. В разделе **Обозреватель данных** войдите в базу данных или подключитесь к ней, выберите тип авторизации **SQL server authentication** (Аутентификация SQL Server), введите **имя для входа** и **пароль**, затем щелкните **ОК**.  
   ![Повторное создание учетных данных для базы данных SQL](media/stream-analytics-login-credentials-inputs-outputs/regenerate-sql-credentials.png)

3. На вкладке запросов измените пароль для одного из пользователей, выполнив следующий запрос (не забудьте заменить `<user_name>` на свое имя пользователя и `<new_password>` на свой новый пароль):  

   ```SQL
   Alter user `<user_name>` WITH PASSWORD = '<new_password>'
   Alter role db_owner Add member `<user_name>`
   ```

4. Запомните новый пароль.    
5. На портале Azure найдите необходимое задание Stream Analytics, выберите **Stop** (Остановить) и дождитесь остановки задания.    
6. Выберите выходные данные базы данных SQL, для которых необходимо повернуть учетные данные. Обновите пароль и сохраните изменения.    
7. При сохранении изменений автоматически запускается проверка подключения. Убедитесь, что она прошла успешно.    
8. Перейдите к разделу [Запуск задания с момента последней остановки](#start-your-job-from-the-last-stopped-time).

### <a name="power-bi"></a>Power BI
1. Войдите на портал Azure, найдите необходимое задание Stream Analytics, выберите **Stop** (Остановить) и дождитесь остановки задания.    
2. Найдите выходные данные Power BI, для которых требуется обновить учетные данные, щелкните **Обновить авторизацию** (отобразится сообщение об успешном выполнении) и **Сохранить**, чтобы сохранить изменения.    
3. При сохранении изменений автоматически запускается проверка подключения. Убедитесь, что она прошла успешно.    
4. Перейдите к разделу [Запуск задания с момента последней остановки](#start-your-job-from-the-last-stopped-time).

## <a name="start-your-job-from-the-last-stopped-time"></a>Запуск задания с момента последней остановки

1. Перейдите к панели задания **Overview** (Общие сведения) и выберите **Start** (Запустить), чтобы запустить задание.    
2. Выберите **Во время последней остановки** и щелкните **Start** (Запустить). Обратите внимание, что параметр "Во время последней остановки" отображается, только если задание запускалось ранее и были созданы выходные данные. Задание перезапускается на основе значения последних выходных данных.
   ![Запуск задания Stream Analytics](media/stream-analytics-login-credentials-inputs-outputs/start-stream-analytics-job.png)

## <a name="next-steps"></a>Дальнейшие действия
* [Введение в Azure Stream Analytics](stream-analytics-introduction.md)
* [Приступая к работе с Azure Stream Analytics](stream-analytics-real-time-fraud-detection.md)
* [Масштабирование заданий в службе Azure Stream Analytics](stream-analytics-scale-jobs.md)
* [Справочник по языку запросов Azure Stream Analytics](/stream-analytics-query/stream-analytics-query-language-reference)
* [Справочник по API-интерфейсу REST управления Stream Analytics](/rest/api/streamanalytics/)