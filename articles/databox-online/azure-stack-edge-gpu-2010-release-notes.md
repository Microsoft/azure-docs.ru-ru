---
title: Заметки о выпуске Azure Stack ребра Pro Документация Майкрософт
description: Описание критических открытых проблем и способов их устранения для Azure Stack пограничных Pro, выполняющих общедоступную версию.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: article
ms.date: 03/05/2021
ms.author: alkohli
ms.openlocfilehash: 20340a07160a0b4501069e0f4d45599c5bff33f2
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "102444061"
---
# <a name="azure-stack-edge-pro-with-gpu-general-availability-ga-release-notes"></a>Заметки о выпуске Azure Stack ребра Pro с общедоступным графическим процессором (GA)

[!INCLUDE [applies-to-Pro-GPU-sku](../../includes/azure-stack-edge-applies-to-gpu-sku.md)]

В следующих заметках о выпуске указываются критические открытые проблемы и разрешенные проблемы для выпуска общедоступной версии для устройств Azure Stack пограничных Pro с графическим процессором.

Заметки о выпуске постоянно обновляются: обнаруживаются и добавляются критические проблемы, требующие временного решения. Перед развертыванием устройства Azure Stack пограничной Pro внимательно прочтите сведения, содержащиеся в заметках о выпуске.

Эта статья относится к выпуску **Azure Stack ребра Pro 2010** , который соответствует номеру версии программного обеспечения **2.1.1377.2170**.

## <a name="whats-new"></a>Новое

В выпуске Azure Stack ребра 2010 доступны следующие новые функции. 

- **Классы хранения** . в этом выпуске доступны классы хранения, позволяющие динамически подготавливать хранилище. Дополнительные сведения см. [в статье Kubernetes Storage Management on a Azure Stack ребра Pro GPU Device](azure-stack-edge-gpu-kubernetes-storage.md#dynamicprovisioning). 
- **Панель мониторинга Kubernetes с сервером метрик** . в этом выпуске панель мониторинга Kubernetes добавляется с надстройкой сервера метрик. Вы можете использовать панель мониторинга, чтобы получить общие сведения о приложениях, выполняемых на устройстве Azure Stack пограничной Pro, просмотреть состояние ресурсов кластера Kubernetes и просмотреть ошибки, произошедшие на устройстве. Сервер метрик собирает сведения об использовании ЦП и памяти для ресурсов Kubernetes на устройстве. Дополнительные сведения см. [в статье Использование панели мониторинга Kubernetes для мониторинга устройства GPU Azure Stack](azure-stack-edge-gpu-monitor-kubernetes-dashboard.md).
- Служба " **дуга Azure", Kubernetes на Azure Stack пограничной Pro** . Начиная с этого выпуска, вы можете развертывать рабочие нагрузки приложений на Azure Stackном устройстве Pro с помощью службы Arc Azure Kubernetes. Служба "Дуга Azure" — это гибридное средство управления, которое позволяет развертывать приложения в кластерах Kubernetes. Дополнительные сведения см. [в статье Развертывание рабочих нагрузок с помощью дуги Azure на устройстве Azure Stack пограничном Pro](azure-stack-edge-gpu-deploy-arc-kubernetes-cluster.md).  

## <a name="known-issues"></a>Известные проблемы 

В следующей таблице приведена сводка известных проблем для устройства Azure Stack ребра Pro.

| Нет. | Компонент | Проблема | Временное решение и комментарии |
| --- | --- | --- | --- |
|**1.**|Предварительная версия функций |Для этого общедоступного выпуска доступны следующие функции: локальные Azure Resource Manager, виртуальные машины, Kubernetes, служба Arc Azure Kubernetes, Многопроцессные службы (MPS) для GPU — доступны в предварительной версии для устройства Azure Stack. Pro.  |Эти функции будут общедоступными в более поздней версии. |
| **2.** |Azure Stack пограничных Pro + SQL Azure | Для создания базы данных SQL требуется доступ администратора.   |Выполните следующие действия вместо шагов 1-2 в [https://docs.microsoft.com/azure/iot-edge/tutorial-store-data-sql-server#create-the-sql-database](../iot-edge/tutorial-store-data-sql-server.md#create-the-sql-database) . <ul><li>В локальном пользовательском интерфейсе устройства Включите интерфейс вычислений. Выберите **вычисление > порт # > включить для вычислений > применить.**</li><li>Скачайте `sqlcmd` на клиентский компьютер с https://docs.microsoft.com/sql/tools/sqlcmd-utility </li><li>Подключитесь к IP-адресу интерфейса вычислений (включенному порту), добавив ", 1401" в конец адреса.</li><li>Окончательная команда будет выглядеть следующим образом: sqlcmd-S {Interface IP}, 1401-U SA-P «strong! Passw0rd".</li>После этого шаги 3-4 из текущей документации должны быть идентичны. </li></ul> |
| **3.** |Обновить| Добавочные изменения в больших двоичных объектах, восстановленных с помощью **обновления** , не поддерживаются |Для конечных точек большого двоичного объекта частичные обновления больших двоичных объектов после обновления могут привести к тому, что обновления не будут отправлены в облако. Например, последовательность действий, например:<ul><li>Создание большого двоичного объекта в облаке. Или удалите ранее отправленный BLOB-объект с устройства.</li><li>Обновите BLOB-объект из облака в устройство с помощью функции обновления.</li><li>Обновление только части большого двоичного объекта с помощью API-интерфейсов Azure SDK.</li></ul>Эти действия могут привести к тому, что обновленные разделы BLOB-объекта не будут обновлены в облаке. <br>**Обходное решение**. Используйте такие средства, как Robocopy, или регулярное копирование файлов с помощью Explorer или командной строки, чтобы заменить все большие двоичные объекты.|
|**4.**|Регулирование|При регулировании, если новые операции записи в устройство не разрешены, операции записи, выполненные клиентом NFS, завершаются ошибкой "отказ в разрешении".| Эта ошибка будет показана ниже:<br>`hcsuser@ubuntu-vm:~/nfstest$ mkdir test`<br>mkdir: не удается создать каталог "тест": отказано в разрешении|
|**5.**|Прием хранилища BLOB-объектов|При использовании AzCopy версии 10 для приема хранилища BLOB-объектов запустите AzCopy со следующим аргументом: `Azcopy <other arguments> --cap-mbps 2000`| Если эти ограничения не указаны для AzCopy, это может привести к отправке большого количества запросов на устройство и возникновению проблем со службой.|
|**6.**|Многоуровневые учетные записи хранения|При использовании многоуровневых учетных записей хранения применяются следующие условия.<ul><li> Поддерживаются только блочные BLOB-объекты. Страничные BLOB-объекты не поддерживаются.</li><li>Поддержка API моментальных снимков или копирования отсутствует.</li><li> Прием рабочей нагрузки Hadoop с помощью `distcp` не поддерживается, так как он интенсивно использует операцию копирования.</li></ul>||
|**7.**|Подключение к общему ресурсу NFS|Если несколько процессов копируются в одну общую папку и `nolock` атрибут не используется, во время копирования могут возникнуть ошибки.|`nolock`Для копирования файлов в общую папку NFS необходимо передать атрибут в команду mount. Например, `C:\Users\aseuser mount -o anon \\10.1.1.211\mnt\vms Z:`.|
|**8.**|Кластер Kubernetes|При применении обновления на устройстве, на котором работает кластер kubernetes, виртуальные машины kubernetes перезапускаются и перезагружаются. В этом случае только те модули, которые развернуты с указанными репликами, автоматически восстанавливаются после обновления.  |Если вы создали отдельные модули Pod за пределами контроллера репликации без указания набора реплик, эти модули не будут автоматически восстановлены после обновления устройства. Вам потребуется восстановить эти модули.<br>Набор реплик заменяет удаляемые или завершенные модули Pod по какой-либо причине, например сбой узла или аварийное обновление узла. По этой причине рекомендуется использовать набор реплик, даже если приложению требуется только один модуль.|
|**9.**|Кластер Kubernetes|Kubernetes на Azure Stack пограничной Pro поддерживается только в версии Helm V3 или более поздней. Дополнительные сведения см. в подразделах " [часто задаваемые вопросы": удаление ящика](https://v3.helm.sh/docs/faq/).|
|**штук.**|Azure Arc с поддержкой Kubernetes |Для общедоступного выпуска служба Arc Azure Kubernetes обновляется с версии 0.1.18 на 0.2.9. Так как обновление Kubernetes для Azure с поддержкой Arc не поддерживается на Azure Stack пограничном устройстве, вам потребуется повторно развернуть Kubernetes с поддержкой ARC.|Выполните следующие действия.<ol><li>[Применение программного обеспечения устройства и обновлений Kubernetes](azure-stack-edge-gpu-install-update.md).</li><li>Подключитесь к [интерфейсу PowerShell устройства](azure-stack-edge-gpu-connect-powershell-interface.md).</li><li>Удалите существующий агент Azure ARC. Введите `Remove-HcsKubernetesAzureArcAgent`.</li><li>Развертывание [дуги Azure в новом ресурсе](azure-stack-edge-gpu-deploy-arc-kubernetes-cluster.md). Не используйте существующий ресурс Azure ARC.</li></ol>|
|**стр.**|Azure Arc с поддержкой Kubernetes|Развертывания ARC в Azure не поддерживаются, если на устройстве Azure Stack пограничной Pro настроен веб-прокси.||
|**Двенадцать.**|Kubernetes |Порт 31000 зарезервирован для панели мониторинга Kubernetes. Аналогично, в конфигурации по умолчанию IP-адреса 172.28.0.1 и 172.28.0.10 зарезервированы для службы Kubernetes и основной службы DNS соответственно.|Не используйте зарезервированные IP-адреса.|
|**решением.**|Kubernetes |В настоящее время Kubernetes не поддерживает службы балансировки нагрузки с несколькими протоколами. Например, служба DNS должна прослушивать TCP и UDP. |Чтобы обойти это ограничение Kubernetes с Металлб, две службы (одна для TCP, одна для UDP) можно создать на одном селекторе Pod. Эти службы используют один и тот же ключ общего доступа и Spec. Лоадбаланцерип для совместного использования одного и того же IP-адреса. IP-адреса также могут быть общими, если у вас больше служб, чем доступные. <br> Дополнительные сведения см. в разделе [совместное использование IP-адресов](https://metallb.universe.tf/usage/#ip-address-sharing).|
|**открыт.**|Кластер Kubernetes|Существующие модули Azure IoT Edge Marketplace могут потребовать изменения для запуска на IoT Edge на Azure Stack пограничном устройстве.|Дополнительные сведения см. в статье изменение модулей Azure IoT Edge из Marketplace для запуска на Azure Stack пограничном устройстве.<!-- insert link-->|
|**15.**|Kubernetes |Подключения на основе файлов не поддерживаются для Azure IoT Edge в Kubernetes на Azure Stack пограничном устройстве.|IoT Edge использует слой перевода для преобразования `ContainerCreate` параметров в конструкции Kubernetes. Создание `Binds` карт для `hostpath` каталога и, таким же, привязка файловых привязок не может быть привязана к путям в контейнерах IOT Edge. Если возможно, сопоставьте родительский каталог.|
|**глубин.**|Kubernetes |Если вы используете собственные сертификаты для IoT Edge и добавляете их на Azure Stack пограничной устройстве после того, как на устройстве будет настроено вычисление, новые сертификаты не будут выбраны.|Чтобы обойти эту проблему, перед настройкой вычислений на устройстве следует передать сертификаты. Если среда выполнения вычислений уже настроена, [подключитесь к интерфейсу PowerShell устройства и выполните команды IOT Edge](azure-stack-edge-gpu-connect-powershell-interface.md#use-iotedge-commands). Перезагрузите и модули Pod `iotedged` `edgehub` .|
|**широкоэкранны.**|Сертификаты |В некоторых случаях обновление состояния сертификата в локальном пользовательском интерфейсе может занять несколько секунд. |Могут повлиять на следующие сценарии в локальном пользовательском интерфейсе.<ul><li>Столбец **Status (состояние** ) на странице **Сертификаты** .</li><li>Плитка " **Безопасность** " на странице " **Начало работы** ".</li><li>Плитка **настройки** на странице **обзора** .</li></ul>  |
|**широкоэкранны.**|IoT Edge |Модули, развернутые с помощью IoT Edge, не могут использовать сеть узла. | |
|**стр.**|Compute + Kubernetes |Compute/Kubernetes не поддерживает веб-прокси NTLM. ||
|**стр.**|Вычисление + веб-прокси + обновление |Если у вас есть вычисление, настроенное с помощью веб-прокси, то обновление вычислений может завершиться ошибкой. |Рекомендуется отключить вычисление перед обновлением. |

<!--|**18.**|Azure Private Edge Zone (Preview) |There is a known issue with Virtual Network Function VM if the VM was created on Azure Stack Edge device running earlier preview builds such as 2006/2007b and then the device was updated to 2009 GA release. The issue is that the VNF information can't be retrieved or any new VNFs can't be created unless the VNF VMs are deleted before the device is updated.  |Before you update Azure Stack Edge device to 2009 release, use the PowerShell command `get-mecvnf` followed by `remove-mecvnf <VNF guid>` to remove all Virtual Network Function VMs one at a time. After the upgrade, you will need to redeploy the same VNFs.|-->




## <a name="next-steps"></a>Дальнейшие действия

- [Подготовка к развертыванию Azure Stack пограничных устройств Pro с помощью GPU](azure-stack-edge-gpu-deploy-prep.md)