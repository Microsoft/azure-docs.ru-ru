---
title: Azure Stack управления расчетами для пограничных приложений | Документация Майкрософт
description: Описывает, как управлять параметрами вычислений ребра, такими как триггеры, модули, конфигурация вычислений представления, удалять конфигурацию с помощью портал Azure на Azure Stack крае Pro.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: how-to
ms.date: 01/06/2021
ms.author: alkohli
ms.openlocfilehash: ebf967fe02ab6424b9952bb0315b70fadb547fe3
ms.sourcegitcommit: 9514d24118135b6f753d8fc312f4b702a2957780
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "97967917"
---
# <a name="manage-compute-on-your-azure-stack-edge-pro"></a>Управление расчетами на Azure Stack пограничных Pro

В этой статье описывается, как управлять расчетами на Azure Stack пограничных Pro. Вы можете управлять вычислениями на портале Azure или с помощью локального пользовательского веб-интерфейса. Используйте портал Azure для управления модулями, триггерами и конфигурацией вычислений, а также локальный пользовательский веб-интерфейс для управления параметрами вычислений.

Вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * управление триггерами;
> * Управление конфигурацией пограничных вычислений


## <a name="manage-triggers"></a>управление триггерами;

События — это то, что происходит в облачной среде или на вашем устройстве и может требовать выполнения действий. Например, создание файла в общей папке является событием. Триггеры вызывают события. Для Azure Stack пограничных Pro триггеры могут быть в ответ на события файла или расписание.

- **Файл**. Эти триггеры выполняются в ответ на события файла, такие как создание файла и изменение файла.
- **Запланировано**: эти триггеры находятся в ответ на расписание, которое можно определить с помощью даты начала, времени начала и интервала повторения.


### <a name="add-a-trigger"></a>Добавление триггера

Чтобы создать триггер, выполните следующие действия на портале Azure.

1. В портал Azure перейдите к ресурсу Azure Stackного периметра и перейдите в раздел **IoT Edge > Triggers**. На панели команд выберите **+ Добавить триггер**.

    ![Выбор команды добавления триггера](media/azure-stack-edge-manage-compute/add-trigger-1.png)

2. В колонке **Добавить триггер** укажите уникальное имя для своего триггера.
    
    <!--Trigger names can only contain numbers, lowercase letters, and hyphens. The share name must be between 3 and 63 characters long and begin with a letter or a number. Each hyphen must be preceded and followed by a non-hyphen character.-->

3. Выберите **Тип** для триггера. Выберите **Файл**, если триггер отвечает на событие файла. Выберите **Запланировано**, если хотите, чтобы триггер запускался в определенное время и срабатывал с заданным интервалом повторения. В зависимости от вашего выбора представлен другой набор параметров.

    - **Триггер файлов**. Выберите подключенную общую папку из раскрывающегося списка. Когда в этой общей папке запускается файловое событие, триггер вызывает функцию Azure.

        ![Добавление общей папки SMB](media/azure-stack-edge-manage-compute/add-file-trigger.png)

    - **Запланированный триггер**. Укажите дату или время начала и интервал повторения в часах, минутах или секундах. Также введите имя темы. Тема обеспечит гибкость для направления триггера на модуль, развернутый на устройстве.

        Пример строки маршрута: `"route3": "FROM /* WHERE topic = 'topicname' INTO BrokeredEndpoint("modules/modulename/inputs/input1")"`.

        ![Добавление общей папки типа NFS](media/azure-stack-edge-manage-compute/add-scheduled-trigger.png)

4. Чтобы создать триггер, выберите **Добавить**. Уведомление показывает, что триггер создается. После создания триггера колонка обновляется, чтобы отобразить новый триггер.
 
    ![Список обновленных триггеров](media/azure-stack-edge-manage-compute/add-trigger-2.png)

### <a name="delete-a-trigger"></a>Удаление триггера

Чтобы удалить триггер, выполните следующие действия на портале Azure.

1. В списке триггеров выберите тот, который нужно удалить.

    ![Выбор триггера](media/azure-stack-edge-manage-compute/delete-trigger-1.png)

2. Щелкните правой кнопкой мыши и выберите команду **Удалить**.

    ![Выбор команды удаления](media/azure-stack-edge-manage-compute/delete-trigger-2.png)

3. При запросе подтверждения нажмите кнопку **Да**.

    ![Подтверждение удаления](media/azure-stack-edge-manage-compute/delete-trigger-3.png)

Список триггеров также будет обновлен с учетом удаления.

## <a name="manage-compute-configuration"></a>Управление конфигурацией пограничных вычислений

Используйте портал Azure для просмотра конфигурации вычислений, удаления существующей конфигурации вычислений или обновления конфигурации вычислений для синхронизации ключей доступа для устройства IoT и IoT Edge устройства для Azure Stack пограничной Pro.

### <a name="view-compute-configuration"></a>Просмотр конфигурации пограничных вычислений

Чтобы просмотреть конфигурацию вычислений для вашего устройства, выполните следующие действия на портале Azure.

1. В портал Azure перейдите к ресурсу Azure Stackного периметра и перейдите в раздел **IoT Edge > обзор**. 

    ![Выбор команды для просмотра вычисления](media/azure-stack-edge-manage-compute/view-compute-1.png)

2. Перейдите на страницу **свойств** . Запишите настройки вычислений на своем устройстве. После настройки вычисления вы создали ресурс Центра Интернета вещей. В этом ресурсе настраиваются устройства IoT и IoT Edge. На устройстве IoT Edge поддерживается запуск модулей Linux.

    ![Просмотр конфигурации](media/azure-stack-edge-manage-compute/view-compute-2.png)


### <a name="remove-compute-configuration"></a>Удаление конфигурации пограничных вычислений

Чтобы удалить существующую конфигурацию пограничных вычислений для вашего устройства, выполните следующие действия на портале Azure.

1. В портал Azure перейдите к ресурсу Azure Stackного периметра и перейдите в раздел **IoT Edge > обзор**. На панели команд выберите **Удалить** .

    ![Выбор команды удаления вычислений](media/azure-stack-edge-manage-compute/remove-compute-1.png)

2. Если вы удалите конфигурацию вычислений, вам потребуется перенастроить устройство на случай, если понадобится снова использовать вычисления. При появлении запроса на подтверждение нажмите кнопку **Да**.

    ![Выберите удалить вычисление 2](media/azure-stack-edge-manage-compute/remove-compute-2.png)

### <a name="sync-up-iot-device-and-iot-edge-device-access-keys"></a>Синхронизация ключей доступа для устройств IoT и IoT Edge

При настройке вычислений на Azure Stack пограничной Pro создаются устройство IoT и устройство IoT Edge. Этим устройствам автоматически назначаются симметричные ключи доступа. В целях обеспечения безопасности эти ключи регулярно меняются службой Центра Интернета вещей.

Чтобы повернуть эти ключи, вы можете перейти в созданную вами службу Центра Интернета вещей и выбрать устройство IoT или IoT Edge. Каждое устройство имеет первичный и вторичный ключ доступа. Назначьте первичный ключ доступа вторичному, а затем повторно создайте первичный ключ доступа.

Если устройство Интернета вещей и ключи устройств IoT Edge были повернуты, необходимо обновить конфигурацию на Azure Stack крае Pro, чтобы получить последние ключи доступа. Путем выполнения синхронизации можно получить последние ключи для устройств IoT и IoT Edge. Azure Stack пограничной Pro использует только первичные ключи доступа.

Выполните следующие действия на портале Azure, чтобы синхронизировать ключи доступа для вашего устройства.

1. В портал Azure перейдите к ресурсу Azure Stackного периметра и перейдите в раздел **IoT Edge > обзор**. Выберите **Обновление конфигурации** на панели команд.

    ![Выберите команды обновления конфигураций](media/azure-stack-edge-manage-compute/refresh-configuration-1.png)

2. Выберите **Да** при запросе на подтверждение.

     ![Подтверждение запроса](media/azure-stack-edge-manage-compute/refresh-configuration-2.png)

3. После синхронизации закройте диалоговое окно.

## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [управлять пограничными сетями вычислений с помощью портал Azure](azure-stack-edge-extend-compute-access-modules.md).
