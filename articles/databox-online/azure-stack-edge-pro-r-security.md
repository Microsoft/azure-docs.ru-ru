---
title: Azure Stack пограничной Pro R Security | Документация Майкрософт
description: В этой статье описываются функции безопасности и конфиденциальности, защищающие Azure Stack пограничных устройств, служб и данных мини-R, службы, а также данные в облаке с помощью Microsoft IT Pro R и Azure Stack.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: article
ms.date: 10/14/2020
ms.author: alkohli
ms.openlocfilehash: 891885dce52ee57fa163bb71b427591156091651
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100362870"
---
# <a name="security-and-data-protection-for-azure-stack-edge-pro-r-and-azure-stack-edge-mini-r"></a>Безопасность и защита данных для Azure Stack пограничных Pro R и Azure Stack ребра Mini R

[!INCLUDE [applies-to-pro-r-and-mini-r--skus](../../includes/azure-stack-edge-applies-to-pro-r-mini-r-sku.md)]

Безопасность — это серьезная проблема при внедрении новой технологии, особенно если технология используется с конфиденциальными или собственными данными. Azure Stack пограничных Pro R и Azure Stack пограничных Мини-R позволяют гарантировать, что только разрешенные сущности могут просматривать, изменять или удалять данные.

В этой статье описываются функции безопасности, посвященные Azure Stack пограничных Pro R и Azure Stack, которые защищают каждый из компонентов решения и хранящихся в них данных.

Решение состоит из четырех основных компонентов, взаимодействующих друг с другом:

- **Служба пограничной службы Azure Stack, размещенная в общедоступном облаке Azure или в Azure для государственных организаций**. Ресурс управления, используемый для создания порядка устройств, настройки устройства, а затем отследить порядок до завершения.
- **Azure Stack пограничное устройство rugged**. Rugged, физическое устройство, которое вы передаете, чтобы импортировать локальные данные в общедоступное облако Azure или Azure для государственных организаций. Устройство может быть Azure Stack пограничным Pro R или Azure Stack пограничном мини-R.
- **Клиенты и узлы, подключенные к устройству**. Клиенты в инфраструктуре, которые подключаются к устройству и содержат данные, требующие защиты.
- **Облачное хранилище**. Расположение на облачной платформе Azure, в которой хранятся данные. Это обычно учетная запись хранения, связанная с созданным ресурсом Azure Stack ребра.

## <a name="service-protection"></a>Защита служб

Служба Azure Stack ребра — это служба управления, размещенная в Azure. Служба используется для настройки устройства и управления им.

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-service-protection.md)]

## <a name="device-protection"></a>Защита устройств

Устройство rugged — это локальное устройство, которое помогает преобразовать данные, обрабатывая их локально и отправив в Azure. Устройство:

- Требуется ключ активации для доступа к службе Azure Stack ребра.
- В любое время защищается паролем устройства.
- — Это заблокированное устройство. Контроллер управления основной платой устройств (BMC) и BIOS защищены паролем. Контроллер BMC защищен ограниченным доступом пользователей.
- Включена безопасная загрузка, которая гарантирует, что устройство загружается только с помощью доверенного программного обеспечения, предоставляемого корпорацией Майкрософт.
- Выполняет Управление приложениями в Защитнике Windows (WDAC). WDAC позволяет запускать только доверенные приложения, определенные в политиках целостности кода.
- Имеет доверенный платформенный модуль (TPM) (доверенный платформенный модуль), который выполняет функции, связанные с обеспечением безопасности на оборудовании. В частности, доверенный платформенный модуль управляет и защищает секреты и данные, которые необходимо сохранить на устройстве.
- На устройстве открываются только необходимые порты, и все остальные порты блокируются. Дополнительные сведения см. в списке [требований к портам для устройства](azure-stack-edge-pro-r-system-requirements.md) .
- В журнал записываются все доступ к оборудованию устройства и программному обеспечению. 
    - Для программного обеспечения устройства журналы брандмауэра по умолчанию собираются для входящего и исходящего трафика с устройства. Эти журналы объединены в пакет поддержки.
    - Для оборудования устройства все события корпуса устройств, такие как открытие и закрытие корпуса устройств, регистрируются на устройстве.

    Дополнительные сведения о журналах, содержащих события обнаружения оборудования и программного обеспечения, а также о том, как [получить журналы, см. в](azure-stack-edge-gpu-troubleshoot.md)этой странице.


### <a name="protect-the-device-via-activation-key"></a>Защита устройства с помощью ключа активации

Для подключения к службе Azure Stack пограничной Организации, созданной в подписке Azure, разрешено только разрешение на мини-устройство Azure Stack пограничной версии R или Azure Stack ребра. Для авторизации устройства необходимо использовать ключ активации, чтобы активировать устройство с помощью службы Azure Stack ребра.

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-activation-key.md)]

Дополнительные сведения см. в разделе [Получение ключа активации](azure-stack-edge-pro-r-deploy-prep.md#get-the-activation-key).

### <a name="protect-the-device-via-password"></a>Защита устройства с помощью пароля

Пароли гарантируют, что только полномочные пользователи могут получить доступ к вашим данным. Azure Stack на устройствах с пограничным Pro R загружаются в заблокированном состоянии.

Вы можете:

- Подключитесь к локальному веб-ИНТЕРФЕЙСу устройства через браузер, а затем укажите пароль для входа на устройство.
- Удаленное подключение к интерфейсу PowerShell устройства через HTTP. Удаленное управление включено по умолчанию. Удаленное управление также настраивается для использования достаточного администрирования (JEA) для ограничения возможностей, которые могут выполнять пользователи. Затем можно указать пароль устройства для входа на устройство. Дополнительные сведения см. [в статье удаленное подключение к устройству](azure-stack-edge-gpu-connect-powershell-interface.md).
- Пользователь с правами локального периметра на устройстве имеет ограниченный доступ к устройству для начальной настройки и устранения неполадок. Доступ к вычисленным рабочим нагрузкам, выполняемым на устройстве, к переносу данных и к хранилищу, можно получить из общедоступного или общего портала Azure для ресурса в облаке.

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-password-best-practices.md)]
- Используйте локальный веб-интерфейс для [изменения пароля](azure-stack-edge-gpu-manage-access-power-connectivity-mode.md#change-device-password). Если вы измените пароль, не забудьте уведомить всех пользователей удаленного доступа, чтобы у них не было проблем при входе в систему.

### <a name="establish-trust-with-the-device-via-certificates"></a>Установка отношений доверия с устройством с помощью сертификатов

Azure Stack пограничной rugged устройство позволяет использовать собственные сертификаты и устанавливать их для всех общедоступных конечных точек. Дополнительные сведения см. в подразделе [отправка сертификата](azure-stack-edge-j-series-manage-certificates.md#upload-certificates). Чтобы получить список всех сертификатов, которые можно установить на устройстве, перейдите на страницу [Управление сертификатами на устройстве](azure-stack-edge-j-series-manage-certificates.md).

- При настройке вычислений на устройстве создаются устройство IoT и устройство IoT Edge. Этим устройствам автоматически назначаются симметричные ключи доступа. В целях обеспечения безопасности эти ключи регулярно меняются службой Центра Интернета вещей.

## <a name="protect-your-data"></a>Защита своих данных

В этом разделе описываются функции безопасности, защищающие транзитные и хранимые данные.

### <a name="protect-data-at-rest"></a>Защита хранящихся данных

Все данные, находящихся на устройстве, являются двойным шифрованием, доступ к данным контролируется и после деактивации устройства данные безопасно удаляются с дисков данных.

#### <a name="double-encryption-of-data"></a>Двойное шифрование данных

Данные на дисках защищаются двумя уровнями шифрования:

- Первый уровень шифрования — это шифрование BitLocker XTS-AES 256-bit на томах данных.
- Второй уровень — это жесткие диски с встроенным шифрованием.
- Том ОС имеет BitLocker в качестве единого уровня шифрования.

> [!NOTE]
> На диске ОС имеется один уровень шифрования программного обеспечения BitLocker XTS-AES-256.

Когда устройство будет активировано, вам будет предложено сохранить файл ключа, содержащий ключи восстановления, которые помогают восстановить данные на устройстве, если устройство не загружается. В файле есть два ключа:

- Один ключ восстанавливает конфигурацию устройства на томах операционной системы.
<!-- - Second key is to unlock the BitLocker on the data disks. -->
- Второй ключ разблокирует шифрование оборудования на дисках данных.

> [!IMPORTANT]
> Сохраните файл ключа в безопасном месте за пределами самого устройства. Если устройство не загружается и у вас нет ключа, это может привести к потере данных.

- В некоторых сценариях восстановления будет предложено сохранить файл ключа, который вы сохранили. 
<!--- If a node isn't booting up, you will need to perform a node replacement. You will have the option to swap the data disks from the failed node to the new node. For a 4-node device, you won't need a key file. For a 1-node device, you will be prompted to provide a key file.-->

#### <a name="restricted-access-to-data"></a>Ограниченный доступ к данным

Доступ к данным, хранящимся в общих папках и учетных записях хранения, ограничен.

- Клиентам SMB, обращающимся к данным общего доступа, требуются учетные данные пользователя, связанные с общей папкой. Эти учетные данные определяются при создании общей папки.
- При создании общей папки клиенты NFS, которые обращаются к общей папке, должны явно добавить свой IP-адрес.
- Пограничные учетные записи хранения, созданные на устройстве, являются локальными и защищаются с помощью шифрования на дисках данных. Учетные записи хранения Azure, с которыми сопоставлены эти пограничные учетные записи хранения, защищаются подпиской и 2 512-разрядными ключами доступа к хранилищу, связанным с пограничными учетными записями хранения (эти ключи отличаются от ключей, связанных с учетными данными хранения Azure) Дополнительные сведения см. [в статье Защита данных в учетных записях хранения](#protect-data-in-storage-accounts).
- Шифрование BitLocker XTS-AES 256-bit используется для защиты локальных данных.

#### <a name="secure-data-erasure"></a>Защита данных очистки

Когда устройство становится жестким сбросом, на нем выполняется безопасная очистка. При безопасной очистке данные очистки на дисках с помощью программы NIST SP 800-88r1.

### <a name="protect-data-in-flight"></a>Защита данных в полете

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-data-flight.md)]

### <a name="protect-data-in-storage-accounts"></a>Защита данных в учетных записях хранения

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-protect-data-storage-accounts.md)]

- Регулярно вращайте и [синхронизируйте ключи учетной записи хранения](azure-stack-edge-j-series-manage-storage-accounts.md) , чтобы защитить учетную запись хранения от неавторизованных пользователей.

## <a name="manage-personal-information"></a>Управление личными сведениями

Служба Azure Stack ребра собирает персональные данные в следующих сценариях:

[!INCLUDE [azure-stack-edge-gateway-data-rest](../../includes/azure-stack-edge-gateway-manage-personal-data.md)]

Чтобы просмотреть список пользователей, которые могут получить доступ к общей папке или удалить ее, выполните действия, описанные в разделе [Управление общими папками на Azure Stack пограничных](azure-stack-edge-j-series-manage-shares.md)устройствах.

Для получения дополнительных сведений ознакомьтесь с политикой конфиденциальности Майкрософт в [центре управления безопасностью](https://www.microsoft.com/trustcenter).

## <a name="next-steps"></a>Следующие шаги

[Развертывание устройства R Azure Stack ребра](azure-stack-edge-gpu-deploy-prep.md)
