---
title: Перенос кластера в более новую версию
titleSuffix: Azure HDInsight
description: Ознакомьтесь с рекомендациями по переносу кластера Azure HDInsight в более новую версию.
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: how-to
ms.custom: hdinsightactive
ms.date: 01/31/2020
ms.openlocfilehash: 04da5d668515fe96d50d4e6a7d0f5ff1c4c48c27
ms.sourcegitcommit: 2f9f306fa5224595fa5f8ec6af498a0df4de08a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2021
ms.locfileid: "98931377"
---
# <a name="migrate-hdinsight-cluster-to-a-newer-version"></a>Перенос кластера HDInsight в более новую версию

Чтобы воспользоваться новейшими функциями HDInsight, мы рекомендуем регулярно выполнять миграцию кластеров HDInsight в последнюю версию. HDInsight не поддерживает обновления на месте, когда существующий кластер обновляется до более новой версии компонента. Необходимо создать новый кластер с нужным компонентом и версией платформы, а затем перенести приложения для использования нового кластера. Чтобы перенести версии кластера HDInsight, следуйте приведенным ниже рекомендациям.

> [!NOTE]  
> См. дополнительные сведения о [поддерживаемых версиях компонентов HDInsight](hdinsight-component-versioning.md#supported-hdinsight-versions).

## <a name="migration-tasks"></a>Задачи миграции

Рабочий процесс для обновления кластера HDInsight выглядит так.
![Схема рабочего процесса обновления HDInsight](./media/hdinsight-upgrade-cluster/upgrade-workflow-diagram.png)

1. Ознакомьтесь со всеми разделами этого документа. Там описаны изменения, которые могут потребоваться при обновлении кластера HDInsight.
2. Создайте кластер как среду тестирования и контроля качества. См. дополнительные сведения о [создании кластеров под управлением Linux в HDInsight](hdinsight-hadoop-provision-linux-clusters.md).
3. Скопируйте в новую среду существующие задания, источники данных и приемники.
4. Выполните проверочное тестирование, чтобы убедиться, что задания должным образом работают новом кластере.

Убедившись, что все работает правильно, запланируйте время простоя для миграции. Во время этого простоя выполните следующие действия.

1. Создайте резервную копию всех временных данных, хранящихся локально на узлах кластера. Например, к ним могут относиться данные, которые хранятся непосредственно на головном узле.
1. [Удалите существующий кластер](./hdinsight-delete-cluster.md).
1. Создайте кластер в той же подсети виртуальной сети, в которой находится последняя (или поддерживаемая) версия HDI, используя то же хранилище данных по умолчанию, что и для предыдущего кластера. Это позволит новому кластеру продолжить работу с существующими рабочими данными.
1. Импортируйте все временные данные из резервной копии.
1. Запустите задания и продолжите обработку с помощью нового кластера.

## <a name="workload-specific-guidance"></a>Руководство по конкретной рабочей нагрузке

Следующие документы содержат рекомендации по переносу конкретных рабочих нагрузок.

* [Перенос HBase](./hbase/apache-hbase-migrate-new-version.md)
* [Миграция Kafka](./kafka/migrate-versions.md)
* [Миграция Hive или интерактивного запроса](./interactive-query/apache-hive-migrate-workloads.md)

## <a name="backup-and-restore"></a>Резервное копирование и восстановление

Дополнительные сведения о резервном копировании и восстановлении базы данных см. в статье [Восстановление базы данных в базе данных SQL Azure с помощью автоматических резервных копий базы данных](../azure-sql/database/recovery-using-backups.md).

## <a name="next-steps"></a>Дальнейшие действия

* [Узнайте, как создавать кластеры HDInsight под управлением Linux](hdinsight-hadoop-provision-linux-clusters.md)
* [Подключитесь к HDInsight с помощью протокола SSH](hdinsight-hadoop-linux-use-ssh-unix.md).
* [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md) (для кластера Linux)
* [Заметки о выпуске HDInsight](./hdinsight-version-release.md)
