---
title: Заметки о выпуске Azure HDInsight
description: Последние заметки о выпуске Azure HDInsight. Ознакомьтесь с советами по разработке и подробными сведениями о Hadoop, Spark, R Server, Hive и т. д.
ms.custom: hdinsightactive
ms.service: hdinsight
ms.topic: conceptual
ms.date: 11/12/2020
ms.openlocfilehash: 76bf9376d3eb33153584f74c9d0d9196706428ae
ms.sourcegitcommit: 2f9f306fa5224595fa5f8ec6af498a0df4de08a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2021
ms.locfileid: "98932095"
---
# <a name="azure-hdinsight-release-notes"></a>Заметки о выпуске Azure HDInsight

Эта статья содержит сведения о **последних** обновлениях выпуска Azure HDInsight. Дополнительные сведения о предыдущих выпусках см. в статье [Заметки о выпуске для компонентов Hadoop в Azure HDInsight (архив)](hdinsight-release-notes-archive.md).

## <a name="summary"></a>Сводка

Azure HDInsight является одной из самых популярных среди корпоративных клиентов служб для аналитики с открытым кодом в Azure.

Если вы хотите подписываться на заметки о выпуске, просмотрите выпуски в [этом репозитории GitHub](https://github.com/hdinsight/release-notes/releases).

## <a name="release-date-11182020"></a>Дата выпуска: 11/18/2020

Этот выпуск относится как к HDInsight 3,6, так и к HDInsight 4,0. Выпуск HDInsight предоставляется для разных регионов на протяжении нескольких дней. Указанная здесь дата выпуска обозначает дату выпуска для первого из регионов. Если вы не видите приведенных ниже изменений, дождитесь выхода выпуска в вашем регионе в течение нескольких дней.

## <a name="new-features"></a>новые функции;
### <a name="auto-key-rotation-for-customer-managed-key-encryption-at-rest"></a>Автоматическое вращение ключей для шифрования неактивных ключей клиента
Начиная с этого выпуска, клиенты могут использовать URL-адреса ключей шифрования без версии Azure Кэйвалут для шифрования неактивных ключей клиентов. HDInsight автоматически поворачивает ключи по мере их истечения или заменяет их новыми версиями. Дополнительные сведения см. [здесь](./disk-encryption.md).

### <a name="ability-to-select-different-zookeeper-virtual-machine-sizes-for-spark-hadoop-and-ml-services"></a>Возможность выбора различных размеров виртуальных машин Zookeeper для служб Spark, Hadoop и ML
Ранее HDInsight не поддерживала настройку размера узла Zookeeper для типов кластера Spark, Hadoop и ML. По умолчанию используется A2_v2 размеров виртуальных машин/a2, которые предоставляются бесплатно. В этом выпуске можно выбрать размер виртуальной машины Zookeeper, наиболее подходящий для вашего сценария. Zookeeper узлам с размером виртуальной машины, отличным от A2_v2/a2, будет начисляться счет. Виртуальные машины A2_v2 и a2 по-прежнему предоставляются бесплатно.

### <a name="moving-to-azure-virtual-machine-scale-sets"></a>Переход на масштабируемые наборы виртуальных машин Azure
Сейчас HDInsight использует для подготовки кластера виртуальные машины Azure. Начиная с этого выпуска, служба постепенно переносится в [масштабируемые наборы виртуальных машин Azure](../virtual-machine-scale-sets/overview.md). Весь процесс может занять несколько месяцев. После переноса регионов и подписок вновь созданные кластеры HDInsight будут работать в масштабируемых наборах виртуальных машин без действий клиента. Критические изменения не требуются.

## <a name="deprecation"></a>Устаревшее
### <a name="deprecation-of-hdinsight-36-ml-services-cluster"></a>Прекращение использования кластера служб ML в HDInsight 3,6
Тип кластера служб ML HDInsight 3,6 будет иметь окончание поддержки до декабря 31 2020. Клиенты не смогут создавать новые кластеры служб ML 3,6 после декабря 31 2020. Существующие кластеры будут продолжать работу без изменений, но без поддержки со стороны корпорации Майкрософт. Проверьте срок действия поддержки для версий HDInsight и типов кластеров [здесь](./hdinsight-component-versioning.md#available-versions).

### <a name="disabled-vm-sizes"></a>Размеры отключенных виртуальных машин
Начиная с ноября 16 2020, HDInsight будет блокировать новые клиенты, создавая кластеры с помощью standand_A8, standand_A9, standand_A10 и standand_A11 размеров виртуальных машин. Существующие клиенты, которые использовали эти размеры виртуальных машин за последние три месяца, не будут затронуты. Начиная с 9 2021 января HDInsight все клиенты будут блокировать создание кластеров с помощью standand_A8, standand_A9, standand_A10 и standand_A11 размеров виртуальных машин. Существующие кластеры будут работать, как есть. Рассмотрите возможность перехода на HDInsight 4,0, чтобы избежать потенциальных прерываний системы и поддержки.

## <a name="behavior-changes"></a>Изменения в поведении
### <a name="add-nsg-rule-checking-before-scaling-operation"></a>Добавить проверку правил NSG до операции масштабирования
В HDInsight добавлена проверка групп безопасности сети (группы безопасности сети) и определяемых пользователем маршрутов (определяемые пользователем маршруты) с операцией масштабирования. Такая же проверка выполняется для масштабирования кластера, помимо создания кластера. Эта проверка помогает предотвратить непредсказуемые ошибки. Если проверка не пройдена, масштабирование завершается сбоем. Дополнительные сведения о том, как правильно настроить группы безопасности сети и определяемые пользователем маршруты, см. в разделе [IP-адреса управления HDInsight](./hdinsight-management-ip-addresses.md).

## <a name="upcoming-changes"></a>Предстоящие изменения
В предстоящих выпусках будут внесены описанные ниже изменения.

### <a name="default-cluster-vm-size-will-be-changed-to-ev3-family"></a>Размер виртуальной машины кластера по умолчанию будет изменен на Ev3 Family
Начиная с следующего выпуска (около конца января), размеры виртуальных машин кластера по умолчанию будут изменены с семейства D на семейство Ev3. Это изменение относится к головным узлам и рабочим узлам. Чтобы избежать этого изменения, укажите размеры виртуальных машин, которые нужно использовать в шаблоне ARM.

### <a name="default-cluster-version-will-be-changed-to-40"></a>Версия кластера по умолчанию будет изменена на 4,0
Начиная с 2021 февраля, версия кластера HDInsight по умолчанию будет изменена с 3,6 на 4,0. Дополнительные сведения о доступных версиях см. в разделе [Доступные версии](./hdinsight-component-versioning.md#available-versions). Дополнительные сведения о новых возможностях в [HDInsight 4,0](./hdinsight-version-release.md)

### <a name="os-version-upgrade"></a>Обновление версии ОС
HDInsight обновляет версию ОС с 16,04 до 18,04. Обновление будет выполнено до апреля, 2021.

### <a name="hdinsight-36-end-of-support-on-june-30-2021"></a>Окончание поддержки HDInsight 3,6 в июне 30 2021
HDInsight 3,6 будет иметь окончание поддержки. Начиная с 30 2021 июня клиенты не могут создавать кластеры HDInsight 3,6. Существующие кластеры будут продолжать работу без изменений, но без поддержки со стороны корпорации Майкрософт. Рассмотрите возможность перехода на HDInsight 4,0, чтобы избежать потенциальных прерываний системы и поддержки.

## <a name="bug-fixes"></a>Исправления ошибок
HDInsight постоянно повышает надежность и производительность кластеров. 

## <a name="component-version-change"></a>Изменение версий компонентов
В этом выпуска не вносилось изменений в версии компонентов. Текущие версии компонентов для HDInsight 4,0 и HDInsight 3,6 можно найти в [этом документе](./hdinsight-component-versioning.md).

## <a name="known-issues"></a>Известные проблемы
### <a name="prevent-hdinsight-cluster-vms-from-rebooting-periodically"></a>Предотвращение периодической перезагрузки виртуальных машин кластера HDInsight

Начиная с середины ноября 2020, вы могли заметить, что виртуальные машины кластера HDInsight перезапускаются на регулярной основе. Это может быть вызвано следующими причинами.

1.  Кламав включен в кластере. Новый пакет азсек-кламав потребляет большой объем памяти, который активирует перезагрузку узла. 
2.  Задание CRON запланировано ежедневно, которое отслеживает изменения в списке центров сертификации (ЦС), используемых службами Azure. Если новый сертификат ЦС доступен, сценарий добавляет сертификат в хранилище доверия JDK и планирует перезагрузку.

HDInsight — это развертывание исправлений и применение исправлений для всех работающих кластеров для обеих проблем. Чтобы немедленно применить исправление и избежать непредвиденной перезагрузки виртуальных машин, можно выполнить следующие действия сценария на всех узлах кластера в качестве постоянного действия сценария. HDInsight будет публиковать еще одно уведомление после завершения исправления и исправления.
```
https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv02/replace_cacert_script.sh
https://healingscriptssa.blob.core.windows.net/healingscripts/ChangeOOMPolicyAndApplyLatestConfigForClamav.sh
```