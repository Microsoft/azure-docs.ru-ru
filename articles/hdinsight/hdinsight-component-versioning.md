---
title: Компоненты и версии Apache Hadoop в Azure HDInsight
description: Узнайте о компонентах и версиях Apache Hadoop в Azure HDInsight.
ms.service: hdinsight
ms.topic: conceptual
ms.custom: hdinsightactive,hdiseo17may2017,seoapr2020
ms.date: 08/13/2020
ms.openlocfilehash: 07db57ee36d39454e8a247be11dac4a9c51af3af
ms.sourcegitcommit: 2f9f306fa5224595fa5f8ec6af498a0df4de08a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2021
ms.locfileid: "98946103"
---
# <a name="apache-components-and-versions-available-for-azure-hdinsight"></a>Компоненты и версии Apache, доступные в Azure HDInsight

Из этой статьи вы узнаете, какие компоненты и версии экосистемы [Apache Hadoop](https://hadoop.apache.org/) доступны в Azure HDInsight и Корпоративном пакете безопасности. Кроме того, вы научитесь проверять версии компонентов Hadoop в HDInsight.

## <a name="apache-components-available-with-different-hdinsight-versions"></a>Компоненты Apache, доступные в разных версиях HDInsight

Azure HDInsight поддерживает несколько версий кластера Hadoop, которые могут быть развернуты в любое время. Начиная с 4 апреля 2017 г. для Azure HDInsight по умолчанию используется версия кластера 3.6.

Версии компонентов, связанные с версиями кластера HDInsight, приведены в указанной ниже таблице.

> [!NOTE]
> Версия по умолчанию службы HDInsight может измениться без предварительного уведомления. Если используется зависимость версии, укажите версию HDInsight при создании кластеров с использованием пакета SDK для .NET, Azure PowerShell и классической версии Azure CLI.

| Компонент              | HDInsight 4.0 | HDInsight 3.6 (по умолчанию)     |
|------------------------|---------------|-----------------------------|
| Apache Hadoop и YARN | 3.1.1         | 2.7.3                       |
| Apache Tez             | 0.9.1         | 0.7.0                       |
| Apache Pig             | 0.16.1        | 0.16.0                      |
| Apache Hive            | 3.1.0         | 1.2.1 (или 2.1.0 для ESP Interactive Query) |
| Apache Tez Hive2       | -             | 0.8.4                       |
| Apache Ranger          | 1.1.0         | 0.7.0                       |
| Apache HBase           | 2.1.6         | 1.1.2                       |
| Apache Sqoop           | 1.4.7         | 1.4.6                       |
| Apache Oozie           | 4.3.1         | 4.2.0                       |
| Apache Zookeeper       | 3.4.6         | 3.4.6                       |
| Apache Storm           | -             | 1.1.0                       |
| Apache Mahout          | -             | 0.9.0+                      |
| Apache Phoenix         | 5             | 4.7.0                       |
| Apache Spark           | 2.4.4         | 2.3.2.                      |
| Apache Livy            | 0,5           | 0,4.                        |
| Apache Kafka           | 2.1.1         | 1,1                         |
| Apache Ambari          | 2.7.0         | 2.6.0                       |
| Apache Zeppelin        | 0.8.0         | 0.7.3                       |
| Mono                   | 4.2.1         | 4.2.1                       |

> [!NOTE]
> HDInsight 4.0: полностью поддерживаются Spark 2.4 и Kafka 2.1. Однако типы кластеров Spark 2,3 и Kafka 1,1 не обслуживаются. HDInsight 3.6: полностью поддерживаются Spark 2.3 и Kafka 1.1.  

## <a name="check-for-current-apache-component-version-information"></a>Проверка сведений о текущей версии компонентов Apache

Версии компонентов среды Hadoop, связанные с версиями кластера HDInsight, могут изменяться при обновлении HDInsight. Чтобы проверить компоненты Hadoop и версии, которые должны использоваться для кластера, используйте Ambari REST API. Для извлечения сведений о компонентах службы можно воспользоваться командой **GetComponentInformation**. Дополнительные сведения см. в [документации по Apache Ambari](https://github.com/apache/ambari/blob/trunk/ambari-server/docs/api/v1/index.md).

### <a name="release-notes"></a>Заметки о выпуске

Дополнительные заметки о выпусках последних версий HDInsight см. [здесь](hdinsight-release-notes.md).

## <a name="supported-hdinsight-versions"></a>Поддерживаемые версии HDInsight

### <a name="support-expiration-and-retirement-for-hdinsight-versions"></a>Прекращение поддержки и использования версий HDInsight

**Прекращение поддержки** означает, что корпорация Майкрософт больше не будет предоставлять поддержку для конкретной версии HDInsight. Эта версия больше не будет предоставляться на портале Azure для создания кластера. Но такие версии можно по-прежнему использовать при работе с Azure CLI или пакетами SDK.

**Прекращение использования** означает, что существующие кластеры с этой версией HDInsight продолжат работу обычным образом. Новые кластеры с такой версией создать будет нельзя, в том числе с помощью CLI и пакетов SDK. Другие возможности плоскости управления, например ручное масштабирование и автомасштабирование, могут не работать после прекращения использования версии. Поддержка версий, использование которых прекращено, также не осуществляется.

В приведенных ниже таблицах перечислены версии HDInsight. Даты прекращения поддержки и прекращения использования сообщаются, как только они становятся известны.

### <a name="available-versions"></a>Доступные версии

В этой таблице перечислены версии HDInsight, доступные на портале Azure и через другие методы развертывания, например PowerShell и пакет SDK для .NET.

| Версия HDInsight | ОС виртуальной машины | Дата выпуска | Дата прекращения поддержки | Дата вывода | Высокий уровень доступности |  Доступность на портале Azure |
| --- | --- | --- | --- | --- | --- | --- |
| HDInsight 4.0 |Ubuntu 16.0.4 LTS |24 сентября 2018 г. | | |Да |Да |
| HDInsight 3.6 |Ubuntu 16.0.4 LTS |4 апреля 2017 г.      | * 30 июня 2021 г. |30 июня 2021 г. |Да |Да |

* Мы расширяем период поддержки для определенных типов кластеров HDInsight 3,6

| Тип кластера                    | Версия платформы | Текущая срок действия поддержки        | Срок действия новой поддержки |
|---------------------------------|-------------------|-----------------------------------|-----------------------------|
| HDInsight 3,6 Hadoop            | 2.7.3             | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| HDInsight 3,6 Spark             | 2.3               | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| HDInsight 3,6 Spark             | 2.2               | Прекращено 30 июня 2020 г.          |                             |
| HDInsight 3,6 Spark             | 2.1               | Прекращено 30 июня 2020 г.          |                             |
| HDInsight 3,6 Kafka             | 1,1               | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| HDInsight 3,6 Kafka             | 1.0               | Прекращено 30 июня 2020 г.         |                             |
| HDInsight 3,6 HBase             | 1,1               | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| Интерактивный запрос HDInsight 3,6 | 2.1               | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| HDInsight 3,6             | 1,1               | 31 декабря 2020 г.                      | 30 июня 2021 г.               |
| Службы машинного обучения HDInsight 3,6      | 9.3               | 31 декабря 2020 г.                      | 31 декабря 2020 г.                |

> [!NOTE]
> После истечения срока поддержки версии кластера она может быть недоступна через портал Azure. В некоторых случаях версии кластера по-прежнему доступны с помощью параметра **Version** в команде Windows PowerShell [New-аздинсигхтклустер](/powershell/module/az.hdinsight/new-azhdinsightcluster) и пакета SDK для .NET до даты выхода версии.

### <a name="retired-versions"></a>Устаревшие версии

В этой таблице перечислены версии HDInsight, которые уже не доступны на портале Azure.

| Версия HDInsight | Версия HDP | ОС виртуальной машины | Дата выпуска | Дата прекращения поддержки | Дата вывода | Высокий уровень доступности |  Доступность на портале Azure |
| --- | --- | --- | --- | --- | --- | --- | --- |
| HDInsight 3.5 |HDP 2.5 |Ubuntu 16.0.4 LTS |30 сентября 2016 г. |5 сентября 2017 г. |28 июня 2018 года |Да |Нет |
| HDInsight 3.4 |HDP 2.4 |Ubuntu 14.0.4 LTS |29 марта 2016 г. |29 декабря 2016 г. |9 января 2018 г. |Да |Нет |
| HDInsight 3.3 |HDP 2.3 |Windows Server 2012 R2 |2 декабря 2015 г. |27 июня 2016 г. |31 июля 2018 г. |Да |Нет |
| HDInsight 3.3 |HDP 2.3 |Ubuntu 14.0.4 LTS |2 декабря 2015 г. |27 июня 2016 г. |31 июля 2017 г. |Да |Нет |
| HDInsight 3.2 |HDP 2.2 |Ubuntu 12.04 LTS или Windows Server 2012 R2 |18 февраля 2015 г. |1 марта 2016 г. |1 апреля 2017 г. |Да |Нет |
| HDInsight 3.1 |HDP 2,1 |Windows Server 2012 R2 |24 июня 2014 г. |18 мая 2015 г. |30 июня 2016 г. |Да |Нет |
| HDInsight 3.0 |HDP 2,0 |Windows Server 2012 R2 |11 февраля 2014 г. |17 сентября 2014 г. |30 июня 2015 г. |Да |Нет |
| HDInsight 2.1 |HDP 1,3 |Windows Server 2012 R2 |28 октября 2013 г. |12 мая 2014 г. |31 мая 2015 г. |Да |Нет |
| HDInsight 1.6 |HDP 1.1 | |28 октября 2013 г. |26 апреля 2014 г. |31 мая 2015 г. |Нет |Нет |

> [!NOTE]
> Высокодоступные кластеры с двумя головными узлами развертываются по умолчанию для HDInsight версии 2.1 и более поздних. Они недоступны для кластеров HDInsight версии 1.6.

## <a name="service-level-agreement-for-hdinsight-cluster-versions"></a>Соглашение об уровне обслуживания для версий кластера HDInsight

Соглашение об уровне обслуживания связано с понятием _окна поддержки_. Окно поддержки — это период времени, в течение которого определенная версия HDInsight поддерживается службой поддержки клиентов Майкрософт. Если для версии кластера HDInsight достигнута _дата прекращения поддержки_, такой кластер выходит за пределы окна поддержки. Дата истечения срока действия технической поддержки для конкретной версии HDInsight (обозначается как версия X) рассчитывается как наиболее поздняя из следующих дат (после предоставления более новой версии Х+1).

- **Формула 1.** Добавьте 180 дней к дате выхода версии X кластера HDInsight.
- **Формула 2.** Добавьте 90 дней к дате, с которой версия кластера HDInsight X+1 стала доступной на портале Azure.

_Дата прекращения использования_ — это дата, после которой версию кластера невозможно создать в HDInsight. Начиная с 31 июля 2017 г. вы также не можете изменить размер кластера HDInsight после даты прекращения использования.

## <a name="default-node-configuration-and-virtual-machine-sizes-for-clusters"></a>Конфигурация узлов и размеры виртуальных машин по умолчанию для кластеров

Дополнительные сведения о том, какие ценовые категории виртуальных машин следует выбрать для кластера, см. в статье [Каковы используемые по умолчанию и рекомендуемые конфигурации узлов для Azure HDInsight?](hdinsight-supported-node-configuration.md).

## <a name="next-steps"></a>Дальнейшие действия

- [Установка кластеров в HDInsight с использованием Hadoop, Spark, Kafka и других технологий](hdinsight-hadoop-provision-linux-clusters.md)
- [Пакет безопасности корпоративного уровня](./enterprise-security-package.md)
- [Заметки о выпуске Hortonworks, связанные с версиями Azure HDInsight](./hortonworks-release-notes.md)
- [Работа в экосистеме Hadoop в HDInsight на компьютере с Windows](hdinsight-hadoop-windows-tools.md)
