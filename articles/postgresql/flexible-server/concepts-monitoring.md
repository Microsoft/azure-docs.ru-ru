---
title: Мониторинг и метрики — база данных Azure для PostgreSQL — гибкий сервер
description: В этой статье описываются функции мониторинга и метрик в базе данных Azure для PostgreSQL-гибкого сервера.
author: lfittl-msft
ms.author: lufittl
ms.service: postgresql
ms.topic: conceptual
ms.date: 09/23/2020
ms.openlocfilehash: 5e7063cd1ae560fa077bd0b1b1279e4515e70464
ms.sourcegitcommit: e559daa1f7115d703bfa1b87da1cf267bf6ae9e8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2021
ms.locfileid: "100579021"
---
# <a name="monitor-metrics-on-azure-database-for-postgresql---flexible-server"></a>Мониторинг метрик в базе данных Azure для PostgreSQL — гибкого сервера

> [!IMPORTANT]
> Гибкий сервер Базы данных Azure для PostgreSQL предоставляется в режиме предварительной версии

Мониторинг данных о серверах помогает устранять неполадки и оптимизировать рабочую нагрузку. База данных Azure для PostgreSQL предоставляет различные параметры мониторинга, дающие возможность получить полезные сведения о поведении сервера.

## <a name="metrics"></a>Метрики
База данных Azure для PostgreSQL предоставляет различные метрики, позволяющие понять действия ресурсов, поддерживающих сервер PostgreSQL. Каждая метрика создается с частотой в одну минуту и имеет объем [истории до 93 дней](../../azure-monitor/essentials/data-platform-metrics.md#retention-of-metrics). Вы можете настроить оповещения на основе метрик. К другим параметрам относятся Настройка автоматизированных действий, выполнение расширенной аналитики и журнал архивации. Дополнительные сведения см. в статье [Обзор метрик в Microsoft Azure](../../azure-monitor/essentials/data-platform-metrics.md).

### <a name="list-of-metrics"></a>Список метрик
Для гибкого сервера PostgreSQL доступны следующие метрики.


|Метрика|Отображаемое имя метрики|Unit|Описание|
|---|---|---|---|
| active_connections | Активные подключения | Count | Число подключений к серверу. | 
| backup_storage_used | Используемое хранилище резервных копий | Байты | Объем используемого хранилища резервных копий. Эта метрика представляет собой сумму хранилища, потребляемого всеми полными резервными копиями базы данных, разностными резервными копиями и резервными копиями журналов на основе срока хранения резервной копии, заданного для сервера. Периодичность резервного копирования управляется службой. Для геоизбыточного хранилища использование хранилища резервных копий в два раза больше, чем локально избыточное хранилище. |
| connections_failed | Неудачные подключения | Count | Неудачные подключения. |
| connections_succeeded | Успешные подключения | Count | Успешные подключения. |
| cpu_credits_consumed | Использованные кредиты ЦП | Count | Количество кредитов, используемых гибким сервером. Применимо к пакетному уровню. |
| cpu_credits_remaining | Оставшиеся кредиты ЦП | Count | Количество кредитов, доступных для ускорения. Применимо к пакетному уровню. |
| cpu_percent | Нагрузка ЦП | Процент | Процент использования ЦП. | 
| disk_queue_depth | Глубина очереди диска | Count | Количество необработанных операций ввода-вывода на диск данных. |
| iops | ОПЕРАЦИЙ ВВОДА-ВЫВОДА | Count | Число операций ввода-вывода на диск в секунду. |
| maximum_used_transactionIDs | Максимальное число используемых идентификаторов транзакций | Count | Максимальный используемый идентификатор транзакции. |
| memory_percent | Процент памяти | Процент | Процент использования используемой памяти. |
| network_bytes_egress | Сеть (исходящий трафик) | Байты | Объем исходящего сетевого трафика. |
| network_bytes_ingress | Сеть (входящий трафик) | Байты | Объем входящего сетевого трафика. |
| read_iops | количество операций вода-вывода в секунду при чтении | Count | Количество операций ввода-вывода диска с данными в секунду. |
| read_throughput | Пропускная способность чтения | Байты | Байтов считано с диска в секунду. |
| storage_free | Свободное хранилище | Байты | Объем доступного дискового пространства. |
| storage_percent | Процент хранилища | Процент | Используемый процент дискового пространства. Хранилище, используемое службой, может содержать файлы базы данных, журналы транзакций и журналы сервера.|
| storage_used | Используемое хранилище | Байты | Используемый процент дискового пространства. Хранилище, используемое службой, может содержать файлы базы данных, журналы транзакций и журналы сервера. |
| txlogs_storage_used | Используемое хранилище журналов транзакций | Байты | Объем дискового пространства, используемый журналами транзакций. | 
| write_throughput | Пропускная способность записи | Байты | Байтов, записываемых в секунду на диск. |
| write_iops | количество операций вода-вывода в секунду при записи | Count | Число операций записи диска с данными ввода-вывода в секунду. |

## <a name="server-logs"></a>Журналы сервера
База данных Azure для PostgreSQL позволяет настраивать и получать доступ к стандартным журналам postgres. Дополнительные сведения о журналах см. в [документе Основные понятия ведения журнала](concepts-logging.md).
