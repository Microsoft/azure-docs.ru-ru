---
title: Управление виртуальными сетями. портал Azure. база данных Azure для PostgreSQL — гибкий сервер
description: Создание виртуальных сетей для базы данных Azure для PostgreSQL-гибкого сервера и управление ими с помощью портал Azure
author: ambhatna
ms.author: ambhatna
ms.service: postgresql
ms.topic: how-to
ms.date: 09/22/2020
ms.openlocfilehash: 746f15d2d712f4b571d3f27e3535c69f5f4f9732
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101732774"
---
# <a name="create-and-manage-virtual-networks-for-azure-database-for-postgresql---flexible-server-using-the-azure-portal"></a>Создание виртуальных сетей для базы данных Azure для PostgreSQL-гибкого сервера и управление ими с помощью портал Azure

> [!IMPORTANT]
> Гибкий сервер Базы данных Azure для PostgreSQL предоставляется в режиме предварительной версии

База данных Azure для PostgreSQL — гибкий сервер поддерживает два типа взаимоисключающих методов сетевого подключения для подключения к гибкому серверу. Эти два варианта указаны ниже:

* Открытый доступ (разрешенные IP-адреса)
* Закрытый доступ (интеграция виртуальной сети)

В этой статье мы рассмотрим создание сервера PostgreSQL с **закрытым доступом (интеграция с виртуальной сетью)** с помощью портал Azure. С помощью частного доступа (интеграция виртуальной сети) можно развернуть гибкий сервер в своей [виртуальной сети Azure](../../virtual-network/virtual-networks-overview.md). Виртуальные сети Azure обеспечивают частную и безопасную сетевую связь. При наличии частного доступа подключения к серверу PostgreSQL ограничиваются вашей виртуальной сетью. Дополнительные сведения см. в разделе [частный доступ (интеграция виртуальной сети)](./concepts-networking.md#private-access-vnet-integration).

Вы можете развернуть гибкий сервер в виртуальной сети и подсети во время создания сервера. После развертывания гибкого сервера его нельзя переместить в другую виртуальную сеть, подсеть или в *открытый доступ (разрешенные IP-адреса)* .

## <a name="prerequisites"></a>Предварительные требования
Чтобы создать гибкий сервер в виртуальной сети, вам потребуется:
- [Виртуальная сеть.](../../virtual-network/quick-create-portal.md#create-a-virtual-network)
    > [!Note]
    > Виртуальная сеть и подсеть должны находиться в том же регионе и подписке, что и гибкий сервер.

-  Для [делегирования подсети](../../virtual-network/manage-subnet-delegation.md#delegate-a-subnet-to-an-azure-service) в **Microsoft. дбфорпостгрескл/флексиблесерверс**. Это делегирование означает, что только гибкие серверы базы данных Azure для PostgreSQL могут использовать эту подсеть. Другие типы ресурсов Azure не могут быть делегированы подсети.
-  Добавьте `Microsoft.Storage` в конечную точку службы подсеть, делегированную к гибким серверам. Это можно сделать, выполнив следующие действия.
     1. Перейдите на страницу виртуальной сети.
     2. Выберите виртуальную сеть, в которой планируется развернуть гибкий сервер.
     3. Выберите подсеть, делегированную для гибкого сервера.
     4. На экране извлечения в разделе **Конечная точка службы** выберите `Microsoft.storage` из раскрывающегося списка.
     5. Сохраните изменения.


## <a name="create-azure-database-for-postgresql---flexible-server-in-an-already-existing-virtual-network"></a>Создание базы данных Azure для PostgreSQL — гибкого сервера в уже существующей виртуальной сети

1. Выберите **Создать ресурс** (+) в левом верхнем углу страницы портала.
2. Выберите **Базы данных** > **База данных Azure для PostgreSQL**. Можно также ввести **PostgreSQL** в поле поиска, чтобы найти службу.
3. Выберите вариант развертывания **Гибкий сервер**.
4. Заполните форму " **основные** ".
5. Перейдите на вкладку " **сети** ", чтобы настроить способ подключения к серверу.
6. В **методе подключения** выберите **частный доступ (интеграция с виртуальной сетью)**. Перейдите в раздел **Виртуальная сеть** и выберите уже существующую *виртуальную сеть* и *подсеть* , созданные в рамках предварительных требований выше.
7. Щелкните элемент **Проверка и создание**, чтобы проверить конфигурацию гибкого сервера.
8. Щелкните **Создать**, чтобы подготовить сервер. Подготовка может занять несколько минут.

>[!Note]
> После развертывания гибкого сервера в виртуальной сети и подсети его нельзя переместить в общедоступный (разрешенный IP-адрес).
## <a name="next-steps"></a>Дальнейшие действия
- [Создание базы данных Azure для PostgreSQL-гибкой виртуальной сети сервера и управление ею с помощью Azure CLI](./how-to-manage-virtual-network-cli.md).
- Дополнительные сведения о работе [в сети в базе данных Azure для PostgreSQL-гибкого сервера](./concepts-networking.md)
- Узнайте больше о [базе данных Azure для PostgreSQL-гибкой виртуальной сети сервера](./concepts-networking.md#private-access-vnet-integration).