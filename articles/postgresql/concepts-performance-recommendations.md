---
title: Рекомендации по производительности — база данных Azure для PostgreSQL — один сервер
description: В этой статье описывается функция рекомендации по повышению производительности в базе данных Azure для PostgreSQL-Single Server.
author: sunilagarwal
ms.author: sunila
ms.service: postgresql
ms.topic: conceptual
ms.date: 08/21/2019
ms.openlocfilehash: d547844671e6485e71be7dd8c355de08f3dec5e6
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91710572"
---
# <a name="performance-recommendations-in-azure-database-for-postgresql---single-server"></a>Рекомендации по производительности в базе данных Azure для PostgreSQL — один сервер

**Применимо к:** База данных Azure для PostgreSQL — версии с одним сервером 9,6, 10, 11

Функция рекомендаций по производительности анализирует базы данных, чтобы создать настраиваемые предложения для повышения производительности. Для получения рекомендаций функция анализа рассматривает различные характеристики базы данных, включая схему. Включите [хранилище запросов](concepts-query-store.md) на сервере, чтобы полностью использовать возможности рекомендаций по повышению производительности. После реализации любой из рекомендаций по повышению производительности следует протестировать производительность, чтобы оценить результаты внесенных изменений. 

## <a name="permissions"></a>Разрешения
Для выполнения анализа с помощью функции рекомендаций по повышению производительности требуются разрешения **владельца** или **участника**.

## <a name="performance-recommendations"></a>Рекомендации по производительности
Функция [рекомендаций по повышению производительности](concepts-performance-recommendations.md) анализирует рабочие нагрузки на сервере и определяет, какие индексы могут помочь в повышении производительности.

Откройте **рекомендации по повышению производительности** в разделе **Интеллектуальная производительность** строки меню на странице портал Azure сервера PostgreSQL.

:::image type="content" source="./media/concepts-performance-recommendations/performance-recommendations-page.png" alt-text="Целевая страница рекомендаций по повышению производительности":::

Щелкните **Анализировать** и выберите базу данных, с которой начнется анализ. В зависимости от рабочей нагрузки, выполнение анализа может занять несколько минут. По окончании анализа на портале появится уведомление. При анализе выполняется глубокое изучение базы данных. Рекомендуется выполнять анализ в периоды наименьшей нагрузки. 

В окне **рекомендации** отобразится список рекомендаций, если они были найдены.

:::image type="content" source="./media/concepts-performance-recommendations/performance-recommendations-result.png" alt-text="Новая страница рекомендаций по производительности":::

Найденные рекомендации не применяются автоматически. Чтобы применить рекомендацию, скопируйте текст запроса и выполните его в клиенте по своему выбору. Не забудьте протестировать и отследить результаты применения рекомендации, чтобы оценить ее. 

## <a name="recommendation-types"></a>Типы рекомендаций

В настоящее время поддерживаются два типа рекомендаций: *Создание индекса* и *Удаление индекса*.

### <a name="create-index-recommendations"></a>Рекомендации по созданию индексов
*Рекомендации по созданию индексов* предлагают новые индексы для ускорения наиболее часто выполняемых и длительных запросов в рабочей нагрузке. Для этого типа рекомендации требуется включить [хранилище запросов](concepts-query-store.md). Хранилище запросов собирает сведения о запросах и предоставляет подробную статистику по времени и частоте выполнения запросов, которую функция анализа использует для создания рекомендаций.

### <a name="drop-index-recommendations"></a>Рекомендации по удалению индексов
Помимо обнаружения отсутствующих индексов, база данных Azure для PostgreSQL анализирует производительность существующих индексов. Если индекс редко используется или избыточен, анализатор рекомендует удалить его.

## <a name="considerations"></a>Рекомендации
* Рекомендации по производительности недоступны для [реплик чтения](concepts-read-replicas.md).
## <a name="next-steps"></a>Дальнейшие действия
- Дополнительные сведения о [мониторинге и настройке](concepts-monitoring.md) см. в базе данных Azure для PostgreSQL.

