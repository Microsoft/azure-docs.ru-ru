---
title: База данных Azure для PostgreSQL — Отдельный сервер
description: Общие сведения об Отдельном сервере Базы данных Azure для PostgreSQL
author: sunilagarwal
ms.author: sunila
ms.custom: mvc
ms.service: postgresql
ms.topic: overview
ms.date: 09/21/2020
ms.openlocfilehash: 18d944cd2b3bfde1a0ee5fc53e83e4016b11b01f
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100379222"
---
# <a name="azure-database-for-postgresql-single-server"></a>База данных Azure для PostgreSQL — Отдельный сервер

[База данных Azure для PostgreSQL](./overview.md) на основе PostgreSQL Community Edition доступна в трех режимах развертывания:

- Одиночный сервер
- Гибкий сервер (предварительная версия)
- Гипермасштабирование (Citus)

В этой статье приводится обзор и основные понятия модели развертывания отдельного сервера. Дополнительные сведения о режиме развертывания на гибком сервере см. [здесь](./flexible-server/overview.md) и в обзоре Гипермасштабирования Citus.

## <a name="overview"></a>Обзор

Отдельный сервер — это полностью управляемая служба базы данных с минимальными требованиями к настройке базы данных. Платформа отдельного сервера рассчитана на обработку большинства функций управления базами данных, как, например, установка исправлений, резервное копирование, обеспечение высокого уровня доступности и безопасности с минимальным вмешательством пользователя дли их настройки и управления. Эта архитектура оптимизирована для обеспечения уровня доступности 99,99 % при использовании одной зоны доступности. Она поддерживает версии сообщества PostgreSQL 9.5, 9.6, 10 и 11. Эта служба сейчас доступна во многих [регионах Azure](https://azure.microsoft.com/global-infrastructure/services/).

Отдельные серверы лучше всего подходят для приложений, оптимизированных для работы в облаке, которым требуется автоматическая установка исправлений без подробного управления расписанием установки или параметрами конфигурации PostgreSQL.

## <a name="high-availability"></a>Высокий уровень доступности

Модель развертывания отдельного сервера оптимизирована для обеспечения высокой доступности и эластичности по доступной цене. В этой архитектуре ресурсы вычислений и хранилища разделены. Ядро СУБД работает в собственном контейнере вычислений, а файлы данных размещаются в службе хранилища Azure. Хранилище поддерживает три локально избыточные синхронные копии файлов базы данных, обеспечивающие устойчивость данных.

При запланированных или незапланированных событиях отработки отказа, если сервер выходит из строя, служба поддерживает высокий уровень доступности серверов, используя следующую автоматическую процедуру:

1. подготавливается новый контейнер вычислений;
2. хранилище с файлами данных сопоставляется с новым контейнером;
3. ядро СУБД PostgreSQL запускается в новом контейнере вычислений;
4. служба шлюза обеспечивает прозрачную отработку отказа, не требуя изменений на стороне приложения.
   
 :::image type="content" source="./media/overview/overview-azure-postgres-single-server.png" alt-text="База данных Azure для PostgreSQL — Отдельный сервер":::

Типичное время отработки отказа составляет от 60 до 120 секунд. Облачная нативная архитектура службы отдельного сервера в облаке позволяет поддерживать уровень доступности 99,99 %, устраняя затраты на пассивную работу ресурсов горячей замены.

Соглашение об уровне обслуживания (SLA) в Azure, предусматривающее самый высокий в отрасли уровень доступности (99,99 %) с поддержкой глобальной сети центров обработки данных под управлением Майкрософт, обеспечит непрерывную работу приложения — 24 часа в сутки и 7 дней в неделю.

## <a name="automated-patching"></a>Автоматическое исправление

Служба выполняет автоматическую установку исправлений, Установка исправлений включает обновления для системы безопасности и программного обеспечения. Для ядра PostgreSQL обновление до дополнительных номеров версии выполняется автоматически в цикле выпуска исправлений. Для установки исправлений не требуются действия пользователя или настройка параметров конфигурации. Частотой обновления управляет служба в зависимости от важности полезных данных. Как правило, служба придерживается графика ежемесячных выпусков в рамках непрерывной интеграции и выпуска. Пользователи могут подписываться на [уведомления о плановом обслуживании](), чтобы получать предупреждения за 72 часа до его проведения.

## <a name="automatic-backups"></a>Автоматическое резервное копирование

Служба отдельного сервера автоматически создает резервные копии и сохраняет их в локально избыточном или геоизбыточном хранилище, настроенном пользователем. Резервные копии можно использовать для восстановления сервера на любой момент в течение срока хранения резервной копии. По умолчанию срок хранения резервных копий составляет 7 дней. Хранение можно дополнительно продлить на срок до 35 дней. Все резервные копии шифруются с помощью 256-битового шифрования AES. Подробности см. в статье [о резервных копиях](./concepts-backup.md).

## <a name="adjust-performance-and-scale-within-seconds"></a>Быстрая настройка производительности и масштабирования

Служба отдельного сервера предоставляется с тремя уровнями: "Базовый", "Общего назначения" и "Оптимизированная для операций в памяти". Уровень "Базовый" лучше всего подходит для бюджетной разработки и рабочих нагрузок с низким уровнем параллелизма. Варианты "Общего назначения" и "Оптимизированная для операций в памяти" лучше подходят для рабочих нагрузок, в которых требуются высокая степень параллелизма, масштабирование и прогнозируемая производительность. Вы можете создать свое первое приложение в небольшой базе данных за несколько долларов в месяц, а затем изменить масштаб в соответствии с потребностями решения. Масштабирование хранилища выполняется без прерывания работы, в том числе с поддержкой автоматического расширения. Благодаря динамической масштабируемости база данных может прозрачно реагировать на быстро меняющиеся требования к ресурсам. Вы платите только за те ресурсы, которые используете. См. дополнительные сведения о [ценовых категориях]().

## <a name="enterprise-grade-security-compliance-and-governance"></a>Безопасность, соответствие требованиям и система управления корпоративного уровня.

Для службы отдельного сервера используется криптографический модуль с сертификацией FIPS 140-2 для шифрования неактивных данных. Шифруются все данные, включая резервные копии и временные файлы, создаваемые при выполнении запросов. Служба использует 256-разрядный шифр AES, включенный в шифрование службы хранилища Azure, а управление ключами клиент может доверить системе (вариант по умолчанию) или [осуществлять самостоятельно](). Служба по умолчанию шифрует все перемещаемые данные с использованием протокола SSL/TLS. Служба поддерживает версии TLS 1.2, 1.1 и 1.0 с возможностью принудительно применять [минимальную версию TLS]().

Служба обеспечивает частный доступ к серверам с использованием приватного канала и предоставляет расширенную защиту от угроз. Расширенная защита от угроз позволяет выявлять подозрительную активность, указывающую на необычные и потенциально опасные попытки получить доступ к базам данных или воспользоваться ими.

Помимо встроенной проверки подлинности, служба отдельного сервера поддерживает проверку подлинности Azure Active Directory. Аутентификация Azure AD предоставляет механизм для подключения к серверам PostgreSQL с использованием удостоверений, определенных и управляемых в Azure AD. С помощью проверки подлинности Azure AD можно централизованно управлять удостоверениями пользователей базы данных и другими службами Майкрософт в централизованном расположении, что упрощает и унифицирует управление доступом.

Предоставляется [журнал аудита]() (предварительная версия) для наблюдения за всеми действиями на уровне базы данных.

Служба отдельного сервера совместима со всеми широко применяемыми в отрасли программами аккредитации, включая FedRAMP, HIPAA и PCI DSS. Посетите [центр управления безопасностью Azure](), чтобы посмотреть сведения о безопасности платформы Azure.

Дополнительные сведения о функциях безопасности Базы данных Azure для PostgreSQL см. в [обзоре функций безопасности]().

## <a name="monitoring-and-alerting"></a>Мониторинг и оповещения

Служба отдельного сервера оснащена встроенными функциями мониторинга производительности и оповещений. Все метрики Azure записываются ежеминутно, и каждая из них предоставляет данные за последние 30 дней. Вы можете настроить оповещения на основе метрик. Служба позволяет применять журнал медленных запросов и функцию дифференцированного [хранилища запросов](./concepts-query-store.md). Хранилище запросов упрощает устранение неполадок, позволяя быстро выявлять самые медленные и ресурсоемкие запросы. С помощью этих средств можно быстро оптимизировать рабочие нагрузки и настроить оптимальную производительность сервера. Дополнительные сведения см. в разделе [Мониторинг](./concepts-monitoring.md).

## <a name="migration"></a>Миграция

В этой службе работает версия PostgreSQL виртуального сообщества. Это обеспечивает полную совместимость приложений и минимальные затраты на рефакторинг при переносе в службу отдельного сервера существующих приложений, разработанных для ядра СУБД PostgreSQL. Миграцию на отдельный сервер можно выполнить любым из следующих способов:

- **Создание резервной копии и восстановление.** Для миграций в автономной среде, где допустим некоторый простой для пользователей, самым быстрым способом миграции будет создание резервной копии с последующим восстановлением, для которых применяются такие средства сообщества, как Pg_dump и Pg_restore. Дополнительные сведения см. в статье [Миграция с использованием дампа и восстановления](./howto-migrate-using-dump-and-restore.md).
- **Azure Database Migration Service.** Чтобы без проблем выполнить простую миграцию на отдельный сервер с минимальным временем простоя, можно применить Azure Database Migration Service (DMS). Изучите возможности [DMS с использованием портала](../dms/tutorial-postgresql-azure-postgresql-online-portal.md) и [DMS с использованием CLI](../dms/tutorial-postgresql-azure-postgresql-online.md).

## <a name="contacts"></a>Контакты

Если у вас возникли вопросы или предложения, связанные с использованием Базы данных Azure для PostgreSQL, вы можете отправить сообщение команде разработчиков Базы данных Azure для PostgreSQL ([@AskБазы данных Azure для PostgreSQL](mailto:AskAzureDBforPostgreSQL@service.microsoft.com)). Учтите, что это не электронный адрес службы технической поддержки.

Кроме того, попробуйте обратиться сюда:

- Для обращения в службу поддержки Azure [отправьте запрос с портала Azure](https://portal.azure.com/?#blade/Microsoft_Azure_Support/HelpAndSupportBlade).
- Чтобы устранить проблему, связанную с учетной записью, отправьте [запрос в службу поддержки](https://ms.portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest) на портале Azure.
- Чтобы отправить отзыв или отправить запрос на новые возможности, создайте запись через [UserVoice](https://feedback.azure.com/forums/597976-azure-database-for-postgresql).

## <a name="next-steps"></a>Дальнейшие действия

Итак, вы завершили знакомство с режимом развертывания Базы данных Azure для PostgreSQL с отдельным сервером, и теперь готовы
- создать свой первый сервер.
