---
title: Адаптивные элементы управления приложениями в Центре безопасности Azure
description: Этот документ поможет вам использовать адаптивное управление приложениями в центре безопасности Azure, чтобы разрешить список приложений, выполняющихся на компьютерах Azure.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.assetid: 9268b8dd-a327-4e36-918e-0c0b711e99d2
ms.service: security-center
ms.devlang: na
ms.topic: how-to
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/07/2021
ms.author: memildin
ms.openlocfilehash: cc35f9ee25511faec5723b49763cbdae8963e88b
ms.sourcegitcommit: 2501fe97400e16f4008449abd1dd6e000973a174
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99820761"
---
# <a name="use-adaptive-application-controls-to-reduce-your-machines-attack-surfaces"></a>Использование адаптивных элементов управления приложениями для сокращения поверхностей атак на компьютерах

Узнайте о преимуществах адаптивных элементов управления приложениями в центре безопасности Azure и о том, как повысить уровень безопасности с помощью этой интеллектуальной функции, управляемой данными.


## <a name="what-are-security-centers-adaptive-application-controls"></a>Что такое адаптивные элементы управления приложениями центра безопасности?

Адаптивные элементы управления приложениями — это интеллектуальное и автоматизированное решение для определения списков разрешений для известных приложений на компьютерах. 

Часто организации имеют коллекции компьютеров, которые регулярно выполняют одни и те же процессы. Центр безопасности использует машинное обучение для анализа приложений, выполняющихся на компьютерах, и создания списка известных программ. Списки разрешений основываются на конкретных рабочих нагрузках Azure, и вы можете настроить рекомендации с помощью приведенных ниже инструкций.

Если вы включите и настроите адаптивные элементы управления приложениями, вы сможете получать оповещения безопасности при запуске в системе приложений, которые не были определены вами как безопасные.


## <a name="what-are-the-benefits-of-adaptive-application-controls"></a>Каковы преимущества адаптивных элементов управления приложениями?

Определяя списки известных приложений и создавая предупреждения при выполнении других действий, можно добиться нескольких целей защиты:

- Выявление потенциально вредоносных программ, даже тех, которые могут быть пропущены решениями для защиты от вредоносных программ
- Улучшение соответствия с локальными политиками безопасности, определяющими использование только лицензированного программного обеспечения
- Избегайте запуска старых или неподдерживаемых приложений
- Предотвращение исключения конкретного программного обеспечения, запрещенного Организацией
- Увеличение ценных сведений о приложениях, обращающихся к конфиденциальным данным

Параметры принудительного применения недоступны, и они не планируются. Адаптивные элементы управления приложениями предназначены для предоставления оповещений системы безопасности, если любое приложение работает, кроме тех, которые были определены как надежные.

## <a name="availability"></a>Доступность

|Аспект|Сведения|
|----|:----|
|Состояние выпуска:|Общедоступная версия|
|Цены|Требуется [Azure Defender для серверов](defender-for-servers-introduction.md)|
|Поддерживаемые компьютеры:|![Да ](./media/icons/yes-icon.png) , Azure и не-Azure компьютеры под управлением Windows и Linux<br>![Да ](./media/icons/yes-icon.png) машины в [Azure Arc](../azure-arc/index.yml)|
|Требуемые роли и разрешения|Роли " **читатель безопасности** " и " **читатель** " могут просматривать группы и списки известных приложений.<br>Роли администраторов **участников** и **безопасности** могут изменять группы и списки известных приложений.|
|Облако.|![Да](./media/icons/yes-icon.png) Коммерческие облака<br>![Да](./media/icons/yes-icon.png) Национальные и независимые (US Gov, China Gov, другие правительственные облака)|
|||



## <a name="enable-application-controls-on-a-group-of-machines"></a>Включение элементов управления приложениями в группе компьютеров

Если центр безопасности определил группы компьютеров в подписках, которые постоянно запускают аналогичный набор приложений, вам будет предложено выполнить следующие рекомендации: **адаптивные элементы управления приложениями для определения безнадежных приложений должны быть включены на компьютерах**.

Выберите рекомендацию или откройте страницу "адаптивные элементы управления приложениями", чтобы просмотреть список предложенных приложений и групп компьютеров.

1. Откройте панель мониторинга защитника Azure и в области Расширенная защита выберите **адаптивные элементы управления приложениями**.

    :::image type="content" source="./media/security-center-adaptive-application/opening-adaptive-application-control.png" alt-text="Открытие адаптивных элементов управления приложениями на панели мониторинга Azure" lightbox="./media/security-center-adaptive-application/opening-adaptive-application-control.png":::

    Откроется страница **адаптивного управления приложениями** с виртуальными машинами, сгруппированными в следующие вкладки:

    - **Настроенные** группы компьютеров, у которых уже есть определенный список разрешенных приложений. Для каждой группы на вкладке «настроено» отображается следующее:
        - число компьютеров в группе
        - Недавние оповещения

    - **Рекомендуется** — группы компьютеров, которые постоянно используют одни и те же приложения и не имеют настроенного списка разрешений. Рекомендуется включить адаптивные элементы управления приложениями для этих групп.
    
      > [!TIP]
      > Если вы видите имя группы с префиксом "РЕВИЕВГРАУП", оно содержит компьютеры с частично последовательным списком приложений. Центр безопасности не может просмотреть шаблон, но рекомендует проверить эту группу, чтобы _узнать, можно ли вручную_ определить некоторые правила адаптивного управления приложениями, как описано в разделе [Изменение правила управления адаптивными приложениями группы](#edit-a-groups-adaptive-application-controls-rule).
      >
      > Можно также переместить компьютеры из этой группы в другие группы, как описано в разделе [Перемещение компьютера из одной группы в другую](#move-a-machine-from-one-group-to-another).

    - **Нет рекомендаций** — компьютеры без определенного списка разрешенных приложений, которые не поддерживают эту функцию. Компьютер может находиться на этой вкладке по следующим причинам:
      - Отсутствует агент Log Analytics
      - Агент Log Analytics не отправляет события
      - Это компьютер Windows с предварительно существующей политикой [AppLocker](/windows/security/threat-protection/windows-defender-application-control/applocker/applocker-overview) , включенной либо объектом групповой политики, либо локальной политикой безопасности.

      > [!TIP]
      > Чтобы определить уникальные рекомендации для каждой группы компьютеров, в центре безопасности требуется по крайней мере две недели данных. Компьютеры, которые были недавно созданы или принадлежат к подпискам, которые недавно были включены с помощью защитника Azure, будут отображаться на вкладке **без рекомендаций** .


1. Откройте вкладку **Рекомендуемые** . Отобразятся группы компьютеров с рекомендуемыми списками разрешенных.

   ![Рекомендуемая вкладка](./media/security-center-adaptive-application/adaptive-application-recommended-tab.png)

1. Выберите группу. 

1. Чтобы настроить новое правило, ознакомьтесь с различными разделами страницы **Настройка правил управления приложениями** и содержимым, которое будет уникальным для этой конкретной группы компьютеров:

   ![Настройка нового правила](./media/security-center-adaptive-application/adaptive-application-create-rule.png)

   1. **Выбор компьютеров** . по умолчанию выбираются все компьютеры в указанной группе. Отмените выбор, чтобы удалить их из этого правила.
   
   1. **Рекомендуемые приложения** . Ознакомьтесь со списком приложений, общих для компьютеров в этой группе, и рекомендуем для выполнения.
   
   1. **Дополнительные приложения** . Ознакомьтесь с этим списком приложений, которые на компьютерах в этой группе либо часто встречаются, либо могут быть подвержены уязвимости. Значок предупреждения указывает на то, что конкретное приложение может использоваться злоумышленником для обхода списка разрешенных приложений. Рекомендуется внимательно изучить эти приложения.

      > [!TIP]
      > Оба списка приложений включают возможность ограничить конкретное приложение определенными пользователями. При возможности применяйте принцип минимальных привилегий.
      > 
      > Приложения определяются своими издателями, если у приложения нет сведений об издателе (без знака), для полного пути к конкретному приложению создается правило для пути.

   1. Чтобы применить правило, выберите **Аудит**. 




## <a name="edit-a-groups-adaptive-application-controls-rule"></a>Изменение правила управления адаптивным приложением для группы

Вы можете изменить список разрешений для группы компьютеров из-за известных изменений в Организации. 

Чтобы изменить правила для группы компьютеров, выполните следующие действия.

1. Откройте панель мониторинга защитника Azure и в области Расширенная защита выберите **адаптивные элементы управления приложениями**.

1. На вкладке **настроенные** выберите группу с правилом, которое необходимо изменить.

1. Ознакомьтесь с различными разделами страницы **Настройка правил управления приложениями** , как описано в разделе [Включение адаптивных элементов управления приложениями в группе компьютеров](#enable-application-controls-on-a-group-of-machines).

1. При необходимости добавьте одно или несколько настраиваемых правил:

   1. Выберите **Добавить правило**.

      ![Добавление настраиваемого правила](./media/security-center-adaptive-application/adaptive-application-add-custom-rule.png)

   1. При определении известного безопасного пути измените **тип правила** на "Path" и введите один путь. В путь можно включить подстановочные знаки.
   
      > [!TIP]
      > Некоторые сценарии, для которых можно использовать подстановочные знаки в пути, могут быть полезны:
      > 
      > * Использование подстановочного знака в конце пути для разрешения всех исполняемых файлов в этой папке и вложенных папках.
      > * Использование подстановочного знака в середине пути для включения известного имени исполняемого файла с изменяемым именем папки (например, личные папки пользователей, содержащие известный исполняемый файл, автоматически созданные имена папок и т. д.).
  
   1. Определите разрешенные пользователи и типы защищенных файлов.

   1. Завершив определение правила, нажмите кнопку **Добавить**.

1. Чтобы применить изменения, нажмите кнопку **сохранить**.


## <a name="review-and-edit-a-groups-settings"></a>Просмотр и изменение параметров группы

1. Чтобы просмотреть сведения и параметры группы, выберите **Параметры группы** .

    На этой панели отображается имя группы (которую можно изменить), тип ОС, расположение и другие релевантные сведения.

    :::image type="content" source="./media/security-center-adaptive-application/adaptive-application-group-settings.png" alt-text="Страница параметров группы для адаптивных элементов управления приложениями" lightbox="./media/security-center-adaptive-application/adaptive-application-group-settings.png":::

1. При необходимости измените имя группы или режим защиты типа файла.

1. Выберите **Применить** и **сохранить**.



## <a name="respond-to-the-allowlist-rules-in-your-adaptive-application-control-policy-should-be-updated-recommendation"></a>Ответьте на запрос "правила разрешенных в политике адаптивного управления приложениями".

Эта рекомендация будет отображаться, если машинное обучение центра безопасности определяет потенциально допустимое поведение, которое ранее не было разрешено. Рекомендации предложит новые правила для существующих определений, чтобы уменьшить количество ложных положительных оповещений.

Чтобы устранить проблему, выполните следующие действия.

1. На странице рекомендации выберите **правила разрешенных в политике адаптивного управления приложениями** , чтобы увидеть группы с недавно идентифицированным, потенциально легальным поведением.

1. Выберите группу с правилом, которое необходимо изменить.

1. Ознакомьтесь с различными разделами страницы **Настройка правил управления приложениями** , как описано в разделе [Включение адаптивных элементов управления приложениями в группе компьютеров](#enable-application-controls-on-a-group-of-machines).

1. Чтобы применить изменения, выберите **Аудит**.




## <a name="audit-alerts-and-violations"></a>Аудит оповещений и нарушений

1. Откройте панель мониторинга защитника Azure и в области Расширенная защита выберите **адаптивные элементы управления приложениями**.

1. Чтобы просмотреть группы с компьютерами с последними оповещениями, просмотрите группы, перечисленные на вкладке **настроенные** .

1. Для дальнейшего изучения выберите группу.

   ![Недавние оповещения](./media/security-center-adaptive-application/recent-alerts.png)

1. Для получения дополнительных сведений и списка затронутых компьютеров выберите оповещение.



## <a name="move-a-machine-from-one-group-to-another"></a>Перемещение компьютера из одной группы в другую

При перемещении компьютера из одной группы в другую примененная к ней политика управления приложениями изменяется на параметры группы, в которую она была перемещена. Вы также можете переместить компьютер из настроенной группы в ненастроенную группу. это приведет к удалению всех правил управления приложениями, примененных к компьютеру.

1. Откройте панель мониторинга защитника Azure и в области Расширенная защита выберите **адаптивные элементы управления приложениями**.

1. На странице " **адаптивные элементы управления приложениями** " на вкладке " **настроено** " выберите группу, содержащую перемещаемую машину.

1. Откройте список  **настроенных компьютеров**.

1. Откройте меню компьютера с тремя точками в конце строки и выберите **переместить**. Откроется область **Перемещение компьютера в другую группу** .

1. Выберите целевую группу и щелкните **переместить компьютер**.

1. Выберите **Сохранить**, чтобы сохранить изменения.





## <a name="manage-application-controls-via-the-rest-api"></a>Управление элементами управления приложениями с помощью REST API 

Чтобы программно управлять адаптивными элементами управления приложениями, используйте нашу REST API. 

Полная документация по API приведена [здесь](/rest/api/securitycenter/adaptiveapplicationcontrols).

Некоторые функции, доступные из REST API:

* **Список** получает все рекомендации по группам и предоставляет JSON с объектом для каждой группы.

* **Get** получает JSON с полными данными рекомендаций (то есть список компьютеров, правил издателя и пути и т. д.).

* **Поместить** настраивает правило (Используйте полученный JSON с помощью **Get** в качестве текста для этого запроса).
 
   > [!IMPORTANT]
   > Функция **размещения** принимает меньше параметров, чем JSON, возвращаемый командой Get.
   >
   > Перед использованием JSON в запросе на размещение удалите следующие свойства: Рекоммендатионстатус, configurationStatus, проблемы, расположение и Sourcesystem имеет значение.


## <a name="faq---adaptive-application-controls"></a>Часто задаваемые вопросы. адаптивные элементы управления приложениями

### <a name="are-there-any-options-to-enforce-the-application-controls"></a>Существуют ли какие либо параметры для принудительного применения элементов управления приложения?
Параметры принудительного применения недоступны, и они не планируются. Адаптивные элементы управления приложениями предназначены для предоставления **оповещений системы безопасности** , если любое приложение работает, кроме тех, которые были определены как надежные. У них есть ряд преимуществ ([Каковы преимущества адаптивных элементов управления приложениями?](#what-are-the-benefits-of-adaptive-application-controls)) и их можно настроить, как показано на этой странице.

 

## <a name="next-steps"></a>Следующие шаги
В этом документе вы узнали, как использовать адаптивное управление приложениями в центре безопасности Azure для определения списков разрешенных приложений, выполняющихся на компьютерах с Azure и без Azure. Дополнительные сведения о других функциях защиты облачной рабочей нагрузки центра безопасности см. в следующих статьях:

* [Основные сведения о JIT-доступе к виртуальной машине](just-in-time-explained.md)
* [Защита кластеров Azure Kubernetes](defender-for-kubernetes-introduction.md)