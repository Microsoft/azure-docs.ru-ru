---
title: Оценка безопасности в Центре безопасности Azure
description: Описание оценки безопасности в Центре безопасности Azure, а также его элементов управления защитой.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.assetd: c42d02e4-201d-4a95-8527-253af903a5c6
ms.service: security-center
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/03/2021
ms.author: memildin
ms.openlocfilehash: 24822777b06fadf87ca446d9b7ff8ba4df34adc5
ms.sourcegitcommit: 49ea056bbb5957b5443f035d28c1d8f84f5a407b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/09/2021
ms.locfileid: "100007687"
---
# <a name="secure-score-in-azure-security-center"></a>Оценка безопасности в Центре безопасности Azure

## <a name="introduction-to-secure-score"></a>Общие сведения об оценке безопасности

Центр безопасности Azure имеет две основные цели: 

- чтобы помочь вам разобраться в текущей ситуации безопасности
- помощь в эффективном и эффективном повышении безопасности

Центральным компонентом в центре безопасности, который позволяет достичь этих целей, является **Безопасность оценки**.

Центр безопасности постоянно оценивает ресурсы, подписки и организацию на предмет проблем безопасности. Затем он объединяет все результаты в одну оценку, чтобы вы могли понять текущее состояние системы безопасности: чем выше оценка, тем ниже выявленный уровень риска.

Показатель безопасности отображается на страницах портал Azure в виде процентного значения, но базовые значения также четко представлены:

:::image type="content" source="./media/secure-score-security-controls/single-secure-score-via-ui.png" alt-text="Общий показатель безопасности, показанный на портале":::

Чтобы повысить уровень безопасности, ознакомьтесь со страницей рекомендаций центра безопасности для получения необработанных действий, необходимых для повышения оценки. Каждая рекомендация содержит инструкции по устранению конкретной проблемы.

Рекомендации группируются в средства **управления безопасностью**. Каждый элемент управления — это логическая группа связанных рекомендаций по обеспечению безопасности и отражает уязвимые поверхности атак. Оценка повышается только при выполнении *всех* рекомендаций для отдельного ресурса в элементе управления. Чтобы узнать, насколько хорошо ваша организация обеспечивает безопасность каждой отдельной уязвимой зоны, изучите баллы за каждый контроль безопасности.

Дополнительные сведения см. [в разделе как вычисляется показатель безопасности](secure-score-security-controls.md#how-your-secure-score-is-calculated) ниже. 


## <a name="access-your-secure-score"></a>Доступ к оценке безопасности

Вы можете найти общую оценку безопасности, а также оценку по подписке с помощью портал Azure или программно, как описано в следующих разделах:

- [Получение оценки безопасности на портале](#get-your-secure-score-from-the-portal)
- [Получение оценки безопасности из REST API](#get-your-secure-score-from-the-rest-api)
- [Получение оценки безопасности из графа ресурсов Azure (ARG)](#get-your-secure-score-from-azure-resource-graph-arg)

### <a name="get-your-secure-score-from-the-portal"></a>Получение оценки безопасности на портале

Центр безопасности Отображает оценочный рейтинг на портале: это первая Основная плитка страницы обзор центра безопасности. При выборе этой плитки вы переходите на страницу выделенной оценки безопасности, где вы увидите, что оценка разбита по подписке. Выберите одну подписку, чтобы просмотреть подробный список приоритетных рекомендаций и потенциальное влияние, устранения их на оценку подписки. 

Итак, Оценка безопасности показана в следующих расположениях на страницах портала центра безопасности.

- В плитке **Обзор** центра безопасности (основная панель мониторинга):

    :::image type="content" source="./media/secure-score-security-controls/score-on-main-dashboard.png" alt-text="Оценка безопасности на панели мониторинга центра безопасности":::

- На странице выделенная **Оценка безопасности** можно увидеть оценку безопасности подписки и групп управления.

    :::image type="content" source="./media/secure-score-security-controls/score-on-dedicated-dashboard.png" alt-text="Оценка безопасности подписок на странице &quot;Оценка безопасности&quot; центра безопасности":::

    :::image type="content" source="./media/secure-score-security-controls/secure-score-management-groups.png" alt-text="Оценка безопасности для групп управления на странице &quot;Оценка безопасности&quot; центра безопасности":::

    > [!NOTE]
    > Все группы управления, для которых у вас нет необходимых разрешений, будут отображать их оценку "ограничено". 

- В верхней части страницы **рекомендации** :

    :::image type="content" source="./media/secure-score-security-controls/score-on-recommendations-page.png" alt-text="Оценка безопасности на странице рекомендаций центра безопасности":::

### <a name="get-your-secure-score-from-the-rest-api"></a>Получение оценки безопасности из REST API

Вы можете получить доступ к оценке через API оценки безопасности. Методы этого API позволяют гибко выполнять запросы к данным и создавать собственные механизмы создания отчетов об оценках безопасности за разные периоды. Например, можно использовать [API для оценки безопасности](/rest/api/securitycenter/securescores) , чтобы получить оценку для конкретной подписки. Кроме того, можно использовать [API управления оценками](/rest/api/securitycenter/securescorecontrols) безопасности для перечисления элементов управления безопасностью и текущей оценки подписок.

![Получение одной безопасной оценки через API](media/secure-score-security-controls/single-secure-score-via-api.png)

Примеры средств, построенных на основе API оценки безопасности, см. [в области "Оценка безопасности" сообщества GitHub](https://github.com/Azure/Azure-Security-Center/tree/master/Secure%20Score). 

### <a name="get-your-secure-score-from-azure-resource-graph-arg"></a>Получение оценки безопасности из графа ресурсов Azure (ARG)

Граф ресурсов Azure обеспечивает мгновенный доступ к сведениям о ресурсах в облачных средах с помощью надежных возможностей фильтрации, группировки и сортировки. Это быстрый и эффективный способ запросить сведения по подпискам Azure программно или с помощью портала Azure. [Узнайте больше об Azure Resource Graph.](../governance/resource-graph/index.yml)

Для получения доступа к показателю безопасности нескольких подписок с аргументом ARG:

1. В портал Azure откройте **Обозреватель графа ресурсов Azure**.

    :::image type="content" source="./media/security-center-identity-access/opening-resource-graph-explorer.png" alt-text="Страница рекомендаций по запуску обозревателя графа ресурсов Azure * *" :::

1. Введите запрос Kusto (в приведенных ниже примерах см. руководство).

    - Этот запрос возвращает идентификатор подписки, текущую оценку в точках и в процентах и максимальную оценку подписки. 

        ```kusto
        SecurityResources 
        | where type == 'microsoft.security/securescores' 
        | extend current = properties.score.current, max = todouble(properties.score.max)
        | project subscriptionId, current, max, percentage = ((current / max)*100)
        ```

    - Этот запрос возвращает состояние всех элементов управления безопасностью. Для каждого элемента управления вы получите число неработоспособных ресурсов, текущую оценку и максимальную оценку. 

        ```kusto
        SecurityResources 
        | where type == 'microsoft.security/securescores/securescorecontrols'
        | extend SecureControl = properties.displayName, unhealthy = properties.unhealthyResourceCount, currentscore = properties.score.current, maxscore = properties.score.max
        | project SecureControl , unhealthy, currentscore, maxscore
        ```

1. Выберите **выполнить запрос**.




## <a name="tracking-your-secure-score-over-time"></a>Отслеживание оценки безопасности с течением времени

Если вы Power BI пользователя с учетной записью Pro, вы можете использовать **оценку безопасности** с помощью Power BI панели мониторинга, чтобы отслеживанию безопасной оценки с течением времени и изучения любых изменений.

> [!TIP]
> Вы можете найти эту панель мониторинга, а также другие средства для программной работы с более безопасными показателями в выделенной области сообщества центра безопасности Azure на сайте GitHub: https://github.com/Azure/Azure-Security-Center/tree/master/Secure%20Score

На панели мониторинга содержатся следующие два отчета, помогающие анализировать состояние безопасности.

- **Сводка по ресурсам** . предоставляет сводные данные о работоспособности ресурсов.
- **Сводка по показателям безопасности** . предоставляет сводные данные о ходе выполнения оценки. Используйте диаграмму "безопасность оценки по времени на подписку" для просмотра изменений в оценке. Если вы заметили значительное изменение в оценке, проверьте наличие изменений в таблице "Обнаруженные изменения, которые могут повлиять на вашу оценку", чтобы внести изменения, которые могли привести к внесению изменений. В этой таблице представлены удаленные ресурсы, развернутые ресурсы или ресурсы, для которых в соответствии с рекомендациями изменилось состояние безопасности.

:::image type="content" source="./media/secure-score-security-controls/power-bi-secure-score-dashboard.png" alt-text="Необязательная Оценка безопасности по времени Power BI панели мониторинга для отслеживания оценки безопасности с течением времени и изучения изменений.":::





## <a name="how-your-secure-score-is-calculated"></a>Вычисление оценки безопасности 

Вклад каждого элемента управления безопасностью в общую оценку безопасности отображается на странице рекомендаций.

[![Расширенная оценка безопасности представляет элементы управления безопасностью](media/secure-score-security-controls/security-controls.png)](media/secure-score-security-controls/security-controls.png#lightbox)

Чтобы получить все возможные баллы для элемента управления безопасностью, все ваши ресурсы должны соответствовать всем рекомендациям по безопасности для этого элемента управления безопасностью. Например, Центр безопасности предлагает несколько рекомендаций, касающихся защиты портов управления. Вам потребуется устранить их все, чтобы сделать вашу оценку безопасной.

Например, максимальная оценка элемента управления безопасностью "Применить обновления системы" составляет шесть баллов, что можно увидеть в подсказке к потенциальному увеличению оценки для этого элемента управления.

[![Элемент управления безопасностью "Применить обновления системы"](media/secure-score-security-controls/apply-system-updates-control.png)](media/secure-score-security-controls/apply-system-updates-control.png#lightbox)

Максимальная оценка для элемента управления "Применить обновления системы" всегда равна 6. В этом примере приведены 50 ресурсов. Так что мы разделим максимальную оценку на 50, и в результате каждый ресурс получает 0,12 балла. 

* **Потенциальное увеличение** (0,12 x 8 неработоспособных ресурсов = 0,96) — оставшиеся баллы, которые можно получить для элемента управления. Если вы выполните все рекомендации для этого элемента управления, то оценка будет увеличена на 2 % (в данном случае 0,96 балла округляются до 1 балла). 
* **Текущая оценка** (0,12 x 42 работоспособных ресурса = 5,04) — текущая оценка для этого элемента управления. Каждый элемент управления влияет на общую оценку. В этом примере элемент управления добавляет 5,04 к текущей общей оценке безопасности.
* **Максимальная оценка** — это максимальное количество баллов, которое можно получить, выполнив все рекомендации для элемента управления. Максимальная оценка элемента управления указывает относительную значимость этого элемента управления. Используйте значения максимальной оценки для выбора проблем, которые следует рассмотреть в первую очередь. 


### <a name="calculations---understanding-your-score"></a>Как вычисляется оценка

|Метрика|Формула и пример|
|-|-|
|**Текущая оценка элемента управления безопасностью**|<br>![Уравнение для вычисления оценки контроля безопасности](media/secure-score-security-controls/secure-score-equation-single-control.png)<br><br>Каждый отдельный элемент управления безопасностью участвует в вычислении оценки безопасности. Каждый ресурс, входящий в рекомендацию для элемента управления, участвует в вычислении текущей оценки этого элемента управления. Текущая оценка для каждого элемента управления — это мера состояния ресурсов *в* этом элементе управления.<br>![Подсказки со значениями, используемыми для вычисления текущей оценки элемента управления безопасностью](media/secure-score-security-controls/security-control-scoring-tooltips.png)<br>В этом примере максимальная оценка в 6 баллов делится на 78, так как это общее количество работоспособных и неработоспособных ресурсов.<br>6 / 78 = 0,0769<br>Умножив это значение на число работоспособных ресурсов (4), получим текущую оценку:<br>0,0769 * 4 = **0,31**<br><br>|
|**оценка безопасности**;<br>Одна подписка|<br>![Уравнение для вычисления оценки безопасности подписки](media/secure-score-security-controls/secure-score-equation-single-sub.png)<br><br>![Оценка безопасности одной подписки со всеми включенными элементами управления](media/secure-score-security-controls/secure-score-example-single-sub.png)<br>В этом примере показана одна подписка со всеми доступными элементами управления безопасностью (потенциальная максимальная оценка составляет 60 баллов). Оценка показывает 28 баллов из 60 возможных, а оставшиеся 32 балла приведены в показателях элементов управления безопасностью в столбце "Potential score increase" (Потенциальное увеличение оценки).<br>![Список элементов управления и возможное увеличение оценки](media/secure-score-security-controls/secure-score-example-single-sub-recs.png)|
|**оценка безопасности**;<br>Несколько подписок|<br>![Уравнение для вычисления оценки безопасности нескольких подписок](media/secure-score-security-controls/secure-score-equation-multiple-subs.png)<br><br>При вычислении совокупной оценки для нескольких подписок центр безопасности включает *вес* для каждой подписки. Относительные весовые коэффициенты для подписок определяются центром безопасности на основе таких факторов, как число ресурсов.<br>Текущая оценка для каждой подписки рассчитывается таким же образом, как и для одной подписки, но после этого весовой коэффициент применяется, как показано в уравнении.<br>При просмотре нескольких подписок оценка безопасности охватывает все ресурсы во всех включенных политиках и группах и учитывает их общее влияние на максимальную оценку каждого элемента управления безопасностью.<br>![Оценка безопасности нескольких подписок со всеми включенными элементами управления](media/secure-score-security-controls/secure-score-example-multiple-subs.png)<br>Общая оценка **не** является средним значением. Вместо этого оценивается состояние всех ресурсов во всех подписках.<br>Кроме того, если вы перейдете на страницу рекомендаций и сложите потенциальные доступные баллы, вы увидите разницу между текущей оценкой (24) и максимальной оценкой (60).|
||||

### <a name="which-recommendations-are-included-in-the-secure-score-calculations"></a>Какие рекомендации включены в вычисления с безопасными оценками?

Только встроенные рекомендации влияют на оценку безопасности.

Рекомендации, помеченные как **Предварительная версия** , не включаются в вычисления оценки безопасности. При этом их по возможности все равно нужно разрешить, так как по окончанию периода предварительной версии они повлияют на оценку.

Пример рекомендации предварительной версии:

:::image type="content" source="./media/secure-score-security-controls/example-of-preview-recommendation.png" alt-text="Рекомендация с отметкой предварительной версии":::

## <a name="improve-your-secure-score"></a>Улучшение результатов оценки безопасности

Чтобы повысить оценку безопасности, выполните рекомендации по безопасности из списка. Рекомендации для каждого ресурса можно выполнить вручную или с помощью параметра **Быстрое исправление** (если он доступен). Этот параметр дает возможность быстро применить исправление к группе ресурсов. Дополнительные сведения см. в статье [Рекомендации по устранению проблем (Центр безопасности Azure)](security-center-remediate-recommendations.md).

Еще один способ улучшить оценку и убедиться, что пользователи не создают ресурсы, которые отрицательно повлияют на оценку, — настройте параметры принудительного применения и запрета для соответствующих рекомендаций. См. сведения о [предотвращении ошибок конфигурации с помощью рекомендаций о применении и отклонении](prevent-misconfigurations.md).

## <a name="security-controls-and-their-recommendations"></a>Элементы управления безопасностью и их рекомендации

В таблице ниже перечислены элементы управления безопасностью в Центре безопасности Azure. Для каждого элемента управления можно просмотреть максимальное количество баллов, которые можно добавить к оценке безопасности, если выполнить для *всех* ресурсов *все* рекомендации, перечисленные для этого элемента управления. 

Набор рекомендаций по обеспечению безопасности, предоставляемый в центре безопасности, предназначен для доступных ресурсов в среде каждой организации. Эти рекомендации можно дополнительно настроить, [отключив политики и исключая](tutorial-security-policy.md#disable-security-policies-and-disable-recommendations) [определенные ресурсы из рекомендации](exempt-resource.md). 
 
Рекомендуется, чтобы каждая организация тщательно просмотрела свои назначенные им инициативы политики Azure. 

> [!TIP]
> Дополнительные сведения о проверке и редактировании ваших инициатив см. в статье [Работа с политиками безопасности](tutorial-security-policy.md). 

Хотя стандартная инициатива по безопасности центра безопасности основана на рекомендациях и стандартах отрасли, существуют сценарии, в которых встроенные рекомендации, перечисленные ниже, могут не полностью соответствовать вашей организации. Следовательно, иногда требуется настроить инициативу по умолчанию без ущерба для безопасности, чтобы убедиться, что она соответствует собственным политикам организации. отраслевые стандарты, нормативные стандарты и тесты производительности, которые вы обязаны удовлетворить.<br><br>
<div class="foo">

<style type="text/css"> .tg  {border-collapse:collapse;border-spacing:0;} .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px; overflow:hidden;padding:10px 5px;word-break:normal;} .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:18px; font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;} .tg .tg-cly1{text-align:left;vertical-align:middle} .tg .tg-lboi{border-color:inherit;text-align:left;vertical-align:middle} </style>

[!INCLUDE [security-center-controls-and-recommendations](../../includes/asc/security-control-recommendations.md)]

</div>




## <a name="secure-score-faq"></a>Вопросы и ответы по оценке безопасности

### <a name="if-i-address-only-three-out-of-four-recommendations-in-a-security-control-will-my-secure-score-change"></a>Если я выполню только три из четырех рекомендаций для элемента управления безопасностью, изменится ли моя оценка безопасности?
Нет. Она не изменится, пока не будут выполнены все рекомендации для отдельного ресурса. Чтобы получить максимальную оценку для элемента управления, необходимо выполнить все рекомендации для всех ресурсов.

### <a name="if-a-recommendation-isnt-applicable-to-me-and-i-disable-it-in-the-policy-will-my-security-control-be-fulfilled-and-my-secure-score-updated"></a>Если рекомендация неприменима и была отключена мной в политике, будут ли выполнены условия для элемента управления безопасностью, а оценка безопасности изменена?
Да. Рекомендуется отключить рекомендации, если они неприменимы в вашей среде. Инструкции по отключению конкретной рекомендации см. в разделе [Отключение политик безопасности](./tutorial-security-policy.md#disable-security-policies-and-disable-recommendations).

### <a name="if-a-security-control-offers-me-zero-points-towards-my-secure-score-should-i-ignore-it"></a>Если элемент управления безопасностью предлагает мне прибавить ноль баллов к оценке безопасности, следует ли его игнорировать?
В некоторых случаях вы можете увидеть, что максимальная оценка элемента управления больше нуля, но воздействие равно нулю. Если добавочная оценка исправления ресурсов незначительна, она округляется до нуля. Не игнорируйте эти рекомендации, так как они все равно позволяют повысить безопасность. Единственным исключением является элемент управления "Additional Best Practice" (Дополнительная рекомендация). Выполнение его рекомендаций не увеличит оценку, но повысит общую безопасность.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье описана оценка безопасности и элементы управления безопасностью, которые она представляет. Связанные материалы см. в следующих статьях:

- [Узнайте о различных элементах рекомендации](security-center-recommendations.md)
- [Узнайте, как выполнять рекомендации](security-center-remediate-recommendations.md)
- [Просмотр средств на основе GitHub для программной работы с помощью оценки безопасности](https://github.com/Azure/Azure-Security-Center/tree/master/Secure%20Score)