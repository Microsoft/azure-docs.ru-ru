---
title: Преимущества и функции Azure Defender для реестров контейнеров
description: Сведения о преимуществах и функциях Azure Defender для реестров контейнеров.
author: memildin
ms.author: memildin
ms.date: 9/22/2020
ms.topic: overview
ms.service: security-center
manager: rkarlin
ms.openlocfilehash: 3f358bebc1cc4eb17b8c50b1e3a13366717ae98c
ms.sourcegitcommit: 4b7a53cca4197db8166874831b9f93f716e38e30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "102100718"
---
# <a name="introduction-to-azure-defender-for-container-registries"></a>Общие сведения об Azure Defender для реестров контейнеров

Реестр контейнеров Azure (ACR) — это управляемая служба частного реестра контейнеров Docker, которая сохраняет образы контейнеров для развертываний Azure в центральном реестре и управляет ими. Она основана на решении Docker Registry 2.0 с открытым кодом.

Для защиты всех реестров на основе Azure Resource Manager в своей подписке включите **Azure Defender для реестров контейнеров** на уровне подписки. После этого Центр безопасности начнет проверять образы, отправляемые в реестр, импортируемые в реестр или извлеченные за последние 30 дней. Плата за использование этой функции взимается за каждый образ.

[!INCLUDE [Defender for container registries availability info](../../includes/security-center-availability-defender-for-container-registries.md)]

## <a name="what-are-the-benefits-of-azure-defender-for-container-registries"></a>Каковы преимущества Azure Defender для реестров контейнеров?

Центр безопасности идентифицирует реестры ACR на основе Azure Resource Manager в вашей подписке и обеспечивает эффективную оценку уязвимостей в образах реестров и управление ими.

**Azure Defender для реестров контейнеров** включает средство проверки уязвимостей для проверки образов в реестрах ACR на основе Azure Resource Manager и позволяет больше узнать об уязвимостях образов. Интегрированное средство проверки работает на основе Qualys, ведущего поставщика решений для проверки уязвимостей.

При обнаружении проблем службами Qualys или самого Центра безопасности вы получите уведомления на панели мониторинга Центра безопасности. Для каждой обнаруженной уязвимости Центр безопасности предоставляет практические рекомендации, а также классификацию серьезности и инструкции по исправлению проблемы. Подробные сведения о рекомендациях Центра безопасности для контейнеров см. в [справочном списке рекомендаций](recommendations-reference.md#recs-compute).

Центр безопасности фильтрует и классифицирует результаты работы сканера. Если образ считается работоспособным, Центр безопасности присваивает ему соответствующий статус. Центр безопасности создает рекомендации по безопасности только для тех образов, в которых есть требующие решения проблемы. Центр безопасности предоставляет сведения о каждой зарегистрированной уязвимости, а также классификации серьезности. Кроме того, он создает рекомендации по устранению определенных уязвимостей, обнаруженных в каждом образе.

Благодаря тому, что Центр безопасности извещает только о наличии проблем, снижается вероятность нежелательных информационных оповещений.


> [!TIP]
> Дополнительные сведения о возможностях защиты контейнеров в Центре безопасности см. в следующих статьях:
>
> - [Центр безопасности Azure и безопасность контейнеров](container-security.md)
> - [Общие сведения об Azure Defender для Kubernetes](defender-for-kubernetes-introduction.md)

## <a name="when-are-images-scanned"></a>Когда проверяются образы?

Проверка образов запускается по трем триггерам:

- **При отправке.** Центр безопасности автоматически проверяет образ при его отправке в реестр. Чтобы запустить проверку, выполните операцию отправки образа в репозиторий.

- **Недавно извлеченные.** Так как новые уязвимости обнаруживаются каждый день, **Azure Defender для реестров контейнеров** также проверяет все образы, которые были извлечены за последние 30 дней. Дополнительная плата за повторную проверку не взимается; как сказано выше, счет выставляется за образ.

- **При импорте.** Реестр контейнеров Azure включает средства импорта, позволяющие переносить в реестр образы из Docker Hub, Реестра контейнеров Майкрософт и других реестров контейнеров Azure. **Azure Defender для реестров контейнеров** проверяет все поддерживаемые импортируемые образы. Подробные сведения см. в статье [Импорт образов контейнеров в реестр контейнеров](../container-registry/container-registry-import-images.md).
 
Обычно проверка выполняется за 2 минуты, но в некоторых случаях может длиться до 15 минут. Результаты предоставляются в виде рекомендаций Центра безопасности, например такой:

[![Пример рекомендации Центра безопасности Azure об уязвимостях, которые были обнаружены в образе, размещенном в Реестре контейнеров Azure (ACR)](media/azure-container-registry-integration/container-security-acr-page.png)](media/azure-container-registry-integration/container-security-acr-page.png#lightbox)


## <a name="how-does-security-center-work-with-azure-container-registry"></a>Принципы работы Центра безопасности с Реестром контейнеров Azure

Ниже приведена подробная схема компонентов для защиты реестров с помощью Центра безопасности и преимущества такой защиты.

![Подробный обзор Центра безопасности Azure и Реестра контейнеров Azure (ACR)](./media/azure-container-registry-integration/aks-acr-integration-detailed.png)




## <a name="faq-for-azure-container-registry-image-scanning"></a>Вопросы и ответы по проверке образов в Реестре контейнеров Azure

### <a name="how-does-security-center-scan-an-image"></a>Как Центр безопасности проверяет образ?
Образ извлекается из реестра. Затем он выполняется в изолированной песочнице средством проверки Qualys, которое извлекает список известных уязвимостей.

Центр безопасности фильтрует и классифицирует результаты работы средства проверки. Если образ считается работоспособным, Центр безопасности присваивает ему соответствующий статус. Центр безопасности создает рекомендации по безопасности только для тех образов, в которых есть требующие решения проблемы. Благодаря тому, что Центр безопасности извещает только о наличии проблем, снижается вероятность нежелательных информационных оповещений.

### <a name="can-i-get-the-scan-results-via-rest-api"></a>Можно ли получить результаты проверки через REST API?
Да. Результаты предоставляются через [REST API дополнительных оценок](/rest/api/securitycenter/subassessments/list/). Кроме того, вы можете использовать Azure Resource Graph (работающий по принципу Kusto API) для всех ресурсов: запрос может получать данные об определенной проверке.

### <a name="what-registry-types-are-scanned-what-types-are-billed"></a>Какие типы реестра проверяются? За какие типы взимается плата?
Список типов реестров контейнеров, поддерживаемых Azure Defender, см. в разделе [Доступность](#availability).

Если вы подключите неподдерживаемые реестры к своей подписке Azure, они не будут проверяться (плата за них также не взимается).

### <a name="can-i-customize-the-findings-from-the-vulnerability-scanner"></a>Можно ли настроить результаты проверки уязвимостей?
Да. Если правила вашей организации требуют игнорировать обнаруженную проблему, а не исправлять ее, вы можете исключить ее из результатов поиска. Отключенные результаты не учитываются в оценке безопасности и не создают нежелательный шум.

См. сведения о [создании правил для отключения результатов из встроенного средства оценки уязвимостей](defender-for-container-registries-usage.md#disable-specific-findings-preview).

### <a name="why-is-security-center-alerting-me-to-vulnerabilities-about-an-image-that-isnt-in-my-registry"></a>Почему Центр безопасности предупреждает об уязвимостях образа, которого нет в моем реестре?
Центр безопасности выполняет оценку уязвимостей для каждого образа, отправляемого в реестр или извлекаемого из него. В некоторых образах могут повторно использоваться теги из уже проверенного образа. Например, тег Latest (Последний) можно повторно назначать каждый раз при добавлении образа в хэш. В таких случаях "старый" образ по-прежнему существует в реестре и по-прежнему может быть извлечен его хэшем. Если образ содержит проблемы безопасности, при извлечении он представляет собой уязвимость для системы безопасности.


## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Проверка образов на наличие уязвимостей](defender-for-container-registries-usage.md)