---
title: Модуль извлечения метаданных ABAP модуля функции в SAP R3 — Azure зрения
description: В этой статье описаны действия по развертыванию модуля функции ABAP на сервере SAP.
author: chandrakavya
ms.author: kchandra
ms.service: purview
ms.subservice: purview-data-catalog
ms.topic: conceptual
ms.date: 11/13/2020
ms.openlocfilehash: 9bd3c315fcc15317a9fa483289fdc326ca6aa47f
ms.sourcegitcommit: d135e9a267fe26fbb5be98d2b5fd4327d355fe97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102614366"
---
# <a name="deploy-the-metadata-extraction-abap-function-module-for-the-sap-r3-family-of-bridges"></a>Разверните модуль извлечения метаданных ABAP для семейства мостов SAP R3.

В этой статье описаны действия по развертыванию модуля функции ABAP на сервере SAP.

## <a name="overview"></a>Обзор

Для извлечения метаданных с сервера SAP можно использовать мост SAP Business Suite 4 HANA (S/4HANA), ECC и R/3. Это достигается путем размещения модуля функции ABAP на сервере SAP. Этот модуль функции удаленно доступен мостом для запроса и скачивания (в виде текстового файла) метаданных, содержащихся в сервере SAP.

После выполнения моста он выполняет одно из следующих действий:

1. Импортирует метаданные из существующего файла, уже скачанного локально из предыдущего выполнения моста.

2. Вызывает API модуля ABAP, дождитесь скачивания, а затем импортируйте метаданные из этого файла.

В этом документе подробно описаны шаги, необходимые для развертывания этого модуля.

> [!Note]
> Приведенные ниже инструкции были скомпилированы на основе графического пользовательского интерфейса SAP v. 7.2.

## <a name="deployment-of-the-module"></a>Развертывание модуля

### <a name="create-a-package"></a>Создание пакета

Этот шаг является необязательным, и можно использовать существующий пакет.

1. Войдите на сервер SAP S/4HANA или SAP ECC и откройте **Навигатор объектов** (SE80 Transaction).

2. Выберите параметр **пакет** из списка и введите имя нового пакета (например, Z \_ Мити), а затем нажмите кнопку **отобразить**.

3. В окне **Создание пакета** выберите **Да** . Следовательно, откроется окно **построитель пакетов окна: создать пакет** . Введите значение в поле **Краткое описание** и щелкните значок **продолжить** .

4. Выберите **собственные запросы** в окне **запрос локального Workbench** . Выберите запрос на **разработку** .

### <a name="create-a-function-group"></a>Создание группы функций

В навигаторе объектов выберите в списке пункт **Группа функций** и введите его имя в поле ввода ниже (например, Z \_ Мити \_ фграуп). Выберите значок " **вид** ".

1. В окне **Создание объекта** выберите **Да** , чтобы создать новую группу функций.

2. Укажите соответствующее описание в поле **короткий текст** и нажмите кнопку **сохранить**.

3. Выберите пакет, подготовленный на предыдущем шаге, **Создайте пакет** и нажмите кнопку **сохранить**.

4. Подтвердите запрос, нажав клавишу значок **продолжить**.

5. Активируйте группу функций.

### <a name="create-the-abap-function-module"></a>Создание модуля функции ABAP

1. После создания группы функций выберите ее.

2. Щелкните правой кнопкой мыши имя группы функций в браузере репозитория и выберите **создать**, а затем — **модуль функции**.

3. В поле **модуль функции** введите `Z_MITI_DOWNLOAD` . Заполните ввод **короткого текста** с правильным описанием.

После создания модуля укажите следующие сведения.

1. Перейдите на вкладку **атрибуты** .

2. Выберите **тип обработки** как **модуль функции с удаленным включением**.

   :::image type="content" source="media/abap-functions-deployment-guide/processing-type.png" alt-text="Параметр «регистрация источников» — модуль функции Remote-Enabled" border="true":::

3. Перейдите на вкладку **Исходный код** . Существует два способа развертывания кода для функции.

   а. В главном меню отправьте текстовый файл [Z \_ Мити \_ download](https://github.com/Azure/Purview-Samples/tree/master/connectors/sap) File. Для этого выберите **Служебные программы**, **Дополнительные служебные программы**, затем **отправьте/скачать**, а затем **отправьте**.

   b. Кроме того, можно открыть файл, скопировать его содержимое и вставить в область **исходного кода** .

4. Перейдите на вкладку **Импорт** и создайте следующие параметры.

   а.  P \_ площадь типа DD02L-табнаме (необязательный = true)

   b.  *P \_ \_Строка типа локального пути* (необязательно = true)

   c.  *\_Тип языка P L001TAB — Data Default \' E\'*

   d.  *Тип РОВСКИПС для \_ int по умолчанию 0*

   д)  *Тип ROWCOUNT, поэтому \_ int по умолчанию 0*

   > [!Note]
   > Выберите **значение Pass** для всех из них.

   :::image type="content" source="media/abap-functions-deployment-guide/import.png" alt-text="Параметр «регистрация источников» — параметры импорта" border="true":::

5. Перейдите на вкладку "таблицы" и определите следующее:

   `EXPORT_TABLE LIKE TAB512`

   :::image type="content" source="media/abap-functions-deployment-guide/export-table.png" alt-text="Параметры регистрации источников — вкладка «таблицы»" border="true":::

6. Перейдите на вкладку **исключения** и определите следующее исключение: `E_EXP_GUI_DOWNLOADFAILED`

   :::image type="content" source="media/abap-functions-deployment-guide/exceptions.png" alt-text="Параметры регистрации источников — вкладка «исключения»" border="true":::

7. Сохраните функцию (нажмите клавиши CTRL + S или выберите **модуль функции**, а затем **Сохраните** в главном меню).

8. Щелкните значок **активировать** на панели инструментов (Ctrl + F3) и нажмите кнопку  **продолжить** в диалоговом окне. При появлении запроса следует выбрать созданные включаемые функции, которые будут активированы вместе с модулем Main.

### <a name="testing-the-function"></a>Тестирование функции

После выполнения всех предыдущих действий выполните следующие действия, чтобы протестировать функцию:

1. Откройте \_ \_ модуль функции скачивания Z Мити.

2. Выберите **модуль функции**, затем **тест**, а затем **модуль функции тестирования** в главном меню (или нажмите клавишу F8).

3. Введите путь к папке в локальной файловой системе в параметр P \_ локальный \_ путь и нажмите на панели инструментов значок **выполнить** (или нажмите клавишу F8).

4. \_Если необходимо загрузить или обновить файл с метаданными, введите имя интересующей области в поле «область P». Когда функция завершает работу, папка, указанная в \_ \_ параметре P Local Path, должна содержать несколько файлов с метаданными внутри. Имена файлов имитируют области, которые можно указать в поле « \_ область P».

Функция завершит свое выполнение, и метаданные будут загружаться гораздо быстрее в случае его запуска на компьютере с высокоскоростным сетевым подключением с SAP S/4HANA или ECC Server.

## <a name="next-steps"></a>Дальнейшие действия

- [Регистрация и проверка источника SAP ECC](register-scan-sapecc-source.md)
- [Регистрация и сканирование источника SAP S/4HANA](register-scan-saps4hana-source.md)
