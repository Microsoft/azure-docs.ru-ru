---
title: Регистрация источника Oracle и настройка сканирования (предварительная версия) в Azure Purview
description: Эта статья содержит сведения о том, как зарегистрировать источник Oracle в Azure Purview и настроить сканирование.
author: chandrakavya
ms.author: kchandra
ms.service: purview
ms.subservice: purview-data-catalog
ms.topic: overview
ms.date: 2/25/2021
ms.openlocfilehash: 76aadd667691e12c61e0e5e13c13ca0241a9f0ce
ms.sourcegitcommit: 32e0fedb80b5a5ed0d2336cea18c3ec3b5015ca1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2021
ms.locfileid: "105045507"
---
# <a name="register-and-scan-oracle-source-preview"></a>Регистрация и сканирование источника Oracle (предварительная версия)

Эта статья содержит сведения о том, как зарегистрировать базу данных Oracle в Purview и настроить сканирование.

## <a name="supported-capabilities"></a>Поддерживаемые возможности

Источник Oracle поддерживает **полное сканирование** для извлечения метаданных из базы данных Oracle и позволяет получить сведения о **происхождении данных** по нескольким ресурсам данных.

## <a name="prerequisites"></a>Предварительные требования

1.  Настройте последнюю версию локальной [среды выполнения интеграции](https://www.microsoft.com/download/details.aspx?id=39717).
    Дополнительные сведения см. в разделе [Создание и настройка локальной среды выполнения интеграции](../data-factory/create-self-hosted-integration-runtime.md).

2.  Убедитесь, что на виртуальной машине с локальной средой выполнения интеграции установлен пакет [JDK 11](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html).

3.  Убедитесь, что на компьютере с локальной средой выполнения интеграции установлен \"Распространяемый компонент Visual C++ 2012 с обновлением 4\". Если этот компонент \'не установлен, скачайте его [здесь](https://www.microsoft.com/download/details.aspx?id=30679).

4.  Необходимо вручную скачать драйвер Oracle JDBC [здесь](https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html) на виртуальную машину, где запущена локальная среда выполнения интеграции.

    > [!Note] 
    > Этот драйвер должен быть доступен для всех учетных записей на виртуальной машине. Не устанавливайте его в учетной записи пользователя.

5.  Поддерживаемые версии базы данных Oracle: от 6i до 19c.

6.  Разрешение пользователя: для успешного выполнения первого сканирования требуются все полномочия системного администратора.

    Для последующих сканирований требуется доступ к системным таблицам в режиме "только чтение". Пользователь должен иметь разрешение на создание сеанса, а также назначенную роль SELECT\_CATALOG\_ROLE. Кроме того, пользователь может иметь разрешение SELECT, предоставленное для каждой отдельной системной таблицы, из которой соединитель запрашивает метаданные:
       > предоставление \[пользователю\] разрешения на создание сеанса;\
        предоставление разрешения SELECT для всех\_пользователей \[пользователю\];\
        предоставление разрешения SELECT для объектов\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для комментариев к\_таблице\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для\_внешних\_расположений базы данных \[пользователю\];\
        предоставление разрешения SELECT для каталогов\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для представлений mview\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для представлений столбцов\_clu\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для столбцов\_таблицы\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для комментариев к\_столбцам\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для комментариев к ограничениям\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для столбцов\_ограничений\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для индексов\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для столбцов\_индекса\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для процедур\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для синонимов\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для представлений\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для источника\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для триггеров\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для аргументов\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для последовательностей\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для зависимостей\_базы данных \[пользователю\];\
        предоставление разрешения SELECT для объекта V\_\$INSTANCE \[пользователю\];\
        предоставление разрешения SELECT для объекта v\_\$database \[пользователю\];
    
## <a name="setting-up-authentication-for-a-scan"></a>Настройка проверки подлинности для сканирования

Единственной поддерживаемой проверкой подлинности для источника Oracle является **Обычная проверка подлинности**.

## <a name="register-an-oracle-source"></a>Регистрация источника Oracle

Чтобы зарегистрировать новый источник Oracle в каталоге данных, выполните следующие действия:

1.  Перейдите к вашей учетной записи Purview.
2.  В области навигации слева выберите **Источники**.
3.  Нажмите кнопку **Зарегистрировать**.
4.  В области регистрации источников выберите **Oracle**. Выберите **Continue** (Продолжить).

    :::image type="content" source="media/register-scan-oracle-source/register-sources.png" alt-text="Регистрация источников" border="true":::

На экране **Регистрация источников (Oracle)** выполните следующие действия:

1.  Введите **Имя**, под которым этот источник данных будет включен в каталог.

2.  Введите имя **узла**, который будет подключаться к источнику Oracle. Возможные значения:
    - Имя узла, используемое JDBC для подключения к серверу базы данных. Например, MyDatabaseServer.com или
    - IP-адрес. Например, 192.169.1.2 или
    - полная строка подключения JDBC. Например, \
        jdbc:oracle:thin:@(DESCRIPTION=(LOAD\_BALANCE=on)(ADDRESS=(PROTOCOL=TCP)(HOST=oracleserver1)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=oracleserver2)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=oracleserver3)(PORT=1521))(CONNECT\_DATA=(SERVICE\_NAME=orcl)))

3.  Введите **номер порта**, используемого JDBC для подключения к серверу базы данных (по умолчанию 1521 для Oracle).

4.  Введите **имя службы Oracle**, используемой JDBC для подключения к серверу базы данных.

5.  Выберите коллекцию или создайте новую (необязательно).

6.  Щелкните Готово, чтобы завершить регистрацию источника данных.

    :::image type="content" source="media/register-scan-oracle-source/register-sources-2.png" alt-text="Параметры регистрации источников" border="true":::

## <a name="creating-and-running-a-scan"></a>Создание и выполнение проверки

Для создания и выполнения новой проверки сделайте следующее:

1.  В центре управления щелкните Среды выполнения интеграции. Убедитесь, что локальная среда выполнения интеграции настроена. Если это не так, выполните описанные [здесь](./manage-integration-runtimes.md) действия, чтобы создать локальную среду выполнения интеграции.

2.  Перейдите в раздел **Источники**.

3.  Выберите зарегистрированный источник Oracle.

4.  Выберите  **+ Новое сканирование**.

5.  Укажите следующие сведения:

    а.  **Имя**: имя сканирования

    b.  **Подключение через среду выполнения интеграции**: выберите настроенную локальную среду выполнения интеграции

    c.  **Учетные данные**: выберите учетные данные для подключения к источнику данных. Не забудьте:
    - Выберите обычную проверку подлинности при создании учетных данных.        
    - Укажите имя пользователя, используемое JDBC для подключения к серверу базы данных, в поле ввода имени пользователя        
    - Сохраните пароль пользователя, используемый JDBC для подключения к серверу базы данных, в секретном ключе.

    d.  **Схема**: список импортируемых схем в виде списка значений, разделенных точкой с запятой. Пример: schema1; schema2. Если этот список пуст, импортируются все пользовательские схемы. Все системные схемы (например, SysAdmin) и объекты игнорируются по умолчанию. Если этот список пуст, импортируются все доступные схемы.
        Для имен схем допускается синтаксис выражений в стиле SQL, например с использованием символов "%". A%; %B; %C%; D
       -   начинается со строки A;        
       -   заканчивается строкой B;        
       -   содержит строку C;        
       -   строго равно D.

    Использование ключевого слова NOT и специальных символов не допускается.

6.  **Расположение драйвера**: укажите путь к расположению драйвера JDBC на виртуальной машине, где установлена локальная среда выполнения интеграции. Это должен быть путь к допустимому расположению каталога JAR.

7.  **Доступный объем памяти:** максимальный объем памяти (в ГБ), доступный для виртуальных машин клиента, которые будут использоваться процессами сканирования. Это значение зависит от размера сканируемого источника SAP S/4HANA.

    :::image type="content" source="media/register-scan-oracle-source/scan.png" alt-text="Сканирование Oracle" border="true":::

8.  Нажмите кнопку **Продолжить**.

9.  Выберите **триггер проверки**. Можно настроить расписание или запустить сканирование один раз.

10.  Проверьте параметры сканирования и нажмите **Сохранить и выполнить**.

## <a name="viewing-your-scans-and-scan-runs"></a>Просмотр данных о проверках и их выполнении

1. Перейдите в центр управления. Выберите **Источники данных** в разделе **Источники и проверка**.

2. Выберите нужный источник данных. Вы увидите список существующих проверок для этого источника данных.

3. Выберите проверку, результаты которой нужно просмотреть.

4. На этой странице будут показаны все предыдущие проверки, а также метрики и состояние каждого выполнения проверки. Здесь также будет показано, была ли проверка запланирована или запущена вручную, ко скольким ресурсам была применена классификация, сколько всего ресурсов было обнаружено, время начала и окончания проверки, а также ее общая длительность.

## <a name="manage-your-scans"></a>Управление сканированиями

Для управления проверкой или ее удаления сделайте следующее:

1. Перейдите в центр управления. Выберите **Источники данных** в разделе **Источники и проверка**, а затем выберите нужный источник данных.

2. Выберите нужную проверку. Вы можете изменить проверку, выбрав **Изменить**.

3. Вы можете удалить проверку, выбрав **Удалить**.

## <a name="next-steps"></a>Дальнейшие действия

- [Обзор каталога данных Azure Purview](how-to-browse-catalog.md)
- [Поиск по каталогу данных Azure Purview](how-to-search-catalog.md)