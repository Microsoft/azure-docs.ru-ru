---
title: Создание настраиваемого правила классификации и классификации (Предварительная версия)
description: Узнайте, как создавать настраиваемые классификации для определения типов данных, уникальных для вашей организации в Azure зрения.
author: animukherjee
ms.author: anmuk
ms.service: purview
ms.subservice: purview-data-catalog
ms.topic: how-to
ms.date: 2/5/2021
ms.openlocfilehash: 2966618619aa40ed60c2f3d0fb2c8e080d34a016
ms.sourcegitcommit: d135e9a267fe26fbb5be98d2b5fd4327d355fe97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102617052"
---
# <a name="custom-classifications-in-azure-purview"></a>Пользовательские классификации в Azure зрения

В этой статье описывается создание настраиваемых классификаций для определения типов данных в структуре данных, уникальных для вашей организации. Он также описывает создание настраиваемых правил классификации, позволяющих находить указанные данные по всему объему данных.

## <a name="default-classifications"></a>Классификации по умолчанию

Каталог данных Azure зрения предоставляет большой набор классификаций по умолчанию, которые представляют стандартные персональные типы данных, которые могут присутствовать в области данных.

:::image type="content" source="media/create-a-custom-classification-and-classification-rule/classification.png" alt-text="Выбор классификации" border="true":::

Вы также можете создавать пользовательские классификации, если какая – либо из классификаций по умолчанию не соответствует вашим потребностям.

## <a name="steps-to-create-a-custom-classification"></a>Действия по созданию пользовательской классификации

Чтобы создать пользовательскую классификацию, выполните следующие действия.

1. Из каталога выберите **центр управления** в меню слева.

2. Выберите **классификации** в разделе **Управление метаданными**.

3. Выберите **+ создать**

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/new-classification.png" alt-text="Создать классификацию" border="true":::

Откроется панель **Добавление новой классификации** , в которой можно присвоить имя и описание классификации. Рекомендуется использовать соглашение о пробельных именах, например `your company name.classification name` .

Классификации систем Майкрософт группируются под зарезервированным `MICROSOFT.` пространством имен. Например, **Microsoft. Учреждений. Совмест. \_ \_ номер социального страхования**.

Имя классификации должно начинаться с буквы, за которой следует последовательность букв, цифр и символов подчеркивания. Пробелы не допускаются. По мере ввода пользовательский интерфейс автоматически создает понятное имя. Понятное имя — это то, что видят пользователи при применении его к ресурсу в каталоге.

Чтобы имя было сокращено, система создает понятное имя на основе следующей логики:

- Все два сегмента пространства имен, кроме последних двух, усекаются.

- Регистр корректируется так, что первая буква каждого слова заменяется прописной буквой. Все остальные буквы преобразуются в нижний регистр.

- Все знаки подчеркивания ( \_ ) заменяются пробелами.

Например, если вы назвали классификацию **contoso.hr. \_Идентификатор сотрудника**, понятное имя хранится в системе как **HR. Employee ID**.

:::image type="content" source="media/create-a-custom-classification-and-classification-rule/contoso-hr-employee-id.png" alt-text="Contoso.hr.employee_id" border="true":::

Нажмите кнопку **ОК**, и новая классификация будет добавлена в список классификаций.

:::image type="content" source="media/create-a-custom-classification-and-classification-rule/custom-classification.png" alt-text="Настраиваемая классификация" border="true":::

Если выбрать классификацию в списке, откроется страница сведения о классификации. Здесь вы найдете все сведения о классификации.

К этим сведениям относится количество экземпляров, формальное имя, связанные правила классификации (если таковые имеются) и имя владельца.

:::image type="content" source="media/create-a-custom-classification-and-classification-rule/select-classification.png" alt-text="Выбор классификации" border="true":::

## <a name="custom-classification-rules"></a>Настраиваемые правила классификации

Служба каталога предоставляет набор правил классификации по умолчанию, которые используются сканером для автоматического обнаружения определенных типов данных. Можно также добавить собственные настраиваемые правила классификации для обнаружения других типов данных, которые могут быть заинтересованы в нахождении данных. Эта возможность может быть очень мощной при \' повторной попытке найти данные в пределах вашего пространства данных.

Например, предположим, \' что у компании Contoso есть идентификаторы сотрудников, стандартизированные по всей компании с помощью слова \" Employee, \" за которым следует GUID для создания сотрудника {GUID}. Например, один экземпляр идентификатора сотрудника выглядит следующим образом `EMPLOYEE9c55c474-9996-420c-a285-0d0fc23f1f55` :.

Компания Contoso может настроить систему сканирования для поиска экземпляров этих идентификаторов, создав настраиваемое правило классификации. Они могут предоставить регулярное выражение, соответствующее шаблону данных, в данном случае — `\^Employee\[A-Za-z0-9\]{8}-\[A-Za-z0-9\]{4}-\[A-Za-z0-9\]{4}-\[A-Za-z0-9\]{4}-\[A-Za-z0-9\]{12}\$` . При необходимости, если данные обычно находятся в столбце, которому они знакомы (например, идентификатор сотрудника \_ или КодСотрудника), они могут добавить регулярное выражение шаблона столбца, чтобы проверка стала еще более точной. Примером регулярного выражения является \_ идентификатор сотрудника \| EmployeeID.

Система сканирования может затем использовать это правило для проверки фактических данных в столбце и имени столбца, чтобы попытаться определить каждый экземпляр, где найден шаблон идентификатора сотрудника.

## <a name="steps-to-create-a-custom-classification-rule"></a>Действия по созданию настраиваемого правила классификации

Чтобы создать настраиваемое правило классификации, выполните следующие действия.

1. Создайте пользовательскую классификацию, следуя инструкциям из предыдущего раздела. Вы добавите эту пользовательскую классификацию в конфигурацию правила классификации, чтобы система применяла ее при обнаружении совпадения в столбце.

2. Щелкните значок **центра управления** .

3. Выберите раздел **правила классификации** .

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/classificationrules.png" alt-text="Плитка правил классификации" border="true":::

4. Нажмите кнопку **Создать**.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/newclassificationrule.png" alt-text="Добавить новое правило классификации" border="true":::

5. Откроется диалоговое окно **Создание правила классификации** . Заполните поля и решите, следует ли создать **правило регулярного выражения** или **правило словаря**.

   |Поле     |Описание  |
   |---------|---------|
   |Имя   |    Обязательный элемент. Максимальная длина — 100 символов.    |
   |Описание      |Необязательный параметр. Максимальная длина — 256 символов.    |
   |Имя классификации    | Обязательный. Выберите имя классификации из раскрывающегося списка, чтобы средство проверки применяло его при обнаружении соответствия.        |
   |Область   |  Обязательный. Параметры включены или отключены. Параметр Enabled используется по умолчанию.    |

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/create-new-classification-rule.png" alt-text="Создать новое правило классификации" border="true":::

### <a name="creating-a-regular-expression-rule"></a>Создание правила регулярного выражения

1. При создании правила регулярного выражения вы увидите следующий экран. При необходимости вы можете передать файл, который будет использоваться для **создания предлагаемых шаблонов регулярных выражений** для правила.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/create-new-regex-rule.png" alt-text="Создать правило регулярного выражения" border="true":::

1. Если вы решили создать предлагаемый шаблон регулярного выражения, после отправки файла выберите один из предлагаемых шаблонов и нажмите кнопку **Добавить в шаблоны** , чтобы использовать предлагаемые шаблоны данных и столбцов. Можно настроить предлагаемые шаблоны или ввести собственные шаблоны без отправки файла.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/suggested-regex.png" alt-text="Создать предложенное регулярное выражение" border="true":::

   |Поле     |Описание  |
   |---------|---------|
   |Шаблон данных    |Необязательный параметр. Регулярное выражение, представляющее данные, хранящиеся в поле данных. Ограничение слишком велико. В предыдущем примере шаблоны данных проверяют идентификатор сотрудника, который буквально является словом `Employee{GUID}` .  |
   |Шаблон столбца    |Необязательный параметр. Регулярное выражение, представляющее имена столбцов, которые необходимо сопоставить. Ограничение слишком велико. |

1. В разделе **шаблон данных** можно задать два пороговых значения:

   - **Порог DISTINCT Match**— общее число уникальных значений данных, которые должны быть найдены в столбце, прежде чем средство проверки запустит на нем шаблон данных. Рекомендуемое значение — 8. Это значение можно изменить вручную в диапазоне от 2 до 32. Система требует это значение, чтобы убедиться, что столбец содержит достаточно данных, чтобы средство проверки правильно классифицирует его. Например, столбец, содержащий несколько строк, содержащих значение 1, не будет классифицирован. Столбцы, содержащие одну строку со значением, а остальные строки имеют значения NULL, также не будут классифицироваться. При указании нескольких шаблонов это значение применяется к каждому из них.

   - **Минимальное пороговое значение соответствия**. Этот параметр можно использовать для установки минимального процента совпадений значений данных в столбце, который должен быть найден сканером для применения классификации. Рекомендуемое значение — 60%. Необходимо соблюдать осторожность при работе с этим параметром. Если вы уменьшите уровень ниже 60%, вы можете ввести ложные классификации в каталог. Если указать несколько шаблонов данных, этот параметр будет отключен и значение будет исправлено на 60%.

1. Теперь можно проверить правило и **создать** его.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/verify-rule.png" alt-text="Проверить правило перед созданием" border="true":::

### <a name="creating-a-dictionary-rule"></a>Создание правила словаря

1. При создании правила словаря вы увидите следующий экран. Отправьте файл, содержащий все возможные значения для создаваемой классификации в одном столбце.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/dictionary-rule.png" alt-text="Создать правило словаря" border="true":::

1. После создания словаря можно изменить пороговые значения соответствия и минимального соответствия и отправить правило.

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/dictionary-generated.png" alt-text="Правило словаря зрения — Настройка порогового значения DISTINCT и минимального порогового значения соответствия" border="true":::

   :::image type="content" source="media/create-a-custom-classification-and-classification-rule/dictionary-generated.png" alt-text="Создать правило словаря с галочкой словаря." border="true":::

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда правило классификации создано, оно готово к добавлению в набор правил проверки, чтобы проверка использовала правило при сканировании. Дополнительные сведения см. [в разделе Создание набора правил проверки](create-a-scan-rule-set.md).
