---
title: Создание веб-приложения в ASE v1
description: Узнайте, как создавать веб-приложения на Среда службы приложений v1. Этот документ предоставляется только для клиентов, использующих устаревшую версию ASE (версию 1).
author: ccompy
ms.assetid: 983ba055-e9e4-495a-9342-fd3708dcc9ac
ms.topic: article
ms.date: 07/11/2017
ms.author: ccompy
ms.custom: seodec18
ms.openlocfilehash: fa92002cfef070218902aa7919900dde9fe5a9b5
ms.sourcegitcommit: e6de1702d3958a3bea275645eb46e4f2e0f011af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "102505415"
---
# <a name="create-a-web-app-in-an-app-service-environment-v1"></a>Создание веб-приложения в среде служб приложений версии 1

> [!NOTE]
> Эта статья посвящена среде службы приложений версии 1.  Имеется более новая версия среды службы приложений, которая проще в использовании и которая работает на более мощной инфраструктуре. Чтобы узнать больше о новой версии, начните с [введения в среда службы приложений](intro.md).
> 

## <a name="overview"></a>Обзор
В этом руководстве показано, как создавать веб-приложения и планы обслуживания службы приложений в [среде службы приложений версии 1](app-service-app-service-environment-intro.md) (ASE). 

> [!NOTE]
> Если вы хотите научиться создавать веб-приложения, но не хотите делать это в среде службы приложений, ознакомьтесь со статьей [Создание веб-приложения .NET](../quickstart-dotnetcore.md) или одним из связанных учебников, описывающих другие языки и платформы.
> 
> 

## <a name="prerequisites"></a>Предварительные условия
Для прохождения этого учебного курса необходимо, чтобы вы создали среду службы приложений. Если вы еще не сделали это, ознакомьтесь со статьей [Создание среды службы приложений](app-service-web-how-to-create-an-app-service-environment.md). 

## <a name="create-a-web-app"></a>Создание веб-приложения
1. На [портале Azure](https://portal.azure.com/) щелкните **Создать ресурс > Интернет и мобильные устройства > Веб-приложение**. 
   
    ![Снимок экрана, на котором показано, где можно создать веб-приложение в портал Azure.][1]
2. Выберите свою подписку.  
   
    Если у вас есть несколько подписок, имейте в виду, что для создания приложения в среде ASE необходимо использовать ту же подписку, которая использовалась при создании самой среды. 
3. Выберите или создайте группу ресурсов.
   
    *Группы ресурсов* позволяют управлять связанными ресурсами Azure как единым целым и полезны при установке правил *управления доступом на основе ролей Azure (Azure RBAC)* для приложений. Дополнительные сведения см. в [обзоре Azure Resource Manager][ResourceGroups]. 
4. Выбор или создание плана службы приложений
   
    *Планы службы приложений* — это управляемые наборы веб-приложений.  Обычно когда вы выбираете ценовую категорию, плата взимается за использование плана службы приложений, а не отдельных приложений. При работе с ASE вы платите за вычислительные операции, выделяемые для ASE, а не за элементы, перечисленные в плане службы приложений.  Чтобы увеличить количество экземпляров веб-приложения, вам следует масштабировать экземпляры вашего плана ASP, что повлияет на все веб-приложения в этом плане.  Некоторые функции, например слоты сайтов или интеграция VNET, также обладают ограничениями в пределах плана.  Дополнительные сведения см. в статье [Обзор планов службы приложений Azure](../overview-hosting-plans.md) .
   
    Планы ASP в среде ASE можно определить, просмотрев расположение, указанное под именем соответствующего плана.  
   
    ![Снимок экрана, на котором показано, как просмотреть планы службы приложений в ASE.][5]
   
    Если вы хотите использовать план ASP, который уже существует в среде ASE, выберите этот план. Если вы хотите создать новый план службы приложений, ознакомьтесь с разделом [Создание плана службы приложений в среде службы приложений](#createplan) этого учебника.
5. Присвойте веб-приложению имя и нажмите кнопку **Создать**. 
   
    Если ваша среда ASE использует внешний виртуальный IP-адрес, то URL-адресом приложения в ASE является [*имя_сайта*].[*имя_среды_службы_приложений*].p.azurewebsites.net, а не [*имя_сайта*].azurewebsites.net.
   
    Если среда ASE использует внутренний виртуальный IP-адрес, то URL-адресом приложения в этой ASE будет [*имя_сайта*].[*поддомен_указанный_при_создании_ASE*].   
    После выбора плана службы приложений во время создания ASE вы увидите, что поддомен под элементом **Имя** изменился.

## <a name="create-an-app-service-plan"></a><a name="createplan"></a> Создание плана службы приложений
При создании в среде ASE плана ASP выбранные рабочие роли будут отличаться, так как в среде ASE нет общих рабочих ролей.  Рабочие роли, которые необходимо использовать, — это те, которые были выделены ASE администратором.  Это означает, что для создания нового плана вам потребуется больше рабочих ролей, выделенных для рабочего пула ASE, чем общее число экземпляров по всем планам, которые уже находятся в этом рабочем пуле.  Если в рабочем пуле среды ASE недостаточно рабочих ролей для создания плана ASP, обратитесь к администратору среды ASE, чтобы их добавить.

Еще одно отличие от планов ASP, размещаемых в среде ASE, заключается в отсутствии выбора ценовой категории.  При наличии среды ASE вы оплачиваете вычислительные ресурсы, используемые системой, и не платите дополнительно за использование планов ASP в этой среде.  Обычно при создании плана ASP выбирается план ценообразования, который определяет политику выставления счетов.  Среда службы приложений является по сути закрытым расположением, где можно создавать содержимое.  Вы платите за среду, а не за размещение содержимого.

Ниже показано, как создать план ASP в ходе создания веб-приложения в соответствии с инструкциями, приведенными в предыдущем разделе учебника.

1. Щелкните **Создать** в пользовательском интерфейсе выбора плана и введите имя для плана, в соответствии с обычной процедурой (не в среде ASE).
2. В средстве выбора расположения выберите среду ASE, которая будет использоваться.
   
    Поскольку среда службы приложений по сути находится в закрытом расположении развертывания, она отображается в области «Расположение». 
   
    ![Снимок экрана, на котором показано средство выбора расположения для выбора нужного ASE.][2]
   
    После выбора среды ASE с помощью средства выбора расположения пользовательский интерфейс создания плана ASP будет обновлен.  В расположении теперь будет отображаться имя системы ASE и регион, в котором она находится; средство выбора ценового плана будет заменено средством выбора рабочего пула.  
   
    ![Снимок экрана, на котором показаны сведения о системе ASE после выбора ASE в средстве выбора расположения.][3]

### <a name="selecting-a-worker-pool"></a>Выбор рабочего пула
Обычно в службе приложений Azure и за пределами среды ASE для выбора выделенного ценового плана доступны 3 объема вычислительных ресурсов.  Аналогичным образом вы можете определить до 3 рабочих пулов с указанием объема вычислительных ресурсов, используемого для каждого рабочего пула, и для среды ASE.  Для клиентов ASE это означает, что вместо ценового плана с объемом вычислительных ресурсов для вашего плана ASP вы будете использовать так называемый *рабочий пул*.  

В пользовательском интерфейсе рабочего пула под именем отображается объем вычислительных ресурсов, используемый для этого пула.  Доступное количество означает, сколько вычислительных операций доступно для использования в данном пуле.  Фактически общий пул может содержать больше операций, чем указано, а данное значение просто указывает на количество неиспользуемых операций.  Дополнительные сведения о настройке среды ASE для добавления дополнительных вычислительных ресурсов см. в статье [Настройка среды службы приложений](app-service-web-configure-an-app-service-environment.md).

![Снимок экрана, на котором показана область рабочего пула, где можно выбрать пулы рабочих ролей для ASE.][4]

В этом примере доступны только два рабочих пула. Причина в том, что администратор ASE выделил узлы только этим двум рабочим пулам.  Третий будет отображаться, когда ему будут выделены виртуальные машины.  

## <a name="after-web-app-creation"></a>После создания веб-приложения
При запуске веб-приложений и управлении планами ASP в среде ASЕ необходимо учитывать следующее.  

Как отмечалось ранее, владелец ASE отвечает за определение размера системы и, как следствие, обеспечение достаточной емкости для размещения требуемых планов ASP. При отсутствии доступных рабочих ролей вы не сможете создать план ASP.  Это также касается возможности масштабирования веб-приложения.  Если требуется больше экземпляров, необходимо, чтобы администратор среды службы приложений добавил дополнительных исполнителей.

После создания веб-приложения и плана ASP рекомендуется выполнить масштабирование.  Желательно, чтобы в среде ASE всегда было минимум два экземпляра ASP. Это повысит отказоустойчивость ваших приложений.  Масштабирование плана ASP в среде ASE выполняется как обычно с помощью пользовательского интерфейса ASP.  Дополнительные сведения о масштабировании см. в статье [Масштабирование веб-приложения в среде службы приложений](app-service-web-scale-a-web-app-in-an-app-service-environment.md).

<!--Image references-->
[1]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspnewwebapp.png
[2]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createasplocation.png
[3]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspselected.png
[4]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspworkerpool.png
[5]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/selectaspinase.png

<!--Links-->
[WhatisASE]: app-service-app-service-environment-intro.md
[Appserviceplans]: ../overview-hosting-plans.md
[HowtoCreateASE]: app-service-web-how-to-create-an-app-service-environment.md
[HowtoScale]: app-service-web-scale-a-web-app-in-an-app-service-environment.md
[HowtoConfigureASE]: app-service-web-configure-an-app-service-environment.md
[ResourceGroups]: ../../azure-resource-manager/management/overview.md
[AzurePowershell]: /powershell/azure/