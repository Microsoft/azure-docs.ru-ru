---
title: Настройка проверки подлинности Facebook
description: Узнайте, как настроить проверку подлинности Facebook в качестве поставщика удостоверений для службы приложений или приложения функций Azure.
ms.assetid: b6b4f062-fcb4-47b3-b75a-ec4cb51a62fd
ms.topic: article
ms.date: 06/06/2019
ms.custom:
- seodec18
- fasttrack-edit
ms.openlocfilehash: b6aad323c0d6fa8f59c9fad203640c477b162503
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "80519961"
---
# <a name="configure-your-app-service-or-azure-functions-app-to-use-facebook-login"></a>Настройка службы приложений или приложения "функции Azure" для использования имени для входа Facebook

[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

В этой статье показано, как настроить службу приложений Azure или функцию Azure для использования Facebook в качестве поставщика проверки подлинности.

Для выполнения процедуры, описанной в этой статье, требуется учетная запись Facebook с проверенным адресом электронной почты и номером мобильного телефона. Чтобы создать новую учетную запись Facebook, перейдите по ссылке [facebook.com].

## <a name="register-your-application-with-facebook"></a><a name="register"> </a>Регистрация приложения с помощью Facebook

1. Перейдите на веб-сайт [разработчиков Facebook] и выполните вход с использованием учетных данных Facebook.

   Если у вас нет учетной записи Facebook for Developers, щелкните начало **работы** и выполните действия по регистрации.
1. Выберите " **Мои приложения**"  >  **Добавить новое приложение**.
1. В поле **Отображаемое имя** :
   1. Введите уникальное имя для приложения.
   1. Укажите свой **контактный адрес электронной почты**.
   1. Щелкните **Create App ID** (Создать идентификатор приложения).
   1. Завершите проверку безопасности.

   Откроется панель мониторинга разработчика для нового приложения Facebook.
1. Выберите **панель мониторинга**  >  **Facebook вход**  >  **Настройка**  >  **веб-сайта**.
1. В левой области навигации в разделе **имя входа Facebook** выберите **Параметры**.
1. В поле **допустимые URI перенаправления OAuth** введите `https://<app-name>.azurewebsites.net/.auth/login/facebook/callback` . Не забудьте заменить `<app-name>` именем приложения службы приложений Azure.
1. Щелкните **Save changes** (Сохранить изменения).
1. В левой области выберите **Параметры**  >  **базовый**. 
1. В поле **секрет приложения** выберите команду **отобразить**. Скопируйте значения **идентификатора приложения** и **секрета приложения**. Их можно использовать позже для настройки приложения службы приложений в Azure.

   > [!IMPORTANT]
   > Секрет приложения — это важные учетные данные безопасности. Не сообщайте этот секрет никому и не раскрывайте его в клиентском приложении.
   >

1. Учетная запись Facebook, которая использовалась для регистрации приложения, является администратором приложения. На этом этапе только администраторы могут войти в это приложение.

   Для проверки подлинности других учетных записей Facebook выберите **Проверка приложения** и включить сделать общедоступными, чтобы предоставить общий доступ к приложению, используя проверку подлинности Facebook. **\<your-app-name>**

## <a name="add-facebook-information-to-your-application"></a><a name="secrets"> </a>Добавление данных Facebook в приложение

1. Войдите в [портал Azure] и перейдите к приложению службы приложений.
1. Последовательно выберите **Параметры** > **Аутентификация или авторизация** и установите для параметра **Проверка подлинности Службы приложений** значение **Вкл**.
1. Выберите **Facebook** и вставьте значения в поле идентификатор приложения и секрет приложения, полученные ранее. Включите все области, необходимые для приложения.
1. Нажмите кнопку **ОК**.

   ![Снимок экрана параметров Facebook мобильного приложения][0]

    По умолчанию служба приложений обеспечивает проверку подлинности, но не ограничивает разрешенный доступ к содержимому и API-интерфейсам сайта. Необходимо авторизовать пользователей в коде приложения.
1. Используемых Чтобы ограничить доступ только для пользователей, прошедших проверку подлинности в Facebook, задайте **действие, которое будет выполняться, если запрос не прошел проверку подлинности** в **Facebook**. При установке этой функции приложению требуется выполнить проверку подлинности всех запросов. Он также перенаправляет все запросы без проверки подлинности на Facebook для проверки подлинности.

   > [!CAUTION]
   > Таким образом, ограниченный доступ применяется ко всем вызовам приложения, что может быть нежелательно для приложений, у которых есть общедоступная домашняя страница (как во многих одностраничных приложениях). Для таких приложений, возможно, стоит установить параметр **Разрешить анонимные запросы (нет действия)** , чтобы приложение самостоятельно обрабатывало проверку подлинности. Дополнительные сведения см. в разделе [Поток проверки подлинности](overview-authentication-authorization.md#authentication-flow).

1. Щелкните **Сохранить**.

Теперь вы можете использовать Facebook для проверки подлинности в приложении.

## <a name="next-steps"></a><a name="related-content"> </a>Дальнейшие действия

[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->
[0]: ./media/app-service-mobile-how-to-configure-facebook-authentication/mobile-app-facebook-settings.png

<!-- URLs. -->
[разработчиков для Facebook]: https://go.microsoft.com/fwlink/p/?LinkId=268286
[facebook.com]: https://go.microsoft.com/fwlink/p/?LinkId=268285
[Get started with authentication]: /en-us/develop/mobile/tutorials/get-started-with-users-dotnet/
[Портал Azure]: https://portal.azure.com/
