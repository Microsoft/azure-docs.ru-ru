---
title: Краткое руководство. Создание приложения Python в портале Azure
description: Начните работу со Службой приложений Azure, развернув первое приложение Python в контейнере Linux в Службе приложений.
ms.topic: quickstart
ms.date: 04/01/2021
ms.custom: devx-track-python
robots: noindex
ms.openlocfilehash: 42f29152521da7bf90a550248e8429e51b728b24
ms.sourcegitcommit: 6ed3928efe4734513bad388737dd6d27c4c602fd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/07/2021
ms.locfileid: "107012362"
---
# <a name="quickstart-create-a-python-app-using-azure-app-service-on-linux-azure-portal"></a>Краткое руководство. Создание приложения Python с помощью Службы приложений Azure в Linux

В этом кратком руководстве описывается процесс развертывания веб-приложения Python для [службы приложений на платформе Linux](overview.md#app-service-on-linux), высокомасштабируемой службы веб-размещения Azure с самостоятельной установкой исправлений. Чтобы развернуть выборку на платформе Flask или Django, воспользуйтесь порталом Azure. Веб-приложение, которое вы настраиваете, использует базовый уровень службы приложений, который требует небольших затрат в подписке Azure.

## <a name="configure-accounts"></a>Настройка учетных записей

- Если у вас нет учетной записи Azure с активной подпиской, [создайте бесплатную учетную запись](https://azure.microsoft.com/free/?ref=microsoft.com&utm_source=microsoft.com&utm_medium=docs&utm_campaign=visualstudio).

- Если у вас нет учетной записи GitHub, посетите [GitHub.com](https://github.com) , чтобы создать ее. 

## <a name="fork-the-sample-github-repository"></a>Создание вилки для примера из репозитория GitHub

1. Откройте [GitHub.com](https://github.com) и выполните вход.

1. Перейдите к одному из следующих примеров репозиториев:
    - [Flask Hello World](https://github.com/Azure-Samples/python-docs-hello-world)
    - [Django Hello World](https://github.com/Azure-Samples/python-docs-hello-django)

1. В правом верхнем углу страницы GitHub выберите **вилку** , чтобы создать копию репозитория в собственной учетной записи GitHub:

    ![Команда вилки GitHub](media/quickstart-python-portal/github-fork-command.png)

    Для Azure требуется доступ к организации GitHub, содержащей репозиторий. При создании вилки репозитория в своей учетной записи GitHub вы автоматически получите необходимый доступ к нему, а также можете внести изменения в код.

## <a name="provision-the-app-service-web-app"></a>Подготовка веб-приложения Службы приложений

Веб-приложение Службы приложений — это веб-сервер, на котором развертывается код.

1. Откройте портал Azure по адресу [https://portal.azure.com](https://portal.azure.com) и при необходимости войдите в систему.

1. На панели поиска в верхней части портал Azure введите "Служба приложений", а затем выберите **Службы приложений**.

    ![Панель поиска портала и выбор службы приложений](media/quickstart-python-portal/portal-search-bar.png)

1. На странице **Службы приложений** выберите " **+Добавить**:

    ![Команда перезапуска службы приложений](media/quickstart-python-portal/add-app-service.png)

1. На странице **Создание пространства имен** выполните следующие действия.
    
    | Поле | Действие |
    | --- | --- |
    | Подписка | Выберите подписку Azure, которую нужно использовать. |
    | Группа ресурсов | Выберите **создать новый** под раскрывающимся списком. В всплывающем окне введите "AppService-PythonQuickstart" и нажмите кнопку **ОК**. |
    | Имя | Введите уникальное имя для всех Azure, как правило, используя сочетание личных или корпоративных названий, например *contoso-TestApp-123*. |
    | Публикация | Выберите **Код**. |
    | Стек среды выполнения | Выберите **Python 3.8**. |
    | Операционная система | Выберите **Linux** (Python поддерживается только в Linux). |
    | Регион | Выберите ближайшую область. |
    | План Linux | Выберите существующий план службы приложений или создайте новый, используя команду **Создать**. Мы рекомендуем использовать **базовый план B1**. |

    ![Создание веб-приложения на портале Azure](media/quickstart-python-portal/create-web-app.png)

1. В нижней части страницы выберите **Просмотр и создание**, просмотрите сведения, а затем выберите **создать**.

1. После завершения подготовки выберите **Переход к ресурсу**, чтобы открыть страницу службы приложений. Веб-приложение на этом этапе содержит только страницу по умолчанию, поэтому следующий шаг развертывает пример кода.

Возникли проблемы? [Сообщите нам об этом.](https://aka.ms/FlaskPortalQuickstartHelp)

## <a name="deploy-the-sample-code"></a>Развертывание примера

1. На странице веб-приложение на портал Azure выберите **центр развертывания**:
    
    ![Команда центра развертывания в меню службы приложений](media/quickstart-python-portal/deployment-center-command.png)


1. На странице **центр развертывания** выберите вкладку **Параметры**, если она еще не открыта:

    ![Параметры Центра развертывания](media/quickstart-python-portal/deployment-center-settings-tab.png)

1. В разделе **источник** выберите **GitHub**, а затем на появившейся форме **GitHub** выполните следующие действия.

    | Поле | Действие |
    | --- | --- |
    | Вы вошли как | Если вы еще не вошли в GitHub, выполните вход сейчас или выберите **изменить учетную запись*, если это необходимо. |
    | План | При необходимости выберите свою организацию GitHub. |
    | Хранилище | Выберите имя ранее разветвленного репозитория: **Python-документация-Hello-World** (Flask) или **Python-документация-Hello-Django** (Django). |
    | Ветвь | Выберите **Main**. |

    ![Конфигурация источника GitHub в центре развертывания](media/quickstart-python-portal/deployment-center-configure-github-source.png)

1. В верхней части страницы щелкните **сохранить** , чтобы применить параметры.

    ![Сохранение конфигурации источника GitHub в центре развертывания](media/quickstart-python-portal/deployment-center-configure-save.png)

1. Щелкните значок **Уведомления**, чтобы просмотреть состояние развертывания. Создание и развертывание образца и дополнительных журналов появляются в течение нескольких минут. По завершении работы журналы должны отражать состояние **успеха (активно)** :

    ![Журналы Центра развертывания](media/quickstart-python-portal/deployment-center-logs.png)

Возникли проблемы? [Сообщите нам об этом.](https://aka.ms/FlaskPortalQuickstartHelp)

## <a name="browse-to-the-app"></a>Переход в приложение

1. После завершения развертывания выберите **Обзор** в меню слева, чтобы вернуться на главную страницу веб-приложения.

1. Выберите **URL-адрес** приложения, который содержит адрес:

    ![URL веб-приложения на странице обзора](media/quickstart-python-portal/web-app-url.png)

1. Убедитесь, что выходные данные приложения — "Hello, World!":

    ![Приложение, выполняемое после первоначального развертывания](media/quickstart-python-portal/web-app-first-deploy-results.png)

Возникли проблемы? Сначала изучите [руководство по устранению неполадок](configure-language-python.md#troubleshooting). Если проблему решить не удается, [свяжитесь с нами](https://aka.ms/FlaskPortalQuickstartHelp).

## <a name="make-a-change-and-redeploy"></a>Внесение изменений и повторное развертывание

Так как вы подключили службу приложений к репозиторию, изменения, зафиксированные в исходном репозитории, автоматически развертываются в веб-приложении.

1. Вы можете вносить изменения непосредственно в разветвленный репозиторий на GitHub или клонировать репозиторий локально, вносить и зафиксировать изменения, а затем отправлять эти изменения в GitHub. Любой из этих методов приводит к изменению репозитория, подключенного к службе приложений.

1. **В разветвленном репозитории** измените сообщение приложения с "Hello, World!" на "Hello Azure!" следующим образом:
    - Flask (пример python-docs-hello-world). Измените текстовую строку в строке 6 файла *application.py*.
    - Django (пример python-docs-hello-django). Измените текстовую строку в строке 5 файла *views.py* в папке *Hello*.

1. Зафиксируйте изменения в репозитории.

    Если вы используете локальный клон, также отправьте эти изменения в GitHub.

1. На портал Azure веб-приложения вернитесь в **центр развертывания**, перейдите на вкладку **журналы** и обратите внимание на новое действие развертывания, которое должно быть завершено.

1. Когда развертывание будет завершено, вернитесь на страницу **обзора** веб-приложения, снова откройте URL-адрес приложения и просмотрите изменения в приложении:

    ![Приложение, выполняемое после повторного развертывания](media/quickstart-python-portal/web-app-second-deploy-results.png)

Возникли проблемы? Сначала изучите [руководство по устранению неполадок](configure-language-python.md#troubleshooting). Если проблему решить не удается, [свяжитесь с нами](https://aka.ms/FlaskCLIQuickstartHelp).

## <a name="clean-up-resources"></a>Очистка ресурсов

На предыдущих шагах вы создали ресурсы Azure в группе ресурсов с именем "AppService-PythonQuickstart", которая показана на странице *Обзор* веб-приложения. Если веб-приложение продолжит выполняться, с вас начнет взиматься плата (см. сведения о [ценах на Службу приложений](https://azure.microsoft.com/pricing/details/app-service/linux/)).

Если вы не хотите, чтобы эти ресурсы появлялись в будущем, выберите имя группы ресурсов на странице **Обзор** веб-приложения для перехода к разделу Общие сведения о группах ресурсов. Выберите **Удалить группу ресурсов** и следуйте инструкциям.

![Удаление группы ресурсов](media/quickstart-python-portal/delete-resource-group.png)


Возникли проблемы? [Сообщите нам об этом.](https://aka.ms/FlaskCLIQuickstartHelp)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Руководство. Веб-приложение Python (Django) с PostgreSQL](/azure/developer/python/tutorial-python-postgresql-app-portal)

> [!div class="nextstepaction"]
> [Настройка приложения Python](configure-language-python.md)

> [!div class="nextstepaction"]
> [Добавление возможности входа пользователя в веб-приложение Python](../active-directory/develop/quickstart-v2-python-webapp.md)

> [!div class="nextstepaction"]
> [Руководство. Запуск приложения Python в настраиваемом контейнере](tutorial-custom-container.md)
