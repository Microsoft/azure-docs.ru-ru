---
title: Базовый план безопасности Azure для службы приложений
description: Базовый план безопасности службы приложений содержит руководство по использованию процедур и ресурсы для реализации рекомендаций по безопасности, указанных в статье о производительности системы безопасности Azure.
author: msmbaldwin
ms.service: app-service
ms.topic: conceptual
ms.date: 02/17/2021
ms.author: mbaldwin
ms.custom: subject-security-benchmark
ms.openlocfilehash: dd612e7e3c54a000d989c5a2f3a633d06d6d11cb
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101718358"
---
# <a name="azure-security-baseline-for-app-service"></a>Базовый план безопасности Azure для службы приложений

Базовый план безопасности Azure для службы приложений содержит рекомендации, которые помогут повысить уровень безопасности развертывания. Базовый план безопасности для этой службы взят из [Эталона безопасности Azure версии 1.0](../security/benchmarks/overview-v1.md), содержащего рекомендации по обеспечению безопасности облачных решений в Azure с помощью наших практических рекомендаций. Содержимое группируются по **элементам управления безопасностью** , определенным в производительности системы безопасности Azure, и связанным рекомендациям, применимым к службе приложений. **Элементы управления** , неприменимые к службе приложений, были исключены.

Чтобы увидеть, как служба приложений полностью сопоставляется с тестовым показателем безопасности Azure, см. [полный файл сопоставления базовых показателей безопасности службы приложений](https://github.com/MicrosoftDocs/SecurityBenchmarks/tree/master/Azure%20Offer%20Security%20Baselines).

## <a name="network-security"></a>Безопасность сети

*Дополнительные сведения см. в статье [Azure Security Benchmark: безопасность сети](../security/benchmarks/security-control-network-security.md).*

### <a name="11-protect-azure-resources-within-virtual-networks"></a>1,1: защита ресурсов Azure в виртуальных сетях

**Руководство**. при использовании службы приложений в ценовой категории "изолированный" также называется среда службы приложений (ASE), которую можно развернуть непосредственно в подсети в виртуальной сети Azure. Используйте группы безопасности сети для защиты Среда службы приложений Azure, блокируя входящий и исходящий трафик для ресурсов в виртуальной сети или ограничивая доступ к приложениям в Среда службы приложений.

По умолчанию группы безопасности сети включают правило неявного запрета с наименьшим приоритетом, а также требуют добавления явных правил разрешения. Добавьте разрешающие правила для группы безопасности сети, основываясь на подходе с минимальными правами доступа к сети. Базовые виртуальные машины, используемые для размещения Среда службы приложений, недоступны напрямую, так как они находятся в подписке, управляемой корпорацией Майкрософт.

Защитите Среда службы приложений путем маршрутизации трафика через шлюз приложений Azure с включенным брандмауэром веб-приложения (WAF). Используйте конечные точки службы в сочетании с шлюзом приложений для защиты входящего трафика публикации в приложении.  

В службе приложений с несколькими клиентами (приложение не находится на изолированном уровне) используйте группы безопасности сети, чтобы блокировать исходящий трафик из приложения. Предоставление приложениям доступа к ресурсам в виртуальной сети или через виртуальную сеть с помощью функции интеграции с виртуальной сетью. Эта функция также может использоваться для блокировки исходящего трафика на общедоступные адреса из приложения. Интеграция виртуальной сети не может использоваться для предоставления входящего доступа к приложению.  

Защита входящего трафика для приложения с помощью:
- Ограничения доступа — ряд правил Allow или Deny, управляющих входящим доступом.
- Конечные точки службы — могут запрещать входящий трафик извне указанных виртуальных сетей или подсетей.
- Частные конечные точки. Предоставьте свое приложение виртуальной сети с частным IP-адресом. Если в приложении включены частные конечные точки, они больше не доступны в Интернете.

При использовании функции интеграции виртуальной сети с виртуальными сетями в том же регионе используйте группы безопасности сети и таблицы маршрутов с определяемыми пользователем маршрутами. Определяемые пользователем маршруты могут быть помещены в подсеть интеграции для отправки исходящего трафика в соответствии с предназначением.  

Рассмотрите возможность реализации брандмауэра Azure для централизованного создания, принудительного применения и регистрации политик приложений и сетевых подключений в подписках и виртуальных сетях. Брандмауэр Azure использует статический общедоступный IP-адрес для ресурсов виртуальной сети, что позволяет внешним брандмауэрам обнаруживать трафик, поступающий из виртуальной сети. 

- [Блокирование среды службы приложений](environment/firewall-integration.md)

- [Открытие проекта безопасности веб-приложений (OWASP) первые 10 уязвимостей защиты](https://owasp.org/www-project-top-ten/)

- [Группы безопасности сети](../virtual-network/network-security-groups-overview.md)

- [Интеграция приложения с виртуальной сетью Azure](web-sites-integrate-with-vnet.md)

- [Рекомендации по работе с сетями в среде службы приложений](environment/network-info.md)

- [Создание внешнего ASE](environment/create-external-ase.md)

- [Создание внутреннего ASE](environment/create-ilb-ase.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Network**:

[!INCLUDE [Resource Policy for Microsoft.Network 1.1](../../includes/policy/standards/asb/rp-controls/microsoft.network-1-1.md)]

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 1.1](../../includes/policy/standards/asb/rp-controls/microsoft.web-1-1.md)]

### <a name="12-monitor-and-log-the-configuration-and-traffic-of-virtual-networks-subnets-and-network-interfaces"></a>1,2. Мониторинг и запись конфигурации и трафика виртуальных сетей, подсетей и сетевых интерфейсов

**Руководство**. Реализация рекомендаций по защите сети из центра безопасности Azure для защиты сетевых ресурсов и конфигураций, связанных с приложениями службы приложений и API-интерфейсами.

Используйте брандмауэр Azure для отправки трафика и централизованного создания, принудительного применения и регистрации политик приложений и сетевых подключений в подписках и виртуальных сетях. Брандмауэр Azure использует статический общедоступный IP-адрес для ресурсов виртуальной сети, что позволяет внешним брандмауэрам обнаруживать трафик, поступающий из виртуальной сети. Служба брандмауэра Azure также полностью интегрирована с Azure Monitor для ведения журналов и анализа.

- [Общие сведения о брандмауэре Azure](../firewall/overview.md)

- [Общие сведения о безопасности сети, предоставляемой центром безопасности Azure](../security-center/security-center-network-recommendations.md)

- [Включение мониторинга и защиты службы приложений](../security-center/defender-for-app-service-introduction.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Network**:

[!INCLUDE [Resource Policy for Microsoft.Network 1.2](../../includes/policy/standards/asb/rp-controls/microsoft.network-1-2.md)]

### <a name="13-protect-critical-web-applications"></a>1.3. Защита критических веб-приложений

**Рекомендации**. Защитите доступное Интернет-приложение в среда службы приложений (ASE) следующим образом:
- Развертывание брандмауэра веб-приложения (WAF) с помощью шлюза приложений Azure перед приложением, подключенным к Интернету
- Использование ограничений доступа для защиты входящего трафика к шлюзу приложений
- Защита приложения с помощью Azure Active Directory (Azure AD) для обеспечения проверки подлинности
- Установите для минимальной версии TLS значение 1,2.
- Задать только для приложения HTTPS

Разработайте весь трафик приложений с помощью устройства брандмауэра Azure и отслеживайте журналы. 

Защита приложения, доступного через Интернет, в службе приложений с несколькими клиентами (например, не на изолированном уровне)
- Развертывание устройства с поддержкой брандмауэра для веб-приложения перед приложением
- Используйте ограничения доступа или конечные точки службы для защиты входящего трафика на устройстве веб-приложения (WAF).
- Защита приложения с помощью Azure AD для обеспечения проверки подлинности
- Установите для минимальной версии TLS значение 1,2.
- Задать только для приложения HTTPS
- Используйте интеграцию с виртуальной сетью и параметр приложения WEBSITE_VIRTUAL NETWORK_ROUTE_ALL, чтобы весь исходящий трафик направляться в группы безопасности сети и определяемые пользователем маршруты в подсети интеграции.

Аналогично приложению среды службы приложений, выполняйте исходящий трафик всех приложений через устройство брандмауэра Azure и отслеживайте журналы в приложении.

Кроме того, проверьте и следуйте рекомендациям в блокировке Среда службы приложений документа.

- [Блокирование среды службы приложений](environment/firewall-integration.md)

- [Брандмауэр веб-приложения Azure в шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

- [Ограничения доступа для службы приложений Azure](app-service-ip-restrictions.md)

- [Отслеживайте WAF оповещения и легко Контролируйте тенденции с помощью Azure Monitor ](../azure-monitor/overview.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 1.3](../../includes/policy/standards/asb/rp-controls/microsoft.web-1-3.md)]

### <a name="14-deny-communications-with-known-malicious-ip-addresses"></a>1,4: запретите обмен данными с известными вредоносными IP-адресами

**Рекомендации**. защитите среда службы приложений, как описано в разделе Блокировка среда службы приложенийной документации. Примените интегрированные функции аналитики угроз в центре безопасности Azure, чтобы запретить обмен данными с известными вредоносными или неиспользуемыми общедоступными IP-адресами. Используйте ограничения доступа для защиты входящего трафика к шлюзу приложений. 

Обеспечьте безопасность службы приложений с несколькими клиентами (приложение не находится на изолированном уровне) с общедоступной конечной точкой для выхода в Интернет. Он разрешает трафик только из определенной подсети в виртуальной сети и блокирует все остальное. Используйте ограничения доступа для настройки списков управления доступом к сети (ограничения IP-адресов), чтобы заблокировать разрешенный входящий трафик.

Определите приоритет в упорядоченном списке разрешений или запретов, чтобы управлять сетевым доступом к приложению. Этот список может включать IP-адреса или подсети виртуальной сети. Неявное правило "Deny All" существует в конце списка, если оно содержит одну или несколько записей. Эта возможность работает со всеми рабочими нагрузками, размещенными в службе приложений, включая веб-приложения, приложения API, приложения Linux, приложения-контейнеры Linux и функции. 

Используйте конечные точки службы, чтобы ограничить доступ к веб-приложению из виртуальной сети Azure. Ограничьте доступ к службе приложений с несколькими клиентами (приложение не находится на изолированном уровне) из выбранных подсетей с конечными точками службы. 

- [Ограничения статических IP-адресов в службе приложений Azure](app-service-ip-restrictions.md)

- [Брандмауэр веб-приложения Azure в шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

- [Настройка брандмауэра веб-приложения (WAF) для Среда службы приложений](environment/app-service-app-service-environment-web-application-firewall.md)

- [Защитите ASE, как описано в разделе Блокировка Среда службы приложений](environment/firewall-integration.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Network**:

[!INCLUDE [Resource Policy for Microsoft.Network 1.4](../../includes/policy/standards/asb/rp-controls/microsoft.network-1-4.md)]

### <a name="15-record-network-packets"></a>1,5: запись сетевых пакетов

**Руководство**. отслеживает запросы и ответы, отправляемые в приложения службы приложений и из него с помощью центра безопасности. Атаки на веб-приложение можно отслеживать с помощью шлюза приложений в режиме реального времени с брандмауэром веб-приложения, включенным с интегрированным ведением журнала из Azure Monitor для отслеживания предупреждений брандмауэра веб-приложения и простоты отслеживания тенденций.

- [Подробные сведения о брандмауэре веб-приложения Azure в Шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Network**:

[!INCLUDE [Resource Policy for Microsoft.Network 1.5](../../includes/policy/standards/asb/rp-controls/microsoft.network-1-5.md)]

### <a name="17-manage-traffic-to-web-applications"></a>1.7. Управление трафиком к веб-приложениям

**Руководство**. Управление трафиком для приложения в среда службы приложений:

- Защитите Среда службы приложений, как описано в разделе Блокировка Среда службы приложений
- Развертывание шлюза приложений с брандмауэром веб-приложения Azure на передней панели приложений, подключенных к Интернету
- Настроить доступ к приложению только по протоколу HTTPS

Управление трафиком для приложения, доступного через Интернет, в службе приложений с несколькими клиентами (не на изолированном уровне): 

- Развертывание шлюза приложений с включенным брандмауэром веб-приложения Azure на передней панели приложений, подключенных к Интернету
- Используйте ограничения доступа или конечные точки службы для защиты входящего трафика в брандмауэре веб-приложения. Функция ограничений доступа работает со всеми рабочими нагрузками, размещенными в службе приложений, включая веб-приложения, приложения API, приложения Linux, приложения-контейнеры Linux и функции.

- Настроить доступ к приложению только по протоколу HTTPS
- Ограничьте доступ к приложению службы приложений с ограничениями статических IP-адресов таким образом, чтобы он получал только трафик из виртуальной ЛС в шлюзе приложений в качестве единственного адреса с доступом.

Дополнительные сведения см. в ссылках на ссылки.

- [Ограничения статических IP-адресов в службе приложений Azure](app-service-ip-restrictions.md)

- [Брандмауэр веб-приложения Azure в шлюзе приложений Azure](../web-application-firewall/ag/ag-overview.md)

- [Настройка сквозного протокола TLS с помощью шлюза приложений на портале](../application-gateway/end-to-end-ssl-portal.md)

- [Защитите ASE, как описано в разделе Блокировка службы приложений.](/azure/app-service/environment/firewall-integrationEnvironment:)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="18-minimize-complexity-and-administrative-overhead-of-network-security-rules"></a>1.8. Уменьшение сложности и дополнительных затрат на администрирование в правилах безопасности сети

**Руководство**. служба приложений имеет ряд конечных точек, которые используются для управления службой. Эти адреса конечных точек также включены в тег службы Аппсервицеманажемент IP. Тег Аппсервицеманажемент используется только с Среда службы приложений, чтобы разрешить такой трафик. 

Можно разрешить или запретить трафик для соответствующей службы, указав имя тега службы в соответствующем исходном или целевом поле правила. Входящие адреса службы приложений отправляются в теге AppService IP Service. Отсутствует тег службы IP-адресов, содержащий исходящие адреса, используемые службой приложений.

Корпорация Майкрософт управляет префиксами адресов, входящих в тег службы, и автоматически обновляет этот тег при изменении адресов.

- [Теги службы виртуальной сети](../virtual-network/service-tags-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="19-maintain-standard-security-configurations-for-network-devices"></a>1.9. Поддержание стандартных конфигураций безопасности для сетевых устройств

**Руководство**. Определение и реализация стандартных конфигураций безопасности для сетевых параметров, связанных с приложениями службы приложений. 

Сохраняйте конфигурации безопасности с помощью псевдонимов политик Azure в пространствах имен Microsoft. Web и Microsoft. Network. Создание настраиваемых политик для аудита или принудительного применения сетевой конфигурации приложений службы приложений. 

Используйте встроенные определения политик для службы приложений, например:
- Приложение должно использовать конечную точку службы виртуальной сети
- Приложение должно быть доступно только по протоколу HTTPS
- Установка минимальной версии TLS для текущей версии

Дополнительные сведения см. в ссылках на ссылки.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Настройка сквозного протокола TLS с помощью шлюза приложений на портале](../application-gateway/end-to-end-ssl-portal.md)

- [Защитите ASE, как описано в разделе Блокировка службы приложений.](/azure/app-service/environment/firewall-integrationEnvironment:)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="110-document-traffic-configuration-rules"></a>1.10. Документация по правилам конфигурации трафика

**Руководство**. Использование тегов для групп безопасности сети и других связанных ресурсов, включая поток трафика в службе приложений.

Укажите потребности бизнеса, длительность и т. д. с помощью поля "Description" (описание) для правил, разрешающих трафик из сети для отдельных правил групп безопасности сети.

Примените все встроенные определения политик Azure, связанные с эффектами тегов, например "требовать тег и его значение", чтобы убедиться, что все ресурсы созданы с помощью тегов и уведомлять вас о существующих ресурсах без тегов. Используйте Azure PowerShell или Azure CLI для поиска или выполнения действий с ресурсами на основе их тегов.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

- [Ограничения доступа для службы приложений Azure](/azure/app-service/app-service-ip-restriction)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="111-use-automated-tools-to-monitor-network-resource-configurations-and-detect-changes"></a>1.11. Использование автоматизированных средств для мониторинга конфигураций сетевых ресурсов и обнаружения изменений

**Руководство**. Использование журнала действий Azure для мониторинга конфигураций сетевых ресурсов и обнаружения изменений сетевых параметров и любых ресурсов, связанных со службой приложений. 

Примените одно из нескольких встроенных определений политики Azure для службы приложений, например политику, которая выполняет аудит приложений для использования службы конечной точки виртуальной сети. Создавайте оповещения в Azure Monitor, чтобы активировать изменения в критических сетевых параметрах или ресурсах. 

Просмотрите подробные оповещения и рекомендации системы безопасности в центре безопасности на портале или с помощью программных средств. Экспортируйте эти сведения или отправьте их другим средствам мониторинга в вашей среде. Доступны средства для экспорта оповещений и рекомендаций как вручную, так и постоянно и непрерывно. Эти средства позволяют вам:
 
- Непрерывный экспорт в рабочую область Log Analytics
- Непрерывный экспорт в концентраторы событий Azure (для интеграции со сторонними решения Siem)
- Экспорт в CSV-файл (один раз)

Рекомендуется создать процесс с автоматизированными инструментами для мониторинга конфигураций сетевых ресурсов и быстрого обнаружения изменений.

- [Как просматривать и извлекать события журнала действий Azure](/azure/azure-monitor/platform/activity-log#view-the-activity-log)

- [Как создать оповещения в службе Azure Monitor](/azure/azure-monitor/platform/alerts-activity-log)

- [Экспорт оповещений о безопасности и рекомендаций](../security-center/continuous-export.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="logging-and-monitoring"></a>Ведение журналов и мониторинг

*Дополнительные сведения см. в статье [производительность системы безопасности Azure: ведение журнала и мониторинг](../security/benchmarks/security-control-logging-monitoring.md).*

### <a name="22-configure-central-security-log-management"></a>2.2. Настройка централизованного управления журналами безопасности

**Руководство**. Интеграция среда службы приложений (ASE) с Azure Monitor для отправки журналов в службу хранилища Azure, в концентраторы событий azure или log Analytics. Включите параметры диагностики журнала действий Azure для ведения журнала аудита плоскости управления. Оповещения системы безопасности из центра безопасности публикуются в журнале действий Azure. Аудит данных журнала действий Azure, позволяющий определить "что, кто и когда" для любых операций записи (размещение, публикация, удаление), выполненных на уровне плоскости управления для службы приложений Azure и других ресурсов Azure. Сохраняйте запросы для будущего использования, закрепите результаты запросов на панелях мониторинга Azure и создавайте оповещения журнала. Кроме того, используйте REST API доступа к данным в Application Insights для программного доступа к телеметрии.

Используйте Microsoft Azure Sentinel, масштабируемое облачное управление событиями безопасности (SIEM), доступное для подключения к различным источникам данных и соединителям в зависимости от бизнес-требований. Вы также можете включить и встроенные данные в сторонние системы управления событиями безопасности (SIEM), например Barracuda в Azure Marketplace.

- [Ведение журнала действий ASE](https://docs.microsoft.com/azure/app-service/environment/using-an-ase#logging)

- [Включение параметров диагностики для службы приложений Azure](troubleshoot-diagnostic-logs.md)

- [Включение Application Insights](../azure-monitor/app/app-insights-overview.md)

- [Экспорт данных телеметрии из Application Insights](../azure-monitor/app/export-telemetry.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="23-enable-audit-logging-for-azure-resources"></a>2.3. Включение журналов аудита для ресурсов Azure

**Руководство**. Включение параметров диагностики журнала действий Azure для ведения журнала аудита на плоскости управления службы приложений. Отправьте журналы в рабочую область Log Analytics, в концентратор событий Azure или в учетную запись хранения Azure.

"Что, кто и когда" для любых операций записи (размещение, публикация, удаление), выполненных на уровне плоскости управления, можно определить с помощью данных журнала действий Azure для службы приложений и других ресурсов Azure.

Кроме того, Azure Key Vault обеспечивает централизованное управление секретами с помощью политик доступа и журнала аудита. 

- [Как включить параметры диагностики для журнала действий Azure](/azure/azure-monitor/platform/activity-log)

- [Включение параметров диагностики для службы приложений Azure](troubleshoot-diagnostic-logs.md)

- [диспетчер ресурсов операции](../role-based-access-control/resource-provider-operations.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 2.3](../../includes/policy/standards/asb/rp-controls/microsoft.web-2-3.md)]

### <a name="25-configure-security-log-storage-retention"></a>2.5. Настройка хранения журнала безопасности

**Рекомендации**. в Azure Monitor задайте срок хранения журнала для рабочих областей log Analytics, связанных с ресурсами службы приложений, в соответствии с нормативными требованиями Организации.
- [Настройка параметров хранения журнала](/azure/azure-monitor/platform/manage-cost-storage#change-the-data-retention-period)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="26-monitor-and-review-logs"></a>2,6: мониторинг и просмотр журналов

**Руководство**. Проверьте параметры диагностики журнала действий Azure в ресурсах службы приложений с помощью журналов, отправляемых в рабочую область log Analytics. Выполняйте запросы в Log Analytics для поиска терминов, определения тенденций, анализа шаблонов и предоставления многих других сведений на основе собранных данных.

Используйте Application Insights для приложений службы приложений и собирайте данные журналов, производительности и ошибок. Просмотр данных телеметрии, собранных Application Insights в портал Azure.

Если вы развернули брандмауэр веб-приложения (WAF), вы можете отслеживать атаки на приложения службы приложений с помощью журнала брандмауэра веб-приложения в реальном времени. Этот журнал интегрируется с Azure Monitor для отслеживания предупреждений брандмауэра веб-приложения и легкого мониторинга тенденций.

Используйте Azure Sentinel, масштабируемое и собственное облачное управление событиями безопасности (SIEM) для интеграции с различными источниками данных и соединителями в соответствии с требованиями. При необходимости включите и подключите данные к сторонним решениям для управления событиями безопасности в Azure Marketplace.

- [Как включить параметры диагностики для журнала действий Azure](/azure/azure-monitor/platform/activity-log)

- [Включение Application Insights](../azure-monitor/app/app-insights-overview.md)

- [Интеграция Среда службы приложений с шлюзом приложений Azure (WAF)](environment/integrate-with-application-gateway.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="27-enable-alerts-for-anomalous-activities"></a>2,7: Включение оповещений для аномальных действий

**Руководство**. Настройка центра безопасности в подписке Azure и проверка созданных предупреждений. Используйте Azure Monitor, чтобы получить данные журнала действий в концентраторе событий, где их можно прочитать с помощью решения для управления событиями безопасности (SIEM), такого как Azure Sentinel. 

Отслеживайте атаки на приложения службы приложений с помощью журнала брандмауэра веб-приложения в реальном времени с развернутым брандмауэром веб-приложения Azure (WAF). Этот журнал интегрируется с Azure Monitor для отслеживания оповещений брандмауэра веб-приложения (WAF) и легкого мониторинга тенденций.

- [Интеграция Среда службы приложений с шлюзом приложений Azure (WAF)](environment/integrate-with-application-gateway.md)

- [Экспорт оповещений о безопасности и рекомендаций](../security-center/continuous-export.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="identity-and-access-control"></a>Идентификатор и управление доступом

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: идентификация и управление доступом](../security/benchmarks/security-control-identity-access-control.md).*

### <a name="31-maintain-an-inventory-of-administrative-accounts"></a>3.1. Инвентаризация учетных записей администраторов

**Руководство**. Azure Active Directory (Azure AD) содержит встроенные роли, которые должны быть явно назначены и доступны для запросов. Используйте модуль Azure AD PowerShell для выполнения нерегламентированных запросов для обнаружения учетных записей, входящих в группы администраторов.

- [Как получить членов роли каталога в Azure AD с помощью PowerShell](https://docs.microsoft.com/powershell/module/azuread/get-azureaddirectoryrolemember?view=azureadps-2.0&amp;preserve-view=true)

- [Использование управляемых удостоверений в Службе приложений и Функциях Azure](https://docs.microsoft.com/azure/app-service/overview-managed-identity?context=azure%2Factive-directory%2Fmanaged-identities-azure-resources%2Fcontext%2Fmsi-context&amp;tabs=dotnet)

- [Назначение ролей Azure с помощью портала Azure](../role-based-access-control/role-assignments-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="32-change-default-passwords-where-applicable"></a>3.2. Изменение паролей по умолчанию, где применимо

**Руководство**. Azure Active Directory (Azure AD) не имеет концепции паролей по умолчанию. Он предоставляет плоскости управления доступ к службе приложений.

Как правило, не рекомендуется реализовывать пароли по умолчанию для доступа пользователей при создании собственных приложений. Используйте один из поставщиков удостоверений, доступных по умолчанию для службы приложений, например Azure AD, учетная запись Майкрософт, Facebook, Google или Twitter.

Отключите анонимный доступ, если не требуется его поддержка. 

- [Поставщики удостоверений, доступные по умолчанию в службе приложений Azure](https://docs.microsoft.com/azure/app-service/overview-authentication-authorization#identity-providers)

- [Проверка подлинности и авторизация в службе приложений Azure и функциях Azure](overview-authentication-authorization.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="33-use-dedicated-administrative-accounts"></a>3.3. Применение выделенных административных учетных записей

**Руководство**. Создайте стандартные операционные процедуры для использования выделенных административных учетных записей. Используйте функции управления удостоверениями и доступом в центре безопасности, чтобы отслеживать и отслеживать количество административных учетных записей. 

Используйте рекомендации из центра безопасности или встроенных политик Azure, например:

- В подписке должно быть назначено более одного владельца. 
- Устаревшие учетные записи с разрешениями владельца следует удалять из подписки.
- Внешние учетные записи с разрешениями владельца следует удалять из подписки.

Создайте процесс отслеживания конфигураций сетевых ресурсов и обнаружения изменений в административных учетных записях.

- [Как использовать центр безопасности Azure для мониторинга удостоверений и доступа](../security-center/security-center-identity-access.md)

- [Использование Политики Azure](../governance/policy/tutorials/create-and-manage.md)

- [Дополнительные сведения о предоставлении пользователям доступа к приложениям](../role-based-access-control/overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="34-use-azure-active-directory-single-sign-on-sso"></a>3,4. Использование единого входа Azure Active Directory (SSO)

**Руководство**. Проверка подлинности службы приложений с помощью Azure Active Directory (Azure AD). Он предоставляет службу OAuth 2,0 для поставщика удостоверений и обеспечивает санкционированный доступ к мобильным и веб-приложениям. 

Приложения службы приложений используют федеративный идентификатор, при котором сторонний поставщик удостоверений управляет удостоверениями пользователей и потоком проверки подлинности. Эти поставщики удостоверений доступны по умолчанию.

- Azure AD
- Учетная запись Майкрософт

- Facebook

- Google

- Twitter

При включении проверки подлинности и авторизации с помощью одного из этих поставщиков конечная точка входа станет доступной для проверки подлинности пользователя и для проверки токенов проверки подлинности от поставщика.

- [Общие сведения о проверке подлинности и авторизации в службе приложений Azure](https://docs.microsoft.com/azure/app-service/overview-authentication-authorization#identity-providers)

- [Сведения о проверке подлинности и авторизации в службе приложений Azure](overview-authentication-authorization.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="35-use-multi-factor-authentication-for-all-azure-active-directory-based-access"></a>3,5: используйте многофакторную проверку подлинности для всех Azure Active Directory доступа

**Рекомендации**. Включите функцию многофакторной проверки подлинности в Azure Active Directory (Azure AD) и следуйте рекомендациям по управлению удостоверениями и доступом в центре безопасности.

Реализуйте многофакторную проверку подлинности для Azure AD. Администраторам необходимо обеспечить защиту учетных записей подписки на портале. Подписка уязвима для атак, так как она управляет созданными ресурсами. 

- [Многофакторная проверка подлинности Azure Security](/azure/security/develop/secure-aad-app)

- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

- [Мониторинг идентификации и доступа в Центре безопасности Azure](../security-center/security-center-identity-access.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="36-use-secure-azure-managed-workstations-for-administrative-tasks"></a>3,6: используйте защищенные рабочие станции, управляемые Azure, для административных задач

**Руководство**. Использование рабочих станций привилегированного доступа (привилегированным доступом) с многофакторной проверкой подлинности, настроенной для входа и настройки ресурсов Azure. 

- [Использование рабочих станций с привилегированным доступом](https://4sysops.com/archives/understand-the-microsoft-privileged-access-workstation-paw-security-model/)

- [Как включить многофакторную проверку подлинности в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="37-log-and-alert-on-suspicious-activities-from-administrative-accounts"></a>3,7: журналы и оповещения о подозрительных действиях учетных записей администраторов

**Руководство**. Использование управление привилегированными пользователями (PIM) в Azure Active Directory (Azure AD) для создания журналов и оповещений при возникновении подозрительных или ненадежных действий в среде.

Кроме того, используйте обнаружение рисков Azure AD для просмотра оповещений и отчетов об опасном поведении пользователя.

Защита от угроз в центре безопасности обеспечивает комплексную защиту вашей среды, включая защиту от угроз для ресурсов Azure, таких как компьютеры Windows, компьютеры Linux, службы приложений и контейнеры Azure.

- [Развертывание Privileged Identity Management (PIM)](../active-directory/privileged-identity-management/pim-deployment-plan.md)

- [Общие сведения об обнаружении рисков в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

- [Защита от угроз для ресурсов вычислений Azure](../security-center/azure-defender.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="38-manage-azure-resources-from-only-approved-locations"></a>3.8. Управление ресурсами Azure только из утвержденных расположений

**Руководство**. Используйте условный доступ с именованными расположениями, чтобы разрешить доступ к портал Azure только из конкретных логических групп диапазонов IP-адресов, стран или регионов.

- [Настройка именованных расположений в Azure](../active-directory/reports-monitoring/quickstart-configure-named-locations.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="39-use-azure-active-directory"></a>3.9. Использование Azure Active Directory

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве централизованной системы проверки подлинности и авторизации для приложений службы приложений. Azure AD защищает данные с помощью надежного шифрования для неактивных и транзитных данных, а также для использования случайных значений, хэшей и безопасного хранения учетных данных пользователя.

- [Настройка приложений службы приложений Azure для использования имени для входа Azure AD](configure-authentication-provider-aad.md)

- [Создание и настройка экземпляра Azure AD](../active-directory/fundamentals/active-directory-access-create-new-tenant.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="310-regularly-review-and-reconcile-user-access"></a>3.10. Регулярная проверка и согласование доступа пользователей

**Руководство**. Обнаружение устаревших учетных записей с помощью журналов, предоставленных Azure Active Directory (Azure AD). Используйте проверки доступа удостоверений Azure для эффективного управления членством в группах и доступом к корпоративным приложениям, а также назначения ролей. Периодически просматривайте доступ пользователей, чтобы убедиться, что доступ к ним имеют только предполагаемые пользователи. 

- [Общие сведения об отчетах Azure AD](/azure/active-directory/reports-monitoring/)

- [Использование проверок доступа для идентификации Azure](../active-directory/governance/access-reviews-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="311-monitor-attempts-to-access-deactivated-credentials"></a>3,11: монитор пытается получить доступ к отключенным учетным данным

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве централизованной системы проверки подлинности и авторизации для приложений службы приложений. Azure AD защищает данные с помощью надежного шифрования для неактивных и транзитных, Salt-значений, хэшей и безопасного хранения учетных данных пользователя.

Доступ к источникам журналов событий входа, аудита и риска в Azure AD позволяет интегрироваться с Sentinel Azure или сторонним решением по управлению событиями информационной безопасности (SIEM). Оптимизируйте процесс, создав параметры диагностики для учетных записей пользователей Azure AD и отправив журналы аудита и входа в рабочую область Log Analytics. Требуемые оповещения журнала можно настроить в Log Analytics.

- [Настройка приложений службы приложений Azure для использования имени для входа Azure AD](configure-authentication-provider-aad.md)

- [Как интегрировать журналы действий Azure в Azure Monitor](/azure/active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="312-alert-on-account-sign-in-behavior-deviation"></a>3,12: предупреждение об отклонении при входе в учетную запись

**Руководство**. Использование Azure Active Directory (Azure AD) в качестве централизованной системы проверки подлинности и авторизации для приложений службы приложений. 

Используйте защита идентификации Azure AD, чтобы настроить автоматические ответы на обнаруженные подозрительные действия, связанные с удостоверениями пользователей, например, отклонения учетной записи для входа в систему управления с портал Azure. Вы также можете включить данные в Azure Sentinel для дальнейшего изучения. 

- [Настройка приложения службы приложений Azure для использования имени входа Azure AD](configure-authentication-provider-aad.md)

- [Просмотр рискованных входов в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

- [Как настроить и включить политики рисков с помощью защиты идентификации](../active-directory/identity-protection/howto-identity-protection-configure-risk-policies.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="313-provide-microsoft-with-access-to-relevant-customer-data-during-support-scenarios"></a>3.13. Предоставление корпорации Майкрософт доступа к соответствующим данным клиентов в рамках сценариев поддержки

**Руководство**: недоступно; Защищенное хранилище не поддерживается для службы приложений Azure.

- [Список поддерживаемых служб защищенного хранилища](https://docs.microsoft.com/azure/security/fundamentals/customer-lockbox-overview#supported-services-and-scenarios-in-general-availability)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-protection"></a>Защита данных

*Дополнительные сведения см. в статье [Azure Security Benchmark: защита данных](../security/benchmarks/security-control-data-protection.md).*

### <a name="41-maintain-an-inventory-of-sensitive-information"></a>4.1. Инвентаризация конфиденциальных данных

**Руководство**. Использование тегов для отслеживания ресурсов службы приложений, в которых хранятся или обрабатываются конфиденциальные данные.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="42-isolate-systems-storing-or-processing-sensitive-information"></a>4.2. Изолирование систем, хранящих или обрабатывающих конфиденциальные данные

**Рекомендации**. для среда службы приложений реализуйте отдельные подписки, группы управления или и то, и другое для разработки, тестирования и рабочей среды. Приложения, которые обрабатывают конфиденциальную информацию из других приложений, можно изолировать таким же образом. Разверните приложение службы приложений в виртуальной сети. Используйте группы безопасности сети и подсети для дальнейшей изоляции приложений. 

Существует два типа развертывания для среды службы приложений (ASE). Оба варианта позволяют изолировать трафик в соответствии с бизнес-требованиями.

- Среда службы внешнего приложения. предоставляет доступ к Среда службы приложений размещенным приложениям через IP-адрес, доступный в Интернете.

-  Среда службы приложений внутренней подсистемы балансировки нагрузки (ILB). предоставляет доступ к Среда службы приложений размещенным приложениям по IP-адресу в виртуальной сети. Внутренняя конечная точка является внутренней подсистемой балансировки нагрузки (ILB), поэтому она называется ILB ASE. 

Для службы приложений с несколькими клиентами (приложение не находится на изолированном уровне) используйте интеграцию с виртуальной сетью для доступа приложения к ресурсам в виртуальной сети.  Используйте частный доступ к сайту, чтобы сделать приложение доступным только из частной сети, например с помощью виртуальной сети Azure. Интеграция виртуальной сети используется только для выполнения исходящих вызовов из вашего приложения в виртуальной сети. Функция интеграции виртуальной сети ведет себя иначе, если она используется с виртуальной сетью в том же регионе и с виртуальными сетями в других регионах. 
 
- [Рекомендации по работе с сетями в среде службы приложений](environment/network-info.md)

- [Создание внешнего ASE](environment/create-external-ase.md)

- [Создание внутреннего ASE](environment/create-ilb-ase.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="43-monitor-and-block-unauthorized-transfer-of-sensitive-information"></a>4.3. Мониторинг и блокирование несанкционированной передачи конфиденциальной информации

**Руководство**. Хотя функции для идентификации, классификации и предотвращения потери данных пока недоступны для службы приложений, вы можете уменьшить риск утечка данных из виртуальной сети, удалив все правила, в которых назначение использует тег для Интернета или служб Azure. 

Корпорация Майкрософт управляет базовой инфраструктурой службы приложений и реализовала элементы управления для предотвращения потери или раскрытия данных.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="44-encrypt-all-sensitive-information-in-transit"></a>4.4. Шифрование любой конфиденциальной информации при передаче

**Рекомендации**. Используйте стандартную минимальную версию TLS 1,2, настроенную в параметрах TLS/SSL, для шифрования всей информации при передаче. Также убедитесь, что все HTTP-запросы на подключение перенаправляются на HTTPS.

- [Общие сведения о шифровании при передаче для веб-приложений службы приложений Azure](security-recommendations.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 4.4](../../includes/policy/standards/asb/rp-controls/microsoft.web-4-4.md)]

### <a name="45-use-an-active-discovery-tool-to-identify-sensitive-data"></a>4.5. Использование средства активного обнаружения для распознавания конфиденциальных данных

**Руководство**: Сейчас недоступно. Функции для идентификации, классификации и предотвращения потери данных пока недоступны для службы приложений. 

Пометьте приложения службы приложений, которые могут обрабатывать конфиденциальную информацию. Реализуйте сторонние решения, если это необходимо для целей обеспечения соответствия.

Корпорация Майкрософт управляет базовой платформой и рассматривает все данные клиентов как конфиденциальные и обеспечивает большую длину для защиты от потери данных и доступности клиентов. Чтобы обеспечить безопасность данных клиентов в Azure, корпорация Майкрософт реализовала и поддерживает набор надежных элементов управления и возможностей защиты данных.

- [Общие сведения о защите данных клиентов в Azure](../security/fundamentals/protection-customer-data.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

### <a name="46-use-azure-rbac-to-control-access-to-resources"></a>4.6. Контроль доступа к ресурсам с помощью RBAC 

**Руководство**. Использование управления доступом на основе ролей Azure (Azure RBAC) в Azure Active Directory (Azure AD) для управления доступом к плоскости управления службами приложений на портал Azure.

- [Настройка Azure RBAC](../role-based-access-control/role-assignments-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="48-encrypt-sensitive-information-at-rest"></a>4.8. Шифрование конфиденциальной информации при хранении

**Руководство**. содержимое веб-сайта в приложении службы приложений, например файлы, хранится в службе хранилища Azure, что автоматически шифрует неактивных данных. Выберите сохранение секретов приложения в Key Vault и их получение во время выполнения.

Введенные клиентом секреты шифруются при хранении в базах данных конфигурации службы приложений.

Обратите внимание, что хотя локально подключенные диски могут использоваться веб-сайтами как временное хранилище (например, Д:\локал и% TMP%), они не шифруются.

- [Общие сведения об элементах управления защитой данных для службы приложений Azure](https://docs.microsoft.com/azure/app-service/security-recommendations#data-protection)

- [Общие сведения о шифровании службы хранилища Azure](../storage/common/storage-service-encryption.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="49-log-and-alert-on-changes-to-critical-azure-resources"></a>4.9. Включение в журнал и создание оповещений по изменениям критических ресурсов Azure

**Руководство**. Использование Azure Monitor с журналом действий Azure для создания оповещений об изменениях в рабочих приложениях службы приложений и других критических или связанных ресурсах.

- [Создание оповещений для событий журнала действий Azure](/azure/azure-monitor/platform/alerts-activity-log)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="vulnerability-management"></a>Управление уязвимостями

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Управление уязвимостью](../security/benchmarks/security-control-vulnerability-management.md).*

### <a name="51-run-automated-vulnerability-scanning-tools"></a>5.1. Выполнение автоматизированных средства анализа уязвимостей

**Руководство**. применение девсекопсной практики для обеспечения безопасности приложений службы приложений и сохранения защиты в течение всего жизненного цикла. Девсекопс включает в себя группу безопасности Организации и их возможности в DevOpsных методиках, что обеспечивает безопасность всех участников группы.

Проверьте и следуйте рекомендациям в центре безопасности для защиты приложений службы приложений.

- [Как добавить постоянную проверку безопасности в конвейер CI/CD](https://docs.microsoft.com/azure/devops/migrate/security-validation-cicd-pipeline?preserve-view=true&amp;view=azure-devops)

- [Реализация рекомендаций по оценке уязвимостей в центре безопасности Azure](../security-center/deploy-vulnerability-assessment-vm.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="55-use-a-risk-rating-process-to-prioritize-the-remediation-of-discovered-vulnerabilities"></a>5.5. Использование процесса оценки рисков для определения приоритета в устранении обнаруженных уязвимостей

**Руководство**. Корпорация Майкрософт выполняет Управление уязвимостью в базовых системах, поддерживающих службу приложений. Однако можно использовать уровень серьезности рекомендаций в центре безопасности, а также показатель безопасности для оценки рисков в среде. Оценка безопасности основана на том, сколько рекомендаций центра безопасности устранено. Чтобы определить приоритеты для предварительного разрешения, рассмотрите уровень серьезности каждого из них.

- [Справочное руководство по вопросам безопасности](../security-center/recommendations-reference.md)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="inventory-and-asset-management"></a>Инвентаризация и управление ресурсами

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: Инвентаризация и управление активами](../security/benchmarks/security-control-inventory-asset-management.md).*

### <a name="61-use-automated-asset-discovery-solution"></a>6,1. Использование автоматизированного решения для обнаружения ресурсов

**Руководство**. Использование графа ресурсов Azure для запроса или обнаружения всех ресурсов (например, вычислений, хранилища, сети, портов, протоколов и т. д.) в подписках. Убедитесь, что к вашему клиенту применяются соответствующие разрешения, и вы можете перечислить все подписки Azure, а также ресурсы в ваших подписках.

Хотя классические ресурсы Azure можно обнаружить через Resource Graph, настоятельно рекомендуется в дальнейшем создавать и использовать ресурсы Azure Resource Manager.

- [Как создавать запросы с помощью Azure Resource Graph](../governance/resource-graph/first-query-portal.md)

- [Как просматривать подписки Azure](https://docs.microsoft.com/powershell/module/az.accounts/get-azsubscription?preserve-view=true&amp;view=azps-4.8.0)

- [Общие сведения об Azure RBAC](../role-based-access-control/overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="62-maintain-asset-metadata"></a>6.2. Ведение метаданных активов

**Руководство**. применение тегов к ресурсам Azure с помощью метаданных для логической организации их в таксономию.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="63-delete-unauthorized-azure-resources"></a>6.3. Удаление неавторизованных ресурсов Azure

**Руководство**. Использование тегов, групп управления и отдельных подписок для Организации и мониторинга ресурсов Azure. Регулярно выверяте запасы и обеспечьте удаление несанкционированных ресурсов из подписок в рамках этого процесса.

Выберите политика Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в клиентских подписках, с помощью следующих встроенных определений политик:

- Недопустимые типы ресурсов
- Допустимые типы ресурсов

Дополнительные сведения см. в ссылках на ссылки.

- [Создание дополнительных подписок Azure](../cost-management-billing/manage/create-subscription.md)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="64-define-and-maintain-inventory-of-approved-azure-resources"></a>6,4: определение и обслуживание инвентаризации утвержденных ресурсов Azure

**Руководство**. Создание инвентаризации утвержденных ресурсов Azure и утвержденного программного обеспечения для ресурсов вычислений в соответствии с потребностями Организации.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="65-monitor-for-unapproved-azure-resources"></a>6.5. Отслеживание неутвержденных ресурсов Azure

**Руководство**. Использование политики Azure для ограничения типа ресурсов, которые могут быть созданы в подписках.

Используйте граф ресурсов Azure для запроса или обнаружения ресурсов в своих подписках.  Убедитесь в том, что все ресурсы Azure, представленные в среде, утверждены. 

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md) 

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="66-monitor-for-unapproved-software-applications-within-compute-resources"></a>6.6. Отслеживание неутвержденных программных приложений в рамках ресурсов вычислений

**Руководство**. Использование графа ресурсов Azure для запроса или обнаружения ресурсов в подписках и проверки того, что обнаруженные ресурсы Azure утверждаются на основе политик организации.

Используйте веб-задания в службе приложений для отслеживания неутвержденных программных приложений, развернутых в рамках ресурсов вычислений. Используйте веб-задания для запуска программы или скрипта в том же экземпляре, в котором разработано приложение, приложение API или мобильное приложение. Определение конфигураций веб-заданий и наблюдение за ними с помощью журналов. На странице WebJob Details (Подробности веб-задания) выберите Переключить выходные данные, чтобы увидеть текст содержимого журнала. Обратите внимание, что веб-задания пока не поддерживаются для службы приложений в Linux.

- [Выполнение фоновых задач с помощью веб-заданий в Службе приложений Azure](webjobs-create.md)

- [Руководство. Создание политик для обеспечения соответствия требованиям и управление ими](../governance/policy/tutorials/create-and-manage.md)

- [Краткое руководство. Запуск первого запроса графа ресурсов с помощью Azure Resource Graph Explorer](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="67-remove-unapproved-azure-resources-and-software-applications"></a>6.7. Удаление неутвержденных ресурсов Azure и программных приложений

**Руководство**. Убедитесь, что все ресурсы Azure, имеющиеся в окружении, утверждены. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках. Удалите все развернутые программные приложения, которые не были утверждены согласно политикам организации.

- [Выполнение фоновых задач с помощью веб-заданий в Службе приложений Azure](webjobs-create.md)

- [Руководство. Создание политик для обеспечения соответствия требованиям и управление ими](../governance/policy/tutorials/create-and-manage.md)

- [Краткое руководство. Запуск первого запроса графа ресурсов с помощью Azure Resource Graph Explorer](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="68-use-only-approved-applications"></a>6.8. Использование только утвержденных приложений

**Руководство**. Убедитесь, что все ресурсы Azure, имеющиеся в окружении, утверждены. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках. Удалите все развернутые программные приложения, которые не были утверждены согласно политикам организации. 

- [Выполнение фоновых задач с помощью веб-заданий в Службе приложений Azure](webjobs-create.md)

- [Руководство. Создание политик для обеспечения соответствия требованиям и управление ими](../governance/policy/tutorials/create-and-manage.md)

- [Краткое руководство. Запуск первого запроса графа ресурсов с помощью Azure Resource Graph Explorer](../governance/resource-graph/first-query-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="69-use-only-approved-azure-services"></a>6.9. Использование только утвержденных служб Azure

**Руководство**. Создайте процесс для проверки неавторизованных служб Azure на периодической основе, чтобы гарантировать использование только авторизованных служб Azure в подписках.

Используйте граф ресурсов Azure в рамках этого процесса для запроса или обнаружения ресурсов в своих подписках. Убедитесь в том, что все ресурсы Azure, представленные в среде, утверждены.

Настройте политику Azure, чтобы наложить ограничения на тип ресурсов, которые могут быть созданы в подписках, используя следующие встроенные определения политик:

- Недопустимые типы ресурсов

- Допустимые типы ресурсов

Используйте веб-задания в службе приложений для отслеживания неутвержденных программных приложений, развернутых в ресурсах компьютера. Используйте веб-задания для запуска программы или скрипта в том же экземпляре, в котором разработано приложение, приложение API или мобильное приложение. Определение конфигураций веб-заданий и наблюдение за ними с помощью журналов. На странице WebJob Details (Подробности веб-задания) выберите Переключить выходные данные, чтобы увидеть текст содержимого журнала. Обратите внимание, что веб-задания пока не поддерживаются для службы приложений в Linux.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как отказаться от определенного типа ресурса с помощью Политики Azure](https://docs.microsoft.com/azure/governance/policy/samples/built-in-policies#general)

- [Выполнение фоновых задач с помощью веб-заданий в Службе приложений Azure](webjobs-create.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="610-maintain-an-inventory-of-approved-software-titles"></a>6,10: ведение инвентаризации утвержденных наименований программного обеспечения

**Руководство**. Реализуйте процесс инвентаризации и просматривайте наименования программного обеспечения в подписках на периодической основе, чтобы обеспечить использование в подписках только разрешенных служб Azure.

Используйте граф ресурсов Azure в рамках этого процесса для запроса или обнаружения ресурсов в подписках. Убедитесь, что все ресурсы Azure, обнаруженные в среде, утверждены.

Настройте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик:

- Недопустимые типы ресурсов

- Допустимые типы ресурсов

Аналогичным образом используйте веб-задания в службе приложений для инвентаризации неутвержденных программных приложений, развернутых в ресурсах компьютера. Определите конфигурацию и мониторинг с помощью журналов. На странице WebJob Details (Подробности веб-задания) выберите Переключить выходные данные, чтобы увидеть текст содержимого журнала. Обратите внимание, что веб-задания пока не поддерживаются для службы приложений в Linux.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как отказаться от определенного типа ресурса с помощью Политики Azure](https://docs.microsoft.com/azure/governance/policy/samples/built-in-policies#general)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="611-limit-users-ability-to-interact-with-azure-resource-manager"></a>6,11: ограничьте возможность пользователей работать с Azure Resource Manager

**Руководство**. Настройка условного доступа Azure для ограничения возможности пользователей взаимодействовать с Azure Resource Manager путем настройки "блокировать доступ" для приложения "Управление Microsoft Azure".

- [Как настроить условный доступ для блокировки доступа к Azure Resource Manager](../role-based-access-control/conditional-access-azure-management.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="612-limit-users-ability-to-execute-scripts-within-compute-resources"></a>6.12. Ограничение возможности пользователей выполнять сценарии в ресурсах вычислений

**Руководство**. веб-задания в службе приложений позволяют клиентам запускать программу или сценарий в том же экземпляре, что и приложение, приложение API или мобильное приложение. Вы несете ответственность за определение конфигурации для ограничения или ограничения любых сценариев, которые не разрешены Организацией. Служба приложений не предоставляет механизм для ограничения выполнения скриптов в собственном режиме. Обратите внимание, что веб-задания пока не поддерживаются для службы приложений в Linux.

- [Выполнение фоновых задач с помощью веб-заданий в Службе приложений Azure](webjobs-create.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="613-physically-or-logically-segregate-high-risk-applications"></a>6.13. Физическое или логическое разделение приложений с высоким риском

**Руководство**. Реализация отдельных подписок или групп управления для обеспечения изоляции приложений службы приложений с высоким риском. Разверните приложение с более высоким риском в собственной виртуальной сети, так как безопасность периметра в службе приложений достигается за счет использования виртуальных сетей. Среда службы приложений — это развертывание службы приложений в подсети в виртуальной сети Azure. 

Существует два типа среды службы приложений: среда службы внешнего приложения и среда службы приложений ILB (внутренняя Load Balancer). Выберите оптимальную архитектуру в соответствии с вашими требованиями.

- [Рекомендации по работе с сетями в среде службы приложений](environment/network-info.md)

- [Создание внешней среды службы приложений](environment/create-external-ase.md)

- [Создание и использование среды Службы приложений с внутренней подсистемой балансировки нагрузки](environment/create-ilb-ase.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="secure-configuration"></a>Настройка безопасности

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: безопасная конфигурация](../security/benchmarks/security-control-secure-configuration.md).*

### <a name="71-establish-secure-configurations-for-all-azure-resources"></a>7.1. Установка безопасных конфигураций для всех ресурсов Azure

**Руководство**. Определение и реализация стандартных конфигураций безопасности для развернутых приложений в службе приложений с помощью политики Azure.

Используйте псевдонимы политик Azure в пространстве имен Microsoft. Web, чтобы создать настраиваемые политики для аудита или принудительного применения конфигурации веб-приложений службы приложений.

Применить встроенные определения политик, такие как:

- Служба приложений должна использовать конечную точку службы виртуальной сети.

- Веб-приложения должны быть доступны только по протоколу HTTPS

- Использование последней версии TLS в приложениях

Рекомендуется документировать процесс применения встроенных определений политик для стандартизованного использования.   

- [Просмотр доступных псевдонимов политик Azure](https://docs.microsoft.com/powershell/module/az.resources/get-azpolicyalias?preserve-view=true&amp;view=azps-4.8.0)

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="73-maintain-secure-azure-resource-configurations"></a>7.3. Сохранение безопасных конфигураций для ресурсов Azure

**Рекомендации**. Используйте эффекты политики Azure [Deny] и [развертывание, если не существует], чтобы обеспечить безопасность параметров в приложениях службы приложений Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Сведения о действии Политик Azure](../governance/policy/concepts/effects.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="75-securely-store-configuration-of-azure-resources"></a>7.5. Безопасное хранение конфигурации ресурсов Azure

**Руководство**. Выберите Azure DevOps или Azure Repos для безопасного хранения кода и управления им при использовании пользовательских определений политики Azure.

Используйте существующий конвейер непрерывной интеграции (CI) и непрерывной поставки (CD) для развертывания известной защищенной конфигурации.

- [Как хранить код в Azure DevOps](https://docs.microsoft.com/azure/devops/repos/git/gitworkflow?preserve-view=true&amp;view=azure-devops)

- [Документация по Azure Repos](https://docs.microsoft.com/azure/devops/repos/?preserve-view=true&amp;view=azure-devops)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="77-deploy-configuration-management-tools-for-azure-resources"></a>7,7: развертывание средств управления конфигурацией для ресурсов Azure

**Руководство**. Используйте встроенные определения политик Azure, а также псевдонимы политик Azure в пространстве имен Microsoft. Web для создания настраиваемых политик для оповещения, аудита и принудительного применения конфигураций системы. Разработка процесса и конвейера для управления исключениями политик.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="79-implement-automated-configuration-monitoring-for-azure-resources"></a>7,9. Реализация автоматического мониторинга конфигурации для ресурсов Azure

**Руководство**. Используйте встроенные определения политик Azure, а также псевдонимы политик Azure в пространстве имен Microsoft. Web для создания настраиваемых политик для оповещения, аудита и принудительного применения конфигураций системы. 

Примените политику Azure [аудит], [запретить] и [развернуть, если не существует], чтобы автоматически применять конфигурации для ресурсов Azure.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="711-manage-azure-secrets-securely"></a>7.11. Безопасное управление секретами Azure

**Руководство**. Использование управляемых удостоверений для предоставления приложениям службы приложений с автоматически управляемым удостоверением в Azure Active Directory (Azure AD). Управляемые удостоверения позволяют приложениям проходить проверку подлинности в любой службе, поддерживающей проверку подлинности Azure AD, включая Key Vault без каких бы то ни было учетных данных в коде. Убедитесь, что в Azure Key Vault включено обратимое удаление.

- [Включение обратимого удаления в Azure Key Vault](../key-vault/general/key-vault-recovery.md)

- [Использование управляемых удостоверений для службы приложений](overview-managed-identity.md)

- [Как обеспечить проверку подлинности Key Vault с помощью управляемого удостоверения](../key-vault/general/assign-access-policy-portal.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="712-manage-identities-securely-and-automatically"></a>7.12. Безопасное и автоматическое управление удостоверениями

**Руководство**. Использование управляемых удостоверений для предоставления приложений, развернутых в службе приложений, с автоматически управляемым удостоверением в Azure Active Directory (Azure AD). Управляемые удостоверения позволяют приложениям проходить проверку подлинности в любой службе, поддерживающей проверку подлинности Azure AD, включая Key Vault без каких бы то ни было учетных данных в коде.

- [Использование управляемых удостоверений для службы приложений](overview-managed-identity.md)

- [Как обеспечить проверку подлинности Key Vault с помощью управляемого удостоверения](../key-vault/general/assign-access-policy-portal.md)

**Ответственность**: Customer

**Мониторинг в центре безопасности Azure. производительность** [системы безопасности Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/governance/policy/samples/azure-security-benchmark.md) — это инициатива политики по умолчанию для центра безопасности, которая является основой для [рекомендаций центра безопасности](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/security-center-recommendations.md). Определения политик Azure, связанные с этим элементом управления, автоматически включаются центром безопасности. Для оповещений, связанных с этим элементом управления, может потребоваться план [защитника Azure](/home/mbaldwin/docs/asb/azure-docs-pr/articles/security-center/azure-defender.md) для связанных служб.

**Встроенные определения политики Azure — Microsoft. Web**:

[!INCLUDE [Resource Policy for Microsoft.Web 7.12](../../includes/policy/standards/asb/rp-controls/microsoft.web-7-12.md)]

### <a name="713-eliminate-unintended-credential-exposure"></a>7.13. Устранение непреднамеренного раскрытия учетных данных

**Руководство**. Реализуйте сканер учетных данных для обнаружения учетных данных в коде. Сканер учетных данных также рекомендует перемещать обнаруженные учетные данные в более безопасные расположения, такие как Azure Key Vault.

- [Как настроить сканер учетных данных](https://secdevtools.azurewebsites.net/helpcredscan.html)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="data-recovery"></a>Восстановление данных

*Дополнительные сведения см. в статье о [производительности системы безопасности Azure: восстановление данных](../security/benchmarks/security-control-data-recovery.md).*

### <a name="91-ensure-regular-automated-back-ups"></a>9,1: Обеспечьте регулярное автоматическое резервное копирование

**Руководство**. функция резервного копирования и восстановления в службе приложений позволяет легко создавать резервные копии приложений вручную или по расписанию. Можно настроить бессрочное хранение резервных копий. Вы можете восстановить приложение до моментального снимка предыдущего состояния, перезаписав существующее приложение или восстановив другое.

Служба приложений может выполнить резервное копирование следующих сведений в учетную запись хранения Azure и контейнер, которые вы настроили в приложении для использования:
- конфигурация приложения;
- содержимое файла;
- база данных, подключенная к приложению.

Убедитесь, что регулярные и автоматические резервные копии выполняются с частотой, определяемой политиками организации.

- [Общие сведения о возможности резервного копирования службы приложений Azure](manage-backup.md)

- [Управляемые клиентом ключи для шифрования службы хранилища Azure](../storage/common/customer-managed-keys-overview.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="92-perform-complete-system-backups-and-backup-any-customer-managed-keys"></a>9,2: выполните полное резервное копирование системы и резервное копирование ключей, управляемых клиентом

**Руководство**. Использование функции резервного копирования и восстановления службы приложений для резервного копирования приложений. Для использования функций резервного копирования требуется учетная запись хранения Azure для хранения сведений о резервной копии приложения.

- Служба хранилища Azure обеспечивает шифрование неактивных данных. Используйте ключи, предоставляемые системой, или собственные ключи, управляемые клиентом. Именно здесь данные приложения хранятся, если они не выполняются в веб-приложении в Azure.
- Запуск из пакета развертывания — это функция развертывания службы приложений. Она позволяет развертывать содержимое сайта из учетной записи хранения Azure, используя URL-адрес подписанного общего доступа (SAS).

- Key Vault ссылки — это функция безопасности службы приложений. Он позволяет импортировать секреты во время выполнения в качестве параметров приложения. Используйте этот параметр, чтобы зашифровать URL-адрес SAS учетной записи хранения Azure.

Дополнительные сведения можно найти по ссылкам, на которые имеются ссылки.

- [Резервное копирование приложения в Azure](manage-backup.md)

- [Восстановление приложения, работающего в службе приложений Azure](web-sites-restore.md)

- [Общие сведения о шифровании неактивных данных в Azure](https://docs.microsoft.com/azure/security/fundamentals/encryption-atrest#encryption-at-rest-in-microsoft-cloud-services) 

- [Модель шифрования и таблица управления ключами](../security/fundamentals/encryption-atrest.md)

- [Шифрование неактивных с помощью управляемых клиентом ключей](configure-encrypt-at-rest-using-cmk.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="93-validate-all-backups-including-customer-managed-keys"></a>9,3: Проверьте все резервные копии, включая управляемые клиентом ключи.

**Рекомендации**. периодически проверяйте процесс восстановления для всех резервных копий приложений службы приложений.

- [Резервное копирование приложения в Azure](manage-backup.md)

- [Как восстановить веб-приложение службы приложений Azure](web-sites-restore.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="94-ensure-protection-of-backups-and-customer-managed-keys"></a>9,4: Обеспечьте защиту резервных копий и ключей, управляемых клиентом

**Руководство**. резервные копии службы приложений хранятся в учетной записи хранения Azure. Данные в службе хранилища Azure шифруются и расшифровываются прозрачно с использованием 256-разрядного шифрования AES, одним из наиболее подданных блоков блочных шифров и совместимым с FIPS 140-2. Шифрование службы хранилища Azure аналогично шифрованию BitLocker в Windows.

Шифрование службы хранилища Azure включено для всех учетных записей хранения, включая как диспетчер ресурсов, так и классические учетные записи хранения. Шифрование службы хранилища Azure не может быть отключено. Поскольку данные защищены по умолчанию, вам не нужно изменять код или приложения, чтобы воспользоваться преимуществами шифрования службы хранилища Azure.

По умолчанию данные в учетной записи хранения шифруются с помощью ключей, управляемых корпорацией Майкрософт. Вы можете использовать ключи, управляемые корпорацией Майкрософт, для шифрования данных, а также управлять шифрованием с помощью собственных ключей. Убедитесь, что в Azure Key Vault включено обратимое удаление.

- [Общие сведения о шифровании службы хранилища Azure для неактивных данных](../storage/common/storage-service-encryption.md)

- [Включение обратимого удаления в Azure Key Vault](../key-vault/general/key-vault-recovery.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="incident-response"></a>реагирование на инциденты.

*Дополнительные сведения см. в статье [Azure Security Benchmark: реагирование на инциденты](../security/benchmarks/security-control-incident-response.md).*

### <a name="101-create-an-incident-response-guide"></a>10.1. Создание руководства по реагированию на инциденты

**Руководство**. Создайте руководство по реагированию на инциденты для вашей организации. Убедитесь, что имеются письменные планы реагирования на инциденты, которые определяют все действия персонала, а также этапы обработки инцидентов и управления ими для проверки после инцидента.

- [Как настроить автоматизацию рабочих процессов в Центре безопасности Azure](../security-center/security-center-planning-and-operations-guide.md)

- [Руководство по созданию собственного процесса реагирования на инциденты безопасности](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/)

- [Анатомия инцидента Центра Майкрософт по реагированию на угрозы](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/)

- [Клиент также может воспользоваться руководством по обработке инцидентов безопасности компьютера NIST, чтобы помочь в создании собственного плана реагирования на инциденты.](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="102-create-an-incident-scoring-and-prioritization-procedure"></a>10.2. Создание процедуры оценки инцидента и определения приоритетов

**Руководство**. Центр безопасности назначает каждому оповещению серьезность, которая поможет определить, какие предупреждения следует расследовать первыми. Серьезность основывается на том, насколько надежным является центр безопасности в поиске или аналитике, используемой для выдаче оповещения, а также об уровне достоверности, который был вредоносным намерением для действия, вызвавшего оповещение.

Кроме того, четко Пометьте подписки (например, рабочую, нерабочее) и создайте систему именования, чтобы четко определить и классифицировать ресурсы Azure.

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="103-test-security-response-procedures"></a>10.3. Проверка процедур реагирования на угрозы

**Руководство**. проведение упражнений для проверки возможностей реагирования на инциденты системы с регулярным ритмичием. Выявите слабые точки и пробелов и пересмотрите план по мере необходимости.

- [См. руководства по публикации NIST для тестирования, обучения и проведения упражнений для ИТ-планов и возможностей.](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-84.pdf)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="104-provide-security-incident-contact-details-and-configure-alert-notifications-for-security-incidents"></a>10.4. Предоставление контактных сведений и настройка уведомлений по инцидентам безопасности

**Рекомендации**. Корпорация Майкрософт будет использовать информацию об инциденте безопасности для связи с вами, если центр Microsoft Security Response Center (MSRC) обнаружит, что к вашим пользовательским данным был получен незаконный или несанкционированный доступ.  Проверьте инциденты после факта обращения, чтобы убедиться, что проблемы устранены.

- [Как задать контакт безопасности Центра безопасности Azure](../security-center/security-center-provide-security-contact-details.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="105-incorporate-security-alerts-into-your-incident-response-system"></a>10.5. Включение оповещений системы безопасности в систему реагирования на инциденты

**Руководство**. Экспорт оповещений и рекомендаций центра безопасности с помощью функции непрерывного экспорта. Непрерывный экспорт позволяет экспортировать предупреждения и рекомендации как вручную, так и в постоянном, непрерывном режиме. Используйте соединитель данных центра безопасности для потоковой передачи оповещений в Azure Sentinel в соответствии с потребностями бизнеса.

- [Настройка непрерывного экспорта данных](../security-center/continuous-export.md)

- [Как выполнить потоковую передачу оповещений в Azure Sentinel](../sentinel/connect-azure-security-center.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

### <a name="106-automate-the-response-to-security-alerts"></a>10.6. Автоматизация реагирования на оповещения системы безопасности

**Руководство**. Использование функции автоматизации рабочих процессов в центре безопасности для автоматического запуска ответов с помощью "Logic Apps" в оповещениях и рекомендациях системы безопасности.

- [Как настроить автоматизацию рабочего процесса и Logic Apps](../security-center/workflow-automation.md)

**Ответственность**: Customer

**Мониторинг центра безопасности Azure**: нет

## <a name="penetration-tests-and-red-team-exercises"></a>Тесты на проникновение и попытки нарушения безопасности "красной командой"

*Дополнительные сведения см. в статье [тесты производительности системы безопасности Azure: испытания на проникновение и команды красных команд](../security/benchmarks/security-control-penetration-tests-red-team-exercises.md).*

### <a name="111-conduct-regular-penetration-testing-of-your-azure-resources-and-ensure-remediation-of-all-critical-security-findings"></a>11,1. Проведите регулярное тестирование на проникновение ресурсов Azure и обеспечьте исправление всех критических результатов безопасности.

**Рекомендации**. Следуйте правилам тестирования уязвимости Microsoft Cloud, чтобы убедиться, что тесты на проникновение не нарушают политики Майкрософт. Используйте стратегию Майкрософт и рекомендации "красных команд", а затем выполните тест на проникновение в режиме реального времени для управляемых корпорацией Майкрософт облачной инфраструктуры, служб и приложений. 

- [Правила взаимодействия при выполнении тестирования на проникновение](https://www.microsoft.com/msrc/pentest-rules-of-engagement?rtc=1) 

- [Привлечение "красных команд для тестирования "Microsoft Cloud](https://gallery.technet.microsoft.com/Cloud-Red-Teaming-b837392e)

**Ответственность**: Совмещаемая блокировка

**Мониторинг центра безопасности Azure**: нет

## <a name="next-steps"></a>Следующие шаги

- См. [Обзор Azure Security Benchmark версии 2](/azure/security/benchmarks/overview)
- Дополнительные сведения о [базовой конфигурации безопасности Azure](/azure/security/benchmarks/security-baselines-overview).
