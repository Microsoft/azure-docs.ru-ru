---
title: Восстановить приложение из резервной копии
description: Узнайте, как восстановить приложение из резервной копии. Некоторые связанные базы данных можно восстановить вместе с приложением за одну операцию.
ms.assetid: 4444dbf7-363c-47e2-b24a-dbd45cb08491
ms.topic: article
ms.date: 07/06/2016
ms.custom: seodec18
ms.openlocfilehash: c1b0ce62905424032c2100a1a032fa43ba97578f
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "95999405"
---
# <a name="restore-an-app-in-azure"></a>Восстановление приложения в Azure
В этой статье описывается, как в [службе приложений Azure](../app-service/overview.md) восстановить приложение, для которого ранее была создана резервная копия (ознакомьтесь с [архивацией приложения в Azure](manage-backup.md)). Вы можете восстановить предыдущее состояние приложения и связанных с ним баз данных по запросу или создать новое приложение на основе одной из резервных копий исходного приложения. Служба приложений Azure поддерживает следующие базы данных для архивации и восстановления:
- [База данных SQL](https://azure.microsoft.com/services/sql-database/)
- [База данных Azure для MySQL](https://azure.microsoft.com/services/mysql)
- [База данных Azure для PostgreSQL](https://azure.microsoft.com/services/postgresql)
- [MySQL в приложении](https://blogs.msdn.microsoft.com/appserviceteam/2017/03/06/announcing-general-availability-for-mysql-in-app).

Восстановление из резервных копий доступно для приложений, выполняемых на уровнях **Стандартный** и **Премиум**. Дополнительные сведения об увеличении масштаба приложения см. в статье [Увеличение масштаба приложения в Azure](manage-scale-up.md). Уровень **Премиум** позволяет создавать большее количество ежедневных резервных копий по сравнению с уровнем **Стандартный**.

<a name="PreviousBackup"></a>

## <a name="restore-an-app-from-an-existing-backup"></a>Восстановление приложения из существующей резервной копии
1. На портале Azure на странице **Параметры** своего приложения щелкните **Резервные копии**. Откроется страница **Резервные копии**. Затем щелкните **Восстановить**.
   
    ![Выбор команды "Восстановить сейчас"][ChooseRestoreNow]
2. На странице **Восстановить** выберите источник резервного копирования.
   
    ![Снимок экрана, на котором показано, где выбрать источник резервного копирования.](./media/web-sites-restore/021ChooseSource1.png)
   
    Параметр **Архивная копия приложения** отображает все существующие резервные копии текущего приложения, позволяя легко выбрать одну из них.
    Параметр **Служба хранилища** позволяет выбрать ZIP-файл любой резервной копии из любых имеющихся учетной записи хранения Azure и контейнера в вашей подписке.
    Если вы пытаетесь восстановить резервную копию другого приложения, используйте параметр **Служба хранилища** .
3. После этого укажите место назначения для восстановления приложения в разделе **Место назначения для восстановления**.
   
    ![Снимок экрана, на котором показано, где указать место назначения для восстановления приложения.](./media/web-sites-restore/022ChooseDestination1.png)
   
   > [!WARNING]
   > Если вы выберете **Перезаписать**, то все существующие данные в текущем приложении будут удалены и перезаписаны. Прежде чем нажимать кнопку **ОК**, убедитесь, что это именно то, что вы хотите сделать.
   > 
   > 
   
   > [!WARNING]
   > Если служба приложений записывает данные в базу данных во время ее восстановления, это может привести к нарушению первичного ключа и потере данных. Советуем сначала остановить службу приложения, а затем запустить восстановление базы данных.
   > 
   > 
   
    Вы также можете выбрать **Существующее приложение** для восстановления резервной копии приложения в другое приложение в той же группе ресурсов. Прежде чем использовать этот параметр, необходимо создать другое приложение в группе ресурсов с конфигурацией базы данных, аналогичной конфигурации базы данных в резервной копии приложения. Вы можете также **создать** приложение для восстановления содержимого.

4. Нажмите кнопку **OK**.

<a name="StorageAccount"></a>

## <a name="download-or-delete-a-backup-from-a-storage-account"></a>Скачивание и удаление резервной копии в учетной записи хранения
1. На портале Azure на странице **Обзор** выберите **Учетные записи хранения**. Откроется список существующих учетных записей хранения.
2. Выберите учетную запись, в которой хранится резервная копия, которую вы хотите скачать или удалить. Откроется страница учетной записи хранения.
3. На ней выберите нужный контейнер.
   
    ![Просмотр контейнеров][ViewContainers]
4. Выберите файл резервной копии, который вы хотите скачать или удалить.
   
    ![ViewContainers](./media/web-sites-restore/03ViewFiles.png)
5. Щелкните **Скачать** или **Удалить**, в зависимости от того, что нужно сделать.  

<a name="OperationLogs"></a>

## <a name="monitor-a-restore-operation"></a>Мониторинг операции восстановления
Чтобы просмотреть сведения о результате восстановления приложения (успешном или неудачном), перейдите на страницу **Журнал действий** на портале Azure.  
 

Прокрутите колонку вниз, чтобы найти нужную операцию восстановления, и выберите ее щелчком.

На странице сведений отобразится вся доступная информация о выбранной операции восстановления.

## <a name="automate-with-scripts"></a>Автоматизация с помощью сценариев

Управление резервным копированием можно автоматизировать с помощью сценариев, воспользовавшись [Azure CLI](/cli/azure/install-azure-cli) или [Azure PowerShell](/powershell/azure/).

Примеры см. в разделах:

- [Примеры Azure CLI](samples-cli.md)
- [Примеры сценариев Azure PowerShell](samples-powershell.md)

<!-- ## Next Steps
You can backup and restore App Service apps using REST API. -->


<!-- IMAGES -->
[ChooseRestoreNow]: ./media/web-sites-restore/02ChooseRestoreNow1.png
[ViewContainers]: ./media/web-sites-restore/03ViewContainers.png
