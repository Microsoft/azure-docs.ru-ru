---
title: Планы службы приложений
description: Узнайте, как работают планы службы приложений в службе приложений Azure, как они выставляются клиенту и как масштабировать их в течение ваших потребностей.
keywords: служба приложений, служба приложений azure, масштабировать, масштабируемый, масштабируемость, план службы приложений, стоимость службы приложений
ms.assetid: dea3f41e-cf35-481b-a6bc-33d7fc9d01b1
ms.topic: article
ms.date: 10/01/2020
ms.custom: seodec18
ms.openlocfilehash: a29d81be9b750d89230a180b8a7c786466d99bb8
ms.sourcegitcommit: 2aa52d30e7b733616d6d92633436e499fbe8b069
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "97936436"
---
# <a name="azure-app-service-plan-overview"></a>Обзор планов службы приложений Azure

В службе приложений (веб-приложения, приложения API или мобильные приложения) приложение всегда выполняется в _плане службы приложений_. Кроме того, [функции Azure](../azure-functions/dedicated-plan.md) также имеют возможность запуска в _плане службы приложений_. План службы приложений определяет набор вычислительных ресурсов, на которых выполняется веб-приложение. Эти расчетные ресурсы аналогичны [_фермам серверов_](https://wikipedia.org/wiki/Server_farm) в обычном веб-размещении. Вы можете настроить одно или несколько приложений для выполнения на одних вычислительных ресурсах (или в одном плане службы приложений).

При создании плана службы приложений в определенном регионе (например, Западной Европе) в этом регионе создается набор вычислительных ресурсов для этого плана. Все приложения, размещенные в этом плане службы приложений, выполняются на этих вычислительных ресурсах в соответствии с планом службы приложений. Каждый план службы приложений определяет следующее:

- регион ("Западная часть США", "Восточная часть США" и т. д.);
- число экземпляров виртуальных машин;
- размер экземпляров виртуальных машин (небольшой, средний, большой);
- Ценовая категория (бесплатная, Общая, базовая, стандартная, премиум, категории премиум v2, PremiumV3, изолированная)

_Ценовая категория_ плана службы приложений определяет, какие функции службы приложений будут доступны вам, а также стоимость плана. Существует несколько категорий ценового уровня.

- **Распределенная среда выполнения**: доступны два основных уровня — **Бесплатный** и **Общий**. Приложение выполняется на той же виртуальной машине Azure, что и другие приложения службы приложений, включая приложения других клиентов. Эти уровни выделяют квоты на ЦП для каждого приложения, которое выполняется на этих общих ресурсах, и эти ресурсы нельзя масштабировать.
- **Выделенные вычислений**. уровни **Basic**, **Standard**, **Premium**, **категории премиум v2** и **PremiumV3** запускают приложения на выделенных виртуальных машинах Azure. Совместно используют вычислительные ресурсы только приложения, которые находятся в одном плане службы приложений. Чем выше ценовая категория, тем больше экземпляров виртуальной машины можно развернуть.
- **Изолированный**. Этот уровень запускает выделенные виртуальные машины Azure в выделенных виртуальных сетях Azure. Она обеспечивает сетевую изоляцию на основе изоляции вычислений для приложений. Этот уровень обеспечивает максимальные возможности горизонтального масштабирования.

[!INCLUDE [app-service-dev-test-note](../../includes/app-service-dev-test-note.md)]

Каждый уровень также предоставляет подмножество функций службы приложений. К таким функциям относятся личные домены, сертификаты TLS/SSL, автоматическое масштабирование, слоты развертывания, резервное копирование, интеграция диспетчера трафика и многое другое. Чем выше уровень, тем больше доступно функций. Чтобы узнать, какие функции поддерживает каждая ценовая категория, ознакомьтесь с [подробными сведениями о планах службы приложений](https://azure.microsoft.com/pricing/details/app-service/plans/).

<a name="new-pricing-tier-premiumv3"></a>

> [!NOTE]
> Новая ценовая категория **PremiumV3** гарантирует, что компьютеры с более быстрыми процессорами (минимальное 195 [ACU](../virtual-machines/acu.md) на виртуальный ЦП), хранилище SSD и четверное соотношение памяти и ядра по сравнению со **стандартным** уровнем. **PremiumV3** также поддерживает более высокое масштабирование через увеличенное число экземпляров, сохраняя все расширенные возможности уровня " **стандартный** ". Все функции, доступные в существующем **категории премиум v2** уровне, включены в **PremiumV3**.
>
> По аналогии с другими категориями Dedicated для данной категории доступны три размера виртуальных машин:
>
> - Малый (2 ядра ЦП, 8 гиб памяти) 
> - Средние (4 ядра ЦП, 16 гиб памяти) 
> - Крупный (8 ядер ЦП, 32 гиб памяти)  
>
> Сведения о ценах на **PremiumV3** см. в статье [цены на службу приложений](https://azure.microsoft.com/pricing/details/app-service/).
>
> Чтобы приступить к работе с новой ценовой категорией **PremiumV3** , см. статью [Настройка уровня PremiumV3 для службы приложений](app-service-configure-premium-tier.md).

## <a name="how-does-my-app-run-and-scale"></a>Как выполняется и масштабируется приложение?

На уровнях **Free** и **Shared** приложение получает минуты ЦП на экземпляре общей виртуальной машины и не может масштабироваться. На других уровнях приложение выполняется и масштабируется следующим образом.

Когда вы создаете приложение в службе приложений, оно размещается в плане службы приложений. При запуске приложение запускается на всех экземплярах виртуальной машины, настроенных в плане службы приложений. Если несколько приложений находятся в одном плане службы приложений, они все совместно используют одинаковые экземпляры виртуальной машины. Если у вас несколько слотов развертывания для приложения, все слоты развертывания также выполняются в одних экземплярах виртуальной машины. Если вы включили журналы диагностики, выполняете резервное копирование или запускаете веб-задания, они также используют циклы ЦП и память на этих экземплярах виртуальной машины.

В этом случае план службы приложений представляет собой единицу масштабирования приложений службы приложений. Если план настроен для запуска пяти экземпляров виртуальной машины, тогда все приложения в плане будут выполняться на всех пяти экземплярах. Если план настроен для автоматического масштабирования, то все приложения в плане совместно масштабируются на основе параметров автоматического масштабирования.

Сведения о масштабировании приложений см. в статье [Масштабирование числа экземпляров вручную или автоматически](../azure-monitor/platform/autoscale-get-started.md).

<a name="cost"></a>

## <a name="how-much-does-my-app-service-plan-cost"></a>Сколько стоит план службы приложений?

В этом разделе описывается, как начисляется плата за использование приложений службы приложений. Дополнительные сведения о ценах для отдельных регионов см. на [странице цен службы приложений](https://azure.microsoft.com/pricing/details/app-service/).

За исключением уровня **Free** , в плане службы приложений взимается плата за используемые ресурсы вычислений.

- На **общем** уровне каждое приложение получает квоту на ЦП, поэтому _каждое приложение_ оценивается по квоте ЦП.
- В выделенных уровнях вычислений (**Basic**, **Standard**, **Premium**, **категории премиум v2**, **PremiumV3**) план службы приложений определяет количество экземпляров виртуальных машин, на которые масштабируется приложение, поэтому _каждый экземпляр виртуальной машины_ в плане службы приложений будет заряжен. Плата за экземпляры виртуальной машины является фиксированной, независимо от количества запущенных в них приложений. Чтобы избежать непредвиденных расходов, ознакомьтесь с разделом об [удалении плана службы приложений](app-service-plan-manage.md#delete).
- На **изолированном** уровне среда службы приложений определяет количество изолированных рабочих ролей, в которых выполняются приложения, и _каждый работник_ выдает оплату. Кроме того, для запуска Среда службы приложений существует плата за плоскую отметку.

Вы не получаете оплату за использование функций службы приложений, доступных вам (Настройка пользовательских доменов, сертификатов TLS/SSL, слотов развертывания, резервных копий и т. д.). Однако имеются исключения.

- Домены службы приложений. Вы оплачиваете приобретение домена в Azure и его ежегодное продление.
- Сертификаты службы приложений. Вы оплачиваете приобретение сертификата в Azure и его ежегодное продление.
- TLS-подключения на основе IP. для каждого TLS-подключения на основе IP взимается почасовая оплата, но на некоторых уровнях **Standard** и выше вы получаете одно подключение TLS на основе IP. TLS-подключения на основе SNI бесплатны.

> [!NOTE]
> При интеграции службы приложений с другими службами Azure стоит также учесть плату, предусмотренную этими службами. Например, если вы используете диспетчер трафика Azure для географического масштабирования приложения, за использование диспетчера также взимается плата. Используйте [ценовой калькулятор](https://azure.microsoft.com/pricing/calculator/), чтобы оценить стоимость использования разных служб в Azure. 

Хотите оптимизировать и сократить ваши расходы на облако?

[!INCLUDE [cost-management-horizontal](../../includes/cost-management-horizontal.md)]

## <a name="what-if-my-app-needs-more-capabilities-or-features"></a>Можно ли добавить в приложение больше возможностей и функций?

План Службы приложений допускает изменение масштаба в любое время. Это так же просто, как и изменение ценовой категории плана. Вы можете сначала выбрать более низкую ценовую категорию. Позже, когда вам потребуется больше функций Службы приложений, ценовую категорию можно изменить.

Например, вы можете начать тестировать веб-приложение в плане службы приложений уровня **Бесплатный** без каких-либо расходов. Когда вы захотите добавить в веб-приложение [настраиваемое DNS-имя](app-service-web-tutorial-custom-domain.md), вам просто нужно выполнить масштабирование плана до уровня **Общий**. Позже, если вы хотите [создать привязку TLS](configure-ssl-bindings.md), масштабируйте план до уровня " **базовый** ". Если вам нужны [промежуточные среды](deploy-staging-slots.md), выполните масштабирование плана до уровня **Стандартный**. Если вам требуется больше ядер, памяти или хранилища, выполните масштабирование размера виртуальной машины в том же ценовом уровне.

Можно применять масштабирование также и в обратном порядке. Если вам больше не нужны возможности или функции более высокого ценового уровня, вы можете уменьшить масштаб до более низкого уровня, что позволит вам сэкономить.

Дополнительные сведения об увеличении масштаба плана службы приложений см. в статье [Увеличение масштаба приложения в Azure](manage-scale-up.md).

Если ваше приложение находится в одном плане службы приложений с другими приложениями, вы можете улучшить производительность приложения с помощью изоляции вычислительных ресурсов. Это можно сделать, переместив приложение в отдельный план службы приложений. Дополнительные сведения см. в разделе о [перемещении приложения в другой план службы приложений](app-service-plan-manage.md#move).

## <a name="should-i-put-an-app-in-a-new-plan-or-an-existing-plan"></a>Нужно разместить приложение в новом плане или использовать имеющийся?

Так как вы платите за вычислительные ресурсы, которые выделяет план службы приложений (дополнительные сведения см. в разделе о [стоимости плана службы приложений](#cost)), потенциально вы можете сэкономить, разместив несколько приложений в одном плане службы приложений. Можно добавлять приложения в имеющийся план, пока у него имеется достаточно ресурсов для обработки нагрузки. Тем не менее имейте в виду, что все приложения, которые находятся в одном плане службы приложений, совместно используют одни вычислительные ресурсы. Чтобы определить, будет ли новое приложение иметь достаточно ресурсов, оцените емкость имеющегося плана Службы приложений и ожидаемую нагрузку для нового приложения. Перегрузка плана службы приложений может стать причиной простоя для новых и имеющихся приложений.

Мы рекомендуем изолировать приложение в отдельном плане службы приложений в следующих случаях:

- приложение является ресурсоемким;
- Необходимо масштабировать приложение независимо от других приложений в существующем плане.
- приложению требуется ресурс из другого географического региона.

Таким образом можно выделить новый набор ресурсов для приложения и усилить контроль над своими приложениями.

## <a name="manage-an-app-service-plan"></a>Управление планом службы приложений

> [!div class="nextstepaction"]
> [Управление планом службы приложений](app-service-plan-manage.md)