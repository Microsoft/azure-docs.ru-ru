---
title: Управление устройствами Azure IoT с Cloud Explorer Visual Studio
description: Управляйте устройствами Интернета вещей Azure с помощью Cloud Explorer для Visual Studio, используя прямые методы и возможности управления требуемыми свойствами двойника.
author: shizn
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 08/20/2019
ms.author: xshi
ms.openlocfilehash: 6fe5a45dda6632c56b3c6714827950e25e7d26af
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "73953184"
---
# <a name="use-cloud-explorer-for-visual-studio-for-azure-iot-hub-device-management"></a>Управление устройствами Центра Интернета вещей Azure с помощью Cloud Explorer для Visual Studio

![Комплексная схема](media/iot-hub-device-management-visual-studio/iot-e2e-simple.png)

[Cloud Explorer](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.CloudExplorerForVS) — это полезное расширение для Visual Studio. Оно позволяет просматривать ресурсы Azure, проверять их свойства и выполнять основные действия разработчика в среде Visual Studio. В нем предусмотрены возможности управления, с помощью которых можно выполнять различные задачи.

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-whole.md)]

| Возможность управления          | Задача                    |
|----------------------------|--------------------------------|
| Прямые методы             | Выполнение на устройстве таких действий, как запуск и остановка отправки сообщений или перезагрузка устройства.                                        |
| Чтение двойников устройств           | Получение зарегистрированного состояния устройства, например данных о том, что сейчас на устройстве мигает индикатор.                                    |
| Обновление двойников устройств         | Перевод устройства в определенные состояния, например включение зеленого светодиодного индикатора или установка 30-минутного интервала отправки данных телеметрии.         |
| Получение сообщений из облака на устройство   | Отправка уведомлений на устройство, например "Скорее всего сегодня будет дождь. Не забудьте взять зонтик".              |

Более подробное объяснение различий и рекомендации по использованию этих параметров см. в статьях [Руководство по обмену данными между устройством и облаком](iot-hub-devguide-d2c-guidance.md) и [Руководство по обмену данными между облаком и устройством](iot-hub-devguide-c2d-guidance.md).

Двойники устройств — это документы JSON, хранящие сведения о состоянии устройства, в том числе метаданные, конфигурации и условия. Центр Интернета вещей сохраняет двойник устройства для каждого устройства, подключаемого к нему. Дополнительные сведения о двойниках устройства см. в статье [Начало работы с двойниками устройств](iot-hub-node-node-twin-getstarted.md).

## <a name="what-you-learn"></a>Что вы узнаете

Из этой статьи вы узнаете, как использовать Cloud Explorer для Visual Studio с различными параметрами управления на компьютере разработчика.

## <a name="what-you-do"></a>Что нужно сделать

В этой статье выполните Cloud Explorer для Visual Studio с различными вариантами управления.

## <a name="what-you-need"></a>Что нужно

Вам потребуется сделать следующее:

- Активная подписка Azure.

- Центр Интернета вещей Azure в подписке.

- Microsoft Visual Studio 2017 с обновлением 9 или более поздней версии. В этой статье используется [Visual studio 2017 или Visual studio 2019](https://www.visualstudio.com/vs/).

- Cloud Explorer компонент из Visual Studio Installer, который выбран по умолчанию в рабочей нагрузке Azure.

## <a name="update-cloud-explorer-to-latest-version"></a>Обновление Cloud Explorer до последней версии

Компонент Cloud Explorer из Visual Studio Installer для Visual Studio 2017 поддерживает мониторинг сообщений, отправляемых с устройства в облако и из облака на устройство. Чтобы использовать Visual Studio 2017, скачайте и установите последнюю версию [Cloud Explorer](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.CloudExplorerForVS).

## <a name="sign-in-to-access-your-hub"></a>Войдите, чтобы получить доступ к концентратору

1. В Visual Studio выберите **Просмотреть**  >  **Cloud Explorer** , чтобы открыть Cloud Explorer.

1. Щелкните значок управления учетной записью, чтобы отобразить подписки.

    ![Значок управления учетной записью](media/iot-hub-visual-studio-cloud-device-messaging/account-management-icon.png)

1. Если вы вошли в Azure, ваши учетные записи будут отображаться. Чтобы войти в Azure в первый раз, выберите **Добавить учетную запись**.

1. Выберите подписки Azure, которые вы хотите использовать, и нажмите кнопку **Применить**.

1. Разверните подписку, а затем — **центры Интернета вещей**.  В каждом концентраторе можно увидеть устройства для этого центра. Щелкните устройство правой кнопкой мыши, чтобы получить доступ к параметрам управления.

    ![Параметры управления](media/iot-hub-device-management-visual-studio/management-options-vs2019.png)

## <a name="direct-methods"></a>Прямые методы

Чтобы использовать прямые методы, выполните следующие действия.

1. Щелкните устройство правой кнопкой мыши и выберите **Invoke Device Direct Method** (Вызвать прямой метод устройства).

1. Введите имя метода и полезные данные в **вызове прямого метода**, а затем нажмите кнопку **ОК**.

    Результаты отображаются в **выходных данных**.

## <a name="update-device-twin"></a>Обновление двойников устройств

Чтобы изменить двойника устройства, выполните следующие действия.

1. Щелкните устройство правой кнопкой мыши и выберите **Изменить двойник устройства**.

   Откроется **azure-iot-device-twin.jsв** файле с содержимым двойникаа устройства.

1. Внесите некоторые изменения в **теги** или **Свойства. нужные** поля **azure-iot-device-twin.js** в файле.

1. Нажмите клавиши **CTRL+S**, чтобы обновить двойник устройства.

   Результаты отображаются в **выходных данных**.

## <a name="send-cloud-to-device-messages"></a>Отправка сообщений из облака на устройство

Чтобы отправить сообщение из Центра Интернета вещей на устройство, выполните следующие действия.

1. Щелкните правой кнопкой мыши свое устройство и выберите **Send C2D Message** (Отправить сообщение C2D).

1. Введите сообщение в поле **Отправка сообщения C2D** и нажмите кнопку **ОК**.

   Результаты отображаются в **выходных данных**.

## <a name="next-steps"></a>Дальнейшие действия

Вы узнали, как использовать Cloud Explorer для Visual Studio с различными параметрами управления.

[!INCLUDE [iot-hub-get-started-next-steps](../../includes/iot-hub-get-started-next-steps.md)]
