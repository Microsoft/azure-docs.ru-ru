---
title: Параметры отправки сообщений из облака на устройство с помощью Центра Интернета вещей Azure | Документация Майкрософт
description: Руководство разработчика. Рекомендации по использованию прямых методов, требуемых свойств двойника устройства и сообщений, отправляемых из облака на устройство, для обмена данными между облаком и устройством.
author: wesmc7777
manager: philmea
ms.author: wesmc
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 01/29/2018
ms.custom:
- amqp
- mqtt
- 'Role: Cloud Development'
- 'Role: IoT Device'
ms.openlocfilehash: ad4f5dcd137a9be6dfc764385802792026c0297d
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "101093013"
---
# <a name="cloud-to-device-communications-guidance"></a>Руководство по обмену данными между облаком и устройством

Центр Интернета вещей предоставляет три варианта отправки сведений из приложения для устройства во внутреннее приложение.

* [Прямые методы](iot-hub-devguide-direct-methods.md) для обмена данными, которые требуют немедленного подтверждения результата. Прямые методы отправки часто используются для интерактивного управления устройствами, например для включения вентилятора.

* [Требуемые свойства двойника](iot-hub-devguide-device-twins.md) используются для долго выполняющихся команд, предназначенных для перевода устройства в определенное требуемое состояние. Например, можно задать интервал отправки телеметрии 30 минут.

* [Сообщения, отправляемые из облака на устройство](iot-hub-devguide-messages-c2d.md) предназначены для отправки односторонних уведомлений в приложение устройства.

Сведения о том, как [Azure iot Самонастраивающийся](../iot-pnp/overview-iot-plug-and-play.md) использует эти параметры для управления устройствами IOT Самонастраивающийся, см. в статье [Руководство разработчика по службам IOT Самонастраивающийся](../iot-pnp/concepts-developer-guide-service.md).

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-whole.md)]

Ниже приведено подробное сравнение различных параметров обмена данными между облаком и устройством.

| Категории | Прямые методы | Требуемые свойства двойника | Получение сообщений из облака на устройство |
| ---------- | -------------- | ------------------------- | ------------------------ |
| Сценарий | Команды, требующие немедленного подтверждения, например включение вентилятора. | Долго выполняющиеся команды, предназначенные для перевода устройства в определенное требуемое состояние. Например, можно задать интервал отправки телеметрии 30 минут. | Односторонние уведомления, отправляемые в приложение устройства. |
| Поток данных | Двусторонняя связь. Приложение устройства может немедленно отвечать на метод. Серверная часть решения получает результат в зависимости от контекста запроса. | Односторонняя связь. Приложение устройства получает уведомление при изменении свойства. | Односторонняя связь. Приложение устройства получает сообщение.
| Длительность | У отключенных устройств нет связи. Серверная часть решения получает уведомление о том, что устройство не подключено. | Значения свойства сохраняются в двойнике устройства. Устройство считает их при следующем подключении. Значения свойства извлекаются с помощью [языка запросов Центра Интернета вещей](iot-hub-devguide-query-language.md). | Сообщения могут храниться в Центре Интернета вещей до 48 часов. |
| Цели | Одно устройство по **идентификатору устройства** или несколько устройств с использованием [заданий](iot-hub-devguide-jobs.md). | Одно устройство по **идентификатору устройства** или несколько устройств с использованием [заданий](iot-hub-devguide-jobs.md). | Одно устройство по **идентификатору устройства**. |
| Размер | Максимальный размер полезных данных прямого метода — 128 КБ. | Максимальный размер требуемых свойств — 32 КБ. | Сообщения — до 64 КБ. |
| Частота | Высокий. Дополнительные сведения см. в статье [Руководство. Квоты и регулирование в Центре Интернета вещей](iot-hub-devguide-quotas-throttling.md). | Средняя. Дополнительные сведения см. в статье [Руководство. Квоты и регулирование в Центре Интернета вещей](iot-hub-devguide-quotas-throttling.md). | Низкий. Дополнительные сведения см. в статье [Руководство. Квоты и регулирование в Центре Интернета вещей](iot-hub-devguide-quotas-throttling.md). |
| Протокол | Доступно при использовании MQTT или AMQP. | Доступно при использовании MQTT или AMQP. | Доступно при использовании всех протоколов. При использовании HTTPS устройству необходимо выполнять опрос. |

Узнайте об использовании прямых методов, требуемых свойств и сообщений, отправляемых из облака на устройство, в следующих руководствах.

* [Использование прямых методов](quickstart-control-device-node.md)
* [Использование требуемых свойств для настройки устройств](tutorial-device-twins.md) 
* [Отправка сообщений из облака на устройство](iot-hub-node-node-c2d.md)
