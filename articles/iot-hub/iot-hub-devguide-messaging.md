---
title: Общие сведения об обмене сообщениями в Центре Интернета вещей Azure | Документация Майкрософт
description: Руководство разработчика для Центра Интернета вещей. Обмен сообщениями между устройством и облаком. Содержит сведения о форматах сообщений и поддерживаемых протоколах связи.
author: wesmc7777
manager: philmea
ms.author: wesmc
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 01/29/2018
ms.custom:
- 'Role: Cloud Development'
ms.openlocfilehash: e25b9d6cbe8446fb2f10150f17f7e2b0ccf85d3c
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2021
ms.locfileid: "92147621"
---
# <a name="send-device-to-cloud-and-cloud-to-device-messages-with-iot-hub"></a>Отправка сообщений с устройства в облако и из облака на устройство с помощью Центра Интернета вещей

Центр Интернета вещей предоставляет возможность двунаправленного обмена данными с устройствами. Используйте функцию обмена сообщениями Центра Интернета вещей для взаимодействия с устройствами путем отправки сообщений с устройств в серверную часть решений и отправки команд из серверной части решений Центра Интернета вещей на устройства. Дополнительные сведения см. в статье [Создание и чтение сообщений Центра Интернета вещей](iot-hub-devguide-messages-construct.md).

## <a name="sending-device-to-cloud-messages-to-iot-hub"></a>Оправка сообщений, пересылаемых с устройства в облако, в Центр Интернета вещей

Центр Интернета вещей содержит встроенную конечную точку службы, которую внутренние службы могут использовать для чтения сообщений телеметрии с устройств. Эта конечная точка совместима со службой [Центры событий](../event-hubs/index.yml), и вы можете использовать стандартные пакеты SDK для Центра Интернета вещей, чтобы выполнять [чтение из этой встроенной конечной точки](iot-hub-devguide-messages-read-builtin.md).

Центр Интернета вещей также поддерживает [пользовательские конечные точки](iot-hub-devguide-endpoints.md#custom-endpoints), определяемые пользователям для отправки данных телеметрии устройства и событий в службы Azure путем [маршрутизации сообщений](iot-hub-devguide-messages-d2c.md).

## <a name="sending-cloud-to-device-messages-from-iot-hub"></a>Отправка сообщений, пересылаемых из облака на устройство, из Центра Интернета вещей

Вы можете отправлять сообщения [из облака на устройство](iot-hub-devguide-messages-c2d.md) из серверной части решения на устройства.

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-partial.md)]

Основные свойства функции обмена сообщениями в Центре Интернета вещей — надежность и устойчивость сообщений. Эти свойства сохраняются, если на стороне устройства прерывается подключение и если наступает момент пиковой загрузки на стороне облака при обработке событий. Центр Интернета вещей гарантирует *как минимум однократную* доставку при двухстороннем обмене сообщениями между устройством и облаком.

## <a name="choosing-the-right-type-of-iot-hub-messaging"></a>Выбор необходимого типа обмена сообщениями Центра Интернета вещей

Для отправки телеметрии и оповещений с учетом временных рядов из приложения для устройства используйте сообщения, отправляемые с устройства в облако, а для отправки односторонних уведомлений в приложение для устройства — сообщения, отправляемые из облака на устройство.

* Дополнительные сведения см. в [руководстве по обмену данными между устройством и облаком](./iot-hub-devguide-d2c-guidance.md), чтобы выбрать необходимый вариант: сообщения, отправляемые с устройства в облако, переданные свойства или отправку файла.

* Чтобы выбрать сообщения, отправляемые из облака на устройство, требуемые свойства или прямые методы, см. сведения в [руководстве по обмену данными между облаком и устройством](./iot-hub-devguide-c2d-guidance.md).

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о [маршрутизации сообщений](iot-hub-devguide-messages-d2c.md) в Центре Интернета вещей.

* Дополнительные сведения о [сообщениях, передаваемых из облака на устройство](iot-hub-devguide-messages-c2d.md), Центра Интернета вещей.