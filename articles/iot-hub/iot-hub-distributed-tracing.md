---
title: Добавление идентификаторов корреляции в сообщения Интернета вещей w/Распределенная трассировка (пред.)
description: Узнайте, как использовать распределенную трассировку для отслеживания сообщений Интернета вещей в службах Azure, используемых решением.
author: jlian
manager: briz
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 02/06/2019
ms.author: jlian
ms.custom:
- amqp
- mqtt
- fasttrack-edit
- iot
ms.openlocfilehash: fca5c1a0aee6e62890d734e3233177549d932672
ms.sourcegitcommit: c8b50a8aa8d9596ee3d4f3905bde94c984fc8aa2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2021
ms.locfileid: "105643678"
---
# <a name="trace-azure-iot-device-to-cloud-messages-with-distributed-tracing-preview"></a>Трассировка отправляемых с устройства в облако сообщений Интернета вещей Azure с помощью функции распределенной трассировки (предварительная версия)

Центр Интернета вещей Microsoft Azure поддерживает функцию распределенной трассировки, которая сейчас доступна в режиме [предварительной версии](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).

Центр Интернета вещей — это одна из первых служб Azure, поддерживающих функцию распределенной трассировки. Благодаря тому, что службы Azure поддерживают эту функцию, вы сможете выполнять трассировку сообщений Интернета вещей через службы Azure, связанные с определенным решением. Сведения о распределенной трассировке см. в [этой статье](../azure-monitor/app/distributed-tracing.md).

Включив распределенную трассировку в Центре Интернета вещей, вы сможете:

- Точно отслеживать поток каждого сообщения через Центр Интернета вещей с помощью [контекста трассировки](https://github.com/w3c/trace-context). Этот контекст содержит идентификаторы корреляции, позволяющие коррелировать события одного компонента с событиями из другого. Его можно применять к некоторым или ко всем сообщениям устройства Интернета вещей с помощью [двойника устройства](iot-hub-devguide-device-twins.md).
- Автоматически регистрировать контекст трассировки в [Azure Monitor журналов](monitor-iot-hub.md).
- Измерять и распознавать поток сообщений, отправляемых с устройств в Центр Интернета вещей и на конечные точки маршрутизации, и задержки.
- Рассмотрим, как реализовать распределенную трассировку для служб, не относящихся к Azure, в своем решении Интернета вещей.

В этой статье используется [пакет SDK для устройств Azure IoT для C](iot-hub-device-sdk-c-intro.md) с функцией распределенной трассировки. Реализация поддержки функции распределенной трассировки все еще выполняется для других пакетов SDK.

## <a name="prerequisites"></a>Предварительные условия

- Предварительная версия функции распределенной трассировки сейчас поддерживается только в Центрах Интернета вещей, созданных в следующих регионах:

  - **Северная Европа**
  - **Southeast Asia**
  - **Западная часть США 2**

- В этой статье предполагается, что вы знаете, как отправлять сообщения телеметрии в Центр Интернета вещей. Убедитесь, что вы завершили все задачи краткого руководства [Отправка данных телеметрии из устройства в Центр Интернета вещей и их чтение с помощью внутреннего приложения (C)](quickstart-send-telemetry-c.md).

- Зарегистрируйте устройство в Центре Интернета вещей (шаги приведены в каждом кратком руководстве) и запишите строку подключения.

- Установите последнюю версию [Git](https://git-scm.com/download/).

## <a name="configure-iot-hub"></a>Настройка Центра Интернета вещей

В этом разделе вы настроите регистрацию распределенных атрибутов трассировки (идентификаторы корреляции и метки времени) в Центре Интернета вещей.

1. Перейдите в центр Интернета вещей на [портал Azure](https://portal.azure.com/).

1. В левой области Центра Интернета вещей прокрутите вниз до раздела **Мониторинг** и нажмите кнопку **Параметры диагностики**.

1. Щелкните **Добавить параметр диагностики**.

1. В поле **Имя** введите имя нового параметра диагностики. Например, **DistributedTracingSettings**.

1. Выберите один или несколько из следующих параметров, которые определяют, куда будут отправляться данные ведения журнала:

    - **Архивировать в учетную запись хранения**. Настройте учетную запись хранения, которая будет содержать данные журнала.
    - **Поток в концентратор событий**: Настройка концентратора событий для хранения данных журнала.
    - **Отправить в log Analytics**: Настройте рабочую область log Analytics, чтобы она содержала данные журнала.

1. В разделе **Журнал** выберите операции, сведения о которых необходимо регистрировать.

    Не забудьте выбрать параметр **DistributedTracing** и настроить длительность **хранения** журналов (в днях). Длительность хранения журналов влияет на затраты на хранилище.

    ![Снимок экрана с категорией DistributedTracing в параметрах диагностики Интернета вещей](./media/iot-hub-distributed-tracing/diag-logs.png)

1. Нажмите кнопку **Сохранить**, чтобы сохранить новый параметр.

1. (Необязательно) Чтобы настроить отправку потока сообщений в разные места, установите [правила маршрутизации по крайней мере на две разные конечные точки](iot-hub-devguide-messages-d2c.md).

После включения ведения журнала Центр Интернета вещей регистрирует сообщения, содержащие действительные свойства трассировки, в любой из следующих ситуаций:

- сообщения поступают в шлюз Центра Интернета вещей;
- сообщение обрабатывается Центром Интернета вещей;
- сообщение маршрутизируется на пользовательские конечные точки (необходимо включить маршрутизацию).

Дополнительные сведения об этих журналах и их схемах см. в статье [мониторинг центра Интернета вещей](monitor-iot-hub.md) и [Распределенная трассировка в журналах ресурсов центра Интернета вещей](monitor-iot-hub-reference.md#distributed-tracing-preview).

## <a name="set-up-device"></a>Настройка устройства

В этом разделе вы подготовите среду разработки для использования с [пакетом SDK Azure IoT для C](https://github.com/Azure/azure-iot-sdk-c). Затем вы измените один из примеров, чтобы включить распределенную трассировку сообщений телеметрии устройства.

Эти инструкции предназначены для создания примера в операционной системе Windows. Сведения о других средах см. в разделах о [компиляции пакета SDK для C](https://github.com/Azure/azure-iot-sdk-c/blob/master/iothub_client/readme.md#compile) или [предварительно собранном пакете SDK для C для разработки на определенной платформе](https://github.com/Azure/azure-iot-sdk-c/blob/master/iothub_client/readme.md#prepackaged-c-sdk-for-platform-specific-development).

### <a name="clone-the-source-code-and-initialize"></a>Клонирование исходного кода и инициализация

1. Установите [рабочую нагрузку "Разработка классических приложений на C++"](/cpp/build/vscpp-step-0-installation?view=vs-2019&preserve-view=true) для Visual Studio 2019. Также поддерживаются Visual Studio 2017 и 2015.

1. Установка [CMake](https://cmake.org/). Убедитесь, что это средство расположено в каталоге по вашему пути (`PATH`). Для этого в окне командной строки введите `cmake -version`.

1. Откройте командную строку или оболочку Git Bash. Выполните следующие команды, чтобы клонировать последний выпуск репозитория GitHub [SDK для Azure IOT C](https://github.com/Azure/azure-iot-sdk-c) :

    ```cmd
    git clone -b public-preview https://github.com/Azure/azure-iot-sdk-c.git
    cd azure-iot-sdk-c
    git submodule update --init
    ```

    Выполнение этой операции может занять несколько минут.

1. Создайте подкаталог `cmake` в корневом каталоге репозитория Git и перейдите в эту папку. В каталоге `azure-iot-sdk-c` выполните следующие команды:

    ```cmd
    mkdir cmake
    cd cmake
    cmake ..
    ```

    Если `cmake` не удается найти компилятор C++, могут возникнуть ошибки сборки во время выполнения предыдущей команды. В этом случае попробуйте, выполнить эту команду в [командной строке Visual Studio](/dotnet/framework/tools/developer-command-prompt-for-vs). 

    После успешного создания последние несколько строк выходных данных будут выглядеть следующим образом:

    ```cmd
    $ cmake ..
    -- Building for: Visual Studio 15 2017
    -- Selecting Windows SDK version 10.0.16299.0 to target Windows 10.0.17134.
    -- The C compiler identification is MSVC 19.12.25835.0
    -- The CXX compiler identification is MSVC 19.12.25835.0

    ...

    -- Configuring done
    -- Generating done
    -- Build files have been written to: E:/IoT Testing/azure-iot-sdk-c/cmake
    ```

### <a name="edit-the-send-telemetry-sample-to-enable-distributed-tracing"></a>Изменение примера отправки данных телеметрии для включения распределенной трассировки

> [!div class="button"]
> <a href="https://github.com/Azure-Samples/azure-iot-distributed-tracing-sample/blob/master/iothub_ll_telemetry_sample-c/iothub_ll_telemetry_sample.c" target="_blank">Получение примера на GitHub</a>

1. Используйте редактор, чтобы открыть исходный файл `azure-iot-sdk-c/iothub_client/samples/iothub_ll_telemetry_sample/iothub_ll_telemetry_sample.c`.

1. Найдите объявление константы `connectionString`.

    [!code-c[](~/samples-iot-distributed-tracing/iothub_ll_telemetry_sample-c/iothub_ll_telemetry_sample.c?name=snippet_config&highlight=2)]

    Замените значение константы `connectionString` на строку подключения устройства, записанную в разделе [Регистрация устройства](./quickstart-send-telemetry-c.md#register-a-device) в кратком руководстве [Отправка данных телеметрии из устройства в Центр Интернета вещей и их чтение с помощью внутреннего приложения (C)](./quickstart-send-telemetry-c.md).

1. Изменение определения `MESSAGE_COUNT` на `5000`:

    [!code-c[](~/samples-iot-distributed-tracing/iothub_ll_telemetry_sample-c/iothub_ll_telemetry_sample.c?name=snippet_config&highlight=3)]

1. Найдите строку, вызывающую `IoTHubDeviceClient_LL_SetConnectionStatusCallback`, чтобы зарегистрировать функцию обратного вызова состояния подключения перед отправкой цикла сообщений. Добавьте код под этой строкой, как показано ниже, чтобы вызвать `IoTHubDeviceClient_LL_EnablePolicyConfiguration` и включить функцию распределенной трассировки на устройстве:

    [!code-c[](~/samples-iot-distributed-tracing/iothub_ll_telemetry_sample-c/iothub_ll_telemetry_sample.c?name=snippet_tracing&highlight=5)]

    Функция `IoTHubDeviceClient_LL_EnablePolicyConfiguration` включает политики определенных функций Центра Интернета вещей, которые настраиваются через [двойники устройств](./iot-hub-devguide-device-twins.md). После включения `POLICY_CONFIGURATION_DISTRIBUTED_TRACING` с помощью приведенной выше строки кода в поведении трассировки устройства отразятся изменения распределенной трассировки, внесенные на двойнике устройства.

1. Чтобы сохранить пример приложения, выполняющегося без использования квоты, добавьте секундную задержку в конце цикла обработки отправки сообщений:

    [!code-c[](~/samples-iot-distributed-tracing/iothub_ll_telemetry_sample-c/iothub_ll_telemetry_sample.c?name=snippet_sleep&highlight=8)]

### <a name="compile-and-run"></a>Компиляция и запуск

1. Перейдите к каталогу проекта *iothub_ll_telemetry_sample* в созданном ранее каталоге CMake (`azure-iot-sdk-c/cmake`) и компилируйте пример:

    ```cmd
    cd iothub_client/samples/iothub_ll_telemetry_sample
    cmake --build . --target iothub_ll_telemetry_sample --config Debug
    ```

1. Запустите приложение. Устройство отправляет данные телеметрии, которые поддерживают распределенную трассировку.

    ```cmd
    Debug/iothub_ll_telemetry_sample.exe
    ```

1. Не отключайте приложение. Дополнительно наблюдайте за сообщением, отправленным в Центр Интернета вещей, в окне консоли.

<!-- For a client app that can receive sampling decisions from the cloud, check out [this sample](https://aka.ms/iottracingCsample).  -->

### <a name="workaround-for-third-party-clients"></a>Обходное решение для сторонних клиентов

Предварительный просмотр функции распределенной трассировки без использования пакета SDK для C **не является тривиальным** . Таким образом, этот подход не рекомендуется.

Во-первых, необходимо реализовать все примитивы протокола центра Интернета вещей в сообщениях, следуя руководству по разработке [Создание и чтение сообщений центра Интернета вещей](iot-hub-devguide-messages-construct.md). Затем измените свойства протокола в сообщениях MQTT/AMQP, чтобы добавить их в `tracestate` качестве **системного свойства**.  В частности:

* Для MQTT добавьте `%24.tracestate=timestamp%3d1539243209` в раздел сообщения, где `1539243209` следует заменить временем создания сообщения в формате отметок времени Unix. В качестве примера см. реализацию [в пакете SDK для C](https://github.com/Azure/azure-iot-sdk-c/blob/6633c5b18710febf1af7713cf1a336fd38f623ed/iothub_client/src/iothubtransport_mqtt_common.c#L761) .
* Для AMQP добавьте `key("tracestate")` и `value("timestamp=1539243209")` как заметку сообщения. Справочную реализацию см. [здесь](https://github.com/Azure/azure-iot-sdk-c/blob/6633c5b18710febf1af7713cf1a336fd38f623ed/iothub_client/src/uamqp_messaging.c#L527).

Чтобы контролировать процентную долю сообщений, содержащих это свойство, внедрите логику прослушивания инициированных облаком событий, таких как обновления двойника.

## <a name="update-sampling-options"></a>Обновление параметров выборки 

Чтобы изменить процентную долю трассируемых из облака сообщений, необходимо обновить двойник устройства. Этого можно достигнуть несколькими способами, включая редактор JSON на портале и пакет SDK для службы Центра Интернета вещей. Примеры приведены в следующих подразделах.

### <a name="update-using-the-portal"></a>Обновление с помощью портала

1. Перейдите в центр Интернета вещей на [портале Azure](https://portal.azure.com/), а затем нажмите кнопку **Устройства Интернета вещей**.

1. Выберите устройство.

1. Найдите параметр **Enable distributed tracing (preview)** (Включение распределенной трассировки (предварительная версия)), а затем выберите **Включить**.

    ![Включение распределенной трассировки на портале Azure](./media/iot-hub-distributed-tracing/azure-portal.png)

1. Укажите **частоту выборки** в диапазоне от 0 до 100 %.

1. Выберите команду **Сохранить**.

1. Подождите несколько секунд и нажмите кнопку **Обновить**. Если устройство подтвердит эту операцию, появится значок синхронизации с флажком.

1. Вернитесь в окно консоли приложения отправки сообщений телеметрии. Вы увидите сообщения, отправленные с параметром `tracestate` в свойствах приложения.

    ![Состояние трассировки](./media/iot-hub-distributed-tracing/MicrosoftTeams-image.png)

1. (Необязательно) Измените частоту выборки и понаблюдайте за изменением частоты, с которой сообщения включают параметр `tracestate` в свойства приложения.

### <a name="update-using-azure-iot-hub-for-vs-code"></a>Обновление с помощью центра Интернета вещей Azure для VS Code

1. Установите VS Code, а затем установите последнюю версию центра Интернета вещей Azure для VS Code [отсюда](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-tools).

1. Откройте VS Code и [настройте строку подключения к Центру Интернета вещей](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-toolkit#user-content-prerequisites).

1. Разверните устройство и найдите узел **Distributed Tracing Setting (Preview)** (Параметр распределенной трассировки (предварительная версия)). Ниже щелкните подузел **Update Distributed Tracing Setting (Preview)** (Обновление параметра распределенной трассировки (предварительная версия)).

    ![Включение распределенной трассировки в расширении центра Интернета вещей Azure](./media/iot-hub-distributed-tracing/update-distributed-tracing-setting-1.png)

1. Во всплывающем окне выберите **Включить**, а затем нажмите клавишу ВВОД, чтобы подтвердить выборку с частотой 100.

    ![Обновление режима выборки](./media/iot-hub-distributed-tracing/update-distributed-tracing-setting-2.png)

    ![Обновление частоты выборки](./media/iot-hub-distributed-tracing/update-distributed-tracing-setting-3.png)

### <a name="bulk-update-for-multiple-devices"></a>Массовое обновление нескольких устройств

Чтобы обновить конфигурацию выборки распределенной трассировки нескольких устройств, используйте [автоматическую конфигурацию устройства](./iot-hub-automatic-device-management.md). Убедитесь, что вы следуете этой схеме двойника:

```json
{
    "properties": {
        "desired": {
            "azureiot*com^dtracing^1": {
                "sampling_mode": 1,
                "sampling_rate": 100
            }
        }
    }
}
```

| Имя элемента | Обязательно | Тип | Описание |
|-----------------|----------|---------|-----------------------------------------------------|
| `sampling_mode` | Да | Целое число | Для включения и отключения выборки в настоящее время поддерживается два режима. `1` — включен, а `2` — отключен. |
| `sampling_rate` | Да | Целое число | Это значение является процентной долей. Разрешены только значения в диапазоне от `0` до `100` включительно.  |

## <a name="query-and-visualize"></a>Отправка запросов и визуализация

Чтобы просмотреть все трассировки, вносимые в Центр Интернета вещей, запросите хранилище журналов, выбранное в параметрах диагностики. В этом разделе рассматривается несколько различных вариантов.

### <a name="query-using-log-analytics"></a>Запрос с помощью Log Analytics

Если вы настроили [log Analytics с журналами ресурсов](../azure-monitor/essentials/resource-logs.md#send-to-azure-storage), выполните запрос, выполнив поиск журналов в `DistributedTracing` категории. Например, этот запрос показывает все трассировки в журнале:

```Kusto
// All distributed traces 
AzureDiagnostics 
| where Category == "DistributedTracing" 
| project TimeGenerated, Category, OperationName, Level, CorrelationId, DurationMs, properties_s 
| order by TimeGenerated asc  
```

Примеры журналов, как показано службой Log Analytics:

| TimeGenerated | OperationName | Категория | Level | CorrelationId | DurationMs | Свойства |
|--------------------------|---------------|--------------------|---------------|---------------------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------|
| 2018-02-22T03:28:28.633Z | DiagnosticIoTHubD2C | DistributedTracing | Informational | 00-8cd869a412459a25f5b4f31311223344-0144d2590aacd909-01 |  | {"deviceId":"AZ3166","messageSize":"96","callerLocalTimeUtc":"2018-02-22T03:27:28.633Z","calleeLocalTimeUtc":"2018-02-22T03:27:28.687Z"} |
| 2018-02-22T03:28:38.633Z | DiagnosticIoTHubIngress | DistributedTracing | Informational | 00-8cd869a412459a25f5b4f31311223344-349810a9bbd28730-01 | 20 | {"isRoutingEnabled":"false","parentSpanId":"0144d2590aacd909"} |
| 2018-02-22T03:28:48.633Z | DiagnosticIoTHubEgress | DistributedTracing | Informational | 00-8cd869a412459a25f5b4f31311223344-349810a9bbd28730-01 | 23 | {"endpointType":"EventHub","endpointName":"myEventHub", "parentSpanId":"0144d2590aacd909"} |

Сведения о различных типах журналов см. в статье [распределенные журналы трассировки центра Интернета вещей Azure](monitor-iot-hub-reference.md#distributed-tracing-preview).

### <a name="application-map"></a>Схема приложений

Чтобы визуализировать поток сообщений Интернета вещей, настройте пример приложения схемы приложений. Пример приложения отправляет журналы распределенной трассировки в [схему приложений](../azure-monitor/app/app-map.md) с помощью функции Azure и концентратора событий.

> [!div class="button"]
> <a href="https://github.com/Azure-Samples/e2e-diagnostic-provision-cli" target="_blank">Получение примера на GitHub</a>

На изображении ниже показана распределенная трассировка в схеме приложений с тремя конечными точками маршрутизации:

![Распределенная трассировка Интернета вещей в схеме приложений](./media/iot-hub-distributed-tracing/app-map.png)

## <a name="understand-azure-iot-distributed-tracing"></a>Сведения о распределенной трассировке Интернета вещей Azure

### <a name="context"></a>Контекст

Множество решений Интернета вещей, включая нашу собственную [эталонную архитектуру](/azure/architecture/reference-architectures/iot) (только на английском языке) обычно являются вариантом [архитектуры микрослужб](/azure/architecture/microservices/). По мере усложнения решений Интернета вещей вам придется использовать дюжину или более микрослужб. Эти микрослужбы могут располагаться как в Azure, так и за его пределами. Определение, где сообщения Интернета вещей удаляются или замедляются может стать сложной задачей. Например, у вас есть решение Интернета вещей, которое использует 5 различных служб Azure и 1500 активных устройств. Каждое устройство отправляет 10 сообщений с устройства в облако в секунду (всего 15 000 сообщений в секунду), однако вы обращаете внимание, что веб-приложение видит только 10 000 сообщений в секунду. В чем заключается проблема? Как найти причину?

### <a name="distributed-tracing-pattern-in-microservice-architecture"></a>Шаблон распределенной трассировки в архитектуре микрослужб

Чтобы воспроизвести поток сообщения Интернета вещей для разных служб, каждая служба должна распространять *идентификатор корреляции*, который однозначно определяет сообщение. После сбора в централизованную систему идентификаторы корреляции позволяют просматривать поток сообщений. Этот метод называется [шаблоном распределенной трассировки](/azure/architecture/microservices/logging-monitoring#distributed-tracing).

Для поддержки более широкого внедрения распределенной трассировки, корпорация Майкрософт вносит свой вклад в разработку [стандартного предложения W3C по распределенной трассировке](https://w3c.github.io/trace-context/).

### <a name="iot-hub-support"></a>Поддержка Центра Интернета вещей

После включения поддержки распределенной трассировки для центра Интернета вещей следуйте этому потоку:

1. На устройстве Интернета вещей формируется сообщение.
1. Устройство Интернета вещей (с помощью облака) решает, что это сообщение должно назначаться с контекстом трассировки.
1. Пакет SDK добавляет `tracestate` в свойство Message, содержащее метку времени создания сообщения.
1. Устройство Интернета вещей отправляет сообщение в Центр Интернета вещей.
1. Сообщение поступает в шлюз Центра Интернета вещей.
1. Центр Интернета вещей ищет в `tracestate` свойствах сообщения и проверяет, имеет ли он правильный формат.
1. Если это так, центр Интернета вещей создает глобально уникальный `trace-id` для сообщения, `span-id` для "прыжка" и записывает их в [журналы распределенной трассировки центра Интернета вещей](monitor-iot-hub-reference.md#distributed-tracing-preview) при выполнении операции `DiagnosticIoTHubD2C` .
1. После завершения обработки сообщения центр Интернета вещей создает другой `span-id` и регистрирует его вместе с существующей `trace-id` операцией `DiagnosticIoTHubIngress` .
1. Если для сообщения включена маршрутизация, Центр Интернета вещей записывает его в пользовательскую конечную точку и записывает в журнал другой `span-id` с тем же `trace-id` в категории `DiagnosticIoTHubEgress`.
1. Описанные выше действия повторяются для каждого созданного сообщения.

## <a name="public-preview-limits-and-considerations"></a>Ограничения общедоступной предварительной версии и рекомендации

- Предложения для стандартного контекста трассировки консорциума W3C в настоящее время является рабочим проектом.
- В настоящее время единственным языком разработки, поддерживаемым клиентским пакетом SDK является C.
- Возможность переноса из облака на двойник устройства недоступна на [уровне "Базовый" Центра Интернета вещей](iot-hub-scaling.md#basic-and-standard-tiers). Тем не менее, Центр Интернета вещей все равно будет регистрироваться в Azure Monitor, если видит правильно составленный заголовок контекста трассировки.
- Чтобы обеспечить эффективность операции, Центр Интернета вещей применит регулирование на основе частоты регистрации, которая может возникнуть как часть распределенной трассировки.

## <a name="next-steps"></a>Дальнейшие шаги

- Дополнительные сведения об общем шаблоне распределенной трассировки в микрослужбах см. в [этой статье](https://microservices.io/patterns/observability/distributed-tracing.html).
- Чтобы настроить конфигурацию для применения параметров распределенной трассировки на большое количество устройств, ознакомьтесь со статьей [Настройка и мониторинг устройств Центра Интернета вещей с помощью портала Azure](./iot-hub-automatic-device-management.md).
- Дополнительные сведения о службе Azure см. в статье [Настройка и мониторинг устройств Центра Интернета вещей с помощью портала Azure](../azure-monitor/overview.md).
- Дополнительные сведения об использовании Azure Monitor с центром Интернета вещей см. в статье [мониторинг центра Интернета вещей](monitor-iot-hub.md) .