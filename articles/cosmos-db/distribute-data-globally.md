---
title: Глобальное распределение данных с помощью Azure Cosmos DB
description: Сведения о георепликации с георепликацией, записи в нескольких регионах, отработке отказа и восстановлении данных с помощью глобальных баз данных из Azure Cosmos DB, глобально распределенной многомодельной службы базы данных.
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 01/06/2021
ms.custom: seo-nov-2020
ms.openlocfilehash: 6bdb167990afeb5c1b6c68185f24a8f930287bed
ms.sourcegitcommit: 8d1b97c3777684bd98f2cfbc9d440b1299a02e8f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2021
ms.locfileid: "102487905"
---
# <a name="distribute-your-data-globally-with-azure-cosmos-db"></a>Глобальное распределение данных с помощью Azure Cosmos DB
[!INCLUDE[appliesto-all-apis](includes/appliesto-all-apis.md)]

Современные приложения должны мгновенно реагировать на запросы и всегда иметь подключение к Интернету. Чтобы обеспечить низкую задержку и высокий уровень доступности, экземпляры этих приложений нужно развернуть в ближайших к пользователям центрах обработки данных. Такие приложения обычно развертываются в нескольких центрах обработки данных и называются глобально распределенными. Глобально распределенные приложения требуют глобально распределенной базы данных, которая обеспечивает прозрачную репликацию данных в любую точку мира. Это позволит приложениям работать с копией данных, которая размещена в ближайшем к пользователям расположении. 

Azure Cosmos DB — это глобально распределенная система базы данных, которая позволяет считывать и записывать данные из локальных реплик базы данных. Azure Cosmos DB прозрачно реплицирует все данные во все регионы, связанные с этой учетной записью Cosmos. Azure Cosmos DB — это глобально распределенная служба базы данных, предназначенная для обеспечения низкой задержки, эластичной масштабируемости пропускной способности, четко определенной семантики для согласованности данных и их высокой доступности. Вкратце, если приложению требуется быстрое время отклика в любой точке мира, если оно должно быть постоянно подключено к сети и для него требуется неограниченная и эластичная масштабируемость пропускной способности и хранилища, следует создать приложение на Azure Cosmos DB.

Можно настраивать базы данных для глобального распределения и доступности в любом из регионов Azure. Чтобы снизить задержку, поместите данные ближе к месту, где находятся ваши пользователи. Выбор необходимых регионов зависит от глобального охвата приложения и расположения пользователя. Cosmos DB прозрачно реплицирует данные во все регионы, связанные с вашей учетной записью Cosmos. Она предоставляет один образ системы глобально распределенной базы данных Azure Cosmos и контейнеров, что позволяет приложению использовать их для локальных операций чтения и записи.

С помощью Azure Cosmos DB можно в любое время добавлять или удалять регионы, связанные с учетной записью. Чтобы добавить или удалить регион, приложение не нужно приостанавливать или повторно развертывать.

:::image type="content" source="./media/distribute-data-globally/deployment-topology.png" alt-text="Топология развертывания высокого уровня доступности" border="false":::

## <a name="key-benefits-of-global-distribution"></a>Ключевые преимущества глобального распределения

**Создавайте глобальные приложения в режиме "активный — активный".** При использовании собственного протокола репликации с несколькими регионами каждый регион поддерживает операции записи и чтения. Возможность записи в несколько регионов также позволяет:

- Неограниченная эластичная запись и масштабируемость чтения.
- доступность для чтения и записи на 99,999 % по всему миру;
- гарантированные операции чтения или записи, обслуживаемые менее чем за 10 миллисекунд в 99-м процентиле.

Когда вы добавляете и удаляете регионы в учетной записи Azure Cosmos, вам не нужно повторно развертывать или приостанавливать свое приложение, оно по всей времени остается высокодоступным.

**Создание быстродействующих приложений**. Приложение может выполнять операции чтения и записи практически в режиме реального времени для всех регионов, выбранных для базы данных. Azure Cosmos DB внутренне обрабатывает репликацию данных между регионами с гарантированным уровнем согласованности выбранного уровня.

**Создание приложений высокой доступности**. Выполнение базы данных в нескольких регионах по всему миру повышает доступность базы данных. В случае, когда один из регионов недоступен, запросы приложений обрабатываются в других регионах автоматически. Azure Cosmos DB предлагает возможность чтения и записи на уровне 99,999 % для баз данных, распределенных по нескольким регионам.

**Поддержание непрерывности бизнес-процессов во время региональных сбоев.** Во время региональных сбоев Azure Cosmos DB поддерживает [автоматическую отработку отказа](how-to-manage-database-account.md#automatic-failover). Во время регионального сбоя Azure Cosmos DB будет продолжать управлять пропускной способностью, доступностью, согласованностью и соглашением об уровне обслуживания в части пропускной способности. Чтобы обеспечить высокую доступность всего приложения, Cosmos DB предлагает интерфейс API отработки отказа вручную для имитации регионального сбоя. При использовании этого API можно регулярно выполнять тренировки непрерывности бизнеса.

**Глобальное масштабирование пропускной способности чтения и записи.** Можно включить запись для каждого региона, а также Эластичное масштабирование операций чтения и записи по всему миру. Пропускная способность, которую приложение настраивает в базе данных Cosmos Azure или контейнере, подготавливается во всех регионах, связанных с вашей учетной записью Azure Cosmos. Подготовленная пропускная способность гарантирована с помощью [соглашения об уровне обслуживания с финансовыми](https://azure.microsoft.com/support/legal/sla/cosmos-db/v1_3/)гарантиями.

**Выберите одну из нескольких четко определенных моделей согласованности.** Протокол репликации Azure Cosmos DB предлагает пять четко определенных, практических и интуитивно понятных моделей согласованности. В каждой модели предусмотрен компромисс между согласованностью и производительностью. Эти модели согласованности позволяют с легкостью создавать правильные глобально распределенные приложения.

## <a name="next-steps"></a><a id="Next Steps"></a>Следующие шаги

Дополнительные сведения о глобальном распределении см. в следующих статьях.

* [Глобальное распределение (взгляд изнутри)](global-dist-under-the-hood.md)
* [Настройка операций записи в несколько регионов в приложениях](how-to-multi-master.md)
* [Настройка клиентов для поддержки нескольких веб-сайтов](how-to-manage-database-account.md#configure-multiple-write-regions)
* [Добавление и удаление регионов из учетной записи Azure Cosmos DB](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [Создание настраиваемой политики разрешения конфликтов для учетных записей API SQL](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)
* [Программируемые модели согласованности в Cosmos DB](consistency-levels.md)
* [Выбор правильного уровня согласованности для приложения](./consistency-levels.md)
* [Уровни согласованности и API для Azure Cosmos DB](./consistency-levels.md)
* [Достижение компромисса между доступностью и быстродействием для разных уровней согласованности](./consistency-levels.md)