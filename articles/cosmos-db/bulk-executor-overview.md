---
title: Общие сведения о библиотеке массового исполнителя в Azure Cosmos DB
description: Выполнение массовых операций в Azure Cosmos DB с помощью интерфейсов API массового импорта и массового обновления, предоставляемых библиотекой массового исполнителя.
author: tknandu
ms.service: cosmos-db
ms.topic: how-to
ms.date: 05/28/2019
ms.author: ramkris
ms.reviewer: sngun
ms.openlocfilehash: 211fc85f97069fcf3251048a074d625e777f8e7d
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93100479"
---
# <a name="azure-cosmos-db-bulk-executor-library-overview"></a>Общие сведения о библиотеке массового исполнителя в Azure Cosmos DB
[!INCLUDE[appliesto-sql-api](includes/appliesto-sql-api.md)]
 
Azure Cosmos DB — это быстрая, гибкая и глобально распределенная служба базы данных, которая предназначена для гибкого горизонтального увеличения масштаба. Она поддерживает: 

* высокую пропускную способность операций чтения и записи (миллионы операций в секунду);  
* хранение больших объемов (сотни терабайт и даже больше) транзакционных и операционных данных с прогнозируемой низкой задержкой.  

Библиотека массового исполнителя позволяет использовать эти высокую пропускную способность и емкость. Библиотека массового исполнителя позволяет выполнять массовые операции в Azure Cosmos DB с помощью интерфейсов API массового импорта и массового обновления. Дополнительные сведения о возможностях библиотеки массового исполнителя см. в указанных ниже разделах. 

> [!NOTE] 
> Сейчас библиотека массового исполнителя поддерживает операции импорта и обновления. Она может использоваться только учетными записями API SQL Azure Cosmos DB и API Gremlin.

> [!IMPORTANT]
> В настоящее время библиотека небольшого выполнителя не поддерживается для учетных записей без [сервера](serverless.md) . В .NET рекомендуется использовать [пакетную поддержку](https://devblogs.microsoft.com/cosmosdb/introducing-bulk-support-in-the-net-sdk/) , доступную в версии v3 пакета SDK.
 
## <a name="key-features-of-the-bulk-executor-library"></a>Основные возможности библиотеки массового исполнителя  
 
* Библиотека значительно уменьшает количество вычислительных ресурсов на стороне клиента, потребляющих пропускную способность, выделенную для контейнера. Однопоточное приложение, которое записывает данные с помощью API массового импорта, обеспечивает в 10 раз большую пропускную способность операции записи по сравнению с многопоточным приложением, которое параллельно записывает данные во время нагрузки ЦП клиентского компьютера.  

* Библиотека абстрагирует длительные задачи по написанию логики приложения для обработки ограничений частоты запросов, времени ожидания запросов и других временных исключений. Они эффективно обрабатываются внутри библиотеки.  

* Он предоставляет упрощенный механизм для приложений, выполняющих массовые операции для масштабирования. Один экземпляр неполного исполнителя, выполняющийся на виртуальной машине Azure, может потреблять больше 500 тыс единиц запросов в секунду, и вы можете достичь более высокой пропускной способности, добавив дополнительные экземпляры на отдельные клиентские виртуальные машины.  
 
* Эта библиотека позволяет выполнять массовый импорт данных размером больше терабайта в течение часа с помощью масштабируемой архитектуры.  

* Он может выполнять массовые обновления существующих данных в контейнерах Azure Cosmos в качестве исправлений. 
 
## <a name="how-does-the-bulk-executor-operate"></a>Как работает групповой исполнитель? 

Когда массовая операция импорта или обновления документов активируется с пакетом сущностей, данные сначала помещаются в группы, соответствующие их диапазону ключей разделов Azure Cosmos DB. В каждой группе, соответствующей диапазону ключей разделов, данные разбиваются на мини-группы, и каждая мини-группа выполняет роль полезных данных, фиксируемых на стороне сервера. Библиотека массового исполнителя имеет встроенные оптимизации для параллельного выполнения этих мини-групп как в рамках, так и за пределами диапазонов ключей разделов. На следующем рисунке показано, как массовый исполнитель объединяет данные в разные ключи раздела:  

:::image type="content" source="./media/bulk-executor-overview/bulk-executor-architecture.png" alt-text="Архитектура массового исполнителя" :::

Библиотека операций с массовым исполнителем гарантирует максимальное использование пропускной способности, выделенной для коллекции. Она использует  [механизм управления перегрузкой в стиле AIMD](https://tools.ietf.org/html/rfc5681) для каждого диапазона ключей разделов Azure Cosmos DB, чтобы эффективно обрабатывать ограничения частоты запросов и время ожидания. 

## <a name="next-steps"></a>Дальнейшие действия 
  
* Дополнительные сведения см. в примерах приложений, использующих библиотеку небольшого выполнителя в [.NET](bulk-executor-dot-net.md) и [Java](bulk-executor-java.md).  
* Ознакомьтесь со сведениями и заметками о выпуске пакета SDK для массового исполнителя в статьях для [.NET](sql-api-sdk-bulk-executor-dot-net.md) и для [Java](sql-api-sdk-bulk-executor-java.md).
* Библиотека небольшого Исполнительного исполнителя интегрирована в соединитель Cosmos DB Spark. Дополнительные сведения см. в статье о [соединителе Azure Cosmos DB Spark](spark-connector.md) .  
* Библиотека массового исполнителя также интегрирована в новую версию [соединителя Azure Cosmos DB](../data-factory/connector-azure-cosmos-db.md) для фабрики данных Azure в целях копирования данных.
