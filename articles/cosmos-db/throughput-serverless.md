---
title: Выбор между подготовленной пропускной способностью и бессерверным Azure Cosmos DB
description: Узнайте, как выбрать между подготовленной пропускной способностью и бессерверной рабочей нагрузкой.
author: ThomasWeiss
ms.author: thweiss
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 12/23/2020
ms.openlocfilehash: a6f8b79ecc8dcac71dc8f5d1be2bb58a0288a307
ms.sourcegitcommit: 6cca6698e98e61c1eea2afea681442bd306487a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/24/2020
ms.locfileid: "97760340"
---
# <a name="how-to-choose-between-provisioned-throughput-and-serverless"></a>Выбор между подготовленной пропускной способностью и бессерверным
[!INCLUDE[appliesto-all-apis](includes/appliesto-all-apis.md)]

Azure Cosmos DB доступен в двух различных режимах емкости: [подготовленная пропускная способность](set-throughput.md) и [бессерверная](serverless.md). Вы можете выполнять одни и те же операции с базой данных в обоих режимах, но способ выставления счетов за эти операции коренным образом различается. В следующем видео объясняются основные различия между этими режимами и их соответствие различным типам рабочих нагрузок.

> [!VIDEO https://www.youtube.com/embed/CgYQo6uHyt0]

## <a name="detailed-comparison"></a>Подробное сравнение

| Критерии | Подготовленная пропускная способность | Бессерверные приложения |
| --- | --- | --- |
| Состояние | Общедоступная версия | В предварительной версии |
| Лучше всего подходит для | Критически важные рабочие нагрузки, для которых необходима прогнозируемая производительность | Небольшие и средние рабочие нагрузки с небольшим и периодическим трафиком, которые трудно прогнозировать |
| Принципы работы | Для каждого контейнера вы подготавливаете некоторый объем пропускной способности, выраженный в [единицах запросов](request-units.md) в секунду. Каждую секунду это количество единиц запросов доступно для операций базы данных. Подготовленную пропускную способность можно обновить вручную или настроить автоматически с помощью [автомасштабирования](provision-throughput-autoscale.md). | Вы выполняете операции с базами данных в контейнерах без необходимости подготавливать какие бы то ни было ресурсы. |
| Географическое распределение | Доступно (неограниченное количество регионов Azure) | Недоступно (учетные записи, не имеющие доступа к серверу, могут выполняться только в 1 регионе Azure) |
| Максимальный объем хранилища для одного контейнера | Неограниченно | 50 ГБ |
| Производительность | доступность на 99,99% до 99,999%, охваченная соглашением об уровне обслуживания<br>< 10 мс задержка для операций чтения и записи, охваченных соглашением об уровне обслуживания<br>Гарантия соглашения об уровне обслуживания на 99,99% гарантирует пропускную способность | доступность на 99,9% до 99,99%, охваченная соглашением об уровне обслуживания<br>< 10 мс задержка для операций чтения баллов и < 30 мс для операций записи, охваченных цели уровня обслуживания<br>95% нагрузки, охваченной целями уровня обслуживания |
| Модель выставления счетов | Выставление счетов выполняется почасово для подготовленного числа единиц запросов в секунду, независимо от того, сколько их было использовано. | Выставление счетов выполняется для каждого почасового периода в течение числа получателей, потребляемых операциями базы данных. |

> [!IMPORTANT]
> Некоторые бессерверные ограничения могут быть облегчило или удалены, когда бессерверная доступность становится общедоступной, и **ваши отзывы** помогут нам принять решение! Свяжитесь с нами и расскажите нам о бессерверных впечатлениях: [azurecosmosdbserverless@service.microsoft.com](mailto:azurecosmosdbserverless@service.microsoft.com) .

## <a name="estimating-your-expected-consumption"></a>Оценка ожидаемого потребления

В некоторых ситуациях может быть неясно, следует ли выбирать подготовленную пропускную способность или бессерверный режим для конкретной рабочей нагрузки. Чтобы помочь в этом решении, можно оценить общее **ожидаемое потребление**, то есть общее количество, которое можно использовать в течение месяца (это можно оценить с помощью приведенной [здесь](plan-manage-costs.md#estimating-serverless-costs)таблицы).

**Пример 1**. Ожидается, что Рабочая нагрузка будет занимать не более 500 единиц запросов в секунду, а всего 20 000 000 в течение месяца.

- В режиме подготовленной пропускной способности можно подготовить контейнер с 500 единиц запросов в секунду для месячной стоимости: $0,008 * 5 * 730 = **$29,20**
- В режиме "бессерверный" вы платите за использование сервера RUs: $0,25 * 20 = **$5,00**

**Пример 2**. Ожидается, что Рабочая нагрузка будет занимать не более 500 единиц запросов в секунду, а всего 250 000 000 в течение месяца.

- В режиме подготовленной пропускной способности можно подготовить контейнер с 500 единиц запросов в секунду для месячной стоимости: $0,008 * 5 * 730 = **$29,20**
- В режиме "бессерверный" вы платите за использование "RUs": $0,25 * 250 = **$62,50**

(эти примеры не являются учетом затрат на хранение, которые одинаковы в двух режимах).

> [!NOTE]
> Стоимость, показанная в предыдущем примере, используется только в демонстрационных целях. Последние сведения о ценах см. на [странице с ценами](https://azure.microsoft.com/pricing/details/cosmos-db/) .

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [подготовке пропускной способности для Azure Cosmos DB](set-throughput.md)
- Узнайте больше о [Azure Cosmos DB бессерверных](serverless.md)
- Знакомство с концепцией [единиц запросов](request-units.md)
