---
title: Варианты использования аналитики в режиме реального времени с помощью Azure Synapse Link для Azure Cosmos DB
description: Узнайте, как использовать Azure Synapse Link для Azure Cosmos DB в аналитике цепочки поставок, прогнозировании, отчетности, персонализации в режиме реального времени и при прогнозном обслуживании Интернета вещей.
author: tknandu
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 05/19/2020
ms.author: ramkris
ms.openlocfilehash: 9855a53ebdf7501907b3e1e63d59823d3a0b0209
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96463127"
---
# <a name="azure-synapse-link-for-azure-cosmos-db-near-real-time-analytics-use-cases"></a>Azure Synapse Link для Azure Cosmos DB: Варианты использования аналитики почти в реальном времени
[!INCLUDE[appliesto-sql-mongodb-api](includes/appliesto-sql-mongodb-api.md)]

[Azure Synapse Link](synapse-link.md) для Azure Cosmos DB — это облачная гибридная транзакционно-аналитическая возможность обработки (HTAP), которая позволяет вам выполнять аналитику операционных данных почти в реальном времени. Synapse Link обеспечивает тесную эффективную интеграцию между Azure Cosmos DB и Azure Synapse Analytics.

Возможно, вам будет интересно понять, в каких вариантах использования в отрасли можно использовать эту облачную функцию HTAP для аналитики почти в реальном времени в отношении операционных данных. Ниже приведены три типичных варианта использования Azure Synapse Link для Azure Cosmos DB.

* Анализ цепочек поставок, прогнозирование и отчеты
* Персонализация в режиме реального времени
* Прогнозное обслуживание, обнаружение аномалий в сценариях для Интернета вещей

> [!NOTE]
> Azure Synapse Link для Azure Cosmos DB предназначена для сценариев, в которых корпоративным группам нужна возможность выполнения анализа почти в реальном времени. Эти аналитические данные выполняются без ETL по операционным данным, созданным в рамках транзакционных приложений, созданных на основе Azure Cosmos DB. Это отменяет необходимость в отдельном хранилище данных, если существуют традиционные требования к хранилищу данных, такие как управление рабочей нагрузкой, высокая степень параллелизма, сохраняемость статистических выражений в нескольких источниках данных.

## <a name="supply-chain-analytics-forecasting--reporting"></a>Анализ цепочек поставок, прогнозирование и отчеты

Исследования показывают, что внедрение анализа больших данных в операции цепочки поставок приводит к улучшениям времени доставки и эффективности цепочки поставок.

Производители используют облачные технологии, чтобы избежать ограничений устаревших систем планирования ресурсов предприятия (ERP) и управления цепочкой поставок (SCM). Поскольку цепочки поставок создают ежеминутно растущие объемы операционных данных (заказ, отправку, данные транзакций), производителям требуется операционная база данных. Эта операционная база данных должна масштабироваться для работы с томами данных, а также с аналитической платформой, чтобы получить уровень контекстной аналитики в режиме реального времени, чтобы вовремя реагировать на изменения.

В следующей архитектуре показано использование Azure Cosmos DB в качестве собственной операционной базы данных в облаке и Synapse Link в службе анализа цепочек поставок.

:::image type="content" source="./media/synapse-link-use-cases/supply-chain-analytics.png" alt-text="Ссылка на Azure синапсе для Azure Cosmos DB в аналитике цепочки поставок " border="false":::

Благодаря архитектуре, показанной выше, вы можете получить следующие варианты использования с Synapse Link для Azure Cosmos DB:

* **Подготовка и обучение прогнозного конвейера:** Создавайте аналитические данные из операционных данных в цепочке поставок, используя преобразование машинного обучения. Таким образом можно уменьшить количество операций инвентаризации, затрат на эксплуатацию и сократить время доставки заказа клиентам.

  Synapse Link позволяет анализировать изменяющиеся операционные данные в Azure Cosmos DB без каких-либо ручных процессов ETL. Это позволяет сократить дополнительные затраты, задержку и снизить операционную сложность. Synapse Link позволяет специалистам по обработке и анализу данных создавать надежные прогнозные конвейеры:

  * Операционные данные можно запрашивать аналитического хранилища Azure Cosmos DB, используя встроенную интеграцию с пулами Apache Spark в Azure Synapse Analytics. Данные можно запрашивать в интерактивной записной книжке или запланированных удаленных заданиях без сложного инжиниринга данных.

  * Создание моделей машинного обучения с помощью алгоритмов машинного обучения Spark и интеграции машинного обучения Azure в Azure Synapse Analytics.

  * Обратная запись результатов после определения модели в Azure Cosmos DB для повышения эффективности оценки почти в реальном времени.

* **Операционные отчеты:** Группам цепочек поставок требуются гибкие и настраиваемые отчеты в режиме реального времени и точные операционные данные. Эти отчеты необходимы для получения моментального представления об эффективности, рентабельности и производительности цепочки поставок. Это позволяет аналитикам данных и другим ключевым заинтересованным лицам постоянно переоценивать бизнес-деятельность и вычислять области, которые необходимо настроить для сокращения эксплуатационных расходов. 

  Synapse Link для Azure Cosmos DB позволяет выполнять сложные сценарии бизнес-аналитики и отчетности.

  * Запрашивать операционные данные из Azure Cosmos DBного аналитического хранилища с помощью собственной интеграции с бессерверным пулом SQL и полным выразительностью языка T-SQL.

  * Моделирование и публикация автоматического обновления панелей мониторинга бизнес-аналитики в Azure Cosmos DB с помощью поддержки несерверного пула SQL для знакомых средств бизнес-аналитики. Например, Azure Analysis Services, Power BI Premium и т. д.

Ниже приведены некоторые рекомендации по интеграции данных для пакетной и потоковой передачи данных в Azure Cosmos DB.

* **Интеграция пакетных данных и оркестрация:** С усложнением цепочки поставок платформы данных цепочки поставок следует интегрировать с различными источниками данных и форматами. Azure Synapse поставляется с тем же механизмом интеграции данных и с возможностями Фабрики данных Azure. Такая интеграция позволяет инженерам данных создавать многофункциональные конвейеры данных без отдельной подсистемы оркестрации:

  * Перемещение данных из свыше 85 поддерживаемых источников данных в [Azure Cosmos DB с помощью Фабрики данных Azure](../data-factory/connector-azure-cosmos-db.md).

  * Создавайте конвейеры ETL без написания кода для Azure Cosmos DB включая [реляционные и иерархические сопоставления с потоками данных сопоставления](../data-factory/how-to-sqldb-to-cosmosdb.md).

* **Потоковая передача и обработка данных:** Благодаря росту промышленных центров Интернета вещей (ресурсов датчиков "от склада до магазина" и т. д.) существует взрывной рост объема данных в реальном времени, которые необходимо интегрировать с традиционными медленно перемещающимися данными для получения ценной информации. Azure Stream Analytics является рекомендуемой службой для потоковой передачи ETL и обработки в Azure с использованием [широкого спектра сценариев](../stream-analytics/streaming-technologies.md). Azure Stream Analytics поддерживает [Azure Cosmos DB в качестве собственного приемника данных](../stream-analytics/stream-analytics-documentdb-output.md).

## <a name="real-time-personalization"></a>Персонализация в режиме реального времени

Сегодня поставщики конечных решений должны создавать безопасные и масштабируемые решения для электронной коммерции, которые отвечают требованиям как клиентов, так и бизнеса. Эти решения для электронной коммерции должны привлекать клиентов через настраиваемые продукты и предложения, обрабатывайте сделки быстро и безопасно, сосредоточившись на услугах по обработке заказов и обслуживании клиентов. Azure Cosmos DB вместе с последней версией Synapse Link для Azure Cosmos DB позволяет розничным продавцам создавать персонализированные рекомендации для клиентов в режиме реального времени. Они используют параметры малой задержки и настраиваемой совместимости для немедленного анализа, как показано в следующей архитектуре:

:::image type="content" source="./media/synapse-link-use-cases/real-time-personalization.png" alt-text="Azure Synapse Link для Azure Cosmos DB при персонализации в режиме реального времени" border="false":::

Варианты использования Synapse Link для Azure Cosmos DB:

* **Подготовка и обучение прогнозного конвейера:** Аналитические данные по операционным данным в своих подразделениях или сегментах клиентуры можно формировать с помощью Synapse Spark и моделей машинного обучения. Результатом этого становятся персонализированная доставка в сегменты клиентуры, прогнозирование конечных пользователей и средства целевого маркетинга в соответствии с требованиями конечного пользователя.

## <a name="iot-predictive-maintenance"></a>Прогнозное обслуживание Интернета вещей

Нововведения в промышленных решениях для Интернета вещей значительно уменьшили время простоя оборудования и повысили общую эффективность всех сегментов отрасли. Одним из таких нововведений является анализ прогнозного обслуживания для компьютеров на границе облака.

Ниже показана архитектура, использующая облачные возможности HTAP в Azure Synapse Link для Azure Cosmos DB в IoT-средстве прогнозного обслуживания.

:::image type="content" source="./media/synapse-link-use-cases/iot-predictive-maintenance.png" alt-text="Azure Synapse Link для Azure Cosmos DB в прогнозном обслуживании Интернета вещей" border="false" :::

Варианты использования Synapse Link для Azure Cosmos DB:

* **Подготовка и обучение прогнозного конвейера:** Хронологические операционные данные с датчиков устройств Интернета вещей можно использовать для обучения прогнозных моделей, таких как средства обнаружения аномалий. Затем эти средства обнаружения аномалий развертываются обратно на границе для мониторинга в режиме реального времени. Такой цикл тем самым эффективно обеспечивает непрерывное переобучение прогнозных моделей.

* **Операционные отчеты:** Благодаря росту популярности инициативы создания цифровых двойников компании собирают большие объемы операционных данных из большого количества датчиков для создания цифровой копии каждого компьютера. Эта возможность требует от бизнес-аналитики понимания тенденций по сравнению с историческими данными, а также приложениям в реальном времени по сравнению с последними горячими данными.

## <a name="sample-scenario-htap-for-azure-cosmos-db"></a>Пример сценария. HTAP для Azure Cosmos DB

Почти в десять лет Azure Cosmos DB использовались тысячами клиентов для критически важных приложений, которым требуется Эластичное масштабирование, согласованное глобальное распределение, многорегионовая репликация записи с низкой задержкой и высокий уровень доступности операций чтения & записи в рабочих нагрузках транзакций.
 
В списке ниже приведены общие сведения о различных шаблонах операционной нагрузки для операционных данных на основе Azure Cosmos DB.

* Приложения и службы в режиме реального времени
* Обработка потока событий
* Панели мониторинга бизнес-аналитики
* Аналитика больших данных
* Машинное обучение

Azure Synapse Link позволяет Azure Cosmos DB не только использовать транзакционные рабочие нагрузки, но и выполнять аналитические рабочие нагрузки почти в реальном времени для хронологических операционных данных. Такой подход избавляет от необходимости использовать ETL и гарантирует изоляцию производительности от транзакционных рабочих нагрузок.

На следующем рисунке показаны шаблоны рабочих нагрузок, использующих Azure Cosmos DB: :::image type="content" source="./media/synapse-link-use-cases/synapse-link-workload-patterns.png" alt-text="Шаблоны рабочих нагрузок Azure Synapse Link для Azure Cosmos DB" border="false":::

Давайте рассмотрим пример международной компании CompanyXYZ, занимающейся электронной коммерцией, которую осуществляет в 20 странах/регионах, чтобы продемонстрировать преимущества выбора Azure Cosmos DB как единой базы данных в режиме реального времени, поддерживающей транзакционные и аналитические требования к платформе управления запасами.

* Основной бизнес CompanyXYZ зависит от системы управления запасами, поэтому доступность и надежность являются для нее основными базовыми требованиями. Преимущества использования Azure Cosmos DB:

  * Благодаря тесной интеграции с инфраструктурой Azure и прозрачной записи в нескольких регионах, глобальной репликации Azure Cosmos DB обеспечивает [высокий уровень доступности 99,999%](high-availability.md) в отрасли в соответствии с региональными простоями.

* Партнеры по цепочке поставок CompanyXYZ могут находиться в разных географических расположениях, но для поддержки их локальных операций может потребоваться единое представление о запасах продуктов по всему миру. Сюда входит возможность чтения обновлений, внесенных другими партнерами по цепочке поставок, в режиме реального времени. А также возможность вносить обновления, не беспокоясь о конфликтах с другими партнерами, сохраняя высокую пропускную способность. Преимущества использования Azure Cosmos DB:

  * Благодаря своему уникальному многорегиональному протоколу записи и хранилищу данных, оптимизированных для записи, Azure Cosmos DB гарантируется менее 10 мс задержек как для индексированных операций чтения, так и для записи на 99-м процентиль глобально.

  * Высокая пропускная способность приема потоков и пакетов данных с помощью [индексирования в реальном времени](index-policy.md) в транзакционном хранилище.

  * Транзакционное хранилище Azure Cosmos DB предоставляет на три варианта больше, чем два уровня согласованности (общей и на уровне событий), для достижения [компромисса в отношении доступности и производительности](./consistency-levels.md), максимального приближенного к потребностям бизнеса.

* Партнеры по цепочке поставок CompanyXYZ испытывают сильные колебания в плотности трафика от сотен до миллионов запросов в секунду, и поэтому платформа управления запасами должна работать с непредвиденным уровнем нагрузки в трафике.  Преимущества использования Azure Cosmos DB:

  * Транзакционное хранилище Azure Cosmos DB поддерживает эластичную масштабируемость хранилища и пропускной способности с помощью горизонтального секционирования. Контейнеры и базы данных, настроенные Автопилотом, могут автоматически и мгновенно масштабировать подготовленную пропускную способность в зависимости от потребностей приложения, не влияя на глобальные доступность, задержку, пропускную способность или производительность рабочей нагрузки.

* Компания CompanyXYZ должна установить безопасную платформу аналитики для объединения хронологических данных инвентаризации на уровне системы, чтобы обеспечить проведение аналитики и передачу аналитических данных между партнерами по цепочке поставок, подразделениями и функциями. Платформа аналитики должна обеспечить совместную работу между системой, традиционными вариантами использования бизнес-аналитики и отчетности, примерами использования расширенной аналитики и прогнозными интеллектуальными решениями по данным операционной инвентаризации. Преимущества использования Synapse Link для Azure Cosmos DB:

  * При использовании [аналитического хранилища Azure Cosmos DB](analytical-store-introduction.md), полностью изолированного хранилища столбцов, Synapse Link, не позволяет реализовать аналитику извлечения, преобразования и загрузки (ETL) в [Azure Synapse Analytics](../synapse-analytics/overview-what-is.md) к глобально распределенным операционным данным при заданном масштабе.  Бизнес-аналитики, инженеры и специалисты по обработке и анализу данных теперь могут использовать Synapse Spark или Synapse SQL в интерактивном режиме для запуска конвейеров бизнес-аналитики почти в реальном времени, анализа и машинного обучения, не влияя на производительность транзакционных рабочих нагрузок в Azure Cosmos DB. Дополнительные сведения см. в разделе [Преимущества Synapse Link в Azure Cosmos DB](synapse-link.md).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения см. в следующих документах:

* [Сведения об Azure Synapse Link для Azure Cosmos DB](synapse-link.md) 

* [Аналитическое хранилище Azure Cosmos DB](analytical-store-introduction.md)

* [Работа с Azure Synapse Link для Azure Cosmos DB](configure-synapse-link.md)

* [Часто задаваемые вопросы об Azure Synapse Link для Azure Cosmos DB](synapse-link-frequently-asked-questions.md)

* [Ключевые концепции Apache Spark в Azure Synapse Analytics](../synapse-analytics/spark/apache-spark-concepts.md)

* [Поддержка среды выполнения пула SQL Server в Azure синапсе Analytics](../synapse-analytics/sql/on-demand-workspace-overview.md)