---
title: Многофакторная идентификация в Azure Active Directory B2C | Документация Майкрософт
description: Узнайте, как включить многофакторную идентификацию в потребительских приложениях, защищенных с помощью Azure Active Directory B2C.
services: active-directory-b2c
author: msmimart
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: how-to
ms.date: 02/01/2021
ms.custom: project-no-code
ms.author: mimart
ms.subservice: B2C
zone_pivot_groups: b2c-policy-type
ms.openlocfilehash: d7bc92af31eb179155fd473356c741f365a07a35
ms.sourcegitcommit: ea822acf5b7141d26a3776d7ed59630bf7ac9532
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2021
ms.locfileid: "99525150"
---
# <a name="enable-multi-factor-authentication-in-azure-active-directory-b2c"></a>Включение многофакторной идентификации в Azure Active Directory B2C

[!INCLUDE [active-directory-b2c-choose-user-flow-or-custom-policy](../../includes/active-directory-b2c-choose-user-flow-or-custom-policy.md)]

Azure Active Directory B2C (Azure AD B2C) интегрируется напрямую с [многофакторной проверкой подлинности Azure AD](../active-directory/authentication/concept-mfa-howitworks.md) , чтобы можно было добавить второй уровень безопасности для регистрации и входа в приложения. Вы включаете многофакторную идентификацию, не написав ни строки кода. Если вы уже создали потоки пользователя для регистрации и входа в систему, вы все равно можете включить многофакторную проверку подлинности.

Эта функция помогает приложениям выполнять такие сценарии, как:

- Многофакторная идентификация не требуется для доступа к одному приложению, но требуется для доступа к другому. Например, пользователь может войти в приложение автострахования с помощью учетной записи в социальной сети или локальной учетной записи, но должен подтвердить номер телефона, прежде чем получить доступ к приложению страхования жилища, зарегистрированному в том же каталоге.
- Многофакторная идентификация не требуется для доступа к приложению в целом, но требуется, чтобы получить доступ к конфиденциальным частям внутри него. Например, пользователь может войти в банковское приложение с помощью учетной записи в социальной сети или локальной учетной записи и проверить остаток на счете, но должен подтвердить номер телефона перед отправкой банковского перевода.

## <a name="set-multi-factor-authentication"></a>Набор многофакторной идентификации

::: zone pivot="b2c-user-flow"

1. Войдите на [портал Azure](https://portal.azure.com)
1. Используйте фильтр **каталог и подписка** в верхнем меню, чтобы выбрать каталог, содержащий клиент Azure AD B2C.
1. В меню слева выберите **Azure AD B2C**. Либо щелкните **Все службы**, а затем найдите и выберите **Azure AD B2C**
1. Выберите **Потоки пользователей**.
1. Выберите поток пользователя, для которого требуется включить MFA. Например, *B2C_1_signinsignup*.
1. Выберите **Свойства**.
1. В разделе **многофакторная проверка подлинности** выберите нужный **метод MFA**, а затем в разделе **принудительное применение MFA** выберите **Always on** или **Conditional (рекомендуется)**.
   > [!NOTE]
   >
   > - Если выбран параметр **Условный (рекомендуется)**, необходимо также [Добавить политику условного доступа](conditional-access-identity-protection-setup.md#add-a-conditional-access-policy) и указать приложения, к которым должна применяться политика.
   > - Многофакторная идентификация (MFA) отключена по умолчанию для пользовательских потоков регистрации. MFA можно включить в потоках пользователей с помощью телефонной регистрации, но поскольку номер телефона используется в качестве основного идентификатора, единственным вариантом, доступным для второго фактора проверки подлинности, является одноразовый секретный код.

1. Щелкните **Сохранить**. Для этого потока пользователей теперь поддерживается MFA.

Чтобы проверить взаимодействие, используйте функцию **Выполнить поток пользователя**. Рассмотрим следующий сценарий.

Перед выполнением многофакторной идентификации в клиенте создается учетная запись пользователя. На этом шаге пользователю предлагается ввести номер телефона и подтвердить его. Если проверка прошла успешно, номер телефона закрепляется за учетной записью для последующего использования. Даже если пользователь отменит действие или выполнит сброс, его снова попросят подтвердить номер телефона при следующем входе, если включена многофакторная идентификация.

::: zone-end

::: zone pivot="b2c-custom-policy"

Чтобы включить многофакторную проверку подлинности, получите начальные пакеты настраиваемой политики из GitHub, а затем обновите XML-файлы в **соЦиаландлокалаккаунтсвисмфа** Starter Pack, указав имя клиента Azure AD B2C. **СоЦиаландлокалаккаунтсвисмфа** включает параметры социальных, локальных и многофакторной проверки подлинности. Дополнительные сведения см. [в разделе Приступая к работе с пользовательскими политиками в Active Directory B2C](custom-policy-get-started.md). 

::: zone-end
