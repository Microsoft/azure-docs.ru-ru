---
title: Руководство по настройке Савийнт с помощью Azure Active Directory B2C
titleSuffix: Azure AD B2C
description: Руководство по настройке Azure Active Directory B2C с помощью Савийнт для интеграции между приложениями для упрощения ИТ модернизации и повышения безопасности, управления и соответствия требованиям. 
services: active-directory-b2c
author: gargi-sinha
manager: martinco
ms.service: active-directory
ms.workload: identity
ms.topic: how-to
ms.date: 09/16/2020
ms.author: gasinh
ms.subservice: B2C
ms.openlocfilehash: b1889a693c08ce78a8bd06b6fe348c0c67bf3812
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "103465680"
---
# <a name="tutorial-for-configuring-saviynt-with-azure-active-directory-b2c"></a>Руководство по настройке Савийнт с помощью Azure Active Directory B2C

В этом примере учебника мы предоставляем рекомендации по интеграции Azure Active Directory (AD) B2C с [савийнт](https://saviynt.com/integrations/azure-ad/for-b2c/). Платформа диспетчера безопасности савийнт предоставляет современные бизнес-потребности в области видимости, безопасности и управления в единой унифицированной платформе. Савийнт включает в себя риски и Управление приложениями, управлением инфраструктурой, управлением привилегированными учетными записями и анализом рисков клиентов.

В этом учебном курсе вы настроите Савийнт, чтобы обеспечить детальное администрирование на основе управления доступом для Azure AD B2C пользователей. Савийнт выполняет следующие проверки, чтобы определить, имеет ли пользователь разрешение на управление пользователями Azure AD B2C.

- Безопасность на уровне компонентов, чтобы определить, может ли пользователь выполнять определенную операцию. Например, создать пользователя, обновить пользователя, сбросить пароль пользователя и т. д.

- Безопасность на уровне полей, чтобы определить, может ли пользователь считывать или записывать определенный атрибут другого пользователя во время операций управления пользователями. Например, агент службы поддержки может обновлять только номер телефона, а все остальные атрибуты доступны только для чтения.

- Безопасность на уровне данных, чтобы определить, может ли пользователь выполнить определенную операцию для конкретного пользователя. Например, администратор службы поддержки для региона Великобритании может управлять только пользователями Великобритании.

## <a name="prerequisites"></a>Предварительные требования

Чтобы приступить к работе, вам потребуется:

- Подписка Azure AD. Если у вас нет подписки, вы можете получить [бесплатную учетную запись](https://azure.microsoft.com/free/).

- [Клиент Azure AD B2C](./tutorial-create-tenant.md). Клиент связан с вашей подпиской Azure.

- [Подписка](https://saviynt.com/contact-us/) савийнт

## <a name="scenario-description"></a>Описание сценария

Интеграция Савийнт включает следующие компоненты:

- [Azure AD B2C](https://azure.microsoft.com/services/active-directory/external-identities/b2c/) — удостоверение "предприятие — клиент" в качестве службы, которое позволяет настраиваемому Контролу над тем, как ваши клиенты подписываются, входят в систему и управляют своими профилями.

- [Савийнт](https://saviynt.com/integrations/azure-ad/for-b2c/) — платформа управления удостоверениями, обеспечивающая детальное администрирование, которое обеспечивает управление жизненным циклом и доступом пользователей Azure AD B2C пользователей.  

- [Microsoft Graph API](/graph/use-the-api) — этот API предоставляет интерфейсы для савийнт для управления пользователями Azure AD B2C и их доступом в Azure AD B2C.

Реализация показана на следующей схеме архитектуры.

![Изображение, показывающее схему архитектуры савийнт](./media/partner-saviynt/saviynt-architecture-diagram.png)

|Шаг | Описание |
|:-----| :-----------|
| 1. | Полномочный администратор запускает управление Azure AD B2C пользовательской операции через Савийнт.
| 2. | Савийнт проверяется с помощью механизма авторизации, если Полномочный администратор может выполнить определенную операцию.
| 3. | Подсистема авторизации савийнт отправляет ответ об успешном или неудачном выполнении авторизации.
| 4. | Савийнт позволяет полномочным администраторам выполнить необходимую операцию.
| 5. | Савийнт вызывает API Microsoft Graph вместе с атрибутами пользователя для управления пользователем в Azure AD B2C
| 6. | Microsoft Graph API, в свою очередь, создает, обновляет или удаляет пользователя в Azure AD B2C.
| 7. | Azure AD B2C отправит ответ об успешном или неудачном завершении.
| 8. | Microsoft Graph API возвратит ответ в Савийнт.

## <a name="onboard-with-saviynt"></a>Подключение с помощью Савийнт

1. Чтобы создать учетную запись Савийнт, обратитесь в [савийнт](https://saviynt.com/contact-us/)

2. Создание политик делегированного администрирования и назначение пользователей в качестве полномочных администраторов с помощью различных ролей.

## <a name="configure-azure-ad-b2c-with-saviynt"></a>Настройка Azure AD B2C с помощью Савийнт

### <a name="create-an-azure-ad-application-for-saviynt"></a>Создание приложения Azure AD для Савийнт

1. Войдите на [портал Azure](https://portal.azure.com/#home).

2. Выберите значок **Каталог и подписка** в верхней панели инструментов портала, а затем выберите каталог, содержащий клиент Azure AD B2C.

3. В портал Azure найдите и выберите **Azure AD B2C**.

4. Выберите **Регистрация приложений**  >  **Новая регистрация**.

5. Введите имя приложения. Например, Савийнт и выберите **создать**.

6. Перейдите к разделу **разрешения API** и выберите **+ Добавить разрешение.**

7. Откроется страница Запрос разрешений API. Выберите вкладку **API-интерфейсы Майкрософт** и выберите **Microsoft Graph** как часто используемые API-интерфейсы Майкрософт.

8. Перейдите на следующую страницу и выберите **разрешения приложения**.

9. Выберите **Каталог** и установите флажки **каталог. чтение. все** и **Directory. ReadWrite. ALL** .

10. Выберите **Добавить разрешения**. Ознакомьтесь с добавленными разрешениями.

11. Выберите параметр **предоставить согласие администратора для сохранения каталога по умолчанию**  >  .

12. Перейдите в раздел **Сертификаты и секреты** и выберите **+ Добавить секрет клиента**. Введите описание секрета клиента, выберите параметр срок действия и нажмите кнопку **Добавить**.

13. Секретный ключ создается и отображается в разделе секрет клиента.

    >[!NOTE]
    > Секрет клиента потребуется позже.

14. Перейдите к разделу **Обзор** и получите **идентификатор клиента** и **идентификатор** клиента.

15. Для завершения установки в Савийнт потребуется идентификатор клиента, идентификатор и секрет клиента.

### <a name="enable-saviynt-to-delete-users"></a>Включение Савийнт для удаления пользователей

Ниже описаны действия по включению Савийнт для выполнения операций удаления пользователей в Azure AD B2C.

>[!NOTE]
>[Оцените риск, прежде чем предоставлять роли администратора доступ к субъекту-службе.](../active-directory/develop/app-objects-and-service-principals.md)

1. Установите последнюю версию модуля PowerShell MSOnline на рабочей станции или сервере Windows.

2. Подключитесь к модулю PowerShell AzureAD и выполните следующие команды:

```powershell
Connect-msolservice #Enter Admin credentials of the Azure portal
$webApp = Get-MsolServicePrincipal –AppPrincipalId “<ClientId of Azure AD Application>”
Add-MsolRoleMember -RoleName "Company Administrator" -RoleMemberType ServicePrincipal -RoleMemberObjectId $webApp.ObjectId
```

## <a name="test-the-solution"></a>Тестирование решения

Перейдите к своему клиенту приложения Савийнт и протестируйте управление жизненным циклом пользователей, а для управления доступом — вариант использования.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения см. в следующих статьях:

- [Пользовательские политики в Azure AD B2C](./custom-policy-overview.md)

- [Приступая к работе с пользовательскими политиками в Azure AD B2C](./custom-policy-get-started.md?tabs=applications)

- [Создание приложения веб-API](./add-web-api-application.md)