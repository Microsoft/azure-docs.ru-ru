---
title: Краткое руководство. Создание ресурсов Служб коммуникации Azure и управление ими
titleSuffix: An Azure Communication Services quickstart
description: Из этого краткого руководства вы узнаете, как создавать ресурс Служб коммуникации Azure и управлять им.
author: mikben
manager: jken
services: azure-communication-services
ms.author: mikben
ms.date: 09/30/2020
ms.topic: overview
ms.service: azure-communication-services
zone_pivot_groups: acs-plat-azp-net
ms.openlocfilehash: d861f6bfbe38ad73715ef521a36cc097b8538c9b
ms.sourcegitcommit: 2501fe97400e16f4008449abd1dd6e000973a174
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99820021"
---
# <a name="quickstart-create-and-manage-communication-services-resources"></a>Краткое руководство. Создание ресурсов Служб коммуникации Azure и управление ими
 
[!INCLUDE [Public Preview Notice](../includes/public-preview-include.md)]

Приступите к работе со Службами коммуникации Azure, подготовив первый ресурс Служб коммуникации Azure. Ресурсы Служб коммуникации можно подготовить с помощью портала Azure или с помощью клиентской библиотеки управления .NET. Клиентская библиотека управления позволяет создавать, настраивать, обновлять и удалять ресурсы и интерфейсы с помощью [Azure Resource Manager](../../azure-resource-manager/management/overview.md), службы развертывания и управления Azure. Все функциональные возможности, доступные в клиентских библиотеках, доступны также на портале Azure. 

> [!WARNING]
> Обратите внимание, что общедоступная предварительная версия Служб коммуникации Azure доступна только для США. Следует также отметить, что в общедоступной предварительной версии вы не сможете передать коммуникационные ресурсы в другую подписку.

::: zone pivot="platform-azp"
[!INCLUDE [Azure portal](./includes/create-resource-azp.md)]
::: zone-end

::: zone pivot="platform-azcli"
[!INCLUDE [Azure CLI](./includes/create-resource-azcli.md)]
::: zone-end

::: zone pivot="platform-net"
[!INCLUDE [.NET](./includes/create-resource-net.md)]
::: zone-end

## <a name="access-your-connection-strings-and-service-endpoints"></a>Доступ к строкам подключения и конечным точкам службы

Строки подключения позволяют клиентским библиотекам Служб коммуникации Azure подключаться к Azure и проходить проверку подлинности. Вы можете получить доступ к строкам подключения Служб коммуникации Azure и конечным точкам службы с портала Azure или же программным способом с помощью API Azure Resource Manager. 

Перейдя к ресурсу Служб коммуникации, выберите **Ключи** в меню навигации и скопируйте значения **строки подключения** или **конечной точки**, чтобы использовать их в клиентских библиотеках Служб коммуникации. Обратите внимание, что у вас есть доступ к первичным и вторичным ключам. Это может быть полезно, если вы хотите предоставить временный доступ к ресурсам Служб коммуникации для сторонней или промежуточной среды.

:::image type="content" source="./media/key.png" alt-text="Снимок экрана со страницей &quot;Ключ&quot; Служб коммуникации.":::

Вы также можете получить доступ к сведениям о ключах с помощью Azure CLI:

```azurecli
az communication list --resource-group "<resourceGroup>"    

az communication list-key --name "<communicationName>" --resource-group "<resourceGroup>"
```

## <a name="store-your-connection-string"></a>Сохранение строки подключения

Клиентские библиотеки Служб коммуникации используют строки подключения для авторизации запросов, выполняемых в этих службах. Есть несколько вариантов для хранения строки подключения.

* Приложение, работающее на настольном компьютере или на устройстве, может хранить строку подключения в файле **app.config** или **web.config**. Добавьте строку подключения в раздел **AppSettings** в этих файлах.
* Приложение, работающее в Службе приложений Azure, может хранить строку подключения в [параметрах приложения Службы приложений Azure](../../app-service/configure-common.md). На портале добавьте строку подключения в раздел **Строки подключения** на вкладке "Параметры приложения".
* Строку подключения можно хранить в [Azure Key Vault](../../data-factory/store-credentials-in-key-vault.md).
* Если приложение выполняется локально, может потребоваться сохранить строку подключения в переменной среды.

### <a name="store-your-connection-string-in-an-environment-variable"></a>Сохранение строки подключения в переменной среды

Чтобы настроить переменную среды, откройте окно консоли и выберите операционную систему на следующих вкладках. Замените `<yourconnectionstring>` фактической строкой подключения.

#### <a name="windows"></a>[Windows](#tab/windows)

Откройте окно консоли и введите следующую команду:

```console
setx COMMUNICATION_SERVICES_CONNECTION_STRING "<yourconnectionstring>"
```

После добавления переменной среды может потребоваться перезапустить все запущенные приложения, которым может понадобиться считать переменную среды, в том числе окно консоли. Например, если вы используете Visual Studio в качестве редактора, перезапустите Visual Studio перед запуском примера.

#### <a name="macos"></a>[macOS](#tab/unix)

Измените **ZSHRC**-файл и добавьте переменную среды:

```bash
export COMMUNICATION_SERVICES_CONNECTION_STRING="<yourconnectionstring>"
```

После добавления переменной среды запустите `source ~/.zshrc` из окна консоли, чтобы применить изменения. Если вы создали переменную среды с открытой интегрированной средой разработки, для доступа к переменной может потребоваться закрыть и повторно открыть редактор, интегрированную среду разработки или оболочку.

#### <a name="linux"></a>[Linux](#tab/linux)

Измените **.bash_profile** и добавьте переменную среды.

```bash
export COMMUNICATION_SERVICES_CONNECTION_STRING="<yourconnectionstring>"
```

После добавления переменной среды запустите `source ~/.bash_profile` из окна консоли, чтобы применить изменения. Если вы создали переменную среды с открытой интегрированной средой разработки, для доступа к переменной может потребоваться закрыть и повторно открыть редактор, интегрированную среду разработки или оболочку.

---

## <a name="clean-up-resources"></a>Очистка ресурсов

Если вы хотите очистить и удалить подписку на Службы коммуникации, вы можете удалить ресурс или группу ресурсов. При этом удаляются все ресурсы, связанные с ней.

Если ресурсу назначены номера телефонов, при удалении ресурса эти номера телефонов также будут автоматически удалены. 

## <a name="next-steps"></a>Дальнейшие действия

Из этого руководства вы узнали, как выполнить следующие действия:

> [!div class="checklist"]
> * создать ресурс Служб коммуникации;
> * настроить географию и теги ресурсов;
> * получить доступ к ключам для этого ресурса.
> * Удаление ресурса

> [!div class="nextstepaction"]
> [Создание первых маркеров доступа пользователя](access-tokens.md)