---
title: Общие сведения о пакете SDK для вызовов в Службах коммуникации Azure
titleSuffix: An Azure Communication Services concept document
description: Здесь представлены общие сведения о пакете SDK для вызовов.
author: mikben
manager: jken
services: azure-communication-services
ms.author: mikben
ms.date: 03/10/2021
ms.topic: overview
ms.service: azure-communication-services
ms.openlocfilehash: 28072184d47beb32dc03e0d6ba52328bfceb5b73
ms.sourcegitcommit: dddd1596fa368f68861856849fbbbb9ea55cb4c7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2021
ms.locfileid: "107364878"
---
# <a name="calling-sdk-overview"></a>Общие сведения о пакете SDK для вызовов

Пакет SDK для вызовов позволяет устройствам конечных пользователей работать с голосовыми и видеовызовами. На этой странице приводятся подробные описания функций вызовов, включая сведения о поддержке платформ и браузеров. Чтобы начать работу прямо сейчас, ознакомьтесь с документами [Краткое руководство по вызовам](../../quickstarts/voice-video-calling/getting-started-with-calling.md) или [Главный пример функции вызовов](../../samples/calling-hero-sample.md). 

После начала разработки ознакомьтесь со [страницей известных проблем](../known-issues.md), где описаны ошибки, над устранением которых мы работаем.

Основные возможности пакета SDK для вызовов:

- **Адресация**. Службы коммуникации Azure предоставляют универсальные [удостоверения](../identity-model.md), используемые для адресации конечных точек связи. Клиенты могут использовать эти удостоверения для проверки подлинности службы и общения друг с другом. Данные удостоверения используются в API для вызовов, с помощью которых клиенты могут увидеть, кто подключен к вызову (в виде списка).
- **Шифрование**. Пакет SDK для вызовов шифрует трафик и предотвращает несанкционированное подключение к каналу связи. 
- **Управление устройствами и мультимедиа**. Пакет SDK для вызовов предоставляет средства для привязки к аудио- и видеоустройствам, кодирует содержимое для эффективной передачи через плоскость передачи данных и отображает содержимое на указанных выходных устройствах и в представлениях. Для совместного использования экрана и приложений также предоставляются интерфейсы API.
- **PSTN**. Пакет SDK для вызовов может получать и инициировать голосовые вызовы с помощью традиционной общедоступной системы телефонной связи, [используя номера телефонов, полученных на портале Azure](../../quickstarts/telephony-sms/get-phone-number.md) или программно.
- **Конференции Teams**. Пакет SDK для вызовов позволяет [присоединиться к конференциям Teams](../../quickstarts/voice-video-calling/get-started-teams-interop.md) и взаимодействовать с плоскостью данных для голосовых и видеовызовов в Teams. 
- **Уведомления**. Пакет SDK для вызовов предоставляет интерфейсы API, позволяющие клиентам получать уведомления о входящем вызове. В случаях, когда приложение не выполняется в фоновом режиме, можно использовать шаблоны для [запуска всплывающих уведомлений](../notifications.md), чтобы информировать пользователей о входящем вызове. 

## <a name="detailed-capabilities"></a>Подробные возможности 

В приведенном ниже списке представлен набор функций, которые сейчас доступны в пакетах SDK для вызовов Служб коммуникации Azure.

| Группа функций | Функция                                                                                                          | JS  | Java (Android) | Objective-C (iOS)
| ----------------- | ------------------------------------------------------------------------------------------------------------------- | ---  | -------------- | -------------
| Основные возможности | Настройка индивидуального вызова между двумя пользователями                                                                           | ✔️   | ✔️            | ✔️
|                   | Настройка группового вызова с более чем двумя пользователями (не более 350 пользователей)                                                       | ✔️   | ✔️            | ✔️
|                   | Перевести индивидуальный вызов с двумя пользователями в групповой вызов с более чем двумя пользователями                                 | ✔️   | ✔️            | ✔️
|                   | Присоединение к групповому вызову после вызова                                                                              | ✔️   | ✔️            | ✔️
|                   | Приглашение другого участника голосовых вызовов через IP присоединиться к текущему групповому вызову                                                       | ✔️   | ✔️            | ✔️
|  Управление в процессе вызова | Включение или отключение видео                                                                                              | ✔️   | ✔️            | ✔️
|                   | Включение или отключение микрофона                                                                                                     | ✔️   | ✔️            | ✔️
|                   | Переключение между камерами                                                                                              | ✔️   | ✔️            | ✔️
|                   | Локальное удержание/отмена удержания                                                                                                  | ✔️   | ✔️            | ✔️
|                   | Активный динамик                                                                                                      | ✔️   | ✔️            | ✔️
|                   | Выбор динамика для вызовов                                                                                            | ✔️   | ✔️            | ✔️
|                   | Выбор микрофона для вызовов                                                                                         | ✔️   | ✔️            | ✔️
|                   | Отображение состояния участника<br/>*Бездействие, Предварительные сигналы и сообщения, Подключение, Подключено, На удержании, В зале ожидания, Разъединенный*         | ✔️   | ✔️            | ✔️
|                   | Отображение состояния вызова<br/>*Предварительные сигналы и сообщения, Входящий, Подключение, Звонок, Подключено, На удержании, Отключение, Разъединенный* | ✔️   | ✔️            | ✔️
|                   | Отображение того, отключен ли у участника микрофон                                                                                      | ✔️   | ✔️            | ✔️
|                   | Отображение причины, по которой участник закончил вызов                                                                       | ✔️   | ✔️            | ✔️
| Общий доступ к экрану    | Общий доступ ко всему экрану в приложении                                                                 | ✔️   | ❌            | ❌
|                   | Предоставление общего доступа к определенному приложению (из списка запущенных приложений)                                                | ✔️   | ❌            | ❌
|                   | Предоставление общего доступа к вкладке веб-браузера из списка открытых вкладок                                                                  | ✔️   | ❌            | ❌
|                   | Участник может просмотреть демонстрацию удаленного экрана                                                                            | ✔️   | ✔️            | ✔️
| Список            | Список участников                                                                                                   | ✔️   | ✔️            | ✔️
|                   | Удалить участника                                                                                                | ✔️   | ✔️            | ✔️
| ТСОП              | Создать индивидуальный вызов с участником ТСОП                                                                     | ✔️   | ✔️            | ✔️
|                   | Создать групповой вызов с участниками ТСОП                                                                           | ✔️   | ✔️            | ✔️
|                   | Перевести индивидуальный вызов с участником ТСОП в групповой вызов                                                 | ✔️   | ✔️            | ✔️
|                   | Возможность отключиться от группового вызова в качестве участника ТСОП                                                                    | ✔️   | ✔️            | ✔️
| Общие сведения           | Проверьте микрофон, динамик и камеру с помощью службы проверки звука (доступна по вызову 8:echo123)                   | ✔️   | ✔️            | ✔️
| Управление устройствами | Запрос разрешения на использование аудио и видео                                                                       | ✔️   | ✔️            | ✔️
|                   | Получение списка камер                                                                                                     | ✔️   | ✔️            | ✔️
|                   | Настройка камеры                                                                                                          | ✔️   | ✔️            | ✔️
|                   | Получение выбранной камеры                                                                                                 | ✔️   | ✔️            | ✔️
|                   | Получение списка микрофонов                                                                                                 | ✔️   | ❌           |❌  
|                   | Настройка микрофона                                                                                                      | ✔️   | ❌           | ❌  
|                   | Получение выбранного микрофона                                                                                             | ✔️   | ❌           | ❌  
|                   | Получение списка докладчиков                                                                                                   | ✔️   | ❌           | ❌  
|                   | Настройка параметров докладчика                                                                                                         | ✔️   | ❌           | ❌  
|                   | Получение выбранного докладчика                                                                                                | ✔️   | ❌           | ❌  
| Рендеринг видео   | Рендеринг одного видео во многих расположениях (локальная камера или удаленный поток)                                                  | ✔️   | ✔️            | ✔️
|                   | Настройка или обновление режима масштабирования                                                                                           | ✔️   | ✔️            | ✔️
|                   | Рендеринг удаленного видеопотока                                                                                          | ✔️   | ✔️            | ✔️

## <a name="calling-sdk-streaming-support"></a>Поддержки потоковой передачи пакетом SDK для вызовов
Пакет SDK для вызовов Служб коммуникации поддерживает следующие конфигурации потоковой передачи:

| Ограничение          |Интернет | Android и iOS|
|-----------|----|------------|
|**Число исходящих потоков, которые можно отправить одновременно** |1 видео или 1 демонстрация экрана | 1 видео и 1 совместное использование экрана|
|**Число исходящих потоков, которые можно одновременно преобразовать для просмотра** |1 видео или 1 демонстрация экрана| 6 видео и 1 совместное использование экрана |

## <a name="calling-sdk-timeouts"></a>Время ожидания пакета SDK для вызовов

К пакетам SDK для вызовов Служб коммуникации применяются следующие значения времени ожидания:

| Действие           | Время ожидания в секундах |
| -------------- | ---------- |
| Повторное подключение или удаление участника | 120 |
| Добавление новой модальности в вызов или ее удаление из него (запуск или завершение видео либо общий доступ к экрану) | 40 |
| Время ожидания операции передачи вызова | 60 |
| Время ожидания установки вызова в формате 1:1 | 85 |
| Время ожидания установки группового вызова | 85 |
| Время ожидания установки вызова ТСОП | 115 |
| Время ожидания перевода вызова из формата 1:1 в формат группового вызова | 115 |

## <a name="javascript-calling-sdk-support-by-os-and-browser"></a>Поддержка пакета SDK JavaScript для вызовов в ОС и браузерах

В следующей таблице представлен набор поддерживаемых браузеров, которые сейчас доступны. Поддерживаются три последние версии браузера, если не указано иное.

| Платформа                         | Chrome | Safari*  | Edge (Chromium) |
| -------------------------------- | -------| ------  | --------------  |
| Android                          |  ✔️    | ❌     | ❌             |
| iOS                              |  ❌    | ✔️**** | ❌             |
| macOS***                         |  ✔️    | ✔️**   | ❌             |
| Windows***                       |  ✔️    | ❌     | ✔️             |
| Ubuntu/Linux                     |  ✔️    | ❌     | ❌             |

* Поддерживаются браузеры Safari версии 13.1 и выше, но индивидуальные вызовы не поддерживаются в Safari.

**Для поддержки исходящих видео необходимо использовать Safari 14+ или macOS 11+.

***Возможность общего доступа к исходящему экрану поддерживается только в настольных системах (Windows, macOS и Linux) независимо от версии браузера. Эта возможность не поддерживается на мобильных платформах (Android, iOS, iPad и планшетах).

****Для приложений iOS в Safari не предусмотрена возможность перечисления или выбора микрофона и динамика (например, Bluetooth). Это ограничение операционной системы. Всегда доступно только одно устройство.


## <a name="calling-client---browser-security-model"></a>Модель безопасности вызова между клиентом и браузером

### <a name="user-webrtc-over-https"></a>Работа с WebRTC по протоколу HTTPS

Интерфейсы API WebRTC, например `getUserMedia`, требуют, чтобы вызывающее их приложение обслуживалось по протоколу HTTPS.

Для локальной разработки можно использовать `http://localhost`.

### <a name="embed-the-communication-services-calling-sdk-in-an-iframe"></a>Внедрение пакета SDK для вызова Служб коммуникации в iframe

В различных браузерах была внедрена новая [политика разрешений (также называемая политикой компонентов)](https://www.w3.org/TR/permissions-policy-1/#iframe-allow-attribute). Эта политика влияет на сценарии вызова, контролируя то, как приложения могут получать доступ к камере и микрофону устройства через элемент iframe с различными источниками.

Если вы хотите использовать элемент iframe для размещения части приложения из другого домена, необходимо добавить в него атрибут `allow` с правильным значением.

Например, этот iframe обеспечивает доступ как к камере, так и к микрофону:

```html
<iframe allow="camera *; microphone *">
```

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Начало работы с вызовами](../../quickstarts/voice-video-calling/getting-started-with-calling.md)

Дополнительные сведения см. в следующих статьях:
- Знакомство с общими сведениями о [потоках вызовов](../call-flows.md)
- Узнайте о [типах вызовов](../voice-video-calling/about-call-types.md)
- [Планирование решения ТСОП](../telephony-sms/plan-solution.md)
