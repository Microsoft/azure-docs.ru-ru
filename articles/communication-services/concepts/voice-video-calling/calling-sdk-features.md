---
title: Общие сведения о клиентской библиотеке для вызовов Служб коммуникации Azure
titleSuffix: An Azure Communication Services concept document
description: Обзор клиентской библиотеки для вызовов.
author: mikben
manager: jken
services: azure-communication-services
ms.author: mikben
ms.date: 03/10/2021
ms.topic: overview
ms.service: azure-communication-services
ms.openlocfilehash: e154e43f9e9378d6cccd23e2e5892f2a8ccf9a1e
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104598887"
---
# <a name="calling-client-library-overview"></a>Общие сведения о клиентской библиотеке для вызовов

[!INCLUDE [Public Preview Notice](../../includes/public-preview-include.md)]


Различают два отдельных класса клиентских библиотек для вызовов: для *клиентов* и *служб.* Современные клиентские библиотеки предназначены для работы с конечными пользователями: веб-сайтами и собственными приложениями.

Клиентские библиотеки службы в настоящее время недоступны. Однако они обеспечивают доступ к необработанным плоскостям данных речи и видео, которые подходят для интеграции с чат-ботами и другими службами.

## <a name="calling-client-library-capabilities"></a>Возможности клиентской библиотеки для вызовов

В следующем списке содержится набор функций, которые сейчас доступны в клиентских библиотеках для вызовов Служб коммуникации Azure.

| Группа функций | Функция                                                                                                          | JS  | Java (Android) | Objective-C (iOS)
| ----------------- | ------------------------------------------------------------------------------------------------------------------- | ---  | -------------- | -------------
| Основные возможности | Настройка индивидуального вызова между двумя пользователями                                                                           | ✔️   | ✔️            | ✔️
|                   | Настройка группового вызова с более чем двумя пользователями (не более 350 пользователей)                                                       | ✔️   | ✔️            | ✔️
|                   | Перевести индивидуальный вызов с двумя пользователями в групповой вызов с более чем двумя пользователями                                 | ✔️   | ✔️            | ✔️
|                   | Присоединение к групповому вызову после вызова                                                                              | ✔️   | ✔️            | ✔️
|                   | Приглашение другого участника голосовых вызовов через IP присоединиться к текущему групповому вызову                                                       | ✔️   | ✔️            | ✔️
|  Управление в процессе вызова | Включение или отключение видео                                                                                              | ✔️   | ✔️            | ✔️ 
|                   | Включение или отключение микрофона                                                                                                     | ✔️   | ✔️            | ✔️         
|                   | Переключение между камерами                                                                                              | ✔️   | ✔️            | ✔️           
|                   | Локальное удержание/отмена удержания                                                                                                  | ✔️   | ✔️            | ✔️           
|                   | Активный динамик                                                                                                      | ✔️   | ✔️            | ✔️           
|                   | Выбор динамика для вызовов                                                                                            | ✔️   | ✔️            | ✔️           
|                   | Выбор микрофона для вызовов                                                                                         | ✔️   | ✔️            | ✔️           
|                   | Отображение состояния участника<br/>*Бездействие, Предварительные сигналы и сообщения, Подключение, Подключено, На удержании, В зале ожидания, Разъединенный*         | ✔️   | ✔️            | ✔️           
|                   | Отображение состояния вызова<br/>*Предварительные сигналы и сообщения, Входящий, Подключение, Звонок, Подключено, На удержании, Отключение, Разъединенный* | ✔️   | ✔️            | ✔️           
|                   | Отображение того, отключен ли у участника микрофон                                                                                      | ✔️   | ✔️            | ✔️           
|                   | Отображение причины, по которой участник закончил вызов                                                                       | ✔️   | ✔️            | ✔️     
| Общий доступ к экрану    | Общий доступ ко всему экрану в приложении                                                                 | ✔️   | ❌            | ❌           
|                   | Предоставление общего доступа к определенному приложению (из списка запущенных приложений)                                                | ✔️   | ❌            | ❌           
|                   | Предоставление общего доступа к вкладке веб-браузера из списка открытых вкладок                                                                  | ✔️   | ❌            | ❌           
|                   | Участник может просмотреть демонстрацию удаленного экрана                                                                            | ✔️   | ✔️            | ✔️         
| Список            | Список участников                                                                                                   | ✔️   | ✔️            | ✔️           
|                   | Удалить участника                                                                                                | ✔️   | ✔️            | ✔️         
| ТСОП              | Создать индивидуальный вызов с участником ТСОП                                                                     | ✔️   | ✔️            | ✔️   
|                   | Создать групповой вызов с участниками ТСОП                                                                           | ✔️   | ✔️            | ✔️
|                   | Перевести индивидуальный вызов с участником ТСОП в групповой вызов                                                 | ✔️   | ✔️            | ✔️
|                   | Возможность отключиться от группового вызова в качестве участника ТСОП                                                                    | ✔️   | ✔️            | ✔️   
| Общие сведения           | Проверьте микрофон, динамик и камеру с помощью службы проверки звука (доступна по вызову 8:echo123)                   | ✔️   | ✔️            | ✔️ 
| Управление устройствами | Запрос разрешения на использование аудио и видео                                                                       | ✔️   | ✔️            | ✔️
|                   | Получение списка камер                                                                                                     | ✔️   | ✔️            | ✔️ 
|                   | Настройка камеры                                                                                                          | ✔️   | ✔️            | ✔️
|                   | Получение выбранной камеры                                                                                                 | ✔️   | ✔️            | ✔️
|                   | Получение списка микрофонов                                                                                                 | ✔️   | ✔️            | ✔️
|                   | Настройка микрофона                                                                                                      | ✔️   | ✔️            | ✔️
|                   | Получение выбранного микрофона                                                                                             | ✔️   | ✔️            | ✔️
|                   | Получение списка докладчиков                                                                                                   | ✔️   | ✔️            | ✔️
|                   | Настройка параметров докладчика                                                                                                         | ✔️   | ✔️            | ✔️
|                   | Получение выбранного докладчика                                                                                                | ✔️   | ✔️            | ✔️
| Рендеринг видео   | Рендеринг одного видео во многих расположениях (локальная камера или удаленный поток)                                                  | ✔️   | ✔️            | ✔️
|                   | Настройка или обновление режима масштабирования                                                                                           | ✔️   | ✔️            | ✔️ 
|                   | Рендеринг удаленного видеопотока                                                                                          | ✔️   | ✔️            | ✔️



## <a name="javascript-calling-client-library-support-by-os-and-browser"></a>Поддержка клиентской библиотеки вызовов JavaScript для ОС и браузера

В следующей таблице представлен набор поддерживаемых браузеров, которые сейчас доступны. Поддерживаются три последние версии браузера, если не указано иное.

|                                  | Chrome | Safari*  | Edge (Chromium) | 
| -------------------------------- | -------| ------  | --------------  |
| Android                          |  ✔️    | ❌     | ❌             |
| iOS                              |  ❌    | ✔️**** | ❌             |
| macOS***                         |  ✔️    | ✔️**   | ❌             |
| Windows***                       |  ✔️    | ❌     | ✔️             |
| Ubuntu/Linux                     |  ✔️    | ❌     | ❌             |

* Поддерживаются браузеры Safari версии 13.1 и выше, но индивидуальные вызовы не поддерживаются в Safari. 

**Для поддержки исходящих видео необходимо использовать Safari 14+ или macOS 11+. 

***Возможность общего доступа к исходящему экрану поддерживается только в настольных системах (Windows, macOS и Linux) независимо от версии браузера. Эта возможность не поддерживается на мобильных платформах (Android, iOS, iPad и планшетах).

****Для приложений iOS в Safari не предусмотрена возможность перечисления или выбора микрофона и динамика (например, Bluetooth). Это ограничение операционной системы. Всегда доступно только одно устройство.


## <a name="calling-client---browser-security-model"></a>Модель безопасности вызова между клиентом и браузером

### <a name="user-webrtc-over-https"></a>Работа с WebRTC по протоколу HTTPS

Интерфейсы API WebRTC, например `getUserMedia`, требуют, чтобы вызывающее их приложение обслуживалось по протоколу HTTPS.

Для локальной разработки можно использовать `http://localhost`.

### <a name="embed-the-communication-services-calling-sdk-in-an-iframe"></a>Внедрение пакета SDK для вызова Служб коммуникации в iframe

В различных браузерах была внедрена новая [политика разрешений (также называемая политикой компонентов)](https://www.w3.org/TR/permissions-policy-1/#iframe-allow-attribute). Эта политика влияет на сценарии вызова, контролируя то, как приложения могут получать доступ к камере и микрофону устройства через элемент iframe с различными источниками.

Если вы хотите использовать элемент iframe для размещения части приложения из другого домена, необходимо добавить в него атрибут `allow` с правильным значением.

Например, этот iframe обеспечивает доступ как к камере, так и к микрофону:

```html
<iframe allow="camera *; microphone *">
```

## <a name="calling-client-library-streaming-support"></a>Поддержка потоковой передачи клиентской библиотекой для вызовов
Клиентская библиотека Служб коммуникации для реализации вызовов поддерживает следующие конфигурации потоковой передачи:

|           |Интернет | Android и iOS|
|-----------|----|------------|
|**Число исходящих потоков, которые можно отправить одновременно** |1 видео или 1 демонстрация экрана | 1 видео и 1 совместное использование экрана|
|**Число исходящих потоков, которые можно одновременно преобразовать для просмотра** |1 видео или 1 демонстрация экрана| 6 видео и 1 совместное использование экрана |


## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Начало работы с вызовами](../../quickstarts/voice-video-calling/getting-started-with-calling.md)

Дополнительные сведения см. в следующих статьях:
- Знакомство с общими сведениями о [потоках вызовов](../call-flows.md)
- Узнайте о [типах вызовов](../voice-video-calling/about-call-types.md)
- [Планирование решения ТСОП](../telephony-sms/plan-solution.md)
