---
title: Аутентификация в службах связи Azure
titleSuffix: An Azure Communication Services concept document
description: Узнайте о различных способах проверки подлинности приложения или службы в службах связи.
author: mikben
manager: jken
services: azure-communication-services
ms.author: mikben
ms.date: 03/10/2021
ms.topic: conceptual
ms.service: azure-communication-services
ms.openlocfilehash: 0146ff9ce3ec4821bee7ce34700ca4198bb23ddc
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104598870"
---
# <a name="authenticate-to-azure-communication-services"></a>Аутентификация в службах связи Azure

Все взаимодействия клиента со службами связи Azure должны пройти проверку подлинности. В типичной архитектуре для проверки подлинности используются сведения об [архитектуре клиента и сервера](./client-and-server-architecture.md), *ключи доступа* или *управляемые удостоверения* .

Другой тип проверки подлинности использует *маркеры доступа пользователя* для проверки подлинности в службах, требующих участия пользователя. Например, чат или вызывающая служба использует *маркеры доступа пользователей* , чтобы разрешить добавление пользователей в поток и обмен диалоговыми сообщениями друг с другом.

## <a name="authentication-options"></a>Параметры аутентификации

В следующей таблице показаны клиентские библиотеки служб связи Azure и параметры проверки подлинности.

| Клиентская библиотека    | Вариант проверки подлинности                               |
| ----------------- | ----------------------------------------------------|
| Идентификация          | Ключ доступа или управляемое удостоверение                      |
| SMS               | Ключ доступа или управляемое удостоверение                      |
| Номера телефонов     | Ключ доступа или управляемое удостоверение                      |
| Вызов           | Маркер доступа пользователя                                   |
| Чат              | Маркер доступа пользователя                                   |

Каждый вариант авторизации кратко описан ниже.

### <a name="access-key"></a>Ключ доступа

Проверка подлинности с помощью ключа доступа подходит для приложений служб, работающих в среде доверенной службы. Ключ доступа можно найти на портале служб связи Azure. Приложение службы использует его в качестве учетных данных для инициализации соответствующих клиентских библиотек. См. Пример использования в [клиентской библиотеке удостоверений](../quickstarts/access-tokens.md). 

Так как ключ доступа является частью строки подключения ресурса, проверка подлинности с помощью строки подключения эквивалентна проверке подлинности с помощью ключа доступа.

Если вы хотите вызывать API-интерфейсы ACS вручную с помощью ключа доступа, вам потребуется подписать запрос. Подписывание запроса подробно описано в [руководстве](../tutorials/hmac-header-tutorial.md).

### <a name="managed-identity"></a>Управляемое удостоверение

Управляемые удостоверения обеспечивают более высокую безопасность и простоту использования других параметров авторизации. Например, с помощью Azure AD вы не храните ключ доступа к учетной записи в коде, как это делается при авторизации ключа доступа. Хотя вы можете продолжать использовать авторизацию ключа доступа с приложениями служб связи, Майкрософт рекомендует перейти в Azure AD там, где это возможно. 

Чтобы настроить управляемое удостоверение, [Создайте зарегистрированное приложение из Azure CLI](../quickstarts/managed-identity-from-cli.md). Затем можно использовать конечную точку и учетные данные для проверки подлинности клиентских библиотек. См. примеры использования [управляемого удостоверения](../quickstarts/managed-identity.md) .

### <a name="user-access-tokens"></a>Маркеры доступа пользователей

Маркеры доступа пользователей создаются с помощью клиентской библиотеки удостоверений и связываются с пользователями, созданными в клиентской библиотеке удостоверений. См. пример [создания пользователей и создания маркеров](../quickstarts/access-tokens.md). Затем маркеры доступа пользователя используются для проверки подлинности участников, добавленных в беседы в чате или при вызове пакета SDK. Дополнительные сведения см. [в разделе Добавление разговора в приложение](../quickstarts/chat/get-started.md). Проверка подлинности маркера доступа пользователя отличается от аутентификации ключа доступа и управляемого удостоверения в том, что она используется для проверки подлинности пользователя, а не защищенного ресурса Azure.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Создание ресурсов](../quickstarts/create-communication-resource.md) 
>  служб связи и управление ими [Создание Azure Active Directory управляемого приложения удостоверений из Azure CLI](../quickstarts/managed-identity-from-cli.md) 
>  [Создание маркеров доступа пользователей](../quickstarts/access-tokens.md)

Дополнительные сведения см. в следующих статьях:
- [Сведения об архитектуре клиент-сервер](../concepts/client-and-server-architecture.md)
