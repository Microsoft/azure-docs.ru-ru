---
title: API-интерфейсы выполнения SaaS в коммерческом магазине Майкрософт
description: Введение в интерфейсы API выполнения, которые позволяют интегрировать предложения SaaS в Microsoft AppSource и Azure Marketplace.
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 05/18/2020
author: mingshen-ms
ms.author: mingshen
ms.openlocfilehash: 2e6381afb19018822f6f37171a5ca4b3d929b42e
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "88037530"
---
# <a name="saas-fulfillment-apis-in-the-microsoft-commercial-marketplace"></a>API-интерфейсы выполнения SaaS в коммерческом магазине Майкрософт

API-интерфейсы выполнения SaaS позволяют издателям, также известным как независимые поставщики программного обеспечения, публиковать и продавать свои приложения SaaS в Microsoft AppSource, Azure Marketplace и портал Azure. Эти API позволяют приложениям ISV участвовать во всех каналах с поддержкой торговли: Direct, «партнер-участник» (Торговый посредник) и светодиодный индикатор поля.  Интеграция с этими API-интерфейсами является обязательным требованием для создания и публикации предложения SaaS в центре партнеров.

Независимые поставщики программного обеспечения должны реализовывать следующие потоки API, добавляя их в код службы SaaS для поддержания одинакового состояния подписки для независимых поставщиков программных продуктов и Майкрософт:

* Поток целевой страницы. Корпорация Майкрософт уведомляет издателя о том, что предложение SaaS издателя приобретено клиентом в Marketplace.
* Поток активации: издатель уведомляет Майкрософт о том, что на стороне издателя была настроена новая учетная запись SaaS.
* Обновление потока: изменение плана приобретения и/или количества приобретенных мест.
* Приостановка и возобновление потока. Приостановка приобретения предложения SaaS в случае, если метод оплаты клиента больше не действителен. Приостановленное предложение можно возобновить при устранении проблемы с методом оплаты.
* Потоки веб-перехватчиков. Корпорация Майкрософт сообщит издателю об изменениях и отмене подписки SaaS, активируемых клиентом с стороны Майкрософт.

Для отмены приобретенной подписки на SaaS интеграция не является обязательной, так как она может быть выполнена клиентом с веб-стороны Майкрософт.

Правильная интеграция с API-интерфейсами выполнения SaaS крайне важна, чтобы убедиться в том, что

* конечные клиенты, которые приобрели предложение SaaS, выставляются корпорацией Майкрософт правильно.
* конечные пользователи получают правильные возможности для приобретения, настройки, использования и управления подписками SaaS, приобретенными в Marketplace.

Эти API позволят издателю принимать участие во всех каналах с поддержкой Commerce.

* direct
* Светоиндикатор-партнер (Торговый посредник, CSP)
* индикатор поля

В сценарии с торговыми посредниками (CSP) CSP приобретает предложение SaaS от имени конечного клиента. Клиент должен использовать предложение SaaS, но CSP — это сущность, которая выполняет следующие действия:

* выставление счетов клиенту
* изменение планов подписки и объема приобретенных мест
* Отмена подписок

Для этого сценария издатель не обязан реализовывать потоки вызовов API по-разному.

Дополнительные сведения о CSP см. в статье https://partner.microsoft.com/licensing .

>[!Warning]
>Текущей версией этого API является версия 2, которая должна использоваться для всех новых предложений SaaS. Версия 1 API устарела и поддерживается для поддержки существующих предложений.

>[!Note]
>API-интерфейсы выполнения SaaS предназначены только для вызова из серверной службы издателя. Интеграция с интерфейсами API непосредственно с веб-страницы издателя не поддерживается. Следует использовать только поток проверки подлинности "служба-служба".

## <a name="next-steps"></a>Дальнейшие действия

Если вы еще не сделали этого, зарегистрируйте приложение SaaS в [портал Azure](https://ms.portal.azure.com) , как описано в разделах [Регистрация приложения Azure AD](./pc-saas-registration.md).  Затем используйте самую последнюю версию этого интерфейса для разработки: [API выполнения SaaS версии 2](./pc-saas-fulfillment-api-v2.md).
