---
title: Создание предложения модуля Azure IoT Edge с помощью Центра партнеров в Azure Marketplace
description: Узнайте, как создать, настроить и опубликовать предложение модуля IoT Edge в Azure Marketplace с помощью центра партнеров.
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: how-to
author: keferna
ms.author: keferna
ms.date: 08/07/2020
ms.openlocfilehash: 23af7b3f7cfd5ec0531c5cac73cf8a334ef4aa62
ms.sourcegitcommit: b4e6b2627842a1183fce78bce6c6c7e088d6157b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99096446"
---
# <a name="create-an-iot-edge-module-offer"></a>Создание предложения модуля IoT Edge

В этой статье описывается, как создать и опубликовать предложение модуля IoT Edge для Azure Marketplace. Сначала [создайте учетную запись на коммерческой платформе в Центре партнеров](create-account.md), если вы еще этого не сделали. Убедитесь, что ваша учетная запись зарегистрирована в программе коммерческой платформы.

## <a name="create-a-new-offer"></a>Создание нового предложения

1. Войдите в [Центр партнеров](https://partner.microsoft.com/dashboard/home).
2. В меню слева выберите **Коммерческий Marketplace** > **Обзор**.
3. На странице "Обзор" выберите **+ Новое предложение** > **Модуль IoT Edge**.

    ![Показано меню навигации слева.](./media/new-offer-iot-edge.png)

> [!IMPORTANT]
> После публикации предложения изменения, внесенные в него в центре партнеров, отображаются только в Интернет-магазинах после повторной публикации предложения. Если вы внесли изменения, обязательно выполните повторную публикацию.

### <a name="offer-id-and-alias"></a>Идентификатор и псевдоним предложения

Заполните поле **ИД предложения**. У каждого предложения в вашей учетной записи должен быть уникальный идентификатор.

- Идентификатор отображается для клиентов в веб-адресе предложения на Marketplace, а также, если применимо, шаблонов Azure Resource Manager.
- Вы можете использовать только строчные буквы и цифры. Идентификатор может содержать дефисы и символы подчеркивания, но не пробелы, и может включать не больше 50 символов. Например, если вы введете **test-offer-1**, веб-адрес предложения будет иметь следующий вид: `https://azuremarketplace.microsoft.com/marketplace/../test-offer-1`.
- Идентификатор предложения нельзя изменить после выбора команды **Создать**.

Заполните поле **Псевдоним предложения**. Это имя, которое используется для предложения в Центре партнеров.

- Это имя не используется в Marketplace и отличается от имени предложения и других значений, отображаемых для клиентов.
- Его нельзя изменить после выбора команды **Создать**.

Выберите **Создать**, чтобы создать предложение и продолжить.

## <a name="offer-overview"></a>Обзор предложения

На странице **Общие сведения о предложении** показано визуальное представление шагов публикации вашего предложения (как завершенных, так и выполняемых) и продолжительность выполнения каждого шага.

На этой странице содержатся ссылки для выполнения операций с этим предложением, которые подбираются на основе сделанного выбора. Пример:

- Если предложение является черновиком — Удалить черновик предложения.
- Если это действующее предложение — [Остановить продажу предложения](update-existing-offer.md#stop-selling-an-offer-or-plan).
- Если пока доступна только предварительная версия предложения — [Запустить](../review-publish-offer.md#previewing-and-approving-your-offer).
- Если вы еще не завершили оформление в качестве издателя — [Отменить публикацию](../review-publish-offer.md#cancel-publishing).

## <a name="offer-setup"></a>Настройка предложения

Вот как можно настроить предложение.

### <a name="customer-leads"></a>Потенциальные клиенты

При публикации предложения на Marketplace с помощью Центра партнеров при необходимости его можно подключить к системе управления отношениями с клиентами (CRM). Это позволит вам немедленно получать контактные данные всех, кто только заинтересуется или воспользуется вашим продуктом.

1. Выберите назначение интереса, в которое будут отправляться данные о потенциальных клиентах. Центр партнеров поддерживает следующие системы CRM:

    - [Dynamics 365](commercial-marketplace-lead-management-instructions-dynamics.md) для плана Customer Engagement
    - [Marketo](commercial-marketplace-lead-management-instructions-marketo.md)
    - [Salesforce](commercial-marketplace-lead-management-instructions-salesforce.md)

    > [!NOTE]
    > Если ваша система CRM не указана выше, используйте [таблицу Azure](commercial-marketplace-lead-management-instructions-azure-table.md) или [конечные точки HTTPS](commercial-marketplace-lead-management-instructions-https.md) для хранения данных о потенциальных клиентах, а затем экспортируйте их в систему CRM.

2. При публикации предложения в Центре партнеров подключите свое предложение к месту назначения данных о потенциальных клиентах.
3. Убедитесь, что подключение к месту назначения данных о потенциальных клиентах настроено правильно. После публикации в Центре партнеров мы проверим подключение и отправим вам данные тестового потенциального клиента. На этапе предварительной версии предложения перед его публикацией вы также можете проверить подключение для передачи данных о потенциальных клиентах, приобретя предложение самостоятельно в предварительной версии среды.
4. Чтобы не упустить потенциальных клиентов, убедитесь, что подключение к месту назначения данных о них обновляется.

Ниже приведен ряд дополнительных ресурсов по управлению потенциальными клиентами.

- [Потенциальные клиенты из предложения на коммерческой платформе](commercial-marketplace-get-customer-leads.md)
- [Часто задаваемые вопросы об управлении потенциальными клиентами](../lead-management-faq.md#common-questions-about-lead-management)
- [Устранение ошибок конфигурации интересов](../lead-management-faq.md#publishing-config-errors)
- [Общие сведения об управлении потенциальными клиентами](https://assetsprod.microsoft.com/mpn/cloud-marketplace-lead-management.pdf) (PDF-документ; убедитесь, что блокирование всплывающих окон отключено)

Чтобы продолжить, выберите **Сохранить черновик**.

### <a name="properties"></a>Свойства

На этой странице укажите категории для классификации вашего предложения на коммерческой платформе и юридическую информацию, поддерживающую предложение.

#### <a name="category"></a>Категория

Выберите категории и подкатегории, чтобы разместить предложение в соответствующих областях поиска Marketplace. В описании предложения расскажите, как ваше предложение поддерживает эти категории. Выберите

- По крайней мере одна и две категории, включая первичную и вторичную категории (необязательно).
- До двух подкатегорий для каждой первичной и (или) вторичной категории. Если к предложению не применима Подкатегория, выберите **неприменимо**.

См. полный список категорий и подкатегорий в [предложении](../gtm-offer-listing-best-practices.md)с описанием рекомендаций. В Marketplace IOT Edge модули всегда отображаются в  ****  >  категории **модуль IOT Edge** Интернет вещей   .

#### <a name="legal"></a>Юридическая информация

Для предложения необходимо указать условия. Имеются две возможности.

- Используйте Стандартный контракт для коммерческой платформы Майкрософт.
- Укажите собственные условия.

##### <a name="standard-contract-for-the-microsoft-commercial-marketplace"></a>Стандартный контракт для коммерческой платформы Майкрософт

Мы предлагаем шаблон Стандартного контракта, который помогает упростить транзакции на коммерческой платформе. Вы можете предложить свое решение в Стандартном контракте. Клиентам нужно будет проверить и принять его только один раз. Это хороший вариант, если вы не хотите составлять собственные условия самостоятельно.

Дополнительные сведения об этом см. в статье [Стандартный контракт для коммерческой платформы Майкрософт](../standard-contract.md). Вы можете также скачать PDF-файл с текстом [Стандартного контракта](https://go.microsoft.com/fwlink/?linkid=2041178) (убедитесь, что блокировка всплывающих окон отключена).

Чтобы использовать Стандартный контракт, установите флажок **Использовать стандартный контракт для коммерческой платформы корпорации Майкрософт**, а затем щелкните **Принять**.

> [!NOTE]
> После публикации предложения с использованием Стандартного контракта для коммерческой платформы Майкрософт вы не сможете использовать собственные условия. Вы можете предложить свое решение либо в по Стандартному контракту, либо на собственных условиях.

![Показано использование флажка "Использовать Стандартный контракт для коммерческой платформы корпорации Майкрософт".](media//iot-edge-module-standard-contract-checkbox.png)

##### <a name="your-own-terms-and-conditions"></a>Собственные условия

Чтобы предоставить собственные условия использования, введите их в поле **Условия**. В этом поле можно ввести текст с неограниченным количеством символов. Клиенты должны будут принять эти условия, прежде чем использовать ваше предложение.

Выберите **Сохранить черновик**, прежде чем перейти к следующему разделу под названием "Описание предложения".

## <a name="offer-listing"></a>Описание предложения

Здесь необходимо задать сведения о предложении, которые будут отображаться в Marketplace, в том числе название предложения, описание, изображения и т. п. При настройке этого предложения обязательно следуйте политикам, описанным на странице политик корпорации Майкрософт.

> [!NOTE]
> Сведения о предложении не обязательно должны быть изложены на английском языке, если описание предложения начинается с фразы "Это приложение доступно только на [язык, отличный от английского]". Кроме того, можно предоставить полезную ссылку на касающееся предложения содержимое на языке, отличном от того, который используется в его описании.

### <a name="name"></a>Имя

Введенное здесь имя отображается в качестве заголовка вашего предложения. Это поле предварительно заполняется именем, указанным в поле **Псевдоним предложения** при создании предложения. Впоследствии его можно изменить.

Имя:

- может быть товарным знаком (вы можете указать символы товарного знака и авторского права);
- не может содержать более 50 символов;
- не может содержать эмодзи.

### <a name="search-results-summary"></a>Описание для отображения в результатах поиска

Введите краткое описание предложения. Оно может содержать до 100 символов и использоваться в результатах поиска Marketplace.

### <a name="long-summary"></a>Развернутое описание

Введите более подробное описание предложения. Оно может содержать до 256 символов и использоваться в результатах поиска Marketplace.

### <a name="description"></a>Описание

[!INCLUDE [Long description-1](./includes/long-description-1.md)]

В конце описания предложений для модуля IoT Edge должн быть добавлен абзац с минимальными требованиями к оборудованию, например:

- Минимальные требования к оборудованию: операционная система Linux x64 или arm32, 1 ГБ ОЗУ, 500 МБ хранилища

[!INCLUDE [Long description-2](./includes/long-description-2.md)]

[!INCLUDE [Long description-3](./includes/long-description-3.md)]

#### <a name="privacy-policy-url"></a>URL-адрес политики конфиденциальности

Введите веб-адрес политики конфиденциальности вашей организации. Вы обязаны убедиться, что ваше предложение соответствует законам и положениям о конфиденциальности. Вы также отвечаете за публикацию действительной политики конфиденциальности на веб-сайте.

#### <a name="useful-links"></a>Полезные ссылки

Предоставьте дополнительные онлайн-документы о своем предложении. Вы можете добавить до 25 ссылок. Чтобы добавить ссылку, выберите **+ Добавить ссылку** и заполните следующие поля.

- **Заголовок**. Отображается для клиентов на странице сведений о предложении.
- **URL-адрес ссылки**. Введите ссылку, по которой клиенты смогут просмотреть ваш онлайн-документ. Ссылка должна начинаться с `http://` или `https://` .

Обязательно добавьте хотя бы одну ссылку на документацию и хотя бы одну ссылку на совместимое устройство IoT Edge из  [каталога устройств Azure IoT](https://catalog.azureiotsolutions.com/).

### <a name="contact-information"></a>Контактные данные

В разделах **Контакт службы поддержки** и **Контактное лицо технического отдела** следует указать имя, адрес электронной почты и номер телефона. Эти сведения не отображаются для клиентов. Они доступны корпорации Майкрософт и могут предоставляться партнерам поставщика облачных решений (CSP).

- Контакт службы поддержки (обязательно): для обращения за поддержкой по общим вопросам.
- Контактное лицо технического отдела (обязательно): для обращения в связи с техническими вопросами и проблемами с сертификацией.
- Контактное лицо по программе CSP (необязательно): для обращений торговых посредников с вопросами, связанными с программой CSP.

В разделе **Контакт службы поддержки** укажите URL-адрес **веб-сайта поддержки**, где партнеры могут получить поддержку по вашему предложению в зависимости от того, доступно ли предложение в глобальной среде Azure, Azure для государственных организаций или в обеих средах.

В разделе **Контактное лицо по программе CSP** укажите ссылку (**Маркетинговые материалы по программе CSP**), где партнеры CSP могут найти маркетинговые материалы для вашего предложения.

#### <a name="additional-marketplace-listing-resources"></a>Дополнительные ресурсы для описания на Marketplace

Дополнительные сведения о создании описания предложения см. в статье [Рекомендации по размещению предложений](../gtm-offer-listing-best-practices.md).

### <a name="marketplace-images"></a>Образы Marketplace

Предоставьте логотипы и изображения для использования с вашим предложением. Все изображения должны быть в формате PNG. Размытые изображения не принимаются.

[!INCLUDE [logo tips](../includes/graphics-suggestions.md)]

>[!Note]
>Если при отправке файлов возникнет проблема, убедитесь, что ваша локальная сеть не блокирует службу https://upload.xboxlive.com, которую использует Центр партнеров.

#### <a name="store-logos"></a>Логотипы магазина

Укажите PNG-файл для логотипа **крупного** размера. Центр партнеров будет использовать его для создания **небольшой** и **средней** эмблемы. При необходимости можно заменить их другими изображениями позже.

- **Крупный** (от 216 x 216 до 350 x 350 ПКС, требуется)
- **Средний** (90 x 90 ПКС, необязательно)
- **Малый** (48 x 48 ПКС, необязательно)

Эти логотипы используются в разных местах в списке:

[!INCLUDE [logos-azure-marketplace-only](../includes/logos-azure-marketplace-only.md)]

[!INCLUDE [Logo tips](../includes/graphics-suggestions.md)]

#### <a name="screenshots-optional"></a>Снимки экрана (необязательно)

Добавьте до пяти снимков экрана, демонстрирующих работу вашего предложения. Каждый из них должен быть в формате PNG с разрешением 1280 x 720 пикселей.

#### <a name="videos-optional"></a>Видео (необязательно)

Добавьте до пяти видео, демонстрирующих работу вашего предложения. Введите для них имя, URL-адрес и добавьте эскиз в формате PNG размером 1280 x 720 пикселей.

#### <a name="marketplace--examples"></a>Примеры Marketplace

Ниже приведен пример отображения сведений о предложении в Azure Marketplace.

:::image type="content" source="media/example-iot-azure-marketplace-offer.png" alt-text="Показывает, как это предложение отображается в Azure Marketplace.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Крупный логотип
2. Категории
3. Адрес поддержки (ссылка)
4. Terms and conditions (Условия)
5. Адрес политики конфиденциальности (ссылка)
6. name
7. Итоги
8. Описание
9. Полезные ссылки
10. Снимки экрана и видео

<br>Ниже приведен пример того, как в результатах поиска Azure Marketplace отображаются сведения о предложении.

:::image type="content" source="media/example-iot-azure-marketplace-offer-search-results.png" alt-text="Показывает, как это предложение отображается в результатах поиска Azure Marketplace.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Маленький логотип
2. Название предложения
3. Описание для отображения в результатах поиска

<br>Ниже приведен пример того, как отображаются сведения о предложении в портал Azure:

:::image type="content" source="media/example-iot-azure-portal-offer.png" alt-text="Показывает, как это предложение появляется в портал Azure.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. name
2. Описание
3. Полезные ссылки
4. Снимки экрана

<br>Ниже приведен пример того, как сведения о предложении отображаются в результатах поиска портал Azure.

:::image type="content" source="media/example-iot-azure-portal-offer-search-results.png" alt-text="Показывает, как это предложение появляется в результатах поиска портал Azure.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Маленький логотип
2. Название предложения
3. Описание для отображения в результатах поиска

<br>Перед переходом к следующему разделу под названием "Предварительная версия" нажмите **Сохранить черновик**.

## <a name="preview"></a>Preview (Предварительный просмотр)

На вкладке **Предварительная версия** выберите ограниченную **аудиторию предварительной версии** для проверки вашего предложения перед его публикацией для более широкой аудитории на Marketplace.

> [!IMPORTANT]
> После просмотра предложения в предварительной версии необходимо выбрать команду **Запустить**, чтобы опубликовать его для общего доступа.

Укажите аудиторию предварительной версии, используя уникальные идентификаторы подписки Azure и их необязательные описания. Ни одно из этих полей не будет отображаться для клиентов.

> [!NOTE]
> Идентификатор подписки Azure можно найти на странице "Подписки" на портале Azure.

Добавьте не менее одного идентификатора подписки Azure, указав их либо по отдельности (не более 10 идентификаторов), либо загрузив CSV-файл (до 100 идентификаторов). Добавляя эти идентификаторы подписки, вы определяете, кому будет доступна предварительная версия вашего предложения до его публикации. Если ваше предложение уже запущено, вы можете определить аудиторию предварительной версии для тестирования внесенных в него изменений и обновлений.

Перед переходом к следующему разделу под названием "Общие сведения о плане" нажмите **Сохранить черновик**.

## <a name="plan-overview"></a>Общие сведения о плане

На этой вкладке можно указать различные параметры плана в рамках одного предложения в Центре партнеров. Планы (ранее называемые номерами SKU) могут различаться в зависимости от доступных облаков, таких как глобальные облака, государственные облака и образ, на который ссылается план. Чтобы опубликовать предложение в Marketplace настройте по крайней мере один план.

Вы можете создать до 100 планов для каждого предложения: до 45 могут быть частными. Узнайте больше о частных планах в [частных предложениях в коммерческом магазине Майкрософт](../private-offers.md).

После создания планов откройте вкладку **Общие сведения о плане**, на которой отображаются следующие сведения.

- Имена планов
- Модель ценообразования
- Регионы Azure (глобальные или правительственные учреждения)
- Состояние текущей публикации
- Все доступные действия

Действия, доступные в области "Общие сведения о плане", зависят от текущего состояния плана, в том числе:

- **Удалить черновик**, если состояние плана — черновик;
- **Завершить продажу плана**, если состояние плана — опубликован.

### <a name="create-new-plan"></a>Создание плана

Выберите **Создать план**. Откроется диалоговое окно **Создание плана**.

В поле **Идентификатор плана** укажите идентификатор плана, который должен быть уникальным в пределах данного предложения. Клиенты будут видеть этот идентификатор в URL-адресе продукта. Идентификатор должен содержать не более 50 символов и может включать строчные буквы и цифры, дефисы или символы подчеркивания.

В поле **Имя плана** введите имя для этого плана. Клиенты будут видеть это имя при выборе плана в вашем предложении. Создайте уникальное имя для каждого плана в предложении. Например, можно использовать имя предложения **Windows Server** с планами **Windows Server 2016** и **Windows Server 2019**.

> [!NOTE]
> Идентификатор плана нельзя изменить после выбора команды **Создать**.

Нажмите кнопку **создания**.

### <a name="plan-setup"></a>Настройка плана

На этой вкладке можно указать, в каких облаках доступен план. Ваши ответы на этой вкладке повлияют на то, какие поля будут отображаться на других вкладках.

#### <a name="azure-regions"></a>Регионы Azure

Все планы для предложений модулей IoT Edge автоматически становятся доступными в **Azure Global**.  Ваш план может использоваться клиентами во всех глобальных регионах Azure, использующих Marketplace. Дополнительные сведения см. в статье [Географическая доступность и поддержка валют](../marketplace-geo-availability-currencies.md).

Выберите вариант [Azure для государственных организаций](../../azure-government/documentation-government-welcome.md) , чтобы сделать ваше решение отображаемым здесь. Это облако сообщества для государственных организаций с контролируемым доступом для клиентов из федеральных, местных или общинных государственных организаций и государственных организаций штатов США, а также партнеров, уполномоченных на их обслуживание. Вы, как издатель, должны предоставить элементы управления соответствием, меры безопасности и рекомендации для этого облачного сообщества. Azure для государственных организаций использует физически изолированные центры обработки данных и сети (расположенные строго в США). Перед [публикацией](../../azure-government/documentation-government-manage-marketplace-partners.md) в Azure для государственных организаций протестируйте решение в этой области и убедитесь, что оно работает правильно, так как результаты в ней могут отличаться. Чтобы подготовить и протестировать решение, запросите пробную учетную запись на странице [Пробная версия Microsoft Azure для государственных организаций](https://azure.microsoft.com/global-infrastructure/government/request/).

> [!NOTE]
> После публикации плана и его доступности в определенном регионе вы не сможете удалить этот регион.

#### <a name="azure-government-certifications"></a>Сертификация Azure для государственных организаций

Этот параметр отображается, только если выбрано значение **Azure для государственных организаций** в разделе **регионы Azure**.

Службы Azure для государственных организаций обрабатывают данные, подпадающие под определенные нормы и требования государственных организаций, например FedRAMP, NIST 800.171 (DIB), ITAR, IRS 1075, DoD L4 и CJIS. Чтобы сообщить о сертификации по этим программам, можно предоставить до 100 описывающих их ссылок. Это могут быть ссылки на описания непосредственно в программе или на вашем веб-сайте. Эти ссылки видны только клиентам Azure для государственных организаций.

### <a name="plan-listing"></a>Описание плана

На этой вкладке отображается конкретная информация, которая отличается для каждого плана в одном предложении.

### <a name="plan-name"></a>Имя плана

В этом поле автоматически проставляется имя, которое вы присвоили плану при его создании. При необходимости его можно изменить. Оно может содержать не более 50 символов. Это имя отображается в качестве заголовка этого плана в Azure Marketplace и портал Azure. Оно будет использоваться в качестве имени модуля по умолчанию, когда план будет готов к использованию.

### <a name="plan-summary"></a>Сводка плана

Предоставьте краткую сводку именно по плану (а не предложению). Эта сводка отображается в результатах поиска на Azure Marketplace и может содержать до 100 символов.

### <a name="plan-description"></a>Описание плана

Опишите уникальность этого плана и различия между планами в вашем предложении. Не описывайте предложение, только план. Это описание будет отображаться в Azure Marketplace и на портале Azure на странице "Описание предложения". Это может быть то же содержимое, которое вы указали в сводке плана. Оно может содержать до 2000 символов.

После заполнения этих полей выберите **Сохранить черновик**.

#### <a name="plan-examples"></a>Примеры плана

Ниже приведен пример сведений о плане Azure Marketplace (все указанные цены приведены только для примера и не предназначены для отражения фактических затрат):

:::image type="content" source="media/example-iot-azure-marketplace-plan.png" alt-text="Описание плана Azure Marketplace.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Название предложения
2. Имя плана
3. Описание плана

<br>Ниже приведен пример сведений о плане портал Azure (все указанные цены приведены только для примера и не предназначены для отражения фактических затрат):

:::image type="content" source="media/example-iot-azure-marketplace-plan-details.png" alt-text="Показывает портал Azure сведения о плане.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Название предложения
2. Имя плана
3. Описание плана

### <a name="availability"></a>Доступность

Если вы хотите скрыть опубликованное предложение, чтобы клиенты не могли его найти, перейти к нему или купить его в Marketplace, установите флажок **Скрыть план** на вкладке "Доступность".

Это поле обычно используется в следующих случаях.

- Предложение предназначено для использования только косвенным образом, когда на него ссылается другое приложение.
- Предложение нельзя приобрести отдельно.
- План использовался для первоначального тестирования и больше неактуален.
- План использовался для временных или сезонных предложений, срок действия которых уже истек.

## <a name="technical-configuration"></a>Техническая конфигурация

Тип предложения **Модуль IoT Edge** — это особый тип контейнера, работающего на устройстве IoT Edge. На вкладке **Техническая конфигурация** вы получите справочные сведения о репозитории образов контейнеров в [реестре контейнеров Azure](https://azure.microsoft.com/services/container-registry/), а также параметры конфигурации, позволяющие пользователям легко использовать этот модуль.

После публикации предложения образ контейнера IoT Edge копируется в Azure Marketplace в определенный общедоступный реестр контейнеров. Все запросы пользователей Azure на использование вашего модуля обслуживаются в общедоступном реестре контейнеров Azure Marketplace, а не частном реестре контейнеров.

Используя теги, вы можете выбрать несколько целевых платформ и указать несколько версий образа контейнера модуля. Подробные сведения о тегах и управлении версиями см. в статье [Подготовка технических ресурсов для модуля IoT Edge](create-iot-edge-module-asset.md).

### <a name="image-repository-details"></a>Сведения о репозитории образов

На вкладке **Сведения о репозитории образов** можно указать следующие данные.

**Выберите источник изображения**. Выберите параметр **Реестр контейнеров Azure**.

**Идентификатор подписки Azure**. Укажите идентификатор подписки, в которой сообщается об использовании ресурсов и для которой выставляются счета за использование Реестра контейнеров Azure, содержащего ваш образ контейнера. Этот идентификатор можно найти на странице [Подписки](https://ms.portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade) на портале Azure.

**Имя группы ресурсов Azure**. Укажите имя [группы ресурсов](../../azure-resource-manager/management/manage-resource-groups-portal.md), содержащей Реестр контейнеров Azure с вашим образом контейнера. Группа ресурсов должна быть доступна для подписки с указанным идентификатором (см. выше). Имя можно найти на странице [Группы ресурсов](https://ms.portal.azure.com/#blade/HubsExtension/BrowseResourceGroups) на портале Azure.

**Имя Реестра контейнеров Azure**. Укажите имя [Реестра контейнеров Azure](../../container-registry/container-registry-intro.md), в котором находится ваш образ контейнера. Реестр контейнеров должен присутствовать в указанной ранее группе ресурсов Azure. Укажите только имя реестра, а не полное имя сервера для входа. Не забудьте исключить из имени часть **azurecr.io**. Имя реестра можно найти на странице [Реестры контейнеров](https://ms.portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.ContainerRegistry%2Fregistries) на портале Azure.

**Имя администратора для реестра контейнеров Azure**: укажите [имя администратора](../../container-registry/container-registry-authentication.md#admin-account), связанное с реестром контейнеров Azure, в котором находится образ контейнера. Имя пользователя и пароль необходимы, чтобы обеспечить компании доступ к реестру. Чтобы получить имя пользователя и пароль администратора, задайте для свойства **admin-enabled** значение **True** с помощью интерфейса командной строки Azure (Azure CLI). При необходимости можно на портале Azure выбрать для параметра **Пользователь-администратор** значение **Включить**.

:::image type="content" source="media/example-iot-update-container-registry.png" alt-text="Показано диалоговое окно Обновить реестр контейнеров.":::

#### <a name="call-out-description"></a>Описание вызова

1. Администратор

<br>**Пароль для Реестра контейнеров Azure**. Укажите имя администратора, связанное с Реестром контейнеров Azure, в котором находится ваш образ контейнера. Имя пользователя и пароль необходимы, чтобы обеспечить компании доступ к реестру. Чтобы получить пароль на портале Azure, последовательно выберите **Реестр контейнеров** > **Ключи доступа** или воспользуйтесь в Azure CLI командой [show](/cli/azure/acr/credential#az-acr-credential-show).

:::image type="content" source="media/example-iot-access-keys.png" alt-text="Показывает экран ключа доступа в портал Azure.":::

#### <a name="call-out-descriptions"></a>Описания вызова

1. Ключи доступа
2. Имя пользователя
3. Пароль

**Имя репозитория в Реестре контейнеров Azure**. Укажите имя репозитория в Реестре контейнеров Azure, в котором находится ваш образ. Имя репозитория указывается при принудительной отправке образа в реестр. Имя репозитория можно найти, перейдя на страницу [Реестр контейнеров](https://azure.microsoft.com/services/container-registry/) > **Репозитории**. Дополнительные сведения см. в статье [Просмотр списка репозиториев реестра контейнеров на портале Azure](../../container-registry/container-registry-repositories.md). Вы не сможете изменить это имя, однажды настроив его. Используйте уникальное имя для каждого предложения в вашей учетной записи.

> [!NOTE]
> Зашифрованный реестр контейнеров Azure не поддерживается для сертификации пограничных модулей. Реестр контейнеров Azure должен быть создан без шифрования.

### <a name="image-tags-for-new-versions-of-your-offer"></a>Теги образа для новых версий предложения

У клиентов должна быть возможность автоматически получать ваши обновления из Azure Marketplace при их публикации. Если они не хотят обновлять свой образ, у них должна быть возможность продолжить использование определенной версии. Это можно сделать, добавляя новые теги образа при каждом его обновлении.

**Тег образа**. Это поле должно содержать **последний тег**, указывающий на новейшую версию образа на всех поддерживаемых платформах. Оно также должно содержать тег версии (например, начинаться со строки xx.xx.xx, где xx — это число). Клиенты должны использовать [теги манифеста](https://github.com/estesp/manifest-tool), если целевых платформ несколько. Все теги, указанные в теге манифеста, следует добавить в пакет для передачи. Все теги манифеста (за исключением последнего) должны начинаться с X.Y или X.Y.Z, где X, Y и Z — целые числа. Например, если последний тег указывает на 1.0.1-linux-x64, 1.0.1-linux-arm32 и 1.0.1-windows-arm32, в данное поле необходимо добавить эти шесть тегов. Сведения о тегах и управлении версиями см. в статье [Подготовка технических ресурсов для модуля IoT Edge](create-iot-edge-module-asset.md).

### <a name="default-deployment-settings-optional"></a>Параметры развертывания по умолчанию (необязательно)

Определите самые типичные параметры для развертывания модуля IoT Edge. Помогите клиентам оптимизировать развертывание, позволяя запустить модуль IoT Edge с этими параметрами по умолчанию без дополнительной настройки.

**Маршруты по умолчанию**. Центр IoT Edge управляет взаимодействием между модулями, Центром Интернета вещей и всеми устройствами. Вы можете устанавливать маршруты для ввода и вывода данных между модулями и Центром Интернета вещей. Это позволит отправлять сообщения без настройки дополнительных служб для обработки сообщений и без написания дополнительного кода. Маршруты создаются с использованием пар "имя-значение". Можно определить до пяти имен маршрутов по умолчанию, каждый из которых может содержать до 512 символов.

Обязательно используйте правильный [синтаксис маршрута](../../iot-edge/module-composition.md#declare-routes)в значении маршрута (обычно это ОПРЕДЕЛЯЕТСЯ как from/Message/* в $upstream). Это означает, что все сообщения, отправленные любыми модулями, отправляются в Центр Интернета вещей. Для обращения к модулю используйте имя модуля по умолчанию, которое совпадает с **именем предложения**, без пробелов и специальных символов. Чтобы обращаться к другим, пока неизвестным модулям, используйте соглашение <FROM_MODULE_NAME>, которое позволит клиентам понять, что эти данные необходимо предоставить. Дополнительные сведения о IoT Edge маршрутах см. в разделе [Declare Routes](../../iot-edge/module-composition.md#declare-routes).

Например, если модуль ContosoModule прослушивает входные данные в ContosoInput и выводит данные в ContosoOutput, будет разумным определить следующие два маршрута по умолчанию:

- Имя № 1: ToContosoModule
- Значение № 1: FROM /messages/modules/<FROM_MODULE_NAME>/outputs/* INTO BrokeredEndpoint("/modules/ContosoModule/inputs/ContosoInput")
- Имя № 2: FromContosoModuleToCloud
- Значение № 2: FROM /messages/modules/ContonsoModule/outputs/ContosoOutput INTO $upstream

**Требуемые свойства двойника модуля по умолчанию**. Двойник модуля — это документ JSON в Центре Интернета вещей, который хранит информацию о состоянии для экземпляра модуля, в том числе требуемые свойства. Требуемые свойства используются совместно с сообщаемыми свойствами для синхронизации конфигурации или условий модуля. В серверной части решения можно задать нужные свойства, а модуль может их считывать. Модуль может также получать уведомления об изменениях в нужных свойствах. Требуемые свойства создаются с использованием до пяти пар "имя-значение", и каждое значение по умолчанию должно быть меньше 512 символов. Вы можете определить до пяти пар "имя-значение" для требуемых свойств двойника. Значения требуемых свойств двойника должны содержать допустимый код JSON без экранирования, без массивов и с вложенной иерархией не более четырех уровней. Когда значение по умолчанию нецелесообразно использовать для какого-либо параметра (например, IP-адрес сервера клиента), можно указать в качестве значения по умолчанию имя этого параметра. Дополнительные сведения о требуемых свойствах двойника см. в разделе [Определение или обновление требуемых свойств](../../iot-edge/module-composition.md#define-or-update-desired-properties).

Например, если модуль поддерживает динамически настраиваемую частоту обновления через требуемые свойства двойника, будет разумным определить следующее требуемое свойство двойника по умолчанию:

- Имя № 1: RefreshRate
- Значение № 1: 60

**Переменные среды по умолчанию**. Переменные среды предоставляют дополнительную информацию о модуле, что помогает в процессе настройки. Они создаются с использованием пар "имя-значение". Длина имени и значения каждой переменной среды по умолчанию должна быть меньше 512 символов и можно определить до пяти знаков. Когда значение по умолчанию нецелесообразно использовать для какого-либо параметра (например, IP-адрес сервера клиента), можно указать в качестве значения по умолчанию имя этого параметра.

Например, если модуль требует перед запуском принять условия использования, вы можете определить следующую переменную среды:

- Имя № 1: ACCEPT_EULA
- Значение № 1: Да

**Параметры создания контейнера по умолчанию**. Параметры создания контейнера используются для создания контейнера Docker для модуля IoT Edge. IoT Edge поддерживает параметры создания контейнера API подсистемы Docker. Все параметры приведены в [списке контейнеров](https://docs.docker.com/engine/api/v1.30/#operation/ContainerList). Поле параметров создания должно быть допустимым JSON, не экранированным и содержать менее 512 символов.

Например, если для модуля требуется привязка порта, определите следующие параметры создания:

"HostConfig":{"PortBindings":{"5012/tcp":[{"HostPort":"5012"}]}

## <a name="review-and-publish"></a>Проверка и публикация

После того как все необходимые разделы предложения будут настроены, вы сможете отправить его для проверки и публикации.

В правом верхнем углу портала выберите **Проверить и опубликовать**.

На странице проверки можно увидеть состояние публикации.

- Проверьте статус заполнения каждого раздела предложения. Публикация невозможна, пока все разделы предложения не будут помечены как заполненные.
    - **Не начата**. Раздел еще не был запущен и должен быть завершен.
    - **Не завершена**. Раздел содержит ошибки, которые необходимо исправить, или требуется предоставить дополнительные сведения. Инструкции см. в разделах, приведенных ранее в этом документе.
    - **Завершена**. Раздел содержит все необходимые данные без ошибок. Вы сможете отправить предложение только после того, как все разделы предложения будут заполнены.
- Предоставьте инструкции по тестированию для группы сертификации, чтобы обеспечить надлежащую проверку предложения. Кроме того, укажите дополнительные примечания, которые помогут понять ваше предложение.

Чтобы отправить предложение на публикацию, нажмите **Опубликовать**.

Мы сообщим по электронной почте, когда предварительная версия предложения станет доступна для проверки и утверждения. Чтобы опубликовать предложение в общедоступном центре, перейдите в центр партнеров и выберите **Go-Live**.

## <a name="next-steps"></a>Дальнейшие действия

- [Обновление имеющегося предложения на коммерческой платформе Marketplace](update-existing-offer.md)
