---
title: Подготовка технических ресурсов модуля IoT Edge в Azure Marketplace
description: Узнайте о требованиях к технической и конфигурации, которые должны соответствовать техническим ресурсам модуля Интернет вещей (IoT), прежде чем их можно будет опубликовать в Azure Marketplace.
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
author: keferna
ms.author: keferna
ms.date: 04/03/2020
ms.openlocfilehash: aca27b89a3b92b410fa560c8b4bd7eb3d4e0a935
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93346780"
---
# <a name="prepare-your-iot-edge-module-technical-assets"></a>Подготовка технических ресурсов для модуля IoT Edge

В этой статье описываются требования, которые должны соответствовать техническим ресурсам модуля Интернет вещей (IoT), прежде чем они будут опубликованы в Azure Marketplace.

## <a name="get-started"></a>Начало работы

Модуль IoT Edge — это контейнер, совместимый с DOCKER, который выполняется на устройстве IoT Edge.

- Дополнительные сведения о модулях IoT Edge см. в статье [Общие сведения о модулях IoT Edge Azure](../../iot-edge/iot-edge-modules.md).
- Чтобы приступить к работе с разработкой модуля IoT Edge, ознакомьтесь с [разработкой собственных модулей IOT Edge](../../iot-edge/module-development.md).

## <a name="technical-requirements"></a>Технические требования

Модуль IoT Edge должен соответствовать следующим техническим требованиям, которые должны быть сертифицированы и опубликованы в Azure Marketplace.

### <a name="platform-support"></a>Поддержка платформы

Модуль IoT Edge должен поддерживать один из следующих параметров платформы:

#### <a name="tier-1-platforms-supported-by-iot-edge"></a>Платформы уровня 1, поддерживаемые IoT Edge

Модуль должен поддерживать все платформы уровня 1, поддерживаемые IoT Edge (как записано в [поддержке Azure IOT Edge](../../iot-edge/support.md)). Мы рекомендуем использовать именно этот вариант, так как он обеспечивает максимальное удобство для клиентов. Будут показаны модули, удовлетворяющие этому критерию. Модуль с поддержкой этих платформ должен соответствовать следующим требованиям:

- Укажите последний тег и тег версии (например, 1.0.1), которые являются тегами манифеста, созданными с помощью [средства манифеста GitHub](https://github.com/estesp/manifest-tool).

- Используйте вкладку Список предложений в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace) , чтобы добавить ссылку в раздел **полезные ссылки** на [Azure IOT Edge сертифицированный Каталог устройств](https://catalog.azureiotsolutions.com/alldevices?filters={%2218%22:[%221%22]}/).

#### <a name="a-subset-of-tier-1-platforms-supported-by-iot-edge"></a>Группа платформ уровня 1, поддерживаемых IoT Edge

Модуль должен поддерживать подмножество (по крайней мере, одну) платформы уровня 1, поддерживаемые IoT Edge (как записано в [поддержке Azure IOT Edge](../../iot-edge/support.md)). Модуль с поддержкой этих платформ должен соответствовать следующим требованиям:

- Укажите последний тег и тег версии (например, 1.0.1), которые являются тегами манифеста, созданными с помощью [средства манифеста](https://github.com/estesp/manifest-tool) GitHub, если поддерживается более одной платформы. Теги манифеста необязательны, если поддерживается только одна платформа.
- Используйте вкладку Список предложений в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace) , чтобы добавить ссылку в разделе **полезные ссылки** , по крайней мере на одно IOT Edge устройство из [каталога сертифицированные устройства Azure IOT Edge](https://catalog.azureiotsolutions.com/).

:::image type="content" source="media/iot-edge-module-technical-assets-offer-listing.png" alt-text="Это изображение раздела списка предложений в центре партнеров":::

### <a name="device-dimensions"></a>Измерения устройства

Размеры модулей IoT Edge (такие как ЦП, ОЗУ, хранилище и GPU) на целевых IoT Edge устройствах должны соответствовать следующим требованиям.

- Модуль должен работать по крайней мере с одним IoT Edge устройством из [каталога сертифицированного устройства Azure IOT Edge](https://catalog.azureiotsolutions.com/).

- Минимальные требования к оборудованию должны быть описаны в качестве последнего абзаца в описании предложения (под вкладкой список предложений в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace)). При желании вы можете указать рекомендуемые требования к оборудованию, если они значительно отличаются от минимальных. Например, можно добавить в конец описания предложения следующий абзац:

Скопируйте этот текст HTML или используйте соответствующие функции форматированного текста в окне редактирования.

```html
<p><u>Minimum hardware requirements:</u> Linux x64 and arm32 OS, 1GB of RAM, 500 Mb of storage</p>
```

### <a name="configuration"></a>Конфигурация

Модуль должен включать параметры конфигурации по умолчанию, чтобы развертывание на IoT Edge устройстве было как можно более простым. Эти сведения можно указать на странице **технической настройки** плана в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace). Контейнер также может содержать пакет SDK для модуля IoT Edge, чтобы обеспечить взаимодействие с концентратором ребра и центром Интернета вещей.

#### <a name="default-configuration"></a>Конфигурация по умолчанию

Модули IoT Edge должны иметь возможность запускаться с параметрами по умолчанию, указанными на странице **технической настройки** плана в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace). Доступны следующие параметры по умолчанию:

- **Маршруты** по умолчанию
- **Требуемые свойства двойника модуля** по умолчанию
- **Переменные среды** по умолчанию
- **Параметры создания контейнера** по умолчанию

В ситуации, когда параметр, необходимый для значения по умолчанию, не имеет смысла (например, IP-адрес сервера клиента), добавьте параметр в качестве значения по умолчанию. Это значение является верхним регистром и заключено в квадратные скобки. Например, можно настроить следующую переменную среды по умолчанию:

```
ServerIPAddress = <MY_SERVER_IP_ADDRESS>
```

#### <a name="configuration-documentation"></a>Документация по конфигурации

Все параметры конфигурации модуля IoT Edge должны быть четко документированы. Например, необходимо документировать, как использовать его маршруты, двойника требуемые свойства, переменные среды, Креатеоптионс и т. д. Необходимо либо предоставить ссылку на документацию, либо сделать ее частью вашего предложения или описания плана. Эти сведения можно указать в списке **предложений** и на странице **со списком планов** в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace).

#### <a name="tags-and-versioning"></a>Теги и управление версиями

Клиенты должны иметь возможность легко развертывать модуль и автоматически получать обновления из Marketplace (в сценарии разработчика). Они также должны иметь возможность использовать и закрепить точную версию, протестированную ими (в рабочем сценарии).

Чтобы удовлетворить эти ожидания клиентов и опубликовать их в Marketplace, IoT Edge модули должны соответствовать следующим требованиям.

- Включите в манифест последний тег, указывающий на последнюю версию на всех поддерживаемых платформах.
- Создайте теги версии в формате X. Y. Z, где X, Y и Z являются целыми числами.
- Включите тег Version, например 1.0.1, который указывает на конкретную версию на всех поддерживаемых платформах.
- Не обновляйте Теги "Version", такие как 1.0.1, так как они не должны изменяться.

> [!NOTE]
> При необходимости управление версиями может включать теги последовательной версии, такие как 2,0 и 1,0. Эти теги позволяют параллельно использовать несколько основных версий.

### <a name="telemetry"></a>Телеметрия

Модули, использующие пакет SDK для модуля IoT, должны задать уникальный идентификатор модуля PublisherId. OfferId. SkuId для телеметрии. Уникальный идентификатор помогает Azure Marketplace указывать количество выполняемых экземпляров модулей.

Используйте один из следующих методов из пакета SDK для модуля IoT, чтобы задать для ProductInfo следующий идентификатор:

- [C#](/dotnet/api/microsoft.azure.devices.client.deviceclient.productinfo#Microsoft_Azure_Devices_Client_DeviceClient_ProductInfo)
- [В](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
- [Python](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
- [Java](/java/api/com.microsoft.azure.sdk.iot.device.productinfo)

Для модулей, которые не используют пакет SDK для модуля Интернета вещей, менее точные аналитические сведения доступны через центр партнеров, например число Скачиваний.

### <a name="security"></a>Безопасность

Модули IoT Edge не должны избавиться от [привилегированных модулей](https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities). Вместо этого запросите наименьший привилегированный доступ к узлу.

### <a name="module-iot-sdk"></a>Пакет SDK для модуля Интернета вещей

Включение пакета SDK для модуля Интернета вещей не является необходимым условием для сертификации, но это может повысить удобство работы пользователей. Например, он помогает поддерживать маршрутизацию или отправку сообщений в облако.

Пакет SDK для модуля IoT необходим для получения данных телеметрии о количестве выполняемых экземпляров модулей.

## <a name="recertification-process"></a>Процесс повторной сертификации

Партнеры получают уведомления при каждом критическом изменении, которое влияет на свои модули, например:

- Матрица поддержки OS/Arch уровня 1, поддерживаемая IoT Edge
- Пакет SDK для модуля Интернета вещей.
- Среда выполнения IoT Edge
- Рекомендации по сертификации модулей IoT Edge

Партнеры должны обновить и повторно сертифицировать свои предложения, выполнив их повторную публикацию в [центре партнеров](https://partner.microsoft.com/dashboard/commercial-marketplace).

Предложение также будет повторно сертифицировано при обновлении, например при добавлении новых тегов изображений.

## <a name="host-module-in-azure-container-registry"></a>Модуль размещения в реестре контейнеров Azure

Чтобы отправить модуль IoT Edge в Azure Marketplace, сначала необходимо разместить его в [реестре контейнеров Azure](https://azure.microsoft.com/services/container-registry/) (запись контроля доступа). Модуль должен включать все теги, которые необходимо опубликовать, включая теги изображений, на которые ссылается тег манифеста. Дополнительные сведения см. в руководстве по [созданию реестра контейнеров Azure и отправке образа контейнера](../../container-instances/container-instances-tutorial-prepare-acr.md).

## <a name="next-steps"></a>Дальнейшие действия

- [Создание предложения модуля IoT Edge](azure-iot-edge-module-creation.md)