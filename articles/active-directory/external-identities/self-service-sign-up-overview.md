---
title: Самостоятельная регистрация внешних удостоверений в Azure AD
description: Узнайте, как разрешить внешним пользователям подписываться на ваши приложения посредством самостоятельной регистрации. Создайте персонализированную процедуру регистрации, настроив поток пользователя для самостоятельной регистрации.
services: active-directory
ms.service: active-directory
ms.subservice: B2B
ms.topic: conceptual
ms.date: 03/02/2021
ms.author: mimart
author: msmimart
manager: celestedg
ms.reviewer: elisolMS
ms.collection: M365-identity-device-management
ms.openlocfilehash: 13023ef93cabcf46924cc2cc76dc2d868c4a1ddd
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "101653574"
---
# <a name="self-service-sign-up"></a>Самостоятельная регистрация

При совместном использовании приложения с внешними пользователями вы не всегда можете знать заранее, кому потребуется к нему доступ. В качестве альтернативы отправке приглашений пользователям напрямую можно разрешить внешним пользователям регистрироваться для использования конкретных приложений, включив самостоятельную регистрацию. Вы можете создать персонализированную процедуру регистрации, настроив поток пользователя для самостоятельной регистрации. Например, вы можете настроить возможность регистрации с помощью Azure AD или поставщиков удостоверений социальных сетей и собирать сведения о пользователях в процессе регистрации.

> [!NOTE]
> Потоки пользователей можно связывать с приложениями, которые создала ваша организация. Потоки пользователей нельзя использовать с приложениями от Майкрософт, например SharePoint или Teams.

## <a name="user-flow-for-self-service-sign-up"></a>Поток пользователя для самостоятельной регистрации

Поток пользователя для самостоятельной регистрации создает процедуру регистрации для внешних пользователей через приложение, к которому вы хотите предоставить общий доступ. Поток пользователя может быть связан с одним или несколькими приложениями. Сначала вам нужно включить самостоятельную регистрацию для вашего клиента и создать федерацию с поставщиками удостоверений, которые вы хотите разрешить внешним пользователям использовать для входа. Затем нужно создать и настроить пользовательский поток регистрации и назначить ему приложения.
Вы можете настроить параметры потока пользователя, чтобы управлять тем, как пользователь регистрируется в приложении:

- Типы учетных записей, используемые для входа в систему, такие как учетные записи социальных сетей, например Facebook, или учетные записи Azure AD.
- Атрибуты, которые нужно получить от пользователя при регистрации, например имя, почтовый индекс и страна или регион проживания.

Когда пользователь пытается войти в приложение (веб-приложение, мобильное, классическое или одностраничное приложение), оно направляет запрос авторизации в пользовательскую конечную точку, которая представляет поток пользователя. Соответствующий поток пользователя определяет и контролирует взаимодействие с пользователем. Когда завершится поток пользователя для регистрации, Azure AD создаст маркер и перенаправит пользователя обратно в приложение. После завершения регистрации для пользователя в каталоге подготавливается гостевая учетная запись. Один поток пользователя можно использовать в нескольких приложениях.

## <a name="example-of-self-service-sign-up"></a>Пример самостоятельной регистрации

В примере ниже показано добавление поставщиков удостоверений социальных сетей в Azure AD с возможностью самостоятельной регистрации для гостевых пользователей.  
Партнер Woodgrove открывает приложение Woodgrove. Этот партнер решает зарегистрироваться для получения учетной записи поставщика, поэтому выбирает элемент Request your supplier account (Запросить учетную запись поставщика), который запускает поток самостоятельной регистрации.

![Пример начальной страницы для самостоятельной регистрации](media/self-service-sign-up-overview/example-start-sign-up-flow.png)

Он использует для регистрации электронную почту по своему выбору.

![Пример, демонстрирующий выбор Facebook для входа](media/self-service-sign-up-overview/example-sign-in-with-facebook.png)

Azure AD создает связь с Woodgrove с помощью учетной записи Facebook партнера и создает новую гостевую учетную запись пользователя после того, как он зарегистрировался.

Woodgrove хочет получить более подробные сведения о пользователе, например имя, название компании, код регистрации компании, номер телефона.

![Пример, на котором показаны атрибуты регистрации пользователя](media/self-service-sign-up-overview/example-enter-user-attributes.png)

Пользователь вводит сведения, продолжает поток регистрации и получает доступ к необходимым ресурсам.

![Пример, на котором показаны данные пользователя, выполнившего вход](media/self-service-sign-up-overview/example-signed-in.png)

## <a name="next-steps"></a>Дальнейшие действия

 Дополнительные сведения см. в статье [Добавление самостоятельной регистрации в приложение](self-service-sign-up-user-flow.md).