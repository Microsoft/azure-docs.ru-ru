---
title: Модель приложения | Службы
titleSuffix: Microsoft identity platform
description: Узнайте о процессе регистрации приложения, чтобы его можно было интегрировать с платформой идентификации Майкрософт.
services: active-directory
author: rwike77
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: conceptual
ms.workload: identity
ms.date: 04/28/2020
ms.author: ryanwi
ms.reviewer: jmprieur, saeeda, sureshja, hirsin
ms.custom: aaddev, identityplatformtop40, scenarios:getting-started
ms.openlocfilehash: 2ba41e36d12b58da2e572cf870195716eacaddef
ms.sourcegitcommit: 5cdd0b378d6377b98af71ec8e886098a504f7c33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2021
ms.locfileid: "98755680"
---
# <a name="application-model"></a>Модель приложения

Приложения могут входить в систему самих пользователей или делегировать вход поставщику удостоверений. В этом разделе обсуждаются шаги, необходимые для регистрации приложения на платформе Microsoft Identity.

## <a name="registering-an-application"></a>Регистрация приложения

Чтобы поставщик удостоверений знал, что пользователь имеет доступ к конкретному приложению, как пользователь, так и приложение должны быть зарегистрированы в поставщике удостоверений. При регистрации приложения в Azure AD вы предоставляете конфигурацию удостоверения для приложения, которое позволяет интегрировать его с платформой Microsoft Identity. Регистрация приложения также позволяет:

* Настройте фирменную символику приложения в диалоговом окне входа. Это важно, так как это первый интерфейс пользователя, который будет иметь приложение.
* Решите, следует ли разрешить пользователям входить в систему только в том случае, если они принадлежат вашей организации. Это приложение одного клиента. Или разрешить пользователям входить с помощью любой рабочей или учебной учетной записи. Это приложение с несколькими клиентами. Вы также можете разрешить доступ к личным учетным записям Майкрософт или учетной записи социальных сетей из LinkedIn, Google и т. д.
* Запрос разрешения области. Например, можно запросить область "пользователь. Read", которая предоставляет разрешение на чтение профиля пользователя, выполнившего вход.
* Определите области, определяющие доступ к веб-API. Как правило, когда приложению требуется доступ к API, ему необходимо запросить разрешения для определенных областей.
* Поделитесь своим секретом с платформой идентификации Майкрософт, которая подтверждает подлинность приложения.  Это касается случая, когда приложение является конфиденциальным клиентским приложением. Конфиденциальное клиентское приложение — это приложение, которое может безопасно хранить учетные данные. Для хранения учетных данных им требуется доверенный внутренний сервер.

После регистрации приложению будет предоставлен уникальный идентификатор, который приложение использует совместно с платформой идентификации Майкрософт при запросе маркеров. Если приложение является [конфиденциальным клиентским приложением](developer-glossary.md#client-application), оно также будет использовать секрет или открытый ключ в зависимости от того, использовались ли сертификаты или секреты.

Платформа Microsoft Identity представляет приложения, использующие модель, выполняющую две основные функции:

* Идентификация приложения по поддерживаемым протоколам проверки подлинности
* Укажите все идентификаторы, URL-адреса, секреты и связанные сведения, необходимые для проверки подлинности

Платформа Microsoft Identity:

* Содержит все данные, необходимые для поддержки проверки подлинности во время выполнения
* Содержит все данные для решения о том, к каким ресурсам может потребоваться доступ приложению, и при каких обстоятельствах необходимо выполнить заданный запрос.
* Предоставляет инфраструктуру для реализации подготовки приложений в клиенте разработчика приложения и в любом другом клиенте Azure AD.
* Обрабатывает согласие пользователя во время запроса маркера и упрощает динамическую подготовку приложений для клиентов.

**Согласие** — это процесс предоставления владельцу ресурса авторизации для доступа клиентского приложения к защищенным ресурсам в соответствии с конкретными разрешениями от имени владельца ресурса. Платформа Microsoft Identity:

* позволяет пользователям и администраторам динамически предоставлять или отзывать согласие для приложения на доступ к ресурсам от их имени;
* позволяет администраторам единолично решить, какие действия разрешены приложениям, какие пользователи могут использовать определенные приложения и каким способом осуществляется доступ к ресурсам каталога.

## <a name="multi-tenant-apps"></a>Мультитенантные приложения

В платформе Microsoft Identity платформа [объект приложения](developer-glossary.md#application-object) описывает приложение. Во время развертывания платформа Microsoft Identity использует объект приложения в качестве схемы для создания [субъекта-службы](developer-glossary.md#service-principal-object), который представляет конкретный экземпляр приложения в каталоге или клиенте. Субъект-служба определяет, что приложение может реально выполнять в определенном целевом каталоге, кто может его использовать, какие ресурсы он имеет доступ и т. д. Платформа Microsoft Identity создает субъект-службу из объекта приложения с помощью [согласия](developer-glossary.md#consent).

На следующей схеме показан упрощенный процесс подготовки платформы удостоверений Майкрософт на основе согласия. В нем показаны два клиента: *A* и *B*.

* *Клиент а* владеет приложением.
* *Клиент б* создает экземпляр приложения с помощью субъекта-службы.

![Упрощенный процесс подготовки на основе согласия](./media/authentication-scenarios/simplified-provisioning-flow-consent-driven.svg)

В этом процессе подготовки:

1. Пользователь клиента B пытается выполнить вход в приложение. Конечная точка авторизации запрашивает маркер безопасности для приложения.
1. Учетные данные пользователя будут получены и проверены на проверку подлинности.
1. Пользователю предлагается предоставить согласие на получение доступа к клиенту б для приложения.
1. Платформа Microsoft Identity использует объект приложения в клиенте а в качестве схемы для создания субъекта-службы в клиенте б.
1. Пользователь получает запрошенный маркер.

Этот процесс можно повторить для дополнительных клиентов. Клиент A сохраняет схему для приложения (объект приложения). Пользователи и администраторы всех других клиентов, на которых приложение получает согласие, контролируйте, что приложение может выполнять через соответствующий объект субъекта-службы в каждом клиенте. Дополнительные сведения см. в [этой статье](app-objects-and-service-principals.md).

## <a name="next-steps"></a>Дальнейшие действия

Другие статьи по основам проверки подлинности и авторизации:

* Сведения об основных понятиях, связанных с проверкой подлинности и авторизацией на платформе удостоверений Майкрософт, см. в статье [Проверка подлинности и авторизация](authentication-vs-authorization.md).
* Сведения о маркерах доступа, маркерах обновления и маркерах идентификации, используемых при проверке подлинности и авторизации, см. в статье [Маркеры безопасности](security-tokens.md).
* Сведения о последовательности входа в веб-приложения, классические и мобильные приложения с помощью платформы удостоверений Майкрософт см. в статье [Поток входа в приложение](app-sign-in-flow.md).

Дополнительные сведения о модели приложения:

* Дополнительные сведения об объектах приложений и субъектах-службах на платформе Microsoft Identity см. в статье [как и почему приложения добавляются в Azure AD](active-directory-how-applications-are-added.md) .
* Дополнительные сведения о приложениях с одним клиентом и многопользовательским приложениям см. в разделе "Аренда" [в Azure Active Directory](single-and-multi-tenant-apps.md) .
* Дополнительные сведения о том, как Azure AD также предоставляет Azure Active Directory B2C, чтобы организации могли входить в систему пользователей, обычно с использованием социальных удостоверений, таких как учетная запись Google, см. [документацию по Azure Active Directory B2C](../../active-directory-b2c/index.yml) .