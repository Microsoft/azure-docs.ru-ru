---
title: Модель приложения | Службы
titleSuffix: Microsoft identity platform
description: Узнайте о процессе регистрации приложения, чтобы его можно было интегрировать с платформой идентификации Майкрософт.
services: active-directory
author: rwike77
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: conceptual
ms.workload: identity
ms.date: 04/28/2020
ms.author: ryanwi
ms.reviewer: jmprieur, saeeda, sureshja, hirsin
ms.custom: aaddev, identityplatformtop40, scenarios:getting-started
ms.openlocfilehash: 86543b961698e736b2211553b0dca367b28158ef
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98795659"
---
# <a name="application-model"></a>Модель приложения

Приложения могут входить в систему самих пользователей или делегировать вход поставщику удостоверений. В этой статье рассматриваются действия, которые необходимо выполнить для регистрации приложения на платформе Microsoft Identity.

## <a name="register-an-application"></a>Регистрация приложения

Чтобы поставщик удостоверений знал, что пользователь имеет доступ к конкретному приложению, как пользователь, так и приложение должны быть зарегистрированы в поставщике удостоверений. При регистрации приложения в Azure Active Directory (Azure AD) вы предоставляете конфигурацию удостоверения для приложения, которое позволяет интегрировать его с платформой Microsoft Identity. Регистрация приложения также позволяет:

* Настройка фирменной символики приложения в диалоговом окне входа. Эта фирменная символика важна, поскольку вход в систему является первым интерфейсом пользователя, который будет иметь приложение.
* Решите, следует ли разрешить пользователям выполнять вход только в том случае, если они принадлежат вашей организации. Эта архитектура известна как приложение с одним клиентом. Кроме того, можно разрешить пользователям выполнять вход с помощью любой рабочей или учебной учетной записи, известной как приложение с несколькими клиентами. Вы также можете разрешить доступ к личным учетным записям Майкрософт или учетной записи социальных сетей из LinkedIn, Google и т. д.
* Запрос разрешения области. Например, можно запросить область "пользователь. Read", которая предоставляет разрешение на чтение профиля пользователя, выполнившего вход.
* Определите области, определяющие доступ к веб-API. Как правило, когда приложению требуется доступ к API, ему необходимо запросить разрешения для определенных областей.
* Поделитесь своим секретом с платформой идентификации Майкрософт, которая подтверждает подлинность приложения. Использование секрета уместно, если приложение является конфиденциальным клиентским приложением. Конфиденциальное клиентское приложение — это приложение, которое может безопасно хранить учетные данные. Для хранения учетных данных требуется доверенный сервер.

После регистрации приложения ему присваивается уникальный идентификатор, который используется совместно с платформой идентификации Майкрософт при запросе маркеров. Если приложение является [конфиденциальным клиентским приложением](developer-glossary.md#client-application), оно также будет использовать секрет или открытый ключ в зависимости от того, использовались ли сертификаты или секреты.

Платформа Microsoft Identity представляет приложения с помощью модели, выполняющей две основные функции:

* Идентификация приложения по протоколам проверки подлинности, которые он поддерживает.
* Укажите все идентификаторы, URL-адреса, секреты и связанные сведения, необходимые для проверки подлинности.

Платформа Microsoft Identity:

* Содержит все данные, необходимые для поддержки проверки подлинности во время выполнения.
* Содержит все данные для решения о том, к каким ресурсам может потребоваться доступ приложению, и при каких обстоятельствах необходимо выполнить данный запрос.
* Предоставляет инфраструктуру для реализации подготовки приложений в клиенте разработчика приложения и в любом другом клиенте Azure AD.
* Обрабатывает согласие пользователя во время запроса маркера и упрощает динамическую подготовку приложений для клиентов.

*Согласие* — это процесс предоставления владельцу ресурса авторизации для доступа клиентского приложения к защищенным ресурсам в соответствии с конкретными разрешениями от имени владельца ресурса. Платформа Microsoft Identity позволяет:

* Пользователи и администраторы могут динамически предоставлять или запрещать согласие на доступ приложения к ресурсам от их имени.
* Администраторы могут в конечном итоге решить, какие приложения разрешено выполнять и какие пользователи смогут использовать определенные приложения, а также как осуществляется доступ к ресурсам каталога.

## <a name="multi-tenant-apps"></a>Мультитенантные приложения

В платформе Microsoft Identity платформа [объект приложения](developer-glossary.md#application-object) описывает приложение. Во время развертывания платформа Microsoft Identity использует объект приложения в качестве схемы для создания [субъекта-службы](developer-glossary.md#service-principal-object), который представляет конкретный экземпляр приложения в каталоге или клиенте. Субъект-служба определяет, что приложение может реально выполнять в определенном целевом каталоге, кто может его использовать, какие ресурсы он имеет доступ и т. д. Платформа Microsoft Identity создает субъект-службу из объекта приложения с помощью [согласия](developer-glossary.md#consent).

На следующей схеме показан упрощенный процесс подготовки платформы удостоверений Майкрософт на основе согласия. В нем показаны два клиента: *A* и *B*.

* *Клиент а* владеет приложением.
* *Клиент б* создает экземпляр приложения с помощью субъекта-службы.

![Схема, на которой показан упрощенный поток подготовки, управляемый по согласию.](./media/authentication-scenarios/simplified-provisioning-flow-consent-driven.svg)

В этом процессе подготовки:

1. Пользователь из клиента б пытается войти в приложение. Конечная точка авторизации запрашивает маркер для приложения.
1. Учетные данные пользователя будут получены и проверены на проверку подлинности.
1. Пользователю предлагается предоставить согласие на получение доступа к клиенту б для приложения.
1. Платформа Microsoft Identity использует объект приложения в клиенте а в качестве схемы для создания субъекта-службы в клиенте б.
1. Пользователь получает запрошенный маркер.

Этот процесс можно повторить для большего числа клиентов. Клиент A сохраняет схему для приложения (объект приложения). Пользователи и администраторы всех других клиентов, на которых приложение получает согласие, контролируйте, что приложение может выполнять через соответствующий объект субъекта-службы в каждом клиенте. Дополнительные сведения см. [в разделе объекты приложения и субъекта-службы на платформе Microsoft Identity](app-objects-and-service-principals.md).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о проверке подлинности и авторизации на платформе Microsoft Identity см. в следующих статьях:

* Сведения об основных понятиях проверки подлинности и авторизации см. в статье [Проверка подлинности и авторизация](authentication-vs-authorization.md).
* Сведения о том, как маркеры доступа, маркеры обновления и маркеры идентификации используются при проверке подлинности и авторизации, см. в разделе [токены безопасности](security-tokens.md).
* Сведения о потоке входа в веб-, настольные и мобильные приложения см. в статье [поток входа в приложение](app-sign-in-flow.md).

Дополнительные сведения о модели приложения см. в следующих статьях:

* Дополнительные сведения об объектах приложений и субъектах-службах на платформе Microsoft Identity см. в статье [как и почему приложения добавляются в Azure AD](active-directory-how-applications-are-added.md).
* Дополнительные сведения о приложениях с одним клиентом и приложениях с несколькими клиентами см. в разделе "Аренда" [в Azure Active Directory](single-and-multi-tenant-apps.md).
* Дополнительные сведения о том, как Azure AD предоставляет Azure Active Directory B2C, чтобы организации могли выполнять вход пользователей, как правило, с помощью социальных удостоверений, таких как учетная запись Google, см. [документацию по Azure Active Directory B2C](../../active-directory-b2c/index.yml).