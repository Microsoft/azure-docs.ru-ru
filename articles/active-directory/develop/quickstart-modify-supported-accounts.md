---
title: Практическое руководство. Изменение типов учетных записей, поддерживаемых приложением | Azure
titleSuffix: Microsoft identity platform
description: Из этого практического руководства вы узнаете, как настроить приложение, зарегистрированное с помощью платформы удостоверений Майкрософт, чтобы изменить пользователей или учетные записи, которые могут работать с приложением.
services: active-directory
author: rwike77
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: how-to
ms.workload: identity
ms.date: 11/15/2020
ms.author: ryanwi
ms.custom: aaddev
ms.reviewer: marsma, aragra, lenalepa, sureshja
ms.openlocfilehash: 3ae6616263de605d5910f244423b9e7ffc036c5d
ms.sourcegitcommit: 126ee1e8e8f2cb5dc35465b23d23a4e3f747949c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100103963"
---
# <a name="how-to-modify-the-accounts-supported-by-an-application"></a>Изменение учетных записей, поддерживаемых приложением

При регистрации приложения на платформе Microsoft Identity вы указали пользователей, то есть типы учетных записей, которые будут иметь доступ к этому приложению. Например, вы могли указать учетные записи только из своей организации, то есть приложение с поддержкой *одного клиента*; или учетные записи из любой организации (включая вашу), что является приложением с поддержкой *нескольких клиентов*.

Из следующих разделов вы узнаете, как изменить регистрацию приложения на портале Azure для настройки того, какие пользователи или типы учетных записей могут получать доступ к приложению.

## <a name="prerequisites"></a>Предварительные требования

* [Приложение, зарегистрированное в вашем арендаторе Azure AD.](quickstart-register-app.md)

## <a name="change-the-application-registration-to-support-different-accounts"></a>Изменение регистрации предложения для поддержки различных учетных записей

Чтобы указать другой параметр для типов учетных записей, поддерживаемых регистрацией существующего приложения, выполните указанные ниже действия.

1. Войдите на <a href="https://portal.azure.com/" target="_blank">портал Azure</a>.
1. Если у вас есть доступ к нескольким клиентам, в верхнем меню используйте фильтр **Каталог и подписка** :::image type="icon" source="./media/common/portal-directory-subscription-filter.png" border="false":::, чтобы выбрать клиент, в котором следует зарегистрировать приложение.
1. Найдите и выберите **Azure Active Directory**.
1. В разделе **Управление** щелкните **Регистрация приложений** и выберите ваше приложение.
1. Теперь укажите, кто может использовать приложение. Этих пользователей иногда называют *аудиторией входа*.

    | Поддерживаемые типы учетных записей | Описание |
    |-------------------------|-------------|
    | **Accounts in this organizational directory only** (Учетные записи только в этом каталоге организации) | Выберите этот параметр, если создаете приложение для использования только пользователями (или гостями) в *вашем* клиенте.<br><br>Это приложение, часто называемое *бизнес-приложением* (LOB), является приложением **с одним клиентом** на платформе удостоверений Майкрософт. |
    | **Учетные записи в любом каталоге организации** | Выберите этот параметр, если вы хотите, чтобы пользователи в *любом* клиенте Azure AD могли использовать ваше приложение. Этот вариант подходит, если, например, вы создаете приложение SaaS, которое планируется предоставить нескольким организациям.<br><br>На платформе удостоверений Майкрософт оно называется приложением с **несколькими клиентами**. |
1. Нажмите **Сохранить**.

### <a name="why-changing-to-multi-tenant-can-fail"></a>Почему переключение на несколько клиентов может завершиться сбоем

Переключение регистрации приложения с одного на несколько клиентов иногда может завершиться сбоем из-за конфликтов имен URI идентификатора приложения (URI идентификатора приложения). Пример URI идентификатора приложения — `https://contoso.onmicrosoft.com/myapp`.

URI кода приложения является одним из способов идентификации приложения в сообщениях протокола. Для приложения с одним клиентом URI идентификатора приложения должен быть уникальным в пределах этого клиента. Для приложения с несколькими клиентами он должен быть глобально уникальным, чтобы служба Azure AD могла найти приложение по всем клиентам. Глобальная уникальность обеспечивается за счет требования, чтобы URI идентификатора приложения имел имя узла, соответствующее [проверенным доменам издателя клиента Azure AD](howto-configure-publisher-domain.md).

Например, если имя клиента — *contoso.onmicrosoft.com*, то допустимым URI идентификатора приложения будет `https://contoso.onmicrosoft.com/myapp`. Если у клиента есть проверенный домен *contoso.com*, тогда допустимый URI идентификатора приложения также будет `https://contoso.com/myapp`. Если URI идентификатора приложения не соответствует второму шаблону, `https://contoso.com/myapp`, преобразование регистрации приложения для поддержки нескольких клиентов завершается сбоем.

Дополнительные сведения о настройке проверенного домена издателя см. в разделе [Настройка проверенного домена](howto-configure-publisher-domain.md).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о требованиях к преобразованию приложения из однотенантного в мультитенантное см. в [этой статье](howto-convert-app-to-be-multi-tenant.md).
