---
title: Руководство по настройке Бизаги Studio для автоматизации цифровых процессов для автоматической подготовки пользователей с помощью Azure Active Directory | Документация Майкрософт
description: Узнайте, как автоматически подготавливать и отменять предоставление учетных записей пользователей из Azure AD в Бизаги Studio для автоматизации цифровых процессов.
services: active-directory
documentationcenter: ''
author: Zhchia
writer: Zhchia
manager: beatrizd
ms.assetid: 2fbff65a-5345-4c08-a6c7-60b80d867a3e
ms.service: active-directory
ms.subservice: saas-app-tutorial
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/20/2020
ms.author: Zhchia
ms.openlocfilehash: 72e021f47bb8db4dedf0e434d0d94bb2118a4c00
ms.sourcegitcommit: 78ecfbc831405e8d0f932c9aafcdf59589f81978
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2021
ms.locfileid: "98728196"
---
# <a name="tutorial-configure-bizagi-studio-for-digital-process-automation-for-automatic-user-provisioning"></a>Руководство. Настройка Бизаги Studio для автоматизации цифровых процессов для автоматической подготовки пользователей

В этом руководстве описываются действия, которые необходимо выполнить в Бизаги Studio для автоматизации цифровых процессов и Azure Active Directory (Azure AD) для настройки автоматической подготовки пользователей. При настройке для этого Azure AD автоматически подготавливает и отменяет подготовку пользователей и групп к [Бизаги Studio для автоматизации цифровых процессов](https://www.bizagi.com/) с помощью службы подготовки Azure AD. Подробные сведения о том, что делает эта служба, как она работает, и часто задаваемые вопросы см. в статье [Автоматическая подготовка пользователей и ее отзыв для приложений SaaS в Azure Active Directory](../app-provisioning/user-provisioning.md). 


## <a name="capabilities-supported"></a>Поддерживаемые возможности
> [!div class="checklist"]
> * Создание пользователей в Бизаги Studio для автоматизации цифровых процессов
> * Удаление пользователей в Бизаги Studio для автоматизации цифровых процессов, когда им больше не нужен доступ
> * Обеспечение синхронизации атрибутов пользователей между Azure AD и Бизаги Studio для автоматизации цифровых процессов
> * [Единый вход](./bizagi-studio-for-digital-process-automation-tutorial.md) в бизаги Studio для автоматизации цифровых процессов (рекомендуется)

## <a name="prerequisites"></a>Предварительные требования

Сценарий, описанный в этом руководстве, предполагает, что у вас уже имеется:

* [Клиент Azure AD.](../develop/quickstart-create-new-tenant.md) 
* Учетная запись пользователя в Azure AD с [разрешением](../roles/permissions-reference.md) на настройку подготовки. К примерам относятся Администратор приложений, администратор облачных приложений, владелец приложения или глобальный администратор. 
* Бизаги Studio для автоматизации цифровых процессов версии 11.2.4.2 X или более поздней.

## <a name="plan-your-provisioning-deployment"></a>Планирование развертывания для подготовки
Для планирования выполните следующие действия.

1. Узнайте, [как работает служба подготовки](../app-provisioning/user-provisioning.md).
2. Определите, кто будет находиться [в области подготовки](../app-provisioning/define-conditional-rules-for-provisioning-user-accounts.md).
3. Определите, какие данные должны [сопоставляться между Azure AD и Бизаги Studio для автоматизации цифровых процессов](../app-provisioning/customize-application-attributes.md). 

## <a name="configure-to-support-provisioning-with-azure-ad"></a>Настройка для поддержки подготовки с помощью Azure AD
Чтобы настроить Бизаги Studio для автоматизации цифровых процессов для поддержки подготовки в Azure AD, выполните следующие действия.

1. Войдите на свой рабочий портал в качестве пользователя с **разрешениями администратора**.

2. Перейдите в раздел **Администрирование**  >  **Security**  >  **приложения OAuth 2**.

   ![Снимок экрана Бизаги с выделенными приложениями OAuth 2.](media/bizagi-studio-for-digital-process-automation-provisioning-tutorial/admin.png)

3. Выберите **Добавить**.
4. В качестве **типа предоставления** выберите **токен носителя**. Для **разрешенной области** выберите **API** и **синхронизация пользователей**. Затем нажмите кнопку **Save** (Сохранить).

   ![Снимок экрана: регистрация приложения с выделенным типом предоставления и допустимой областью действия.](media/bizagi-studio-for-digital-process-automation-provisioning-tutorial/token.png)

5. Скопируйте и сохраните **секрет клиента**. В портал Azure для приложения автоматизации цифровых процессов в Бизаги Studio на вкладке **Подготовка** значение секрета клиента указывается в поле **секретный токен** .

   ![Снимок экрана OAuth с секретом клиента хигхлигхед.](media/bizagi-studio-for-digital-process-automation-provisioning-tutorial/secret.png)

## <a name="add-the-application-from-the-azure-ad-gallery"></a>Добавление приложения из коллекции Azure AD

Чтобы начать управление подготовкой в Бизаги Studio для автоматизации цифровых процессов, добавьте приложение из коллекции приложений Azure AD. Если вы ранее настроили Бизаги Studio для автоматизации цифровых процессов для единого входа, можно использовать то же приложение. Однако при первоначальном тестировании интеграции следует создать отдельное приложение. Дополнительные сведения см. [в разделе Краткое руководство. Добавление приложения в клиент Azure Active Directory (Azure AD)](../manage-apps/add-application-portal.md). 

## <a name="define-who-is-in-scope-for-provisioning"></a>Определение пользователей, которые находятся в области подготовки 

С помощью службы подготовки Azure AD можно определить, кто будет подготовлен на основе назначения для приложения, на основе атрибутов пользователя и группы, или и того, и другого. Если область определяется по назначению, см. инструкции в разделе [назначение или отмена назначения пользователей и групп для приложения, использующего API Graph](../manage-apps/assign-user-or-group-access-portal.md) для назначения пользователям и группам приложения. Если область основана только на атрибутах пользователя или группы, можно использовать фильтр области. Дополнительные сведения см. [в разделе Подготовка приложений на основе атрибутов с помощью фильтров области](../app-provisioning/define-conditional-rules-for-provisioning-user-accounts.md). 

Обратите внимание на следующие моменты, касающиеся определения области.

* При назначении пользователей и групп в Бизаги Studio для автоматизации цифровых процессов необходимо выбрать роль, отличную от **доступа по умолчанию**. Пользователи с ролью доступа по умолчанию исключаются из подготовки и помечаются в журналах подготовки, так как они будут помечены как неэффективное. Если в приложении доступна только эта роль, можно [изменить манифест приложения](../develop/howto-add-app-roles-in-azure-ad-apps.md), чтобы добавить другие роли. 

* Начните с малого. Протестируйте небольшой набор пользователей и групп, прежде чем выполнять развертывание для всех. Если для области подготовки задано значение назначенные пользователи и группы, вы можете управлять этим путем назначения приложению одного или двух пользователей или групп. Если для области задано значение все пользователи и группы, можно указать [Фильтр области на основе атрибутов](../app-provisioning/define-conditional-rules-for-provisioning-user-accounts.md). 


## <a name="configure-automatic-user-provisioning"></a>Настройка автоматической подготовки пользователей 

В этом разделе описывается процедура настройки службы подготовки Azure AD для создания, обновления и отключения пользователей и групп. Это выполняется в тестовом приложении на основе назначений пользователей и групп в Azure AD.

### <a name="configure-automatic-user-provisioning-for-bizagi-studio-for-digital-process-automation-in-azure-ad"></a>Настройка автоматической подготовки пользователей для Бизаги Studio для автоматизации цифровых процессов в Azure AD

1. Войдите на [портал Azure](https://portal.azure.com). Выберите **Корпоративные приложения** > **Все приложения**.

    ![Снимок экрана портал Azure с выделенными корпоративными приложениями и всеми приложениями.](common/enterprise-applications.png)

2. В списке приложений выберите **Бизаги Studio для автоматизации цифровых процессов**.

3. Выберите вкладку **Подготовка**.

    ![Снимок экрана: Управление параметрами с выделенной подготовкой.](common/provisioning.png)

4. Для параметра **Режим подготовки к работе** выберите значение **Автоматически**.

    ![Управление режимом подготовки скриншотоф с автоматическим выделением.](common/provisioning-automatic.png)

5. В разделе **учетные данные администратора** введите URL-адрес клиента и секретный маркер для бизаги Studio для автоматизации цифровых процессов. 

      * **URL-адрес клиента:** Введите конечную точку SCIM Бизаги со следующей структурой:  `<Your_Bizagi_Project>/scim/v2/` .
         Например, так: `https://my-company.bizagi.com/scim/v2/`.

      * **Секретный токен:** Это значение извлекается из шага, рассмотренного ранее в этой статье.

      Чтобы обеспечить возможность подключения Azure AD к Бизаги Studio для автоматизации цифровых процессов, выберите **проверить подключение**. В случае сбоя подключения убедитесь, что в Бизаги Studio для учетной записи автоматизации цифровых процессов есть разрешения администратора, и повторите попытку.

   ![Снимок экрана учетных данных администратора с выделенным тестовым подключением.](common/provisioning-testconnection-tenanturltoken.png)

6. В поле **уведомления по электронной почте** введите адрес электронной почты пользователя или группы, которые должны получать уведомления об ошибках подготовки. Выберите этот параметр, чтобы **Отправить уведомление по электронной почте при возникновении сбоя**.

    ![Снимок экрана параметров электронной почты для уведомлений.](common/provisioning-notification-email.png)

7. Щелкните **Сохранить**.

8. В разделе **сопоставления** выберите **синхронизировать Azure Active Directory пользователей с Бизаги Studio для автоматизации цифровых процессов**.

9. В разделе **сопоставление атрибутов** проверьте пользовательские атрибуты, которые синхронизируются из Azure AD в бизаги Studio для автоматизации цифровых процессов. Атрибуты, выбранные как свойства **Matching** , используются для сопоставления учетных записей пользователей в бизаги Studio для автоматизации цифровых процессов для операций обновления. При изменении [соответствующего целевого атрибута](../app-provisioning/customize-application-attributes.md)необходимо убедиться, что бизаги Studio для API автоматизации цифровых процессов поддерживает фильтрацию пользователей на основе этого атрибута. Чтобы зафиксировать изменения, щелкните **Сохранить**.

   |attribute|Тип|Поддерживается для фильтрации|
   |---|---|---|
   |userName|Строка|&check;|
   |active|Логическое|
   |emails[type eq "work"].value|Строка|
   |name.givenName|Строка|
   |name.familyName|Строка|
   |name.formatted|Строка|
   |phoneNumbers[type eq "mobile"].value|Строка|

   Настраиваемые атрибуты расширения можно добавить, перейдя к **параметру отобразить дополнительные параметры > изменить список атрибутов для бизаги**. Атрибуты настраиваемого расширения должны иметь префикс **urn: IETF: params: scim: schemas: Extension: бизаги: 2.0: усерпропертиес:**. Например, если настраиваемый атрибут расширения имеет значение **Идентификационныйномер**, атрибут должен быть добавлен в виде **urn: IETF: params: scim: схемы: Extension: бизаги: 2.0: усерпропертиес: Идентификационныйномер**. Чтобы зафиксировать изменения, щелкните **Сохранить**.
   
    ![Изменить список атрибутов.](media/bizagi-studio-for-digital-process-automation-provisioning-tutorial/edit.png)  

   Дополнительные сведения о добавлении настраиваемых атрибутов можно найти в [таблице Настройка атрибутов приложения](../app-provisioning/customize-application-attributes.md).

> [!NOTE]
> Поддерживаются только базовые свойства типа (например, строка, целое число, логическое значение, DateTime и т. д.). Свойства, связанные с параметрической таблицей или несколькими типами, пока не поддерживаются.

10. Чтобы настроить фильтры области, см. [руководство по фильтрам области](../app-provisioning/define-conditional-rules-for-provisioning-user-accounts.md).

11. Чтобы включить службу подготовки Azure AD для Бизаги Studio для автоматизации цифровых процессов, в разделе **Параметры** измените значение параметра **состояние подготовки** на **включено**.

    ![Снимок экрана с переключателем состояния подготовки.](common/provisioning-toggle-on.png)

12. Определите пользователей и группы, которые вы хотите подготавливать в Бизаги Studio для автоматизации цифровых процессов. В разделе **Параметры** выберите нужные значения в поле **область**.

    ![Снимок экрана: параметры области.](common/provisioning-scope.png)

13. Когда будете готовы выполнить подготовку, нажмите кнопку **Сохранить**.

    ![Снимок экрана элемента управления "Сохранить".](common/provisioning-configuration-save.png)

После этого начнется цикл начальной синхронизации всех пользователей и групп, определенных в поле **Область** в разделе **Параметры**. Начальный цикл занимает больше времени, чем последующие циклы. Пока служба подготовки Azure AD запущена, они выполняются примерно каждые 40 минут. 

## <a name="monitor-your-deployment"></a>Мониторинг развертывания
После настройки подготовки используйте следующие ресурсы для мониторинга развертывания:

- Используйте [журналы подготовки](../reports-monitoring/concept-provisioning-logs.md), чтобы определить, какие пользователи были подготовлены успешно или неудачно.
- Просмотрите [индикатор выполнения](../app-provisioning/application-provisioning-when-will-provisioning-finish-specific-user.md) , чтобы просмотреть состояние цикла подготовки и степень его завершения.
- Если конфигурация подготовки находится в неработоспособном состоянии, приложение перейдет в карантин. Дополнительные сведения см. [в статье Подготовка приложений в карантинном состоянии](../app-provisioning/application-provisioning-quarantine-status.md).  

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Управление подготовкой учетных записей пользователей для корпоративных приложений](../app-provisioning/configure-automatic-user-provisioning-portal.md)
* [Что такое доступ к приложениям и единый вход с помощью Azure Active Directory?](../manage-apps/what-is-single-sign-on.md)

## <a name="next-steps"></a>Дальнейшие действия

* [Сведения о просмотре журналов и получении отчетов о действиях по подготовке](../app-provisioning/check-status-user-account-provisioning.md)