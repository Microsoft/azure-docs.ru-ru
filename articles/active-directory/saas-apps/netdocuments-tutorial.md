---
title: Руководство по Интеграция единого входа Azure Active Directory с NetDocuments | Документация Майкрософт
description: Узнайте, как настроить единый вход Azure Active Directory в приложении NetDocuments.
services: active-directory
author: jeevansd
manager: CelesteDG
ms.reviewer: celested
ms.service: active-directory
ms.subservice: saas-app-tutorial
ms.workload: identity
ms.topic: tutorial
ms.date: 01/12/2021
ms.author: jeedes
ms.openlocfilehash: 48ba2810c0aaf304042580cdf6579df54fd9ccd6
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2021
ms.locfileid: "101645684"
---
# <a name="tutorial-azure-active-directory-single-sign-on-sso-integration-with-netdocuments"></a>Руководство по Интеграция единого входа Azure Active Directory с NetDocuments

В этом руководстве описано, как интегрировать приложение NetDocuments с Azure Active Directory (Azure AD). Интеграция NetDocuments с Azure AD обеспечивает некоторые возможности.

* Контроль доступа к NetDocuments через Azure AD.
* Вы можете включить автоматический вход пользователей в NetDocuments с помощью учетных записей Azure AD.
* Централизованное управление учетными записями через портал Azure.

## <a name="prerequisites"></a>Предварительные требования

Чтобы приступить к работе, потребуется следующее.

* Подписка Azure AD. Если у вас нет подписки, вы можете получить [бесплатную учетную запись](https://azure.microsoft.com/free/).
* Подписка NetDocuments с поддержкой единого входа.

## <a name="scenario-description"></a>Описание сценария

В рамках этого руководства вы настроите и проверите единый вход Azure AD в тестовой среде.

* NetDocuments поддерживает единый вход, инициируемый **поставщиком услуг**.

## <a name="adding-netdocuments-from-the-gallery"></a>Добавление NetDocuments из коллекции.

Чтобы настроить интеграцию NetDocuments с Azure AD, необходимо добавить NetDocuments из коллекции в список управляемых приложений SaaS.

1. Войдите на портал Azure с помощью личной учетной записи Майкрософт либо рабочей или учебной учетной записи.
1. В области навигации слева выберите службу **Azure Active Directory**.
1. Перейдите в колонку **Корпоративные приложения** и выберите **Все приложения**.
1. Чтобы добавить новое приложение, выберите **Новое приложение**.
1. В разделе **Добавление из коллекции** в поле поиска введите **NetDocuments**.
1. Выберите **NetDocuments** на панели результатов, а затем добавьте приложение. Подождите несколько секунд, пока приложение не будет добавлено в ваш клиент.

## <a name="configure-and-test-azure-ad-sso-for-netdocuments"></a>Настройка и проверка единого входа Azure AD для NetDocuments

Настройте и проверьте единый вход Azure AD в NetDocuments с помощью тестового пользователя **B.Simon**. Для обеспечения работы единого входа необходимо установить связь между пользователем Azure AD и соответствующим пользователем в NetDocuments.

Чтобы настроить и проверить единый вход Azure AD в NetDocuments, выполните действия в следующих стандартных блоках.

1. **[Настройка единого входа Azure AD](#configure-azure-ad-sso)** необходима, чтобы пользователи могли использовать эту функцию.
    1. **[Создание тестового пользователя Azure AD](#create-an-azure-ad-test-user)** требуется для проверки работы единого входа Azure AD с помощью пользователя B.Simon.
    1. **[Назначение тестового пользователя Azure AD](#assign-the-azure-ad-test-user)** необходимо, чтобы позволить пользователю B.Simon использовать единый вход Azure AD.
1. **[Настройка единого входа в NetDocuments](#configure-netdocuments-sso)** необходима, чтобы настроить параметры единого входа на стороне приложения.
    1. **[Создание тестового пользователя NetDocuments](#create-netdocuments-test-user)** требуется для того, чтобы в NetDocuments существовал пользователь B.Simon, связанный с одноименным пользователем в Azure AD.
1. **[Проверка единого входа](#test-sso)** позволяет убедиться в правильности конфигурации.

## <a name="configure-azure-ad-sso"></a>Настройка единого входа Azure AD

Выполните следующие действия, чтобы включить единый вход Azure AD на портале Azure.

1. На портале Azure на странице интеграции с приложением **NetDocuments** найдите раздел **Управление** и выберите **Единый вход**.
1. На странице **Выбрать метод единого входа** выберите **SAML**.
1. На странице **Настройка единого входа с помощью SAML** щелкните значок "Изменить" (значок пера), чтобы открыть диалоговое окно **Базовая конфигурация SAML** и изменить параметры.

   ![Изменение базовой конфигурации SAML](common/edit-urls.png)

1. На странице **Базовая конфигурация SAML** введите значения следующих полей.

    а. В текстовом поле **URL-адрес входа** введите один из следующих шаблонов URL-адреса:

    |URL-адрес для входа|
    |-----------|
    |`https://vault.netvoyage.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://eu.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://de.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://au.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |

    b. В текстовом поле **Идентификатор (сущности)** введите один из следующих URL-адресов:

    |Идентификатор|
    |-----------|
    |`http://netdocuments.com/VAULT`|
    |`http://netdocuments.com/EU`|
    |`http://netdocuments.com/AU`|
    |`http://netdocuments.com/DE`|
    |

    c. В текстовом поле **URL-адрес ответа** введите один из следующих шаблонов URL-адреса:

    |URL-адрес ответа|
    |-----------|
    |`https://vault.netvoyage.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://eu.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://de.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |`https://au.netdocuments.com/neWeb2/docCent.aspx?whr=<Repository ID>`|
    |

    > [!NOTE]
    > Эти значения приведены для примера. Замените их фактическими значениями URL-адреса входа и URL-адреса ответа. Идентификатор репозитория представляет собой значение, которое начинается **CA-** , затем следует 8-значный код, связанный с репозиторием NetDocuments. Вы можете получить дополнительные сведения, ознакомившись с [документом о поддержке федеративных удостоверений NetDocuments](https://support.netdocuments.com/hc/en-us/articles/205220410-Federated-Identity-Login). Также вы можете обратиться к [группе поддержки клиентов NetDocuments](https://support.netdocuments.com/hc/), чтобы получить эти значения, если столкнетесь со сложностями при настройке с помощью указанных выше сведений. Можно также посмотреть шаблоны в разделе **Базовая конфигурация SAML** на портале Azure.

1. Приложение NetDocuments ожидает проверочных утверждений SAML в определенном формате, поэтому следует добавить настраиваемые сопоставления атрибутов в вашу конфигурацию атрибутов токена SAML. На следующем снимке экрана показан список атрибутов по умолчанию, в котором **nameidentifier** сопоставляется с **user.userprincipalname**. Приложение NetDocuments ожидает сопоставление **nameidentifier** с **ObjectID** или любым другим утверждением, применимым к организации в качестве **nameidentifier**, поэтому необходимо изменить сопоставление атрибутов, щелкнув значок **Изменить** и изменив сопоставление атрибутов.

    ![Изображение](common/edit-attribute.png)

1. На странице **Настройка единого входа с помощью SAML** в разделе **Сертификат подписи SAML** найдите **URL-адрес метаданных федерации приложений** и скопируйте его.

    ![Ссылка для скачивания сертификата](common/copy-metadataurl.png)

1. Требуемые URL-адреса вы можете скопировать из раздела **Настройка NetDocuments**.

    ![Копирование URL-адресов настройки](common/copy-configuration-urls.png)

### <a name="create-an-azure-ad-test-user"></a>Создание тестового пользователя Azure AD

В этом разделе описано, как на портале Azure создать тестового пользователя с именем B.Simon.

1. На портале Azure в области слева выберите **Azure Active Directory**, **Пользователи**, а затем — **Все пользователи**.
1. В верхней части экрана выберите **Новый пользователь**.
1. В разделе **Свойства пользователя** выполните следующие действия.
   1. В поле **Имя** введите `B.Simon`.  
   1. В поле **Имя пользователя** введите username@companydomain.extension. Например, `B.Simon@contoso.com`.
   1. Установите флажок **Показать пароль** и запишите значение, которое отображается в поле **Пароль**.
   1. Нажмите кнопку **Создать**.

### <a name="assign-the-azure-ad-test-user"></a>Назначение тестового пользователя Azure AD

В этом разделе описано, как включить единый вход в Azure для пользователя B.Simon, предоставив этому пользователю доступ к NetDocuments.

1. На портале Azure выберите **Корпоративные приложения**, а затем — **Все приложения**.
1. В списке приложений выберите **NetDocuments**.
1. На странице "Обзор" приложения найдите раздел **Управление** и выберите **Пользователи и группы**.
1. Выберите **Добавить пользователя**, а в диалоговом окне **Добавление назначения** выберите **Пользователи и группы**.
1. В диалоговом окне **Пользователи и группы** выберите **B.Simon** в списке пользователей, а затем в нижней части экрана нажмите кнопку **Выбрать**.
1. Если пользователям необходимо назначить роль, вы можете выбрать ее из раскрывающегося списка **Выберите роль**. Если для этого приложения не настроена ни одна роль, будет выбрана роль "Доступ по умолчанию".
1. В диалоговом окне **Добавление назначения** нажмите кнопку **Назначить**.

## <a name="configure-netdocuments-sso"></a>Настройка единого входа в NetDocuments

1. В другом окне веб-браузера войдите на сайт NetDocuments вашей компании в качестве администратора.

2. В правом верхнем углу выберите свое имя > **Администратор**.

3. Выберите **Центр безопасности**.
   
    ![Репозиторий](./media/netdocuments-tutorial/security-center.png "Центр безопасности")

4. Выберите **Расширенные политики проверки подлинности**.
    
    ![Настройка дополнительных параметров аутентификации](./media/netdocuments-tutorial/advance-authentication.png "Настройка дополнительных параметров аутентификации")

5.  На вкладке **Федеративный идентификатор** выполните следующие действия:   
   
    [ ![Федеративная идентификация](./media/netdocuments-tutorial/federated-id.png "Федеративная идентификация")](./media/netdocuments-tutorial/federated-id.png#lightbox)
   
    а. Для параметра **Federated identity server type** (Тип сервера федеративных удостоверений) выберите **Windows Azure Active Directory**.
    
    b.  Нажмите **Выбрать файл**, чтобы отправить файл метаданных, который вы скачали с портала Azure.
    
    c.  Щелкните **Сохранить**.

### <a name="create-netdocuments-test-user"></a>Создание тестового пользователя NetDocuments

Чтобы разрешить пользователям Azure AD вход в NetDocuments, их необходимо подготовить для NetDocuments. В случае с NetDocuments подготовка выполняется вручную.

**Чтобы подготовить учетную запись пользователя, сделайте следующее:**

1. Войдите на сайт компании **NetDocuments** от имени администратора.

2. В правом верхнем углу выберите свое имя > **Администратор**.
   
    ![Администратор](./media/netdocuments-tutorial/user-admin.png "Административный")

3. Выберите **Пользователи и группы**.
   
    ![Пользователи и группы](./media/netdocuments-tutorial/users-groups.png "Хранилище")

4. В текстовом поле **Электронная почта** введите адрес электронной почты действующей учетной записи Azure Active Directory, которую вы хотите подготовить, а затем нажмите кнопку **Добавить пользователя**.
   
    ![Электронная почта](./media/netdocuments-tutorial/user-mail.png "Электронная почта")
   
    > [!NOTE]
    > Владелец учетной записи Azure Active Directory получит электронное сообщение со ссылкой для подтверждения учетной записи перед ее активацией. Вы можете использовать любые другие инструменты создания учетных записей пользователя NetDocuments или API, предоставляемые NetDocuments для подготовки учетных записей пользователя Azure Active Directory.

## <a name="test-sso"></a>Проверка единого входа 

В этом разделе описано, как проверить конфигурацию единого входа Azure AD с помощью указанных ниже способов. 

* Выберите **Тестировать приложение** на портале Azure. Вы будете перенаправлены по URL-адресу для входа в NetDocuments, где можно инициировать поток входа. 

* Перейдите по URL-адресу для входа в NetDocuments и инициируйте поток входа.

* Вы можете использовать портал "Мои приложения" корпорации Майкрософт. Щелкнув элемент NetDocuments на странице "Мои приложения", вы автоматически войдете в приложение NetDocuments, для которого настроили единый вход. Дополнительные сведения о портале "Мои приложения" см. в [этой статье](../user-help/my-apps-portal-end-user-access.md).


## <a name="next-steps"></a>Дальнейшие действия

После настройки NetDocuments вы можете применить функцию управления сеансом, которая защищает конфиденциальные данные вашей организации от хищения и несанкционированного доступа в реальном времени. Управление сеансом является расширением функции условного доступа. [Узнайте, как применять управление сеансами с помощью Microsoft Cloud App Security](/cloud-app-security/proxy-deployment-any-app).