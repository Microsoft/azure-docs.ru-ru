---
title: Устранение неполадок при входе в приложение из моих приложений Azure AD
description: Устранение неполадок при входе в приложение из моих приложений Azure AD
services: active-directory
author: kenwith
manager: daveba
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.topic: troubleshooting
ms.date: 07/11/2017
ms.author: kenwith
ms.reviewer: japere
ms.custom: contperf-fy21q2
ms.openlocfilehash: 2a0411e97f78104de1356d482e4e43a42701c073
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101687630"
---
# <a name="troubleshoot-problems-signing-in-to-an-application-from-azure-ad-my-apps"></a>Устранение неполадок при входе в приложение из моих приложений Azure AD

Мои приложения — это веб-портал, который позволяет пользователю с рабочей или учебной учетной записью в Azure Active Directory (Azure AD) просматривать и запускать облачные приложения, к которым администратор Azure AD предоставил доступ. Доступ к моим приложениям осуществляется через веб-браузер по адресу [https://myapps.microsoft.com](https://myapps.microsoft.com) .

Дополнительные сведения об использовании Azure AD в качестве поставщика удостоверений для приложения см. в статье [что такое управление приложениями в Azure AD](what-is-application-management.md). Чтобы быстро приступить к работе, ознакомьтесь с серией быстрого запуска [по управлению приложениями](view-applications-portal.md).

Эти приложения настраиваются от имени пользователя на портале Azure AD. Приложение должно быть правильно настроено и назначено пользователю или группе, членом которой является пользователь, для просмотра приложения в разделе "Мои приложения". 

Типы приложений, которые может видеть пользователь, делятся на следующие категории:
-   Microsoft 365 приложения
-   приложения Майкрософт и сторонние приложения с единым входом на основе федерации;
-   приложения с единым входом на основе паролей;
-   приложения с существующими решениями единого входа.

Ниже приведены некоторые моменты, которые необходимо проверить при отображении или отсутствии приложения.
- Убедитесь, что приложение Добавлено в Azure AD, и убедитесь, что пользователь назначен. Дополнительные сведения см. в [руководстве по управлению приложениями](add-application-portal.md).
- Если приложение было недавно добавлено, выйдите из него и снова войдите в систему. 
- Если для приложения требуется лицензия, например Office, убедитесь, что пользователю назначена соответствующая лицензия.
- Время, затрачиваемое на изменение лицензирования, может зависеть от размера и сложности группы.

## <a name="general-issues-to-check-first"></a>Общие проблемы для первоначальной проверки

-   Убедитесь, что веб-браузер соответствует требованиям, в разделе [Мои приложения поддерживаемые браузеры](../user-help/my-apps-portal-end-user-access.md).
-   Проверьте, добавил ли пользовательский браузер URL-адрес приложения в список **надежных сайтов**.
-   Убедитесь, что приложение **настроено** правильно.
-   Проверьте, **включена** ли учетная запись пользователя для входа.
-   Убедитесь, что учетная запись пользователя **не заблокирована**.
-   Удостоверьтесь в том, что **пароль действителен и пользователь не забыл его**.
-   Проверьте, не блокирует ли **Многофакторная Идентификация** доступ пользователей.
-   Убедитесь, что **политика условного доступа** или политика **защиты идентификации** не блокирует доступ пользователей.
-   Убедитесь, что **контактная информация для проверки подлинности** актуальна, чтобы разрешить применение политик Многофакторной идентификации или условного доступа.
-   Не забудьте также очистить файлы cookie в браузере и повторите попытку входа.

## <a name="problems-with-the-users-account"></a>Проблемы с учетной записью пользователя
Доступ к моим приложениям может быть заблокирован из-за проблемы с учетной записью пользователя. Ниже приведены некоторые способы устранения неполадок, связанных с параметрами учетной записи пользователя.
-   [Проверка существования учетной записи пользователя в Azure Active Directory](#check-if-a-user-account-exists-in-azure-active-directory)
-   [Проверка состояния учетной записи пользователя](#check-a-users-account-status)
-   [Сброс пароля пользователя](#reset-a-users-password)
-   [Включение самостоятельного сброса пароля](#enable-self-service-password-reset)
-   [Проверка состояния службы Многофакторной Идентификации](#check-a-users-multi-factor-authentication-status)
-   [Проверка контактной информации для проверки подлинности](#check-a-users-authentication-contact-info)
-   [Проверка членства пользователя в группах](#check-a-users-group-memberships)
-   [Проверка наличия у пользователя более 999 назначений ролей приложений](#check-if-a-user-has-more-than-999-app-role-assignments)
-   [Проверка назначенных пользователю лицензий](#check-a-users-assigned-licenses)
-   [Назначение лицензии пользователю](#assign-a-user-a-license)

### <a name="check-if-a-user-account-exists-in-azure-active-directory"></a>Проверка существования учетной записи пользователя в Azure Active Directory
Чтобы проверить, существует ли учетная запись пользователя, сделайте следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Проверьте свойства объекта пользователя, чтобы убедиться, что они выглядят должным образом и что данные не отсутствуют.

### <a name="check-a-users-account-status"></a>Проверка состояния учетной записи пользователя
Чтобы проверить состояние учетной записи пользователя, сделайте следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Выберите **профиль**.
8.  Убедитесь, что в разделе **Параметры** для параметра **Заблокировать вход** задано значение **Нет**.

### <a name="reset-a-users-password"></a>Сброс пароля пользователя
Чтобы сбросить пароль пользователя, сделайте следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Нажмите кнопку **сбросить пароль** в верхней части области пользователя.
8.  Нажмите кнопку **сбросить пароль** на появившейся панели **Сброс пароля** .
9.  Скопируйте **временный пароль** или **введите новый пароль** для пользователя.
10. Сообщите этот новый пароль пользователю, так как ему потребуется изменить пароль при следующем входе в Azure Active Directory.

### <a name="enable-self-service-password-reset"></a>Включение самостоятельного сброса пароля
Чтобы включить самостоятельный сброс пароля, см. инструкции по развертыванию в следующих статьях.
-   [Разрешение пользователям сбрасывать пароли Azure AD](../authentication/tutorial-enable-sspr.md)
-   [Разрешение пользователям сбрасывать или изменять пароли AD](../authentication/tutorial-enable-sspr.md)

### <a name="check-a-users-multi-factor-authentication-status"></a>Проверка состояния службы Многофакторной Идентификации
Чтобы проверить состояние службы Многофакторной идентификации, сделайте следующее:
1. Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2. Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3. В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4. В меню навигации выберите **Пользователи и группы** .
5. Выберите **Все пользователи**.
6. Нажмите кнопку **многофакторная проверка подлинности** в верхней части панели.
7. После загрузки **портала администрирования многофакторной идентификации** убедитесь, что вы используете вкладку **Пользователи** .
8. Найдите пользователя в списке пользователей, выполнив поиск, фильтрацию или сортировку.
9. Выберите его из списка пользователей и по своему усмотрению **включите**, **отключите** или **примените** Многофакторную Идентификацию.
   >[!NOTE]
   >Если пользователь находится в состоянии **Принудительно**, можно временно задать состояние **Отключено**, чтобы разрешить ему вернуться в свою учетную запись. После этого можно снова изменить состояние на **Включено**, чтобы при следующем входе пользователь повторно зарегистрировал контактные данные. Кроме того, можно выполнить действия, описанные в разделе [Проверка контактной информации для проверки подлинности](#check-a-users-authentication-contact-info), чтобы проверить или задать эти данные для пользователя.

### <a name="check-a-users-authentication-contact-info"></a>Проверка контактной информации для проверки подлинности
Чтобы проверить контактную информацию для проверки подлинности, используемую для Многофакторной идентификации, условного доступа, защиты идентификации и сброса пароля, сделайте следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Выберите **профиль**.
8.  Прокрутите вниз до раздела **Контактная информация для проверки подлинности**.
9.  **Просмотрите** данные, зарегистрированные для пользователя, и обновите их при необходимости.

### <a name="check-a-users-group-memberships"></a>Проверка членства пользователя в группах
Чтобы проверить членство пользователя в группах, сделайте следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Выберите **группы** , чтобы узнать, в какие группы входит пользователь.

### <a name="check-if-a-user-has-more-than-999-app-role-assignments"></a>Проверка наличия у пользователя более 999 назначений ролей приложений
Если пользователь имеет более 999 назначений ролей приложений, они могут не видеть все свои приложения в моих приложениях.

Это связано с тем, что мои приложения в настоящее время считывают до 999 назначений ролей приложений, чтобы определить приложения, которым назначены пользователи. Если пользователю назначено более 999 приложений, то невозможно будет контролировать, какие из этих приложений будут отображаться на портале "Мои приложения".

Чтобы проверить, имеет ли пользователь более 999 ролей приложений, выполните следующие действия.
1. Установите модуль [**Microsoft. Graph**](https://github.com/microsoftgraph/msgraph-sdk-powershell) PowerShell.
2. Выполните `Connect-MgGraph -Scopes "User.ReadBasic.All Application.Read.All"`.
3. Выполните команду `(Get-MgUserAppRoleAssignment -UserId "<userId>" -Top 999).Count` , чтобы определить количество назначений ролей приложения, предоставленных пользователем в данный момент.
4. Если результат равен 999, то пользователь скорее всего будет иметь более 999 назначений ролей приложений.

### <a name="check-a-users-assigned-licenses"></a>Проверка назначенных пользователю лицензий
Чтобы проверить назначенные пользователю лицензии, выполните следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Выберите **лицензии** , чтобы просмотреть лицензии, назначенные пользователю в данный момент.

### <a name="assign-a-user-a-license"></a>Назначение лицензии пользователю 
Чтобы назначить лицензию пользователю, выполните следующее:
1.  Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
2.  Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3.  В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4.  В меню навигации выберите **Пользователи и группы** .
5.  Выберите **Все пользователи**.
6.  **Найдите** интересующего пользователя и **выберите строку** для выбора.
7.  Выберите **лицензии** , чтобы просмотреть лицензии, назначенные пользователю в данный момент.
8.  Нажмите кнопку **назначить** .
9.  Выберите **один или несколько продуктов** в списке доступных продуктов.
10. **Необязательно** выберите элемент **Параметры назначения** для детального назначения продуктов. Щелкните **ОК**.
11. Нажмите кнопку **назначить** , чтобы назначить эти лицензии этому пользователю.

## <a name="troubleshooting-deep-links"></a>Устранение неполадок с глубокими ссылками
Прямые ссылки или URL-адреса пользовательского доступа представляют собой ссылки, с помощью которых пользователи могут осуществлять доступ к приложениям с единым входом по паролю прямо из строки URL-адреса в браузере. Перейдя по этой ссылке, пользователи автоматически подписываются в приложение без необходимости сначала перейти к моим приложениям. Ссылка совпадает с той, которую пользователи используют для доступа к этим приложениям из средства запуска приложений Microsoft 365.

### <a name="checking-the-deep-link"></a>Проверка ссылки на глубину

Чтобы проверить, имеется ли правильная глубокая ссылка, выполните следующие действия.
1. Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор** или **Соадминистратор.**
2. Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
3. В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
4. В меню навигации Azure Active Directory слева выберите **Корпоративные приложения**.
5. Щелкните **Все приложения**, чтобы просмотреть полный список приложений.
   * Если нужное приложение отсутствует в списке, в верхней части списка **Все приложения** воспользуйтесь элементом управления **Фильтр**, указав в нем для параметра **Показать** значение **Все приложения**.
6. Откройте [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор** или **Соадминистратор.**
7. Откройте **расширение Azure Active Directory** , выбрав **все службы** в верхней части главного меню навигации слева.
8. В поле фильтра поиска введите **Azure Active Directory** и выберите элемент **Azure Active Directory**.
9. В меню навигации Azure Active Directory слева выберите **Корпоративные приложения**.
10. Щелкните **Все приложения**, чтобы просмотреть полный список приложений.
    * Если нужное приложение отсутствует в списке, в верхней части списка **Все приложения** воспользуйтесь элементом управления **Фильтр**, указав в нем для параметра **Показать** значение **Все приложения**.
11. Выберите приложение, для которого нужно проверить ссылку.
12. Найдите метку **URL-адрес пользовательского доступа**. Прямая ссылка должна соответствовать этому URL-адресу.

## <a name="contact-support"></a>Обращение в службу поддержки
Откройте запрос в службу поддержки со следующими сведениями, если они доступны:
-   идентификатор ошибки корреляции;
-   имя участника-пользователя (адрес электронной почты пользователя);
-   идентификатор клиента;
-   тип браузера;
-   часовой пояс и время или отрезок времени возникновения ошибки;
-   трассировки Fiddler.

## <a name="next-steps"></a>Дальнейшие действия
- [Серия кратких руководств по управлению приложениями](view-applications-portal.md)
