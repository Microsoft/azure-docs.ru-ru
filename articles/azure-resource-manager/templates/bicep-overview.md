---
title: Язык бицеп для шаблонов Azure Resource Manager
description: Описание языка Бицеп для развертывания инфраструктуры в Azure с помощью шаблонов Azure Resource Manager.
ms.topic: conceptual
ms.date: 03/12/2021
ms.openlocfilehash: 11ba562fa3d91ffc7baeca647ed05e839f9c8013
ms.sourcegitcommit: ec39209c5cbef28ade0badfffe59665631611199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2021
ms.locfileid: "103232976"
---
# <a name="what-is-bicep-preview"></a>Что такое Бицеп (Предварительная версия)?

Бицеп — это язык для декларативного развертывания ресурсов Azure. Вы можете использовать Бицеп вместо JSON для разработки шаблонов Azure Resource Manager (шаблоны ARM). Бицеп упрощает процесс разработки, предоставляя краткий синтаксис, улучшенную поддержку повторного использования кода и улучшенную безопасность типов. Бицеп — это доменный язык (DSL), то есть он предназначен для конкретного сценария или домена. Он не предназначен для создания приложений на общем языке программирования.

Синтаксис JSON для создания шаблона может быть подробным и требовать сложного выражения. Бицеп улучшает этот интерфейс без потери возможностей шаблона JSON. Это прозрачная абстракция по сравнению с JSON для шаблонов ARM. Каждый файл Бицеп компилируется в стандартный шаблон ARM. Типы ресурсов, версии API и свойства, допустимые в шаблоне ARM, допустимы в файле Бицеп. В текущем выпуске есть несколько [известных ограничений](#known-limitations) .

## <a name="get-started"></a>Приступая к работе

Чтобы начать с Бицеп, [установите средства](https://github.com/Azure/bicep/blob/main/docs/installing.md).

После установки средств воспользуйтесь [руководством бицеп](./bicep-tutorial-create-first-bicep.md). В серии руководств описывается структура и возможности Бицеп. Вы развертываете файлы Бицеп и преобразуете шаблон ARM в эквивалентный файл Бицеп.

Чтобы просмотреть эквивалентные файлы JSON и Бицеп рядом, см. раздел [Бицеп Playground](https://aka.ms/bicepdemo).

Если у вас есть шаблон ARM, который вы хотите преобразовать в Бицеп, см. раздел [декомпиляция JSON в бицеп](compare-template-syntax.md#decompile-json-to-bicep).

## <a name="bicep-improvements"></a>Усовершенствования бицеп

Бицеп предлагает более простой и краткий синтаксис по сравнению с эквивалентным JSON. Выражения не используются `[...]` . Вместо этого вы напрямую вызываете функции и получаете значения параметров и переменных. Каждому развернутому ресурсу присваивается символьное имя, которое упрощает ссылку на этот ресурс в шаблоне.

Например, следующий код JSON возвращает выходное значение из свойства ресурса.

```json
"outputs": {
  "hostname": {
      "type": "string",
      "value": "[reference(resourceId('Microsoft.Network/publicIPAddresses', variables('publicIPAddressName'))).dnsSettings.fqdn]"
    },
}
```

Эквивалентное выходное выражение в Бицеп проще в написании. В следующем примере возвращается одно и то же свойство с использованием символического имени **publicIP** для ресурса, который определен в шаблоне:

```bicep
output hostname string = publicIP.properties.dnsSettings.fqdn
```

Полное Сравнение синтаксиса см. в разделе [Сравнение JSON и бицеп для шаблонов](compare-template-syntax.md).

Бицеп автоматически управляет зависимостями между ресурсами. Можно избежать настройки `dependsOn` , когда символическое имя ресурса используется в объявлении другого ресурса.

С помощью Бицеп можно разбить проект на несколько модулей.

Структура файла Бицеп более гибка, чем шаблон JSON. Параметры, переменные и выходные данные можно объявлять в любом месте файла. В JSON необходимо объявить все параметры, переменные и выходные данные в соответствующих разделах шаблона.

Расширение VS Code для Бицеп предлагает широкие возможности проверки и IntelliSense. Например, можно использовать IntelliSense расширения для получения свойств ресурса.

## <a name="known-limitations"></a>Известные ограничения

В настоящее время существуют следующие ограничения:

* Не удается установить режим или размер пакета в циклах копирования.
* Не может сочетать циклы и условия.
* Однострочный объект и массивы, например `['a', 'b', 'c']` , не поддерживаются.

## <a name="faq"></a>ВОПРОСЫ И ОТВЕТЫ

**Зачем создавать новый язык вместо использования существующего?**

Бицеп можно рассматривать как редакцию на существующем языке шаблона ARM, а не на новом языке. Синтаксис изменился, но основная функциональность и среда выполнения остаются неизменными.

Перед началом разработки Бицеп мы рассматривали использование существующего языка программирования. Мы решили, что наша целевая аудитория будет проще изучить Бицеп, а не начать работу с другим языком.

**Почему бы не сосредоточиться на энергетической terraform или другой сторонней инфраструктуре в качестве предложений кода?**

Разные пользователи предпочитают использовать разные языки и средства настройки. Мы хотим убедиться, что все эти средства обеспечивают высокую удобство работы в Azure. Бицеп является частью этих усилий.

Если вы довольны использованием terraform, нет причин переключаться. Корпорация Майкрософт стремится обеспечить наилучшее terraform в Azure.

Для клиентов, которые выбрали шаблоны ARM, мы считаем, что Бицеп расширяет возможности разработки. Бицеп также помогает в переходе клиентов, которые не приняли инфраструктуру как код.

**Бицеп только для Azure?**

Бицеп — это DSL, ориентированное на развертывание полных решений в Azure. Для решения этой цели требуется работа с некоторыми API, которые выходят за пределы Azure. Мы планируем предоставить точки расширения для этих сценариев.

**Что происходит с существующими шаблонами ARM?**

Они продолжают работать точно так же, как и всегда. Вносить изменения не требуется. Мы будем продолжать поддерживать базовый язык JSON шаблона ARM. Файлы бицеп компилируются в JSON, и этот JSON отправляется в Azure для развертывания.

Когда вы будете готовы, можно [преобразовать JSON файлы в бицеп](compare-template-syntax.md#decompile-json-to-bicep).

## <a name="next-steps"></a>Дальнейшие действия

Приступая к работе с [руководством по бицеп](./bicep-tutorial-create-first-bicep.md).
