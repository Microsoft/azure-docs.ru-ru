---
title: Восстановление больших двоичных объектов Azure
description: Узнайте, как восстановить большие двоичные объекты Azure (в предварительной версии).
ms.topic: conceptual
ms.date: 02/16/2021
ms.openlocfilehash: 4cbd47ea654115f00095e30f7d5114aec0f2c85a
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101746496"
---
# <a name="restore-azure-blobs-in-preview"></a>Восстановление больших двоичных объектов Azure (Предварительная версия)

Блочные BLOB-объекты в учетных записях хранения с настроенными операционными резервными копиями можно восстановить в любой момент времени в пределах диапазона хранения. Кроме того, можно задать область восстановления для всех блочных BLOB-объектов в учетной записи хранения или в подмножестве больших двоичных объектов.

## <a name="before-you-start"></a>Прежде чем начать

- Большие двоичные объекты будут восстановлены в одной и той же учетной записи хранения. Поэтому большие двоичные объекты, которые были изменены с момента времени восстановления, будут перезаписаны.
- В рамках операции восстановления можно восстановить только блочные BLOB-объекты в стандартной учетной записи хранения общего назначения версии 2. Добавочные большие двоичные объекты, страничные и блочные BLOB-объекты не восстанавливаются.
- Во время выполнения задания восстановления большие двоичные объекты в хранилище не могут быть прочитаны или записаны в.
- Невозможно восстановить большой двоичный объект с активной арендой. Если большой двоичный объект с активной арендой включен в диапазон больших двоичных объектов для восстановления, операция восстановления завершится ошибкой автоматически. Прервать все активные аренды перед началом операции восстановления.
- Моментальные снимки не создаются и не удаляются в ходе операции восстановления. В предыдущее состояние восстанавливается только базовый большой двоичный объект.
- Если удалить контейнер из учетной записи хранения, вызвав операцию **удаления контейнера** , то этот контейнер нельзя будет восстановить с помощью операции восстановления. Вместо удаления всего контейнера Удалите отдельные большие двоичные объекты, если их потребуется восстановить позже. Кроме того, корпорация Майкрософт рекомендует включить обратимое удаление для контейнеров в дополнение к операционной резервной копии, чтобы защититься от случайного удаления контейнеров.
- Все ограничения и поддерживаемые сценарии см. в [матрице поддержки](blob-backup-support-matrix.md) .

## <a name="restore-blobs"></a>Восстановление больших двоичных объектов

Вы можете запустить восстановление с помощью центра архивации.

1. В центре архивации перейдите к разделу **Восстановление** на верхней панели.

    ![Восстановление в центре архивации](./media/blob-restore/backup-center-restore.png)

1. На вкладке **Инициация восстановления** выберите **BLOB-объекты Azure (служба хранилища Azure)** в качестве типа источника данных и выберите **экземпляр резервной копии** , который необходимо восстановить. Экземпляр резервной копии — это учетная запись хранения, содержащая большие двоичные объекты, которые требуется восстановить.

     ![Выбор экземпляра резервной копии](./media/blob-restore/select-backup-instance.png)

1. На вкладке **Выбор точки восстановления** выберите дату и время, из которых требуется восстановить данные. Кроме того, с помощью ползунка можно выбрать момент времени для восстановления. Всплывающее информационное подсказка рядом с датой показывает допустимую продолжительность восстановления данных. Операция оперативного резервного копирования для непрерывного резервного копирования больших двоичных объектов обеспечивает детальный контроль над точками для восстановления данных из.

    >[!NOTE]
    > Показанное здесь время — местное время.

    ![Дата и время восстановления](./media/blob-restore/date-and-time.png)

1. На вкладке **Параметры восстановления** выберите, хотите ли вы восстановить все большие двоичные объекты в учетной записи хранения, конкретных контейнерах или подмножестве больших двоичных объектов, используя сопоставление префиксов. При использовании сопоставления префикса можно указать до 10 диапазонов префиксов или путь к файлу. Дополнительные сведения об использовании сопоставления префиксов см. [здесь](#use-prefix-match-for-restoring-blobs).

    ![Параметры восстановления](./media/blob-restore/restore-parameters.png)

    Выберите один из следующих параметров.

    - **Восстановить все большие двоичные объекты в учетной записи хранения**. при использовании этого параметра все блочные BLOB-объекты в учетной записи хранения восстанавливаются до выбранной точки во времени. Для восстановления учетных записей хранения, содержащих большие объемы данных или следящего сервера, может потребоваться больше времени.

    - **Обзор и восстановление выбранных контейнеров**. с помощью этого параметра можно просмотреть и выбрать до 10 контейнеров для восстановления. У вас должны быть достаточные разрешения для просмотра контейнеров в учетной записи хранения, иначе вы не сможете увидеть содержимое учетной записи хранения.

    - **Выберите большие двоичные объекты для восстановления с использованием сопоставления префиксов**. Этот параметр позволяет восстановить подмножество больших двоичных объектов, используя совпадение префиксов. Можно указать до 10 лексикографическом диапазонов больших двоичных объектов в одном контейнере или в нескольких контейнерах, чтобы вернуть эти большие двоичные объекты к их предыдущему состоянию в определенный момент времени. Вот несколько моментов, которые следует учитывать:

        - Можно использовать косую черту (/) для отделения имени контейнера от префикса BLOB-объекта.
        - Начало указанного диапазона является инклюзивным, однако указанный диапазон является эксклюзивным.

    Дополнительные сведения об использовании префиксов для восстановления диапазонов BLOB-объектов см. в [этом разделе](#use-prefix-match-for-restoring-blobs).

1. После завершения указания BLOB-объектов для восстановления перейдите на вкладку **Проверка и восстановление** и выберите **восстановить** , чтобы начать восстановление.

1. **Отслеживание восстановления**. Используйте представление **задания резервного копирования** для наблюдения за сведениями и состоянием восстановлений. Для этого перейдите в раздел   >  **задания резервного копирования** центра архивации. Состояние **будет отображаться как выполняемое** во время восстановления.

    ![Вкладка "задания резервного копирования"](./media/blob-restore/backup-jobs.png)

    После успешного завершения операции восстановления состояние изменится на **завершено**. После успешного завершения восстановления вы сможете снова считывать и записывать большие двоичные объекты в учетной записи хранения.

## <a name="additional-topics"></a>Дополнительные темы

### <a name="use-prefix-match-for-restoring-blobs"></a>Использовать сопоставление префикса для восстановления больших двоичных объектов

Рассмотрим следующий пример.

![Восстановление с сопоставлением префикса](./media/blob-restore/prefix-match.png)

Операция восстановления, показанная на образе, выполняет следующие действия.

- Она восстанавливает полное содержимое *container1*.
- Он восстанавливает большие двоичные объекты в диапазоне лексикографическом *blob1* через *blob5* в *контейнера container2*. Этот диапазон восстанавливает большие двоичные объекты с такими именами, как *blob1*, *blob11*, *blob100*, *blob2* и т. д. Так как конец диапазона является эксклюзивным, он восстанавливает большие двоичные объекты, имена которых начинаются с *blob4*, но не восстанавливает большие двоичные объекты, имена которых начинаются с *blob5*.
- Он восстанавливает все большие двоичные объекты в *container3* и *container4*. Так как конец диапазона является эксклюзивным, этот диапазон не восстанавливает *container5*.

## <a name="next-steps"></a>Дальнейшие действия

- [Обзор оперативного резервного копирования для больших двоичных объектов Azure (в предварительной версии)](blob-backup-overview.md)
