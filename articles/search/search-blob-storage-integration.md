---
title: Поиск содержимого хранилища BLOB-объектов Azure
titleSuffix: Azure Cognitive Search
description: Узнайте, как извлечь текст из больших двоичных объектов Azure и сделать его полнотекстовым поиском в индексе Azure Когнитивный поиск.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 09/23/2020
ms.openlocfilehash: f61bf635cc61a2153a7bb016ef4b4711d7ba7391
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91355301"
---
# <a name="search-over-azure-blob-storage-content"></a>Поиск содержимого хранилища BLOB-объектов Azure

Поиск различных типов содержимого в хранилище BLOB-объектов Azure может представлять собой трудную для решения задачу. В этой статье рассматривается базовый рабочий процесс извлечения содержимого и метаданных из больших двоичных объектов и их отправка в индекс поиска в Когнитивный поиск Azure. Полученный индекс можно запросить с помощью полнотекстового поиска.

> [!NOTE]
> Уже знакомы с рабочим процессом и композицией? [Сведения о настройке индексатора BLOB-объектов см](search-howto-indexing-azure-blob-storage.md) . в следующем шаге.

## <a name="what-it-means-to-add-full-text-search-to-blob-data"></a>Значение добавления полнотекстового поиска в данные BLOB-объектов

Azure Когнитивный поиск — это служба поиска, которая поддерживает рабочие нагрузки индексирования и запросов через определяемые пользователем индексы, которые содержат содержимое, доступное для удаленного поиска, размещенное в облаке. Совместное размещение содержимого с поддержкой поиска с помощью механизма запросов необходимо для повышения производительности, возвращая результаты на скорости, которую пользователи приступили к ожиданию от поисковых запросов.

Когнитивный поиск интегрируется с хранилищем BLOB-объектов Azure на уровне индексирования, импортируя содержимое BLOB-объектов как поисковые документы, индексируемые по *инвертированным индексам* , и другие структуры запросов, которые поддерживают запросы к произвольным текстовым формам и выражения фильтров. Так как содержимое BLOB-объектов индексируется в индексе поиска, можно использовать полный набор функций запроса в Когнитивный поиск Azure, чтобы найти сведения в содержимом большого двоичного объекта.

Входными данными являются BLOB-объекты в одном контейнере в хранилище BLOB-объектов Azure. Содержимое BLOB-объектов может иметь вид практически любых текстовых данных. Если большие двоичные объекты содержат изображения, можно добавить [обогащение искусственного интеллекта в индексирование BLOB-объектов](search-blob-ai-integration.md) , чтобы создавать и извлекать текст из изображений.

Выходными данными всегда является индекс Когнитивного поиска Azure, используемый для быстрого поиска, извлечения и исследования текста в клиентских приложениях. Между ними находится сама архитектура конвейера индексации. В основе конвейера лежит компонент *индексатора*, который рассматривается далее в этой статье.

После создания и заполнения индекса он существует независимо от контейнера больших двоичных объектов, но можно повторно перезапустить операции индексирования, чтобы обновить индекс на основе измененных документов. Обнаружить изменения можно с помощью сведений метки времени на отдельных BLOB-объектах. В качестве механизма обновления можно выбрать либо запланированное выполнение, либо индексацию по требованию.

## <a name="required-resources"></a>Необходимые ресурсы

Вам потребуется Azure Когнитивный поиск и хранилище BLOB-объектов Azure. В хранилище BLOB-объектов должен быть контейнер, предоставляющий исходное содержимое.

Работу можно начать прямо на странице портала учетной записи хранения. На странице навигации слева в разделе **Служба BLOB-объектов** щелкните **Добавить Когнитивный поиск Azure**, чтобы создать новую службу или выбрать существующую. 

После добавления Когнитивного поиска Azure в учетную запись хранения выполняется стандартный процесс индексации данных BLOB-объекта. Рекомендуется воспользоваться мастером **импорта данных** в Когнитивном поиске Azure или вызвать REST API с помощью такого средства, как Postman. Процедура вызова REST API в Postman описана в следующей статье: [Руководство по индексированию и поиску больших двоичных объектов JSON в Когнитивном поиске Azure](search-semi-structured-data.md). 

## <a name="use-a-blob-indexer"></a>Использование индексатора BLOB-объектов

*Индексатор* — это подслужба, учитывающая источник данных, в когнитивный Поиск, оснащенная внутренней логикой для выборки данных, считыванием данных метаданных, извлечением данных и сериализацией данных из собственного формата в документы JSON для последующего импорта. 

BLOB-объекты в службе хранилища Azure индексируются с помощью [индексатора хранилища BLOB-объектов Когнитивного поиска Azure](search-howto-indexing-azure-blob-storage.md). Этот индексатор можно вызвать с помощью мастера **импорта данных**, REST API или пакета SDK для .NET. В коде этот индексатор используется путем задания типа и предоставления сведений о подключениях, включающих учетную запись хранения Azure с контейнером BLOB-объекта. Можно сформировать подмножество BLOB-объектов, создав виртуальный каталог, который затем можно передать в качестве параметра, или выполнив фильтрацию по расширению типа файла.

Индексатор распознает документ и открывает BLOB-объект для проверки содержимого. Это первый шаг, который выполняется в конвейере после подключения к источнику данных. На этом этапе обнаруживаются документы в формате PDF, документы Office и другие типы содержимого. За распознавание документов с извлечением текста плата не взимается. Если BLOB-объекты содержат изображения, изображения игнорируются, пока не будет [добавлено обогащение с помощью ИИ](search-blob-ai-integration.md). Стандартное индексирование применяется только к текстовому содержимому.

Индексатор BLOB-объектов поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточно информации. Дополнительные сведения об основных функциональных возможностях см. в статье об [индексации BLOB-объектов с помощью Когнитивного поиска Azure](search-howto-indexing-azure-blob-storage.md).

### <a name="supported-content-types"></a>Поддерживаемые типы содержимого

Запустив индексатор BLOB-объектов в контейнере, с помощью одного запроса можно извлекать текст и метаданные из следующих типов содержимого.

[!INCLUDE [search-blob-data-sources](../../includes/search-blob-data-sources.md)]

### <a name="indexing-blob-metadata"></a>Индексация метаданных BLOB-объектов

Распространенный сценарий, позволяющий с легкостью сортировать большие двоичные объекты с содержимым любого типа — это индексация пользовательских метаданных и системных свойств каждого BLOB-объекта. Таким образом, независимо от типа документа, хранящегося в индексе в службе поиска, индексируются сведения обо всех BLOB-объектах. Используя новый индекс, можно перейти к сортировке, фильтрации и использованию аспектов по всему содержимому хранилища BLOB-объектов.

> [!NOTE]
> Теги индекса BLOB-объектов изначально индексируются службой хранилища BLOB-объектов и предоставляются для выполнения запросов. Если для атрибутов ключа и значения BLOB-объектов требуются возможности индексации и фильтрации, то вместо метаданных следует использовать теги индекса BLOB-объектов.
>
> Дополнительные сведения об индексе BLOB-объектов см. в статье об [использовании индекса BLOB-объектов для поиска данных и управлении ими в хранилище BLOB-объектов Azure](../storage/blobs/storage-manage-find-blobs.md).

### <a name="indexing-json-blobs"></a>Индексация BLOB-объектов, содержащих JSON

Индексаторы можно настроить для извлечения структурированного содержимого BLOB-объектов, содержащих JSON. Индексатор может считывать большие BLOB-объекты с JSON и разбивать структурированное содержимое на соответствующие поля документа. Индексаторы могут также считывать BLOB-объекты, которые содержат массив объектов JSON, и сопоставлять каждый элемент такого массива с отдельным документом. Можно задать режим анализа, который будет влиять на тип объекта JSON, создаваемого индексатором.

## <a name="search-blob-content-in-a-search-index"></a>Поиск содержимого BLOB-объекта в индексе поиска 

Выходные данные индексатора — это индекс поиска, используемый для интерактивного исследования с использованием свободного текста и отфильтрованных запросов в клиентском приложении. Для первоначального исследования и проверки содержимого рекомендуется начать с [проводника поиска](search-explorer.md) на портале, который поможет изучить структуру документа. В проводнике поиска можно использовать [простой синтаксис запросов](query-simple-syntax.md), [полный синтаксис запросов](query-lucene-syntax.md) и [синтаксис выражений фильтра](query-odata-filter-orderby-syntax.md).

Более комплексное и окончательное решение заключается в сборе входных данных запроса и представления ответа в виде результатов поиска в клиентском приложении. Сведения о создании приложения поиска приводятся в следующем руководстве по C#: [Создание первого приложения поиска с помощью пакета SDK для .NET](tutorial-csharp-create-first-app.md).

## <a name="next-steps"></a>Дальнейшие действия

+ [Передача, скачивание и составление списка больших двоичных объектов с помощью портала Azure (хранилище BLOB-объектов)](../storage/blobs/storage-quickstart-blobs-portal.md)
+ [Настройка индексатора больших двоичных объектов (Когнитивный поиск Azure)](search-howto-indexing-azure-blob-storage.md)