---
title: Настройка подключения к источнику данных с помощью управляемого удостоверения
titleSuffix: Azure Cognitive Search
description: Узнайте, как настроить соединение индексатора с источником данных с помощью управляемого удостоверения.
manager: luisca
author: markheff
ms.author: maheff
ms.devlang: rest-api
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 09/22/2020
ms.openlocfilehash: 95f1c4bf9b599da8285ac69e299549e5aa73c2f9
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "92519594"
---
# <a name="set-up-an-indexer-connection-to-a-data-source-using-a-managed-identity"></a>Настройка соединения индексатора с источником данных с помощью управляемого удостоверения

> [!IMPORTANT] 
> Настройка подключения к источнику данных с помощью управляемого удостоверения не поддерживается на свободном уровне Azure Когнитивный поиск.

В Когнитивном поиске Azure [индексатором](search-indexer-overview.md) называется программа-обходчик, которая извлекает данные из источника данных в Когнитивный поиск Azure. Индексатор получает соединение с источником данных из созданного вами объекта источника данных. Обычно объект источника данных содержит учетные данные для целевого источника данных. Например, в объекте источника данных можно разместить ключ учетной записи хранения Azure, если вы намерены индексировать данные из контейнера в хранилище больших двоичных объектов.

Во многих случаях предоставление учетных данных непосредственно в объекте источника данных не является проблемой, но могут возникнуть некоторые трудности.
* Как правильно защитить учетные данные в коде, который создает объект источника данных?
* Если ключ или пароль учетной записи скомпрометированы и их пришлось сменить в источнике данных, как теперь внести новые данные в объект источника данных, чтобы индексатор мог снова подключиться к нему?

Такие проблемы легко решить, настроив управляемое удостоверение для подключения к источнику данных.

## <a name="using-managed-identities"></a>Использование управляемых удостоверений

Функция [управляемых удостоверений](../active-directory/managed-identities-azure-resources/overview.md) предоставляет службам Azure удостоверения, автоматически управляемые в Azure Active Directory (Azure AD). Она позволяет создать в Когнитивном поиске Azure объект источника данных со строкой подключения, которая не содержит никаких учетных данных. Вместо этого службе поиска будет предоставлен доступ к источнику данных через Управление доступом на основе ролей Azure (Azure RBAC).

Если для источника данных настроено управляемое удостоверение, вы можете изменить учетные данные источника, и при этом возможность подключаться к нему у индексаторов сохранится. Вы также можете создавать объекты источников данных прямо в коде, не указывая ключ учетной записи и не обращаясь к Key Vault для получения ключа учетной записи.

## <a name="limitations"></a>Ограничения

Следующие источники данных поддерживают настройку подключения индексатора с использованием управляемых удостоверений: 

* [хранилище BLOB-объектов Azure, Azure Data Lake Storage 2-го поколения (предварительная версия), хранилище таблиц Azure](search-howto-managed-identities-storage.md);
* [Azure Cosmos DB](search-howto-managed-identities-cosmos-db.md)
* [База данных SQL Azure](search-howto-managed-identities-sql.md).

Следующие функции пока не поддерживают использование управляемых удостоверений для настройки подключения.
* Хранилище знаний
* Пользовательские навыки
 
## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о том, как настроить подключение индексатора с использованием управляемого удостоверения, вы найдете в следующих статьях:

* [Настройка подключения к учетной записи хранения Azure с использованием управляемого удостоверения (предварительная версия)](search-howto-managed-identities-storage.md)
* [Azure Cosmos DB](search-howto-managed-identities-cosmos-db.md)
* [База данных SQL Azure](search-howto-managed-identities-sql.md)