---
title: Добавление языковых анализаторов в строковые поля
titleSuffix: Azure Cognitive Search
description: Многоязычный лексический анализ для запросов и индексов, отличных от английского, в Azure Когнитивный поиск.
author: HeidiSteen
manager: nitinme
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 03/17/2021
ms.openlocfilehash: ac11b7bc7e53c214f872d400565d50009479afcb
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "104604429"
---
# <a name="add-language-analyzers-to-string-fields-in-an-azure-cognitive-search-index"></a>Добавление языковых анализаторов в строковые поля в индексе Azure Когнитивный поиск

*Анализатор языка* является отдельным типом [анализатора текста](search-analyzers.md), которая выполняет лексический анализ с использованием лингвистических правил целевого языка. Каждое поле, поддерживающее поиск, обладает свойством **анализатора**. Если содержимое состоит из переведенных строк, например отдельных полей для текста на английском и китайском языках, можно указать языковые анализаторы для каждого поля, чтобы получить доступ к расширенным лингвистическим возможностям анализаторов.

## <a name="when-to-use-a-language-analyzer"></a>Когда следует использовать анализатор языка

Следует рассмотреть анализатор языка, когда известно, что слово или структура предложения добавляет значение в синтаксический анализ текста. Распространенным примером является Ассоциация нестандартных форм-команд ("приведение" и "приведение") или существительных во множественном числе ("мыши" и "мышь"). Без лингвистической осведомленности эти строки анализируются только по физическим характеристикам, которые не могут перехватывать соединение. Так как большие фрагменты текста, скорее всего, будут иметь такое содержимое, поля, состоящие из описаний, проверок или сводок, являются хорошими кандидатами для анализатора языка.

Также следует подумать об анализаторах языка, когда содержимое состоит из строк, отличных от западных языков. Несмотря на то, что [анализатор по умолчанию](search-analyzers.md#default-analyzer) не зависит от языка, концепция использования пробелов и специальных символов (дефисы и косые черты) для разделения строк обычно является более применимой к западных языкам, чем к незападных. 

Например, в китайском, японском, корейском (CJK) и других азиатских языках пробел не обязательно должен быть разделителем слов. Рассмотрим следующую японскую строку. Поскольку в нем нет пробелов, анализатор, не зависящий от языка, скорее всего, будет анализировать всю строку как один маркер, когда на самом деле строка фактически является фразой.

```
これは私たちの銀河系の中ではもっとも重く明るいクラスの球状星団です。
(This is the heaviest and brightest group of spherical stars in our galaxy.)
```

В приведенном выше примере успешный запрос должен включать полный маркер или частичный маркер с помощью подстановочного знака суффикса, что приводит к неестественному и ограничению возможностей поиска.

Лучший опыт — искать отдельные слова: 明るい (яркий), 私たちの (наш), 銀河系 (Galaxy). Использование одного из анализаторов на японском языке, доступных в Когнитивный поиск, скорее всего, приведет к разблокированию такого поведения, так как эти анализаторы лучше разбивают фрагмент текста на осмысленные слова на целевом языке.

## <a name="comparing-lucene-and-microsoft-analyzers"></a>Сравнение Lucene и Microsoft Analyzer

Azure Когнитивный поиск поддерживает анализаторы языков 35, поддерживающие пакет Azure Lucene, и анализаторы языка 50, которые поддерживаются собственной технологией обработки естественного языка Майкрософт, используемой в Office и Bing.

Некоторые разработчики предпочитают более знакомое и простое решение Lucene с открытым исходным кодом. Анализаторы языка Lucene работают быстрее, однако анализаторы Майкрософт обладают расширенными функциями, например лемматизацией, разбором слов на составные части (на таких языках, как немецкий, датский, голландский, шведский, норвежский, эстонский, финский, венгерский, словацкий) и распознаванием сущностей (URL-адресов, адресов электронной почты, дат, чисел). Рекомендуем вам сравнить результаты работы анализаторов от Майкрософт и Lucene и выбрать оптимальный для себя вариант. 

В зависимости от языка индексирование на базе анализаторов Майкрософт занимает в среднем в два-три раза больше времени, чем с помощью эквивалентных анализаторов Lucene. Время выполнения поискового запроса не должно значительно отличаться от запросов средних размеров. 

### <a name="english-analyzers"></a>Анализаторы английского языка

По умолчанию используется анализатор Lucene (цен. категория "Стандартный"), который хорошо работает с английским языком. Однако вполне вероятно, что лучше него работают анализаторы для английского языка от Lucene или Майкрософт.

+ Анализатор английского языка Lucene расширяет стандартный анализатор. Он удаляет из слов признаки принадлежности (символы 's в конце), выделяет корень слова с помощью алгоритма стеммера Портера и удаляет английские стоп-слова.  

+ Анализатор английского языка от Майкрософт вместо выделения корня слова выполняет лемматизацию. Это означает, что он может очень эффективно справляться с грамматическими и неправильными формами слов, что приводит к более релевантным результатам поиска. 

## <a name="how-to-specify-a-language-analyzer"></a>Как указать анализатор языка

Настройте языковой анализатор в полях "с возможностью поиска" типа EDM. String во время определения поля.

Хотя определения полей имеют несколько свойств, связанных с анализатором, для анализаторов языка можно использовать только свойство "анализатор". Значение "анализатор" должно быть одним из анализаторов языка из списка анализаторов поддержки.

```json
{
  "name": "hotels-sample-index",
  "fields": [
    {
      "name": "Description",
      "type": "Edm.String",
      "retrievable": true,
      "searchable": true,
      "analyzer": "en.microsoft",
      "indexAnalyzer": null,
      "searchAnalyzer": null
    },
    {
      "name": "Description_fr",
      "type": "Edm.String",
      "retrievable": true,
      "searchable": true,
      "analyzer": "fr.microsoft",
      "indexAnalyzer": null,
      "searchAnalyzer": null
    },
```

Дополнительные сведения о создании индекса и задании свойств полей см. в разделе [Создание индекса (остальное)](/rest/api/searchservice/create-index). Дополнительные сведения об анализе текста см. [в статье Анализаторы в Azure когнитивный Поиск](search-analyzers.md).

<a name="language-analyzer-list"></a>

## <a name="supported-language-analyzers"></a>Поддерживаемые языковые анализаторы

 Ниже приведен список поддерживаемых языков с именами Lucene и Microsoft Analyzer.  

| Язык | Название анализатора Майкрософт | Название анализатора Lucene |
|----------|-------------------------|----------------------|
| Арабский   | ar.microsoft | ar.lucene |
| Армянский |           | hy.lucene |
| Бенгальский   | bn.microsoft |  |
| Баскский   |  | eu.lucene |
| Болгарский | bg.microsoft | bg.lucene |
| Каталонский  | ca.microsoft | ca.lucene |
| Китайский (упрощенный) | zh-Hans.microsoft | zh-Hans.lucene |
| Китайский (традиционное письмо) | zh-Hant.microsoft | zh-Hant.lucene |
| Хорватский | hr.microsoft |  |
| Чешский | cs.microsoft | cs.lucene |
| Датский | da.microsoft | da.lucene |
| Нидерландский | nl.microsoft | nl.lucene |
| Английский | en.microsoft | en.lucene |
| Эстонский | et.microsoft |  |
| Финский | fi.microsoft | fi.lucene |
| Французский | fr.microsoft | fr.lucene |
| Галисийский |  | gl.lucene |
| Немецкий | de.microsoft | de.lucene |
| Греческий | el.microsoft | el.lucene |
| Гуджарати | gu.microsoft |  |
| Иврит | he.microsoft |  |
| Hindi | hi.microsoft | hi.lucene |
| Венгерский | hu.microsoft | hu.lucene |
| Исландский | is.microsoft |  |
| Индонезийский (бахаса) | id.microsoft | id.lucene |
| Ирландский |  | ga.lucene |
| Итальянский | it.microsoft | it.lucene |
| Японский | ja.microsoft | ja.lucene |
| Каннада | kN. Microsoft |  |
| Корейский | ko.microsoft | ko.lucene |
| Латышский | lv.microsoft | lv.lucene |
| Литовский | lt.microsoft |  |
| Малаялам | ml.microsoft |  |
| Малайский (латиница) | ms.microsoft |  |
| Маратхи | mr.microsoft |  |
| Норвежский | nb.microsoft | no.lucene |
| Персидский |  | fa.lucene |
| Польский | pl.microsoft | pl.lucene |
| Португальский (Бразилия) | pt-Br.microsoft | pt-Br.lucene |
| Португальский (Португалия) | pt-Pt.microsoft | pt-Pt.lucene |
| Панджаби | pa.microsoft |  |
| Румынский | ro.microsoft | ro.lucene |
| русском языке | ru.microsoft | ru.lucene |
| Сербский (кириллица) | sr-cyrillic.microsoft |  |
| Сербский (латиница) | sr-latin.microsoft |  |
| Словацкий | sk.microsoft |  |
| Словенский | sl.microsoft |  |
| Испанский | es.microsoft | es.lucene |
| Шведский | sv.microsoft | sv.lucene |
| Тамильский | ta.microsoft |  |
| Телугу | te.microsoft |  |
| Тайский | th.microsoft | th.lucene |
| Турецкий | tr.microsoft | tr.lucene |
| Украинский | uk.microsoft |  |
| Урду | ur.microsoft |  |
| Вьетнамский | vi.microsoft |  |

 Все анализаторы, у которых в названии есть идентификатор **Lucene**, работают на базе [анализаторов языка Apache Lucene](https://lucene.apache.org/core/6_6_1/core/overview-summary.html ).

## <a name="see-also"></a>См. также раздел  

+ [Создание индекса](search-what-is-an-index.md)
+ [Создание многоязычного индекса](search-language-support.md)
+ [Создание индекса (REST API)](/rest/api/searchservice/create-index)  
+ [Класс Лексикаланализернаме (пакет Azure SDK для .NET)](/dotnet/api/azure.search.documents.indexes.models.lexicalanalyzername)