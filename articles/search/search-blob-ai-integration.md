---
title: Использование AI для обогащения содержимого больших двоичных объектов
titleSuffix: Azure Cognitive Search
description: Узнайте о возможностях анализа естественного языка и изображений в Когнитивный поиск Azure и о том, как эти процессы применяются к содержимому, хранящемуся в больших двоичных объектах Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 02/02/2021
ms.openlocfilehash: 3d427d80e502eed0825165e640acc0755515c5b0
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "99222054"
---
# <a name="use-ai-to-process-and-analyze-blob-content-in-azure-cognitive-search"></a>Использование искусственного интеллекта для обработки и анализа содержимого BLOB-объектов в Azure Когнитивный поиск

Содержимое в хранилище BLOB-объектов Azure, состоящее из изображений или длинного текста, может проанализировать углубленное обучение, чтобы раскрывать и извлекать ценные сведения, полезные для подчиненных приложений. С помощью [обогащения искусственного интеллекта](cognitive-search-concept-intro.md)можно:

+ Извлечение текста из изображений с помощью оптического распознавания символов (OCR)
+ Создание описания сцены или тегов из фотографии
+ Определение языка и перевод текста на разные языки
+ Определение структуры с помощью распознавания сущностей путем поиска ссылок на людей, даты, места или Организации

Хотя вам может потребоваться только одна из этих возможностей искусственного интеллекта, можно объединить несколько из них в один конвейер (например, извлечь текст из отсканированного изображения, а затем найти на нем все даты и места). Кроме того, можно включить настраиваемую обработку AI или машинного обучения в виде внешних пакетов или внутренних моделей, которые соответствуют вашим данным и требованиям.

Хотя обогащение искусственного интеллекта можно применять к любому источнику данных, поддерживаемому индексатором поиска, большие двоичные объекты являются наиболее часто используемыми структурами в конвейере обогащения. Результаты передаются в индекс поиска для полнотекстового поиска или перенаправляются обратно в службу хранилища Azure для создания новых возможностей приложений, включающих исследование данных для сценариев обнаружения или анализа. 

В этой статье мы просматривайте углубление искусственного интеллекта с помощью широкой линзы, чтобы вы могли быстро оценить весь процесс, от преобразования необработанных данных в большие двоичные объекты к запрашиваемым данным в индексе поиска или в хранилище знаний.

## <a name="what-it-means-to-enrich-blob-data-with-ai"></a>Что означает "обогащение" данных больших двоичных объектов с помощью искусственного интеллекта

*Обогащение искусственного интеллекта* является частью архитектуры индексирования когнитивный Поиск Azure, которая интегрирует модели машинного обучения от Майкрософт или пользовательских моделей обучения, предоставляемых вами. Он помогает реализовать комплексные сценарии, в которых необходимо обрабатывать большие двоичные объекты (как существующие, так и новые), взломать открыть все форматы файлов, чтобы извлечь изображения и текст, извлечь нужную информацию с помощью различных возможностей искусственного интеллекта и индексировать их в индексе поиска для быстрого поиска, извлечения и исследования. 

Входными данными являются BLOB-объекты в одном контейнере в хранилище BLOB-объектов Azure. Большие двоичные объекты могут быть практически любыми типами текстовых или графических данных. 

Выходные данные всегда являются индексом поиска, используемым для быстрого поиска, извлечения и исследования в клиентских приложениях. Кроме того, выходные данные также могут быть [*хранилищем знаний*](knowledge-store-concept-intro.md) , которое проецирует документы в большие двоичные объекты Azure или таблицы Azure для подчиненного анализа в таких средствах, как Power BI или в рабочих нагрузках обработки и анализа данных.

Между — это сама архитектура конвейера. Конвейер основан на [*индексаторах*](search-indexer-overview.md), которым можно назначить набор [*навыков*](cognitive-search-working-with-skillsets.md), состоящий из одного или нескольких *навыков* , предоставляющих искусственный интеллект. Целью конвейера является создание *обогащенных документов* , которые вводят конвейер в виде необработанного содержимого, но получают дополнительную структуру, контекст и информацию при перемещении по конвейеру. Дополненные документы используются во время индексирования для создания инвертированных индексов и других структур, используемых в полнотекстовом поиске, исследования и анализа.

## <a name="required-resources"></a>Необходимые ресурсы

Помимо хранилища BLOB-объектов Azure и Когнитивный поиск Azure необходима третья служба или механизм, обеспечивающий AI:

+ Для встроенного решения AI Когнитивный поиск интегрируется с Cognitive Services зрения концепции и API-интерфейсов для обработки естественного языка Azure. Вы можете [подключить Cognitive Services ресурс](cognitive-search-attach-cognitive-services.md) , чтобы добавить оптическое распознавание символов (OCR), анализ изображений или обработку естественного языка (определение языка, преобразование текста, распознавание сущностей, извлечение ключевых фраз). 

+ Для настраиваемого AI с использованием ресурсов Azure можно определить пользовательский навык, который заключает внешнюю функцию или модель, которую вы хотите использовать. [Настраиваемые навыки](cognitive-search-custom-skill-interface.md) могут использовать код, предоставляемый функциями Azure, машинное обучение Azure, средством распознавания форм Azure или другим ресурсом, доступным по протоколу HTTPS.

+ Для настраиваемого искусственного интеллекта, отличного от Azure, модель или модуль должны быть доступны индексатору по протоколу HTTP.

Если у вас нет доступных служб, начните работу непосредственно на странице портала учетной записи хранения. На странице навигации слева в разделе **Служба BLOB-объектов** щелкните **Добавить Когнитивный поиск Azure**, чтобы создать новую службу или выбрать существующую. 

После добавления Когнитивный поиск Azure в учетную запись хранения можно выполнить стандартный процесс, чтобы расширить данные в любом источнике данных Azure. Мы рекомендуем использовать мастер **импорта данных** в когнитивный Поиск Azure, чтобы ознакомиться с простым введением в обогащение искусственного интеллекта. Вы можете присоединить Cognitive Services ресурс во время рабочего процесса. Это краткое руководство содержит инструкции по [созданию конвейера обогащения искусственного интеллекта на портале](cognitive-search-quickstart-blob.md). 

В следующих разделах подробно рассмотрены компоненты и рабочий процесс.

## <a name="use-a-blob-indexer"></a>Использование индексатора BLOB-объектов

Обогащение искусственного интеллекта — это надстройка для конвейера индексирования, а в Когнитивный поиск Azure эти конвейеры построены поверх *индексатора*. Индексатор — это подслужба, которая поддерживает источники данных и располагает внутренней логикой для выборки данных, считывания данных метаданных, извлечения данных и сериализации данных из собственных форматов в документы JSON для последующего импорта. Индексаторы часто используются сами по себе для импорта, отделены от искусственного интеллекта, но если вы хотите создать конвейер обогащения искусственного интеллекта, вам потребуется индексатор и набор навыков. В этом разделе демонстрируется индексатор; в следующем разделе основное внимание уделяется навыков.

Большие двоичные объекты в службе хранилища Azure индексируются с помощью [индексатора больших двоичных объектов](search-howto-indexing-azure-blob-storage.md). Этот индексатор можно вызвать с помощью мастера **импорта данных** , REST API или пакета SDK. Индексатор больших двоичных объектов вызывается, когда источник данных, используемый индексатором, является контейнером больших двоичных объектов Azure. Можно индексировать подмножество больших двоичных объектов путем создания виртуального каталога, который затем можно передать в качестве параметра или путем фильтрации по расширению типа файла.

Индексатор распознает документ и открывает BLOB-объект для проверки содержимого. Это первый шаг, который выполняется в конвейере после подключения к источнику данных. Для данных больших двоичных объектов здесь обнаруживаются файлы PDF, документы Office, изображения и другие типы содержимого. За распознавание документов с извлечением текста плата не взимается. Для взлома документов с помощью извлечения изображений плата насчитывается по тарифам, которые можно найти на [странице цен](https://azure.microsoft.com/pricing/details/search/).

Хотя все документы будут взломаны, расширение будет происходить только в том случае, если вы явно предложит свои навыки. Например, если конвейер состоит исключительно из анализа изображений, текст в контейнере или документах игнорируется.

Индексатор BLOB-объектов поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточно информации. Дополнительные сведения см. в статье [Настройка индексатора больших двоичных объектов](search-howto-indexing-azure-blob-storage.md).

## <a name="add-ai-components"></a>Добавление компонентов AI

Обогащение искусственного интеллекта относится к модулям, которые ищут шаблоны или характеристики, а затем выполняют соответствующие операции. Распознавание лиц в фотографиях, текстовые описания фотографий, обнаружение ключевых фраз в документе, РАСПОЗНАВАНИе текста (или распознавание печатного или рукописного текста в двоичных файлах) — это примеры.

В Когнитивный поиск Azure *навыки* — это отдельные компоненты обработки AI, которые можно использовать автономно или в сочетании с другими навыками. 

+ Встроенные навыки поддерживаются Cognitive Services, с анализом изображений на основе Компьютерное зрение и обработки естественного языка на основе Анализ текста. Полный список см. в разделе [встроенные навыки для обогащения содержимого](cognitive-search-predefined-skills.md).

+ Пользовательские навыки — это пользовательский код, заключенный в [Определение интерфейса](cognitive-search-custom-skill-interface.md) , который обеспечивает интеграцию в конвейер. В клиентских решениях рекомендуется использовать и то, и другое, с пользовательскими навыками, предоставляющими модули искусственного интеллекта с открытым исходным кодом или сторонними производителями.

Набор *навыков* представляет собой коллекцию навыков, используемых в конвейере, и вызывается после того, как на этапе взлома документа становится доступным содержимое. Индексатор может потреблять ровно один набор навыков, но он существует независимо от индексатора, чтобы его можно было использовать в других сценариях.

Пользовательские навыки могут показаться сложными, но могут быть простыми и простыми в плане реализации. При наличии существующих пакетов, предоставляющих модели сопоставления шаблонов или классификации, содержимое, извлеченное из больших двоичных объектов, может быть передано в эти модели для обработки. Так как обогащение искусственного интеллекта основано на Azure, модель также должна быть в Azure. Некоторые распространенные методологии размещения включают использование функций или [контейнеров](https://github.com/Microsoft/SkillsExtractorCognitiveSearch) [Azure](cognitive-search-create-custom-skill-example.md) .

К встроенным навыкам, поддерживаемым Cognitive Services, требуется [подключенный Cognitive Services](cognitive-search-attach-cognitive-services.md) ключ подписки «все в одном», который предоставляет доступ к ресурсу. Ключ «все в одном» обеспечивает анализ изображений, определение языка, преобразование текста и анализ текста. Другие встроенные навыки — это функции Когнитивный поиск Azure, для которых не требуется дополнительная служба или ключ. Текстовые формы, разделители и слияния — это примеры вспомогательных навыков, которые иногда необходимы при проектировании конвейера.

Если вы используете только пользовательские навыки и встроенные навыки, то нет никакой зависимости или затрат, связанных с Cognitive Services.

## <a name="consume-ai-enriched-output-in-downstream-solutions"></a>Использование выходных данных искусственного интеллекта в нижестоящих решениях

Выходным результатом искусственного интеллекта является индекс поиска в Когнитивный поиск Azure или [хранилище знаний](knowledge-store-concept-intro.md) в службе хранилища Azure.

В Azure Когнитивный поиск поисковый индекс используется для интерактивного исследования с помощью свободного текста и фильтрованных запросов в клиентском приложении. Дополненные документы, созданные с помощью AI, форматируются в формате JSON и индексируются так же, как все документы индексируются в Когнитивный поиск Azure, используя все преимущества, предоставляемые индексатором. Например, во время индексирования индексатор BLOB-объектов ссылается на параметры конфигурации и настройки для использования любых сопоставлений полей или логики обнаружения изменений. Такие параметры полностью доступны для обычных индексирований и обогащенных рабочих нагрузок искусственного интеллекта. После индексирования, когда содержимое хранится на Когнитивный поиск Azure, можно создавать сложные запросы и фильтровать выражения для понимания содержимого.

В службе хранилища Azure хранилище знаний имеет два манифеста: контейнер больших двоичных объектов или таблицы в хранилище таблиц. 

+ Контейнер больших двоичных объектов полностью фиксирует все документы, что полезно, если требуется передать их в другие процессы. 

+ В отличие от этого хранилище таблиц может поддерживать физические проекции обогащенных документов. Можно создавать срезы или слои расширенных документов, включающих или исключающих определенные части. Для анализа в Power BI таблицы в хранилище таблиц Azure становятся источниками данных для дальнейшей визуализации и исследования.

Обогащенный документ в конце конвейера отличается от первоначальной входной версии на наличие дополнительных полей, содержащих новые сведения, извлеченные или созданные во время обогащения. Таким образом, можно работать с сочетанием исходного и созданного содержимого независимо от используемой выходной структуры.

## <a name="next-steps"></a>Дальнейшие действия

Расширить возможности искусственного интеллекта, чтобы максимально эффективно использовать данные в службе хранилища Azure, в том числе объединять Cognitive Services различными способами, а также создавать пользовательские навыки для случаев, когда для сценария нет существующей службы. Дополнительные сведения см. по ссылкам ниже.

+ [Передача, скачивание и составление списка больших двоичных объектов с помощью портала Azure (хранилище BLOB-объектов)](../storage/blobs/storage-quickstart-blobs-portal.md)
+ [Настройка индексатора больших двоичных объектов (Когнитивный поиск Azure)](search-howto-indexing-azure-blob-storage.md) 
+ [Общие сведения об обогащении искусственного интеллекта (Azure Когнитивный поиск)](cognitive-search-concept-intro.md) 
+ [Создание набора навыков (Когнитивный поиск Azure)](cognitive-search-defining-skillset.md)
+ [Отображение узлов в дереве заметок (Когнитивный поиск Azure)](cognitive-search-output-field-mapping.md)