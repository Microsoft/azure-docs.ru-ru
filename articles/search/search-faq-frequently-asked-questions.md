---
title: Вопросы и ответы
titleSuffix: Azure Cognitive Search
description: Получите ответы на часто задаваемые вопросы о службе Microsoft Azure Когнитивный поиск, облачной службе поиска на Microsoft Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 04/10/2020
ms.openlocfilehash: 9d6acdcf9487b2d1a5964d4ec686cd23666275b0
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "88923098"
---
# <a name="azure-cognitive-search---frequently-asked-questions-faq"></a>Azure Когнитивный поиск — часто задаваемые вопросы

 Найдите ответы на часто задаваемые вопросы о концепциях, коде и сценариях, связанных с Azure Когнитивный поиск.

## <a name="platform"></a>Платформа

### <a name="how-is-azure-cognitive-search-different-from-full-text-search-in-my-dbms"></a>Чем Azure Когнитивный поиск отличается от полнотекстового поиска в СУБД?

Azure Когнитивный поиск поддерживает несколько источников данных, [лингвистический анализ для множества языков](/rest/api/searchservice/language-support), [Пользовательский анализ для интересных и нестандартных входных данных](/rest/api/searchservice/custom-analyzers-in-azure-search), поиск элементов управления ранжированием с помощью [профилей оценки](/rest/api/searchservice/add-scoring-profiles-to-a-search-index)и пользовательские функции, такие как typeahead, выделение совпадений и многогранная Навигация. Она также включает в себя другие функции, такие как поиск синонимов и синтаксис расширенных запросов, но они обычно не являются отличительными.

### <a name="can-i-pause-azure-cognitive-search-service-and-stop-billing"></a>Можно ли приостановить службу Когнитивный поиск Azure и отказаться от оплаты?

Эту службу невозможно приостановить. При создании службы вам выделяются вычислительные ресурсы и ресурсы хранилища для монопольного использования. Их невозможно освобождать и восстанавливать по требованию.

## <a name="indexing-operations"></a>Операции индексирования

### <a name="move-backup-and-restore-indexes-or-index-snapshots"></a>Перемещать, архивировать и восстанавливать индексы или моментальные снимки индексов?

На этапе разработки может потребоваться переместить индекс между службами поиска. Например, вы можете использовать ценовую категорию "базовый" или "бесплатный" для разработки индекса, а затем переместить ее на уровень "Стандартный" или "более высокий" для использования в рабочей среде. 

Также можно создать резервную копию моментального снимка индекса до файлов, которые можно будет использовать для восстановления позже. 

Все эти действия можно выполнить с помощью примера кода с **индексом резервного копирования и восстановления** в этом [репозитории примера Azure когнитивный Поиск .NET](https://github.com/Azure-Samples/azure-search-dotnet-samples). 

Вы также можете [получить определение индекса](/rest/api/searchservice/get-index) в любое время с помощью REST API когнитивный Поиск Azure.

В данный момент в портал Azure нет встроенной функции извлечения индексов, создания моментальных снимков или восстановления резервных копий. Однако мы рассматриваем Добавление функций резервного копирования и восстановления в будущем выпуске. Если вы хотите включить поддержку для этой функции, проголосуйте за [голосом пользователя](https://feedback.azure.com/forums/263029-azure-search/suggestions/8021610-backup-snapshot-of-index).

### <a name="can-i-restore-my-index-or-service-once-it-is-deleted"></a>Можно ли восстановить индекс или службу после удаления?

Нет, если вы удалите индекс или службу Azure Когнитивный поиск, ее нельзя будет восстановить. При удалении службы Когнитивный поиск Azure все индексы в службе удаляются без возможности восстановления. Если удалить группу ресурсов Azure, содержащую одну или несколько служб Когнитивный поиск Azure, все службы будут удалены без возможности восстановления.  

Для повторного создания таких ресурсов, как индексы, индексаторы, источники данных и навыков, необходимо повторно создать их из кода. 

Чтобы заново создать индекс, необходимо повторно индексировать данные из внешних источников. По этой причине рекомендуется сохранить базу данных-образец или резервную копию исходных данных в другом хранилище, например в базе данных SQL Azure или Cosmos DB.

В качестве альтернативы можно использовать пример кода для **резервного копирования индексов и восстановления** из этого [примера репозитория Azure когнитивный Поиск .NET](https://github.com/Azure-Samples/azure-search-dotnet-samples) , чтобы создать резервную копию определения индекса и моментального снимка индекса в виде набора JSON-файлов. Позже при необходимости можно будет использовать средство и файлы для восстановления индекса.  

### <a name="can-i-index-from-sql-database-replicas-applies-to-azure-sql-database-indexers"></a>Можно ли индексировать из реплик базы данных SQL (применяется к [индексаторам базы данных SQL Azure](./search-howto-connecting-azure-sql-database-to-azure-search-using-indexers.md))

Нет каких-либо ограничений на использование первичной или вторичной реплик в качестве источника данных при создании индекса "с нуля". Однако для обновления индекса с помощью добавочных обновлений (с учетом измененных записей) требуется первичная реплика. Это требование обусловлено особенностями Базы данных SQL, гарантирующими отслеживание изменений только в первичных репликах. Если вы попытаетесь использовать вторичные реплики для рабочей нагрузки обновления индекса, то нет никаких гарантий, что будут получены все данные.

## <a name="search-operations"></a>Операции поиска

### <a name="can-i-search-across-multiple-indexes"></a>Можно ли выполнять поиск по нескольким индексам?

Нет, эта операция не поддерживается. Поиск всегда ограничивается одним индексом.

### <a name="can-i-restrict-search-index-access-by-user-identity"></a>Можно ли ограничить доступ к индексу поиска по удостоверению пользователя?

Вы можете реализовать [фильтры безопасности](./search-security-trimming-for-azure-search.md) с помощью фильтра `search.in()`. Этот фильтр отлично сочетается со [службами управления удостоверениями, такими как Azure Active Directory (AAD)](./search-security-trimming-for-azure-search-with-aad.md), позволяя фильтровать результаты поиска на основе определенного членства в группе.

### <a name="why-are-there-zero-matches-on-terms-i-know-to-be-valid"></a>Почему отображается ноль совпадений для терминов, которые точно являются действительными?

Чаще всего пользователи не знают, что каждый тип запроса поддерживает различные варианты поведения и уровни лингвистического анализа. Полнотекстовый поиск, который является предопределенной рабочей нагрузкой, включает этап анализа языка, который разделяет термины на корневые формы. Этот аспект анализа запросов позволяет охватить заметно больше возможных совпадений, так как разбитый на лексемы термин совпадает с гораздо большим количеством вариантов.

Но запросы по подстановочному знаку или регулярному выражению и запросы на поиск нечетких соответствий не анализируются как обычные запросы на поиск термина или фразы. Это может привести к низкому коэффициенту эффективности поиска, если запрос не соответствует проанализированной форме слова в индексе поиска. Дополнительные сведения о синтаксическом анализе и анализе запросов см. в разделе [Архитектура запросов](./search-lucene-query-architecture.md).

### <a name="my-wildcard-searches-are-slow"></a>Поиск с подстановочными знаками выполняется медленно.

Большинство запросов на поиск по подстановочному знаку, например по префиксу или регулярному выражению, а также запросов на поиск нечетких соответствий перезаписываются в системе с использованием соответствующих терминов в индексе поиска. Такой дополнительный процесс проверки индекса поиска увеличивает задержку. К тому же большие поисковые запросы, например `a*`, в которых с высокой вероятностью перезаписывается большое число терминов, могут выполняться очень медленно. Для высокопроизводительного поиска по подстановочным знакам рекомендуется определить [пользовательский анализатор](/rest/api/searchservice/custom-analyzers-in-azure-search).

### <a name="why-is-the-search-rank-a-constant-or-equal-score-of-10-for-every-hit"></a>Почему для каждого совпадения отображается постоянная или одинаковая поисковая оценка, равная 1,0?

По умолчанию результаты поиска вычисляются на основе [статистических свойств совпадающих терминов](search-lucene-query-architecture.md#stage-4-scoring) и упорядочиваются по убыванию в результирующем наборе. Тем не менее некоторые типы запросов (с подстановочными знаками, префиксом и регулярными выражениями) всегда присваивают постоянную оценку общей оценке документа. В этом весь замысел. В Azure Когнитивный поиск накладывается постоянная оценка, позволяющая включить в результаты сопоставления, найденные с помощью расширения запроса, без влияния на ранжирование.

Например, предположим, что входные данные "Tour *" в поиске с подстановочными знаками выводят совпадения по "обзоры", "туристы" и "Турмалин". Учитывая характер этих результатов, нет смысла сортировать термины по большему соответствию. Именно поэтому при оценке результатов в запросах с подстановочными знаками, префиксами и регулярными выражениями стоит игнорировать частоту обнаружения термина. Результатам поиска на основании частичного ввода присваивается постоянная оценка, чтобы избежать смещения к потенциально непредвиденным совпадениям.

## <a name="skillset-operations"></a>Операции с набором навыков

### <a name="are-there-any-tips-or-tricks-to-reduce-cognitive-services-charges-on-ingestion"></a>Есть ли какие либо советы или рекомендации по сокращению расходов на прием данных в ходе приема?

Понятно, что вы не хотите выполнять встроенные навыки или пользовательские навыки больше, чем абсолютно необходимо, особенно если вы работаете с миллионами документов для обработки. С учетом этого мы добавили к выполнению набора навыков возможности добавочного дополнения. По сути, можно указать расположение кэша (строку подключения к хранилищу BLOB-объектов), которое будет использоваться для хранения выходных данных "промежуточных" шагов обогащения.  Благодаря этому конвейер обогащения может быть разумным и применять только те дополнения, которые необходимы при изменении набора навыков. Это также позволит экономить время индексирования, так как конвейер будет более эффективным.

Дополнительные сведения о [добавочном обогащении](cognitive-search-incremental-indexing-conceptual.md)

## <a name="design-patterns"></a>Шаблоны проектирования

### <a name="what-is-the-best-approach-for-implementing-localized-search"></a>Каков рекомендуемый подход к реализации локализованного поиска?

Для поддержки разных языковых стандартов в одном индексе большинство пользователей выбирает выделенные поля в коллекции. Поля языкового стандарта позволяют назначить соответствующий анализатор. Например, можно назначить анализатору французского языка корпорации Майкрософт поля, содержащие строки на французском языке. Это также упрощает фильтрацию. Если известно, что запрос инициирован на странице с французским языковым стандартом (fr-fr), можно ограничить результаты поиска этим полем. Можно также создать [профиль оценки](/rest/api/searchservice/add-scoring-profiles-to-a-search-index), чтобы присвоить этому полю больший относительный вес. Azure Когнитивный поиск поддерживает выбор из более чем [50 языковых анализаторов](./search-language-support.md) .

## <a name="next-steps"></a>Дальнейшие действия

У вас есть вопрос об отсутствующей функции или компоненте? Отправьте запрос на [веб-сайте User Voice](https://feedback.azure.com/forums/263029-azure-search).

## <a name="see-also"></a>См. также раздел

 [StackOverflow: Azure Когнитивный поиск](https://stackoverflow.com/questions/tagged/azure-search)   
 [How full text search works in Azure Cognitive Search](search-lucene-query-architecture.md) (Как выполняется полнотекстовый поиск в Когнитивном поиске Azure)  
 [Что собой представляет Когнитивный поиск Azure?](search-what-is-azure-search.md)