---
title: Выбор ценовой категории
titleSuffix: Azure Cognitive Search
description: 'Когнитивный поиск Azure можно подготовить на этих уровнях: Free, Basic, Standard и Standard, и они доступны в различных конфигурациях ресурсов и уровнях емкости.'
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 12/15/2020
ms.custom: contperf-fy21q2
ms.openlocfilehash: 4c58968cb6a38a10433915ec8fa00336ccad301e
ms.sourcegitcommit: d59abc5bfad604909a107d05c5dc1b9a193214a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/14/2021
ms.locfileid: "98216416"
---
# <a name="choose-a-pricing-tier-for-azure-cognitive-search"></a>Выберите ценовую категорию для Azure Когнитивный поиск

При [создании службы поиска](search-create-service-portal.md)выбирается ценовая категория, фиксированная на протяжении времени существования службы. Выбранный уровень определяет:

+ Количество индексов и других объектов, которые можно создать (максимальное ограничение)
+ скорость секционирования и размер секций (физического хранилища).
+ Оплачиваемая ставка, фиксированная месячная стоимость, но также добавочная стоимость при добавлении секций или реплик

Кроме того, некоторые [функции](#premium-features) уровня "Премиум" поставляются с требованиями к уровню.

## <a name="tier-descriptions"></a>Описания уровней

Уровни включают в себя **бесплатное**, **базовое**, **стандартное** и **оптимизированное для хранилища**. Стандартные и оптимизированные для хранилища устройства доступны с несколькими конфигурациями и емкостью.

На следующем снимке экрана из портал Azure показаны доступные уровни минус цены (которые можно найти на портале и на [странице цен](https://azure.microsoft.com/pricing/details/search/). 

![Ценовые категории Когнитивный поиск Azure](media/search-sku-tier/tiers.png "Ценовые категории Когнитивный поиск Azure")

**Free** создает ограниченную службу поиска для небольших проектов, таких как работающие учебники и примеры кода. На внутреннем уровне реплики и секции являются общими для нескольких подписчиков. Вы не можете масштабировать бесплатную службу или выполнять значительные рабочие нагрузки.

**Основные** и **стандартные** — наиболее часто используемые оплачиваемые уровни со **стандартом** по умолчанию. Используя выделенные ресурсы под контролем, можно развернуть крупные проекты, оптимизировать производительность и увеличить емкость.

Некоторые уровни оптимизированы для определенных типов работы. Например, **стандартный 3 высокой плотности (S3 HD)** — это *режим размещения* для S3, где базовое оборудование оптимизировано для большого количества небольших индексов и предназначено для многотелефонных сценариев. На уровне S3 HD взимается такая же плата за единицу, как и S3, но оборудование оптимизировано для быстрого чтения файлов с большим количеством небольших индексов.

Уровни, **оптимизированные для хранилища** , обеспечивают более низкую емкость хранилища по меньшей цене за ТБ, чем стандартные уровни. Основной компромисс — это более высокая задержка запросов, которую следует проверить на соответствие конкретным требованиям приложения. Дополнительные сведения о вопросах производительности этого уровня см. в статье [вопросы производительности и оптимизации](search-performance-optimization.md).

Дополнительные сведения о различных уровнях см. на [странице с ценами](https://azure.microsoft.com/pricing/details/search/), в разделе [ограничения службы в когнитивный Поиск Azure](search-limits-quotas-capacity.md) и на странице портала при подготовке службы.

<a name="premium-features"></a>

## <a name="feature-availability-by-tier"></a>Доступность функций по уровням

Большинство функций доступны на всех уровнях, включая уровень Free. В некоторых случаях выбранный вами уровень влияет на возможность реализации функции. В следующей таблице описаны ограничения функций, связанные с уровнем служб.

| Компонент | Ограничения |
|---------|-------------|
| [индексаторов](search-indexer-overview.md) | Индексаторы недоступны на S3 HD.  |
| [Обогащение данных с помощью средств ИИ](search-security-manage-encryption-keys.md) | Работает на уровне Free, но не рекомендуется. |
| [Управляемые пользователем ключи шифрования](search-security-manage-encryption-keys.md) | Недоступно на уровне Free. |
| [Доступ к брандмауэру IP](service-configure-firewall.md) | Недоступно на уровне Free. |
| [Частная конечная точка (интеграция с частной ссылкой Azure)](service-create-private-endpoint.md) | Для входящих подключений к службе поиска недоступна на уровне Free. Для исходящих подключений индексаторов к другим ресурсам Azure недоступно на свободном или S3 HD. Для индексаторов, использующих навыков, недоступно на Free, Basic, S1 или S3 HD.|

Функции, интенсивно использующие ресурсы, могут работать не так, как только вы предоставляете достаточную емкость. Например, [обогащение искусственного интеллекта](cognitive-search-concept-intro.md) имеет долгосрочные навыки, которые истечения времени ожидания в бесплатной службе, если набор данных не является небольшим.

## <a name="billable-events"></a>Оплачиваемые события

Решение, созданное на Когнитивный поиск Azure, может повлечь за собой следующие виды затрат:

+ [Затраты](#service-costs) на саму службу, выполняющую Круглосуточная, в минимальной конфигурации (один раздел и реплику) по базовому курсу. Это можно считать фиксированной стоимостью запуска службы.

+ Добавление емкости (реплик или секций), где затраты увеличиваются с приращением коэффициента оплаты

+ Плата за пропускную способность (передача исходящих данных)

+ Дополнительные службы, необходимые для конкретных возможностей или функций:

  + Обогащение искусственного интеллекта (требуется [Cognitive Services](https://azure.microsoft.com/pricing/details/cognitive-services/))
  + хранилище знаний (требуется [хранилище Azure](https://azure.microsoft.com/pricing/details/storage/))
  + Добавочное дополнение (требуется [хранилище Azure](https://azure.microsoft.com/pricing/details/storage/), применяется к расширению искусственного интеллекта)
  + управляемые клиентом ключи и двойное шифрование (требуется [Azure Key Vault](https://azure.microsoft.com/pricing/details/key-vault/))
  + частные конечные точки для модели доступа без Интернета (требуется [Частная ссылка Azure](https://azure.microsoft.com/pricing/details/private-link/))

### <a name="service-costs"></a>Стоимость служб

В отличие от виртуальных машин или других ресурсов, которые можно "приостановить", чтобы избежать расходов, служба Когнитивный поиск Azure всегда доступна на оборудовании, выделенном для монопольного использования. Таким образом, создание службы — это оплачиваемое событие, которое запускается при создании службы и завершается при удалении службы. 

Минимальная стоимость — это первая единица поиска (одна реплика x одна секция) на коэффициенте оплаты. Это минимальное значение фиксируется во время существования службы, так как служба не может работать ни на что меньше этой конфигурации. Помимо минимума можно добавлять реплики и секции независимо друг от друга. Добавочное увеличение емкости с помощью реплик и секций увеличит счет на основе следующей формулы: [(количество реплик x секции x)](#search-units), где плата зависит от выбранной ценовой категории.

При оценке стоимости решения поиска учитывайте, что цены и емкость не являются линейными. (Удвоение емкости больше, чем удвоение стоимости.) Пример того, как работает формула, см. в разделе [как выделить реплики и секции](search-capacity-planning.md#how-to-allocate-replicas-and-partitions).

### <a name="bandwidth-charges"></a>Плата за пропускную способность

Использование [индексаторов](search-indexer-overview.md) может повлиять на выставление счетов, если источник данных Azure находится в другом регионе когнитивный Поиск Azure. В этом сценарии возможны затраты на перемещение исходящих данных из источника данных Azure в Когнитивный поиск Azure. Дополнительные сведения см. на страницах с ценами на интересующую вас платформу данных Azure.

При создании службы Когнитивный поиск Azure в том же регионе, в котором находятся данные, плата за исходящие данные может быть полностью устранена. Ниже приведены некоторые сведения на [странице цены на пропускную способность](https://azure.microsoft.com/pricing/details/bandwidth/).

+ Входящие данные: Корпорация Майкрософт не взимается за любые входящие данные ни в одну службу в Azure. 

+ Исходящие данные. к результатам запроса относятся исходящие данные. Когнитивный поиск не взимается за исходящие данные, а исходящие расходы из Azure возможны, если службы находятся в разных регионах. Эти расходы не являются частью счета Azure Когнитивный поиск. Они упомянуты здесь, поскольку если вы отправляете результаты в другие регионы или приложения, не относящиеся к Azure, вы можете увидеть, что эти затраты отражены в общем счете.

### <a name="ai-enrichment-with-cognitive-services"></a>Обогащение искусственного интеллекта с помощью Cognitive Services

Для [обогащения искусственного интеллекта](cognitive-search-concept-intro.md)необходимо запланировать [подключение оплачиваемого Cognitive Services ресурса Azure](cognitive-search-attach-cognitive-services.md)в том же регионе, что и когнитивный Поиск Azure, на ценовой категории S0 для обработки с оплатой по мере использования. Нет фиксированных затрат, связанных с присоединением Cognitive Services. Вы платите только за необходимую обработку.

| Операция | Принцип выставления счетов |
|-----------|----------------|
| Взлом документов, извлечение текста | Бесплатный |
| Взлом документов, Извлечение изображений | Счета выставляются в соответствии с количеством образов, извлеченных из документов. В [конфигурации индексатора](/rest/api/searchservice/create-indexer#indexer-parameters) **имажеактион** — это параметр, который запускает извлечение изображений. Если для **имажеактион** задано значение "нет" (по умолчанию), вы не будете получать оплату за извлечение изображений. Скорость извлечения образа описана на странице [сведений о ценах](https://azure.microsoft.com/pricing/details/search/) на когнитивный Поиск Azure.|
| [Встроенные когнитивные навыки](cognitive-search-predefined-skills.md) | Счет выставляется по той же ставке, что и при выполнении задачи с помощью Cognitive Services напрямую. |
| Пользовательские навыки | Пользовательский навык — это предоставляемые вами функции. Затраты на использование пользовательского навыка полностью зависят от того, вызывает ли пользовательский код другие службы с оплатой. |

Функция [добавочного обогащения (Предварительная версия)](cognitive-search-incremental-indexing-conceptual.md) позволяет создавать кэш, который обеспечивает более эффективное выполнение индексатора при выполнении только тех навыков, которые необходимы при изменении набора навыков в будущем, экономя время и деньги.

<a name="search-units"></a>

## <a name="billing-formula-r-x-p--su"></a>Формула выставления счетов (R x P = SU)

Наиболее важной концепцией выставления счетов, которую следует знать для Azure Когнитивный поиск Operations, является *единица поиска* (SU). Поскольку Когнитивный поиск Azure зависит как от реплик, так и секций для индексирования и запросов, она не имеет смысла выставлять счет только для одного или другого. Вместо этого выставление счетов основано на всех частях.

SU — это произведение *реплик* и *секций* , используемых службой: **(R x P = SU)**.

Каждая служба имеет как минимум одну единицу поиска (одна реплика, умноженная на одну секцию). Максимальное значение для любой службы — 36. Это максимальное значение можно получить несколькими способами: 6 секций x 6 реплик или 3 секции x 12 реплик, например. Обычно используется меньше общей емкости (например, 3-реплика, 3-секционная служба выставляется как 9 SUs). Допустимые сочетания см. на диаграмме с [комбинациями разделов и реплик](search-capacity-planning.md#chart) .

Ставка выставления счетов Почасовая цена на SU. Каждый уровень имеет более высокую скорость. Более высокие уровни поставляются с большими и спидиер разделами, и это влияет на общую почасовую ставку для этого уровня. Вы можете просмотреть ставки для каждого уровня на странице [сведения о ценах](https://azure.microsoft.com/pricing/details/search/) .

Большинство клиентов используют часть полной емкости в сети, удерживая остальные ресурсы в резерве. Для выставления счетов количество секций и реплик, которые вы переводите в оперативный режим, вычисляется формулой SU, определяет, что вы оплачиваете почасовой основе.

## <a name="next-steps"></a>Дальнейшие действия

Управление затратами является неотъемлемой частью планирования ресурсов. В качестве следующего шага перейдите к следующей статье, чтобы получить рекомендации по оценке емкости и управлению затратами.

> [!div class="nextstepaction"]
> [Как управлять затратами и оценивать емкость в Azure Когнитивный поиск](search-sku-manage-costs.md)