---
title: Сброс маркеров развертывания в статических веб-приложениях Azure (Предварительная версия)
description: Сброс токенов на сайте статических веб-приложений Azure
services: static-web-apps
author: webmaxru
ms.author: masalnik
ms.service: static-web-apps
ms.topic: conceptual
ms.date: 1/31/2021
ms.openlocfilehash: fe1edb2693993d02a705039c18b04c8d1b7b9725
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101746521"
---
# <a name="reset-deployment-tokens-in-azure-static-web-apps-preview"></a>Сброс маркеров развертывания в статических веб-приложениях Azure (Предварительная версия)

При создании нового сайта статических веб-приложений Azure Azure создает маркер, используемый для распознавания приложения во время развертывания. Во время подготовки этот маркер сохраняется в качестве секрета в репозитории GitHub. В этой статье объясняется, как использовать этот маркер и управлять им.

Как правило, не нужно беспокоиться о маркере развертывания, но ниже приведены некоторые причины, по которым может потребоваться получить или сбросить маркер.

* **Компрометация маркера**: сбросьте токен, если он предоставляется внешней стороне.
* **Развертывание из отдельного репозитория GitHub**. при ручном развертывании из отдельного репозитория GitHub необходимо задать маркер развертывания в новом репозитории.

## <a name="prerequisites"></a>Предварительные требования

- Существующий репозиторий GitHub, настроенный с помощью Статических веб-приложений Azure.
- Если у вас их нет, см. статью [Краткое руководство. Создание первого статического веб-приложения](getting-started.md).

## <a name="reset-a-deployment-token"></a>Сброс токена развертывания

1. Щелкните ссылку **Управление маркером развертывания** на странице _Обзор_ сайта со статическими веб-приложениями Azure.

    :::image type="content" source="./media/deployment-token-management/manage-deployment-token-button.png" alt-text="Управление маркером развертывания":::

1. Нажмите кнопку **сбросить маркер** .

    :::image type="content" source="./media/deployment-token-management/manage-deployment-token.png" alt-text="Сброс токена развертывания":::

1. После отображения нового маркера в поле _токен развертывания_ скопируйте его, щелкнув значок **Копировать в буфер обмена** .


## <a name="update-a-secret-in-the-github-repository"></a>Обновление секрета в репозитории GitHub

Чтобы предотвратить выполнение автоматического развертывания, после сброса маркера необходимо задать новое значение в соответствующем репозитории GitHub.

1. Перейдите к репозиторию проекта на сайте GitHub и перейдите на вкладку **Параметры** .
1. Щелкните пункт меню **секреты** . Вы обнаружите секрет, созданный во время статической подготовки веб-приложений с именем _AZURE_STATIC_WEB_APPS_API_TOKEN_... в разделе _секреты репозитория_ .

    :::image type="content" source="./media/deployment-token-management/github-repo-secrets.png" alt-text="Перечисление секретов репозитория":::

    > [!NOTE]
    > Если вы создали сайт статических веб-приложений Azure для нескольких ветвей этого репозитория, вы увидите несколько _AZURE_STATIC_WEB_APPS_API_TOKEN_... Секреты в этом списке. Выберите правильный вариант, указав имя файла, указанное в поле _изменить рабочий процесс_ на вкладке _Обзор_ веб-сайта.

1. Нажмите кнопку **Обновить** , чтобы открыть редактор.
1. **Вставьте значение** маркера развертывания в поле _значение_ .
1. Щелкните **Обновить секрет**.

    :::image type="content" source="./media/deployment-token-management/github-update-secret.png" alt-text="Обновление секрета репозитория":::

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Публикация из генератора статических сайтов](publish-gatsby.md)
