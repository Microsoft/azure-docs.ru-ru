---
title: Стратегия поиска привязок
description: Дополнительные сведения о различных стратегиях при вызове API для размещения
author: pamistel
manager: MehranAzimi-msft
services: azure-spatial-anchors
ms.author: pamistel
ms.date: 02/11/2021
ms.topic: conceptual
ms.service: azure-spatial-anchors
ms.openlocfilehash: 43273ccd7c882bbac6cbc68d359db4ecb100800e
ms.sourcegitcommit: e6de1702d3958a3bea275645eb46e4f2e0f011af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "102617409"
---
# <a name="understanding-the-anchorlocatecriteria-class"></a>Основные сведения о классе Анчорлокатекритериа
В этой статье вы узнаете о различных параметрах, которые можно использовать при запросе привязки. Мы будем перейдем к классу Анчорлокатекритериа, его параметрам и допустимым сочетаниям параметров.

## <a name="anchor-locate-criteria"></a>Критерии поиска привязки
[Класс анчорлокатекритериа](https://docs.microsoft.com/dotnet/api/microsoft.azure.spatialanchors.anchorlocatecriteria) помогает отправлять запросы к службе для ранее созданных привязок. Один объект Анчорлокатекритериа может использоваться для наблюдателя в любое время. Каждый объект Анчорлокатекритериа должен содержать **только одно** из следующих свойств: [идентификаторы](#identifiers), [неаранчор](#nearanchor)или [неардевице](#neardevice). При необходимости можно задать дополнительные свойства, такие как [стратегия](#strategy), [бипасскаче](#bypasscache)и [рекуестедкатегориес](#requestedcategories) . 

### <a name="properties"></a>Свойства
Определите в наблюдателе **ровно одно** из следующих свойств:
#### <a name="identifiers"></a>Идентификаторы
*Значение по умолчанию: пустой массив строк*

С помощью идентификаторов можно определить список идентификаторов привязок для привязок, которые необходимо определить. Идентификаторы привязки изначально возвращаются после успешного создания привязки. С указанными идентификаторами Анчорлокатекритериа ограничит набор запрошенных привязок привязками с совпадающими идентификаторами привязки. Это свойство указывается с помощью массива строк. 

#### <a name="nearanchor"></a>неаранчор
*Значение по умолчанию: не задано*

С помощью Неаранчор можно указать, что Анчорлокатекритериа будет ограничивать набор запрошенных привязок привязками в пределах нужного расстояния от выбранной привязки. Эту выбранную привязку необходимо указать в качестве привязки к источнику. Вы также можете задать нужное расстояние вне исходной привязки и максимального числа возвращаемых привязок, чтобы ограничить поиск.
Это свойство задается с помощью объекта Неаранчоркритериа.

#### <a name="neardevice"></a>неардевице
*Значение по умолчанию: не задано*

С помощью Неардевице можно указать, что Анчорлокатекритериа будет ограничивать набор запрошенных привязок, чтобы они были близко к физическому расположению устройства. Все включенные датчики будут использоваться для обнаружения привязок, связанных с устройством. Чтобы обеспечить возможность поиска привязок, необходимо настроить Сенсоркапабилитиес, чтобы предоставить сеансу доступ ко всем соответствующим датчикам. Дополнительные сведения о настройке и использовании этого свойства см. в статье [грубая локализация — пространственные привязки Azure | Документация Майкрософт](https://docs.microsoft.com/azure/spatial-anchors/concepts/coarse-reloc) и *Создание и обнаружение привязок с помощью грубой локализации* в [C#](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-unity), [цели-C](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-unity), [SWIFT](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-swift), [Java](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-java), [c++/НДК](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-cpp-ndk), [c++/WinRT](https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-cpp-winrt).
Это свойство задается с помощью объекта Неардевицекритериа.

### <a name="additional-properties"></a>Дополнительные свойства
#### <a name="bypasscache"></a>бипасскаче
*Значение по умолчанию: false*

Когда привязка была создана или найдена в сеансе, она также сохраняется в кэше.  Если этому свойству присвоено значение false, все последующие запросы в том же сеансе будут возвращать кэшированное значение. Запрос к службе ASA не выполняется.

#### <a name="requestedcategories"></a>рекуестедкатегориес
*Значение по умолчанию: Properties | Привод*

Это свойство используется для определения того, какие данные возвращаются из запроса с помощью Анчорлокатекритериа. Значение по умолчанию возвращает и свойства, и пространственные данные, но не следует изменять, если нужны свойства и пространственные данные. Это свойство можно указать с помощью перечисления Анчордатакатегори.

Значение перечисления Анчордатакатегори | Возвращаемые данные
-----|------------
Нет | Данные не возвращаются
Свойства| Возвращаются свойства привязки, включая AppProperties.
Пространственные данные| Возвращаются пространственные сведения о привязке.

#### <a name="strategy"></a>Стратегия
*Значение по умолчанию: Анистратеги*

Стратегия дополнительно определяет, как должны располагаться привязки. Свойство стратегии можно указать с помощью перечисления Локатестратеги.

Значение перечисления Локатестратеги | Описание
---------------|------------
анистратеги | Эта стратегия позволяет системе использовать сочетания Висуалинформатион и стратегий отношений для поиска привязок. 
висуалинформатион|Эта стратегия пытается найти привязки, сопоставляя визуальные сведения из текущей окружающей среды с соответствующими элементами привязки. Визуальное размещение привязки означает визуальную информацию, которая в текущий момент связана с привязкой. Эта визуальная информация обычно не собирается во время создания привязки. В настоящее время эта стратегия разрешена только в сочетании со свойствами Неардевице или идентификаторов.
Связь|Эта стратегия пытается найти привязки, используя существующие [подключенные привязки](https://docs.microsoft.com/azure/spatial-anchors/concepts/anchor-relationships-way-finding#connect-anchors). В настоящее время эта стратегия разрешена только в сочетании со свойствами Неаранчор или идентификаторов. При использовании со свойством идентификаторов необходимо, чтобы в одном сеансе пользователь ранее размещал привязки с уже установленными связанными связями с привязками, идентификаторы которых указаны в массиве идентификаторов. 


### <a name="valid-combinations-of-locatestrategy-and-anchorlocatecriteria-properties"></a>Допустимые сочетания свойств Локатестратеги и Анчорлокатекритериа 

Не все сочетания свойств стратегии и Анчорлокатекритериа в настоящее время разрешены системой. В следующей таблице приведены допустимые сочетания.



Свойство. | анистратеги | Связь | висуалинформатион
-------- | ------------|--------------|-------------------
Идентификаторы | &check;    | &check;     | &check;
неаранчор  | &check;   (будет по умолчанию иметь отношение) | &check;    | 
неардевице  | &check;    |   | &check;




## <a name="next-steps"></a>Следующие шаги

Дополнительные примеры использования класса Анчорлокатекритериа см. [в статье Создание и поиск привязок с помощью пространственных привязок Azure](https://docs.microsoft.com/azure/spatial-anchors/create-locate-anchors-overview) .