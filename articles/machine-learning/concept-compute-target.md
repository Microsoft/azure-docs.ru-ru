---
title: Что такое целевые показатели вычислений
titleSuffix: Azure Machine Learning
description: Узнайте, как назначить ресурс или среду для обучения или развертывания модели с помощью Машинное обучение Azure.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: sgilley
author: sdgilley
ms.date: 09/29/2020
ms.openlocfilehash: b4422c664071087ccae73a5b6f642b53dcca74bf
ms.sourcegitcommit: 87a6587e1a0e242c2cfbbc51103e19ec47b49910
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2021
ms.locfileid: "103574651"
---
# <a name="what-are-compute-targets-in-azure-machine-learning"></a>Что такое целевые объекты вычислений в Машинном обучении Azure?

*Целевой объект вычислений* — это назначенный ресурс вычислений или среда, где выполняется сценарий обучения или размещается развертывание службы. Это может быть локальный компьютер или облачный ресурс вычислений. С помощью целевых объектов вычислений можно легко изменить среду вычислений, не изменяя код.

В типичном цикле разработки модели вы можете:

1. Начните с разработки и экспериментирования с небольшим объемом данных. На этом этапе используйте локальную среду, например локальный компьютер или облачную виртуальную машину (ВМ) в качестве целевого объекта вычислений.
1. Увеличьте масштаб до больших данных или выполните распределенное обучение с помощью одной из этих [целей для обучения](#train).
1. Когда модель будет готова, разверните ее в среде веб-размещения или на устройстве IoT, используя один из этих [целевых объектов для вычислений развертывания](#deploy).

Ресурсы вычислений, используемые для целевых целей вычислений, присоединяются к [рабочей области](concept-workspace.md). Пользователи рабочей области совместно используют ресурсы для вычислений, отличных от локального компьютера.

## <a name="training-compute-targets"></a><a name="train"></a> Цели обучающих вычислений

Машинное обучение Azure по-разному поддерживает разные целевые объекты вычислений. Типичный жизненный цикл разработки модели начинается с разработки или экспериментирования с небольшим объемом данных. На этом этапе используйте локальную среду, например локальный компьютер или облачную виртуальную машину. По мере масштабирования обучения по большим наборам данных или распределенному обучению используйте Машинное обучение Azure COMPUTE для создания кластера с одним или несколькими узлами, который автоматически масштабируется при каждой отправке выполнения. Можно также присоединить собственный ресурс вычислений, хотя поддержка различных сценариев может быть различной.

[!INCLUDE [aml-compute-target-train](../../includes/aml-compute-target-train.md)]

Узнайте больше о том, как [Отправить обучающий запуск в целевой объект вычислений](how-to-set-up-training-targets.md).

## <a name="compute-targets-for-inference"></a><a name="deploy"></a> Целевые объекты вычислений для вывода

Для размещения развертывания модели можно использовать следующие ресурсы вычислений.

[!INCLUDE [aml-compute-target-deploy](../../includes/aml-compute-target-deploy.md)]

При выполнении вывода Машинное обучение Azure создает контейнер DOCKER, в котором размещается модель и связанные ресурсы, необходимые для ее использования. Затем этот контейнер используется в одном из следующих сценариев развертывания:

* В качестве *веб-службы* , используемой для вывода в режиме реального времени. Развертывания веб-служб используют одну из следующих целевых объектов вычислений:

    * [Локальный компьютер](how-to-attach-compute-targets.md#local)
    * [Вычислительная операция Машинного обучения Azure](how-to-create-manage-compute-instance.md)
    * [Экземпляры контейнеров Azure](how-to-attach-compute-targets.md#aci);
    * [Служба Azure Kubernetes](how-to-create-attach-kubernetes.md)
    * Функции Azure (Предварительная версия). Развертывание в функции зависит только от Машинное обучение Azure для создания контейнера DOCKER. После этого они развертываются с помощью функций. Дополнительные сведения см. [в статье Развертывание модели машинного обучения в функциях Azure (Предварительная версия)](how-to-deploy-functions.md).

* В качестве конечной точки _вывода пакета_ , которая используется для периодической обработки пакетов данных. Выведение пакетов использует [машинное обучение Azure вычисления кластеров](how-to-create-attach-compute-cluster.md).

* На _устройство IOT_ (Предварительная версия). Развертывание на устройстве IoT зависит только от Машинное обучение Azure для создания контейнера DOCKER. После этого он развертывается с помощью Azure IoT Edge. Дополнительные сведения см. в статье [развертывание в виде модуля IOT EDGE (Предварительная версия)](../iot-edge/tutorial-deploy-machine-learning.md).

Узнайте [, где и как развертывать модель в целевом объекте вычислений](how-to-deploy-and-where.md).

<a name="amlcompute"></a>
## <a name="azure-machine-learning-compute-managed"></a>Машинное обучение Azure вычислений (управляемый)

Управляемый ресурс вычислений создается и управляется с помощью Машинное обучение Azure. Это вычисление оптимизировано для рабочих нагрузок машинного обучения. Машинное обучение Azureными кластерами вычислений и [экземплярами вычислений](concept-compute-instance.md) являются только управляемые вычислений.

Вы можете создавать Машинное обучение Azureные или расчетные кластеры из:

* [Машинное обучение Azure Studio](how-to-create-attach-compute-studio.md).
* Пакет SDK для Python и CLI:
    * [Вычислительный экземпляр](how-to-create-manage-compute-instance.md).
    * [Кластер вычислений](how-to-create-attach-compute-cluster.md).
* [Пакет SDK для R](https://azure.github.io/azureml-sdk-for-r/reference/index.html#section-compute-targets) (Предварительная версия).
* Шаблон Azure Resource Manager. Пример шаблона см. в разделе [Создание кластера машинное обучение Azure COMPUTE](https://github.com/Azure/azure-quickstart-templates/tree/master/101-machine-learning-compute-create-amlcompute).
* Расширение машинного обучения [для Azure CLI](reference-azure-machine-learning-cli.md#resource-management).

При создании эти ресурсы вычислений автоматически являются частью рабочей области, в отличие от других типов целевых объектов вычислений.


|Возможности  |Вычислительный кластер  |Вычислительная операция  |
|---------|---------|---------|
|Кластер с одним или несколькими узлами     |    **&check;**       |         |
|Автоматическое масштабирование при каждой отправке выполнения     |     **&check;**      |         |
|Автоматическое управление кластерами и планирование заданий     |   **&check;**        |     **&check;**      |
|поддерживает ресурсы ЦП и GPU;     |  **&check;**         |    **&check;**       |


> [!NOTE]
> Если *кластер* находится в состоянии бездействия, он автоматически масштабируется до 0 узлов, поэтому вы не платите, когда он не используется. Вычислительный *экземпляр* всегда включен и не выполняет Автомасштабирование. Следует [прерывать работу вычислительного экземпляра](how-to-create-manage-compute-instance.md#manage) , если вы не используете его, чтобы избежать дополнительных затрат.

### <a name="supported-vm-series-and-sizes"></a>Поддерживаемые размеры и серии виртуальных машин

При выборе размера узла для управляемого ресурса вычислений в Машинное обучение Azure вы можете выбрать один из доступных размеров виртуальной машины в Azure. Azure предлагает ряд размеров для Linux и Windows для различных рабочих нагрузок. Дополнительные сведения см. в статье [типы и размеры виртуальных машин](../virtual-machines/sizes.md).

При выборе размера виртуальной машины существует несколько исключений и ограничений.

* Некоторые серии виртуальных машин не поддерживаются в Машинное обучение Azure.
* Некоторые серии виртуальных машин ограничены. Чтобы использовать ограниченные ряды, обратитесь в службу поддержки и запросите увеличение квоты для ряда. Сведения о том, как обратиться в службу поддержки, см. в статье [варианты поддержки Azure](https://azure.microsoft.com/support/options/).

Дополнительные сведения о поддерживаемых рядах и ограничениях см. в следующей таблице.

| **Поддерживаемые серии виртуальных машин**  | **Ограничения** | **Категория** | **Поддерживаются** |
|------------|------------|------------|------------|
| D | Отсутствует. | Общего назначения | Вычислительные кластеры и экземпляры |
| DDSv4 | Отсутствует. | Общего назначения | Вычислительные кластеры и экземпляры |
| Dv2 | Отсутствует. | Общего назначения | Вычислительные кластеры и экземпляры |
| Dv3 | Отсутствует.| Общего назначения | Вычислительные кластеры и экземпляры |
| DSv2 | Отсутствует. | Общего назначения | Вычислительные кластеры и экземпляры |
| DSv3 | Отсутствует.| Общего назначения | Вычислительные кластеры и экземпляры |
| EAv4 | Отсутствует. | Оптимизированные для операций в памяти | Вычислительные кластеры и экземпляры |
| Ev3 | Отсутствует. | Оптимизированные для операций в памяти | Вычислительные кластеры и экземпляры |
| Серия fsv2 | Отсутствует. | Оптимизированные для вычислений | Вычислительные кластеры и экземпляры |
| H | Отсутствует. | Для высокопроизводительных вычислений | Вычислительные кластеры и экземпляры |
| HB | Требуется утверждение. | Для высокопроизводительных вычислений | Вычислительные кластеры и экземпляры |
| HBv2 | Требуется утверждение. |  Для высокопроизводительных вычислений | Вычислительные кластеры и экземпляры |
| HCS | Требуется утверждение. |  Для высокопроизводительных вычислений | Вычислительные кластеры и экземпляры |
| M | Требуется утверждение. | Оптимизированные для операций в памяти | Вычислительные кластеры и экземпляры |
| NC | Отсутствует. |  Графический процессор | Вычислительные кластеры и экземпляры |
| Акционная NC | Отсутствует. | Графический процессор | Вычислительные кластеры и экземпляры |
| NCsv2 | Требуется утверждение. | Графический процессор | Вычислительные кластеры и экземпляры |
| NCsv3 | Требуется утверждение. | Графический процессор | Вычислительные кластеры и экземпляры |  
| Структура | Требуется утверждение. | Графический процессор | Вычислительные кластеры и экземпляры | 
| NDv2 | Требуется утверждение. | Графический процессор | Вычислительные кластеры и экземпляры | 
| NV | Отсутствует. | Графический процессор | Вычислительные кластеры и экземпляры | 
| NVv3 | Требуется утверждение. | Графический процессор | Вычислительные кластеры и экземпляры | 


Хотя Машинное обучение Azure поддерживает эти серии виртуальных машин, они могут быть недоступны во всех регионах Azure. Чтобы проверить, доступна ли серия виртуальных машин, ознакомьтесь со статьей [доступность продуктов по регионам](https://azure.microsoft.com/global-infrastructure/services/?products=virtual-machines).

> [!NOTE]
> Машинное обучение Azure не поддерживает все размеры виртуальных машин, поддерживаемые в Azure COMPUTE. Чтобы получить список доступных размеров виртуальных машин, используйте один из следующих методов.
> * [REST API](https://github.com/Azure/azure-rest-api-specs/blob/master/specification/machinelearningservices/resource-manager/Microsoft.MachineLearningServices/stable/2020-08-01/examples/ListVMSizesResult.json)
> * [Пакет SDK для Python](/python/api/azureml-core/azureml.core.compute.amlcompute.amlcompute#supported-vmsizes-workspace--location-none-)
>

### <a name="compute-isolation"></a>Изоляция вычислений

Машинное обучение Azure COMPUTE предлагает размеры виртуальных машин, изолированные по конкретному типу оборудования и выделенные для одного клиента. Размеры изолированных виртуальных машин лучше всего подходят для рабочих нагрузок, которым требуется высокий уровень изоляции от рабочих нагрузок других клиентов по причинам соответствия требованиям и нормативным требованиям. Использование изолированного размера гарантирует, что виртуальная машина будет единственной, работающей на этом конкретном экземпляре сервера.

Текущие предложения изолированных виртуальных машин включают:

* Standard_M128ms
* Standard_F72s_v2
* Standard_NC24s_v3
* Standard_NC24rs_v3*

*С поддержкой RDMA

Дополнительные сведения о изоляции см. [в разделе изоляция в общедоступном облаке Azure](../security/fundamentals/isolation-choices.md).

## <a name="unmanaged-compute"></a>Неуправляемое вычисление

Неуправляемый целевой объект вычислений *не* управляется машинное обучение Azure. Этот тип целевого объекта вычислений можно создать за пределами Машинное обучение Azure а затем подключить его к рабочей области. Неуправляемые ресурсы вычислений могут потребовать дополнительных действий для поддержки или повышения производительности рабочих нагрузок машинного обучения.

## <a name="next-steps"></a>Дальнейшие действия

Вы узнаете, как выполнять следующие задачи:
* [Использование целевого объекта вычислений для обучения модели](how-to-set-up-training-targets.md)
* [Развертывание модели в целевом объекте вычислений](how-to-deploy-and-where.md)
