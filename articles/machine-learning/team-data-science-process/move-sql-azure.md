---
title: Перемещение данных в базу данных SQL Azure — командный процесс обработки и анализа данных
description: Перемещение данных из неструктурированных файлов (форматы CSV или TSV) или из данных, хранящихся в SQL Server, в базу данных SQL Azure.
services: machine-learning
author: marktab
manager: marktab
editor: marktab
ms.service: machine-learning
ms.subservice: team-data-science-process
ms.topic: article
ms.date: 01/10/2020
ms.author: tdsp
ms.custom: seodec18, previous-author=deguhath, previous-ms.author=deguhath
ms.openlocfilehash: 42bac2df7abe00be8c0e6ffddcc9bef7ef28ba9d
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93309527"
---
# <a name="move-data-to-an-azure-sql-database-for-azure-machine-learning"></a>Перемещение данных в базу данных SQL Azure для машинного обучения Azure

В этой статье описаны варианты перемещения данных из неструктурированных файлов (форматы CSV или TSV) или из данных, хранящихся в SQL Server, в базу данных SQL Azure. Эти задачи перемещения данных в облако являются этапом процесса обработки и анализа данных группы.

Раздел, в котором описаны варианты перемещения данных в SQL Server для Машинное обучение, см. в статье [Перемещение данных в SQL Server на виртуальной машине Azure](move-sql-server-virtual-machine.md).

В следующей таблице перечислены варианты перемещения данных в базу данных SQL Azure.

| <b>ИСТОЧНИКА</b> | <b>Назначение: база данных SQL Azure</b> |
| --- | --- |
| <b>Неструктурированный файл (в формате CSV или TSV)</b> |[SQL-запрос на массовую вставку](#bulk-insert-sql-query) |
| <b>Локальная SQL Server</b> |1. [Экспорт в неструктурированный файл](#export-flat-file).<br> 2. [Мастер миграции баз данных SQL](#insert-tables-bcp)<br> 3. [резервное копирование и восстановление базы данных](#db-migration)<br> 4. [фабрика данных Azure](#adf) |

## <a name="prerequisites"></a><a name="prereqs"></a>Предварительные требования
Для выполнения описанных процедур вам необходимы следующие компоненты:

* **Подписка Azure**. Если у вас нет подписки, вы можете зарегистрироваться для получения [бесплатной пробной версии](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись хранения Azure**. Учетная запись хранения Azure используется в этом учебнике для хранения данных. Если у вас ее нет, см. раздел [Создание учетной записи хранения](../../storage/common/storage-account-create.md). После создания учетной записи хранения необходимо получить ключ, используемый для доступа к хранилищу. См. [раздел Управление ключами доступа учетной записи хранения](../../storage/common/storage-account-keys-manage.md).
* Доступ к **базе данных SQL Azure**. Если требуется настроить базу данных SQL Azure, то обратитесь к статье [Руководство по базам данных SQL: создание базы данных SQL за несколько минут с помощью портала Azure](../../azure-sql/database/single-database-create-quickstart.md) , которая содержит сведения о том, как подготовить новый экземпляр базы данных SQL Azure.
* Установленная и настроенная локальная среда **Azure PowerShell**. Инструкции см. в статье [Приступая к работе с командлетами Azure PowerShell](/powershell/azure/).

**Данные**: процессы миграции демонстрируются с помощью [набора данных о такси Нью-Йорка](https://chriswhong.com/open-data/foil_nyc_taxi/). Набор данных о такси Нью-Йорка содержит сведения о поездках и тарифах и доступен в хранилище BLOB-объектов Azure [здесь](https://www.andresmh.com/nyctaxitrips/). Пример и описание этих файлов приведены в [описании набора данных «Поездки такси Нью-Йорка»](sql-walkthrough.md#dataset).

Вы можете либо адаптировать описанные здесь процедуры к собственному набору данных, либо выполнить описанные действия с набором данных о такси Нью-Йорка. Чтобы передать набор данных Нью такси в базу данных SQL Server, выполните процедуру, описанную в разделе [инструкции по импорту данных в базу данных SQL Server](sql-walkthrough.md#dbload).

## <a name="moving-data-from-a-flat-file-source-to-an-azure-sql-database"></a><a name="file-to-azure-sql-database"></a> Перемещение данных из источника «Неструктурированный файл» в базу данных SQL Azure
Данные в неструктурированных файлах (CSV или TSV) можно переместить в базу данных SQL Azure с помощью SQL-запроса на выполнение инструкции INSERT.

### <a name="bulk-insert-sql-query"></a><a name="bulk-insert-sql-query"></a> Запрос SQL для выполнения инструкции INSERT
Действия для процедуры, использующей SQL-запрос на ввод неструктурированного файла, аналогичны указаниям по перемещению данных из источника «Плоский файл» в SQL Server на виртуальной машине Azure. Дополнительные сведения см. в разделе [SQL-запрос на массовую вставку](move-sql-server-virtual-machine.md#insert-tables-bulkquery).

## <a name="moving-data-from-sql-server-to-an-azure-sql-database"></a><a name="sql-on-prem-to-sazure-sql-database"></a> Перемещение данных из SQL Server в базу данных SQL Azure
Если исходные данные хранятся в SQL Server, существуют различные возможности перемещения данных в базу данных SQL Azure.

1. [Экспорт в неструктурированный файл](#export-flat-file)
2. [Мастер миграции баз данных SQL](#insert-tables-bcp)
3. [Резервное копирование и восстановление базы данных](#db-migration)
4. [Фабрика данных Azure](#adf).

Шаги, описанные в первых трех разделах, похожи на разделы в разделе [Перемещение данных в SQL Server на виртуальной машине Azure](move-sql-server-virtual-machine.md) , охватывающие эти же процедуры. В следующих инструкциях приводятся ссылки на соответствующие разделы этой статьи.

### <a name="export-to-flat-file"></a><a name="export-flat-file"></a>Экспорт в неструктурированный файл
Действия по экспорту в неструктурированный файл похожи на инструкции, описанные в разделе [Экспорт в неструктурированный файл](move-sql-server-virtual-machine.md#export-flat-file).

### <a name="sql-database-migration-wizard"></a><a name="insert-tables-bcp"></a>Мастер миграции баз данных SQL
Инструкции по использованию мастера миграции баз данных SQL похожи на инструкции, описанные в [мастере миграции баз данных SQL](move-sql-server-virtual-machine.md#sql-migration).

### <a name="database-back-up-and-restore"></a><a name="db-migration"></a>Архивация и восстановление базы данных
Шаги по использованию резервного копирования и восстановления базы данных аналогичны инструкциям, перечисленным в разделе [резервное копирование и восстановление базы данных](move-sql-server-virtual-machine.md#sql-backup).

### <a name="azure-data-factory"></a><a name="adf"></a> Фабрика данных Azure
Сведения о перемещении данных в базу данных SQL Azure с помощью фабрики данных Azure (ADF) в этой статье [Перемещение данных из SQL Server в SQL Azure с помощью фабрики данных Azure](move-sql-azure-adf.md). В этом разделе показано, как использовать ADF для перемещения данных из базы данных SQL Server в базу данных SQL Azure через хранилище BLOB-объектов Azure.

Если данные необходимо постоянно перенести с помощью гибридных локальных и облачных источников, рассмотрите возможность использования ADF.  ADF также помогает в том случае, когда данные должны преобразовываться, или требуется новая бизнес-логика во время миграции. ADF позволяет выполнять планирование и отслеживание заданий с помощью простых сценариев JSON, управляющих перемещением данных на периодической основе. ADF также обладает другими возможностями, такими как поддержка сложных операций.