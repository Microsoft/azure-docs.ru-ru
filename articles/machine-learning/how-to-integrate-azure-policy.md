---
title: Аудит и Управление соответствием политике
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать политику Azure для использования встроенных политик Машинное обучение Azure, чтобы убедиться, что рабочие области соответствуют вашим требованиям.
author: aashishb
ms.author: aashishb
ms.date: 03/25/2021
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
ms.reviewer: larryfr
ms.openlocfilehash: f708e2181511da97ecffcd6f1636a2b232b4fbc6
ms.sourcegitcommit: 44edde1ae2ff6c157432eee85829e28740c6950d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105544372"
---
# <a name="audit-and-manage-azure-machine-learning-using-azure-policy"></a>Аудит Машинное обучение Azure и управление ими с помощью политики Azure

[Политика Azure](../governance/policy/index.yml) — это средство управления, которое позволяет обеспечить соответствие ресурсов Azure политикам. С помощью Машинное обучение Azure можно назначить следующие политики:

| Политика | Описание |
| ----- | ----- |
| **Ключ, управляемый клиентом** | Выполните аудит или принудительно укажите, должны ли рабочие области использовать ключ, управляемый клиентом. |
| **Частная ссылка** | Аудит или принудительное включение в рабочих областях частной конечной точки для взаимодействия с виртуальной сетью. |
| **Частная конечная точка** | Настройте подсеть виртуальной сети Azure, в которой должна быть создана частная конечная точка. |
| **Зона Частная зона DNS** | Настройте закрытую зону DNS, которая будет использоваться для частной ссылки. |
| **Управляемое удостоверение, назначаемое пользователем** | Выполните аудит или принудительно укажите, используют ли рабочие области назначенное пользователем управляемое удостоверение. |

Политики можно задать в разных областях, например на уровне подписки или группы ресурсов. Дополнительные сведения см. в [документации по политике Azure](../governance/policy/overview.md).

## <a name="built-in-policies"></a>Встроенные политики

Машинное обучение Azure предоставляет набор политик, которые можно использовать для распространенных сценариев с Машинное обучение Azure. Вы можете назначить эти определения политик существующей подписке или использовать их в качестве базиса для создания собственных пользовательских определений. Полный список встроенных политик для Машинное обучение Azure см. в разделе [встроенные политики для машинное обучение Azure](../governance/policy/samples/built-in-policies.md#machine-learning).

Чтобы просмотреть встроенные определения политик, связанные с Машинное обучение Azure, выполните следующие действия.

1. Перейдите к __политике Azure__ в [портал Azure](https://portal.azure.com).
1. Выберите элемент __Определения__.
1. В качестве __типа__ выберите _встроенный_, а для __категории__ выберите __машинное обучение__.

Здесь можно выбрать определения политик, чтобы просмотреть их. При просмотре определения можно использовать ссылку __назначить__ , чтобы назначить политику определенной области, и настроить параметры политики. Дополнительные сведения см. [в статье назначение политики с помощью портала](../governance/policy/assign-policy-portal.md).

Политики также можно назначать с помощью [Azure PowerShell](../governance/policy/assign-policy-powershell.md), [Azure CLI](../governance/policy/assign-policy-azurecli.md)и [шаблонов](../governance/policy/assign-policy-template.md).

## <a name="workspace-encryption-with-customer-managed-key"></a>Шифрование рабочей области с помощью управляемого клиентом ключа

Определяет, следует ли шифровать рабочую область с помощью управляемого клиентом ключа или использовать ключ, управляемый Майкрософт, для шифрования метрик и метаданных. Дополнительные сведения об использовании ключа, управляемого клиентом, см. в разделе [Azure Cosmos DB](concept-data-encryption.md#azure-cosmos-db) статьи о шифровании данных.

Чтобы настроить эту политику, присвойте параметру Effect значение __Audit__ или __Deny__. Если задано значение __Аудит__, можно создать рабочую область без ключа, управляемого клиентом, а в журнале действий будет создано событие предупреждения.

Если политика имеет значение __Deny__, то нельзя создать рабочую область, если она не указывает ключ, управляемый клиентом. Попытка создать рабочую область без ключа, управляемого клиентом, приведет к ошибке, похожей на `Resource 'clustername' was disallowed by policy` , и создает ошибку в журнале действий. Идентификатор политики также возвращается в рамках этой ошибки.

## <a name="workspace-should-use-private-link"></a>Рабочая область должна использовать закрытую ссылку

Определяет, должна ли Рабочая область использовать частную связь Azure для связи с виртуальной сетью Azure. Дополнительные сведения об использовании частной ссылки см. в разделе [Настройка частной ссылки для рабочей области](how-to-configure-private-link.md).

Чтобы настроить эту политику, присвойте параметру Effect значение __Audit__ или __Deny__. Если задано значение __Аудит__, можно создать рабочую область без использования закрытой ссылки, а в журнале действий будет создано событие предупреждения.

Если политика имеет значение __Deny__, то нельзя создать рабочую область, если она не использует закрытую ссылку. Попытка создать рабочую область без закрытой ссылки приведет к ошибке. Эта ошибка также заносится в журнал действий. Идентификатор политики возвращается в рамках этой ошибки.

## <a name="workspace-should-use-private-endpoint"></a>Рабочая область должна использовать закрытую конечную точку

Настраивает рабочую область для создания частной конечной точки в указанной подсети виртуальной сети Azure.

Чтобы настроить эту политику, установите для параметра effect значение __DeployIfNotExists__. Задайте для __ПРИВАТИНДПОИНТСУБНЕТИД__ идентификатор Azure Resource Manager подсети.
## <a name="workspace-should-use-private-dns-zones"></a>В рабочей области должны использоваться частные зоны DNS

Настраивает рабочую область для использования частной зоны DNS, переопределяя разрешение DNS по умолчанию для частной конечной точки.

Чтобы настроить эту политику, установите для параметра effect значение __DeployIfNotExists__. Задайте Azure Resource Manager для __ПРИВАТЕДНСЗОНЕИД__ идентификатор частной зоны DNS, который будет использоваться. 

## <a name="workspace-should-use-user-assigned-managed-identity"></a>Рабочей области следует использовать управляемое пользователем удостоверение

Определяет, создается ли Рабочая область с помощью управляемого системой удостоверения (по умолчанию) или управляемого удостоверения, назначенного пользователем. Управляемое удостоверение для рабочей области используется для доступа к связанным ресурсам, таким как служба хранилища Azure, реестр контейнеров Azure, Azure Key Vault и Azure Application Insights. Дополнительные сведения см. [в статье Использование управляемых удостоверений с машинное обучение Azure](how-to-use-managed-identities.md).

Чтобы настроить эту политику, задайте для параметра effect значение __Аудит__, __запретить__ или __Отключить__. Если задано значение __Аудит__, можно создать рабочую область, не указывая назначенное пользователем управляемое удостоверение. Используется назначенное системой удостоверение, а в журнале действий создается событие предупреждения.

Если политика имеет значение __Deny__, вы не сможете создать рабочую область, если в процессе создания не будет предоставлено удостоверение, назначенное пользователем. Попытка создать рабочую область без предоставления назначенного пользователю удостоверения приведет к ошибке. Эта ошибка также заносится в журнал действий. Идентификатор политики возвращается в рамках этой ошибки.

## <a name="next-steps"></a>Дальнейшие действия

* [Документация по службе "Политика Azure"](../governance/policy/overview.md)
* [Встроенные политики для Машинное обучение Azure](policy-reference.md)
* [Работа с политиками безопасности с помощью центра безопасности Azure](../security-center/tutorial-security-policy.md)