---
title: 'Очистка отсутствующих данных: ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль очистки отсутствующих данных в Машинное обучение Azure для удаления, замены или выведения отсутствующих значений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/11/2020
ms.openlocfilehash: 5b7943b2026d640ae7e5d119e165bd752ae2fe7f
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "90898827"
---
# <a name="clean-missing-data-module"></a>Модуль очистки отсутствующих данных

В этой статье описывается модуль в конструкторе Машинное обучение Azure.

Используйте этот модуль для удаления, замены или выведения отсутствующих значений. 

Специалисты по обработке и анализу данных часто проверяют данные на отсутствие значений, а затем выполняют различные операции по исправлению данных или вставке новых значений. Цель таких операций очистки заключается в предотвращении проблем, вызванных отсутствием данных, которые могут возникнуть при обучении модели. 

Этот модуль поддерживает несколько типов операций для очистки отсутствующих значений, в том числе:

+ Замена отсутствующих значений заполнителем, средним или другим значением
+ Полное удаление строк и столбцов с отсутствующими значениями
+ Выведение значений на основе статистических методов


Использование этого модуля не приводит к изменению исходного набора данных. Вместо этого в рабочей области создается новый набор данных, который можно использовать в последующем рабочем процессе. Можно также сохранить новый очищенный набор данных для повторного использования.

Этот модуль также выводит определение преобразования, используемого для очистки отсутствующих значений. Это преобразование можно повторно использовать для других наборов данных, имеющих одну и ту же схему, с помощью модуля " [Применить преобразование](./apply-transformation.md) ".  

## <a name="how-to-use-clean-missing-data"></a>Как использовать чистые отсутствующие данные

Этот модуль позволяет определить операцию очистки. Можно также сохранить операцию очистки, чтобы позднее можно было применить ее к новым данным. Сведения о создании и сохранении процесса очистки см. в следующих разделах. 
 
+ [Замена отсутствующих значений](#replace-missing-values)
  
+ [Применение преобразования «Очистка» к новым данным](#apply-a-saved-cleaning-operation-to-new-data)
 
> [!IMPORTANT]
> Метод очистки, используемый для обработки отсутствующих значений, может существенно повлиять на результаты. Рекомендуется поэкспериментировать с различными методами. Рассмотрите как обоснование использования определенного метода, так и качество результатов.

### <a name="replace-missing-values"></a>Замените отсутствующие значения  

Каждый раз при применении модуля  [очистить недостающие данные](./clean-missing-data.md) к набору данных та же операция очистки применяется ко всем выбранным столбцам. Поэтому, если необходимо очистить разные столбцы с помощью различных методов, используйте отдельные экземпляры модуля.

1.  Добавьте модуль [очистки недостающих данных](./clean-missing-data.md) в конвейер и подключите набор данных, содержащий недостающие значения.  
  
2.  Для **очистки столбцов** выберите столбцы, содержащие отсутствующие значения, которые необходимо изменить. Можно выбрать несколько столбцов, но необходимо использовать один и тот же метод замены во всех выбранных столбцах. Таким образом, обычно требуется очистить строковые столбцы и числовые столбцы отдельно.

    Например, чтобы проверить отсутствующие значения во всех числовых столбцах:

    1. Выберите модуль **очистить недостающие данные** и щелкните **изменить столбец** на правой панели модуля.

    3. В поле **включить** выберите **типы столбцов** из раскрывающегося списка, а затем выберите **числовые**. 
  
    Любой выбранный метод очистки или замены должен быть применим ко **всем** столбцам в выделенном фрагменте. Если данные в любом столбце несовместимы с указанной операцией, модуль возвращает ошибку и останавливает конвейер.
  
3.  В поле **Минимальное отношение отсутствующих значений** укажите минимальное число отсутствующих значений, необходимых для выполнения операции.  
  
    Этот параметр используется в сочетании с **максимальным коэффициентом недостающих значений** для определения условий, при которых операция очистки выполняется для набора данных. Если слишком много или слишком мало строк, в которых отсутствуют значения, операция не может быть выполнена. 
  
    Введенное число представляет **соотношение** отсутствующих значений со всеми значениями в столбце. По умолчанию свойство **коэффициента отсутствующих значений** имеет значение 0. Это означает, что пропущенные значения очищаются даже при наличии только одного отсутствующего значения. 

    > [!WARNING]
    > Это условие должно выполняться каждым и каждым столбцами, чтобы была применена указанная операция. Например, предположим, что выбраны три столбца, а затем устанавливается минимальное соотношение отсутствующих значений к 2 (20%), но в действительности только один столбец имеет 20% отсутствующих значений. В этом случае операция очистки будет применена только к столбцу с более чем 20% отсутствующими значениями. Поэтому другие столбцы будут неизменными.
    > 
    > В случае каких-либо сомнений в изменении недостающих значений выберите параметр **Создать столбец индикации недостающих значений**. К набору данных добавляется столбец, указывающий, соответствует ли каждый столбец заданным условиям для минимального и максимального диапазонов.  
  
4. Для параметра **Максимальное значение недостающего значения** укажите максимальное число отсутствующих значений, которые могут присутствовать в операции.   
  
    Например, можно выполнить подстановку отсутствующих значений, если 30% или меньше строк содержат отсутствующие значения, но оставить значения как есть, если в более чем 30% строк есть отсутствующие значения.  
  
    Его следует указать как отношение недостающих значений ко всем значениям в столбце. По умолчанию для параметра **максимальный отсутствующий показатель** установлено значение 1. Это означает, что пропущенные значения очищаются, даже если 100% значений в столбце отсутствуют.  
  
   
  
5. Для **режима очистки** выберите один из следующих вариантов замены или удаления отсутствующих значений:  
  
  
    + **Пользовательское значение подстановки**: Используйте этот параметр, чтобы указать значение заполнителя (например 0 или НД), которое применяется ко всем отсутствующим значениям. Значение, указанное в качестве замены, должно быть совместимо с типом данных столбца.
  
    + **Заменить на среднее**: вычисляет среднее значение столбца и использует среднее в качестве заменяющего значения для каждого отсутствующего значения в столбце.  
  
        Применяется только для столбцов с типами данных Integer, Double или Boolean.  
  
    + **Замените на медиана**: вычисляет значение столбца медианы и использует значение медианы в качестве замены для любого отсутствующего значения в столбце.  
  
        Применяется только для столбцов с типом данных Integer или Double. 
  
    + **Заменить на режим**: вычисляет режим для столбца и использует режим в качестве замещающего значения для каждого отсутствующего значения в столбце.  
  
        Применяется только для столбцов с типом данных Integer, Double, Boolean или категориальным типом. 
  
    + **Удалить всю строку**: полностью удаляет все строки в наборе данных, которые имеют одно или несколько отсутствующих значений. Этот вариант удобно использовать, если недостающее значение может рассматриваться как случайный пропуск.  
  
    + **Удалить весь столбец**: полностью удаляет любой столбец в наборе данных с одним или несколькими отсутствующими значениями.  
  
    
  
6. **Значение замена** параметра доступно, если выбран параметр **Пользовательская подстановка**. Введите новое значение, которое будет использоваться в качестве замещающего значения для всех отсутствующих значений в столбце.  
  
    Обратите внимание, что этот параметр можно использовать только в столбцах, имеющих целочисленное, двойное, логическое значение или строку.
  
7. **Создать столбец индикатора отсутствующих значений**: Выберите этот параметр, если требуется выводить сведения о том, соответствуют ли значения в столбце критериям очистки недостающих значений. Этот параметр особенно полезен, если вы настраиваете новую операцию очистки и хотите убедиться, что она работает так, как задумано.
  
8. Отправьте конвейер.

### <a name="results"></a>Результаты

Модуль возвращает два выхода:  

-   **Очищенный набор данных**. набор данных, состоящий из выбранных столбцов с отсутствующими значениями, которые обрабатываются как указанные, вместе со столбцом индикатора, если этот параметр выбран.  

    Столбцы, не выбранные для очистки, также передаются в.  
  
-  **Преобразование «Очистка**»: Преобразование данных, используемое для очистки, которое можно сохранить в рабочей области и применить к новым данным позднее.

### <a name="apply-a-saved-cleaning-operation-to-new-data"></a>Применение сохраненной операции очистки к новым данным  

Если вам приходится повторять операции очистки, рекомендуется сохранить рецепт очистки данных как *Преобразование*, чтобы повторно использовать их с одним и тем же набором данных. Сохранение преобразования с очисткой особенно полезно, если необходимо часто повторно импортировать и очищать данные, имеющие одну и ту же схему.  
      
1.  Добавьте модуль [Применить преобразование](./apply-transformation.md) в конвейер.  
  
2.  Добавьте набор данных, который необходимо очистить, и подключите набор данных к правому порту ввода.  
  
3.  Разверните группу **преобразования** в левой области конструктора. Выделите сохраненное преобразование и перетащите его в конвейер.  

4.  Подключите сохраненное преобразование к левому порту ввода [преобразования «применить преобразование](./apply-transformation.md)». 

    При применении сохраненного преобразования нельзя выбрать столбцы, к которым применяется преобразование. Это связано с тем, что преобразование уже определено и применяется автоматически к столбцам, указанным в исходной операции.

    Однако предположим, что вы создали преобразование для подмножества числовых столбцов. Это преобразование можно применить к набору данных смешанных типов столбцов, не вызывая ошибку, так как отсутствующие значения изменяются только в соответствующих числовых столбцах.

6.  Отправьте конвейер.  

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 