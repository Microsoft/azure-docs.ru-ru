---
title: Обучение модели PyTorch
titleSuffix: Azure Machine Learning
description: Используйте модуль Train Pytorch Models (обучение моделей) в конструкторе Машинное обучение Azure для обучения моделей с нуля или точной настройки существующих моделей.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/26/2020
ms.openlocfilehash: 2d88069f33995bdbe9dd479afe9a4e72ab9939b6
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93420671"
---
# <a name="train-pytorch-model"></a>Обучение модели PyTorch

В этой статье описывается, как использовать модуль " **обучение модели Pytorch Model** " в конструкторе машинное обучение Azure для обучения моделей Pytorch, таких как денсенет. Обучение выполняется после определения модели и установки ее параметров, а также требует наличия помеченных данных. 

## <a name="how-to-use-train-pytorch-model"></a>Как использовать модель обучения Pytorch 

1. Добавьте модуль [денсенет](densenet.md) или [ResNet](resnet.md) в черновик конвейера в конструкторе.

2. Добавьте модуль " **обучение модели Pytorch Model** " в конвейер. Этот модуль можно найти в категории " **обучение модели** ". Раскройте узел **обучение** и перетащите модуль **обучение модели Pytorch** в конвейер.

   > [!NOTE]
   > Для работы с большим набором данных модуль **обучения модели Pytorch** лучше работает на типе **GPU** , в противном случае произойдет сбой конвейера. Вы можете выбрать пункт вычислить для конкретного модуля в правой области модуля, установив параметр **использовать другие целевые объекты вычислений**.

3.  В левой части входных данных присоедините обученную модель. Присоедините набор данных для обучения и проверочный набор данных к среднему и правому вводу **модели обучения Pytorch**.

    Для обученной модели это должна быть pytorch модель, например денсенет. в противном случае будет выдано исключение "Инвалидмоделдиректореррор".

    Для набора данных набор данных для обучения должен быть каталогом изображений с меткой. Сведения о том, как получить каталог с помеченными изображениями, см. в разделе **Convert to Image Directory** . Если не помечено, будет создано исключение "Нотлабеледдатасетеррор".

    Набор данных для обучающих и проверочных наборов данных имеет одинаковые категории меток, в противном случае будет создано исключение Инвалиддатасетеррор.

4.  Для **эпохи** укажите, сколько эпох вы хотите обучить. По умолчанию будет выполняться итерация всего набора данных в каждом эпохе.

5.  Для **размера пакета** укажите, сколько экземпляров следует обучить в пакете, по умолчанию — 16.

6.  Чтобы **узнать частоту обучения**, укажите значение для *курса обучения*. Значения скорости обучения позволяют управлять размером шага, который используется в оптимизаторе, например SGD, каждый раз, когда модель тестируется и исправляется.

    Уменьшая скорость, вы тестируете модель чаще, с риском, который может быть задержан на локальном плато. При увеличении шага схождение будет выполняться быстрее, но появляется риск превышения истинного минимума. по умолчанию 0,001.

7.  Для **случайного начального** значения (необязательно) введите целое значение, которое будет использоваться в качестве начального значения. Рекомендуется использовать начальное значение, если вы хотите обеспечить воспроизводимость эксперимента во время выполнения.

8.  Для **терпение** укажите, сколько эпох для раннего завершения обучения, если потери при проверке не уменьшаются последовательно. по умолчанию используется значение 3.

9.  Отправьте конвейер. Если набор данных имеет больший размер, это займет некоторое время, поэтому рекомендуется выполнить вычисление GPU.

## <a name="results"></a>Результаты

После завершения выполнения конвейера, чтобы использовать модель для оценки, подключите модель " [обучение Pytorch модели](train-pytorch-model.md) к [показателям изображений](score-image-model.md)", чтобы спрогнозировать значения для новых входных примеров.

## <a name="technical-notes"></a>Технические примечания
###  <a name="expected-inputs"></a>Ожидаемые входные данные  

| Имя               | Type                    | Описание                              |
| ------------------ | ----------------------- | ---------------------------------------- |
| Необученная модель    | унтраинедмоделдиректори | Обученная модель, требовать pytorch         |
| Обучающий набор данных   | имажедиректори          | Обучающий набор данных                         |
| Набор данных для проверки | имажедиректори          | Проверочный набор данных для оценки каждого эпохи |

###  <a name="module-parameters"></a>Параметры модуля  

| Имя          | Диапазон            | Тип    | По умолчанию | Описание                              |
| ------------- | ---------------- | ------- | ------- | ---------------------------------------- |
| Эпох        | > 0               | Целое число | 5       | Выберите столбец, который содержит столбец метки или столбец результата |
| Размер пакета    | > 0               | Целое число | 16      | Количество экземпляров для обучения в пакете   |
| Скорость обучения | >= double.Epsilon | Float   | 0,001   | Начальная скорость обучения для оптимизатора понижения стохастического градиента. |
| Случайное начальное значение   | Любой              | Целое число | 1       | Начальное значение для генератора случайных чисел, используемого моделью. |
| Терпение      | > 0               | Целое число | 3       | Количество эпох для раннего завершения обучения   |

###  <a name="outputs"></a>Выходные данные  

| Имя          | Type           | Описание   |
| ------------- | -------------- | ------------- |
| Обученная модель | моделдиректори | Обученная модель |

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 



