---
title: Обучение модели Vowpal Wabbit
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль "обучение модели Vowpal Wabbit" для создания модели машинного обучения с помощью экземпляра Vowpal Wabbit.
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 07/02/2020
ms.openlocfilehash: 9894da7486ec3c0dfb92c94c7c7f4db2247ebeb7
ms.sourcegitcommit: f5b8410738bee1381407786fcb9d3d3ab838d813
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/14/2021
ms.locfileid: "98210211"
---
# <a name="train-vowpal-wabbit-model"></a>Обучение модели Vowpal Wabbit
В этой статье описывается, как использовать модуль " **обучение Vowpal Wabbit Model** " в конструкторе машинное обучение Azure для создания модели машинного обучения с помощью Vowpal Wabbit.  

Чтобы использовать Vowpal Wabbit для машинного обучения, отформатируйте введенные данные в соответствии с требованиями Vowpal Wabbit и подготовьте данные в требуемом формате. Этот модуль используется для указания аргументов командной строки Vowpal Wabbit. 

При запуске конвейера экземпляр Vowpal Wabbit загружается во время выполнения эксперимента вместе с указанными данными. По завершении обучения модель сериализуется обратно в рабочую область. Вы можете немедленно использовать эту модель для оценки данных. 

Чтобы выполнить постепенное обучение существующей модели на основе новых данных, подключите сохраненную модель к **предварительно подготовленному порту ввода Vowpal Wabbit** модели " **обучение Vowpal Wabbit**" и добавьте новые данные в другой порт ввода.  

## <a name="what-is-vowpal-wabbit"></a>Что такое Vowpal Wabbit?  

Vowpal Wabbit (VW) — это быстрая, параллельная инфраструктура машинного обучения, разработанная для распределенных вычислений с помощью Yahoo!. Research. Research и позже перенесенная в Windows и адаптированная Джоном Лэнгфордом (John Langford) из Microsoft Research для научных вычислений в параллельных архитектурах.  

Функции Vowpal Wabbit, которые важны для машинного обучения, включают непрерывное обучение (онлайн-обучение), сокращение размерности и интерактивное обучение. Vowpal Wabbit также позволяет решать задачи, в которых данные модели не могут разместиться в памяти.  

Основными пользователями Vowpal Wabbit являются специалисты по обработке и анализу данных, которые ранее использовали платформу для задач машинного обучения, таких как классификация, регрессия, моделирование разделов или матрица. Оболочка Azure для Vowpal Wabbit имеет очень похожие характеристики производительности для локальной версии, поэтому вы можете использовать мощные функции и производительность машинного кода Vowpal Wabbit, а также легко опубликовать обученную модель в качестве рабочей службы.  

Модуль [хэширования функций](feature-hashing.md) также включает функции, предоставляемые Vowpal Wabbit, которые позволяют преобразовать текстовые наборы данных в двоичные функции с помощью алгоритма хэширования.  

## <a name="how-to-configure-vowpal-wabbit-model"></a>Настройка модели Wabbit Vowpal  

В этом разделе описывается обучение новой модели и добавление новых данных в существующую модель.

В отличие от других модулей конструктора, этот модуль задает параметры модуля и обучает модель. При наличии существующей модели ее можно добавить как необязательный ввод, чтобы постепенно обучить модель.

+ [Подготовка входных данных в одном из требуемых форматов](#prepare-the-input-data)
+ [Обучение новой модели](#create-and-train-a-vowpal-wabbit-model)
+ [Постепенное обучение существующей модели](#retrain-an-existing-vowpal-wabbit-model)

### <a name="prepare-the-input-data"></a>Подготовка входных данных

Для обучения модели с помощью этого модуля входной набор данных должен состоять из одного текстового столбца в одном из двух поддерживаемых форматов: **SVMLight** или **VW**. Это не значит, что Vowpal Wabbit анализирует только текстовые данные, и только те функции и значения должны быть подготовлены в требуемом формате текстового файла.  

Данные могут считываться из двух видов наборов данных, файлового набора или табличного набора данных. Оба этих набора данных должны быть в формате SVMLight или VW. Преимущество формата данных Vowpal Wabbit заключается в том, что для него не требуется табличный формат, что экономит место при работе с разреженными данными. Дополнительные сведения об этом формате см. на [вики-странице Vowpal Wabbit](https://github.com/JohnLangford/vowpal_wabbit/wiki/Input-format).  

### <a name="create-and-train-a-vowpal-wabbit-model"></a>Создание и обучение модели Vowpal Wabbit

1. Добавьте модуль " **обучение модели Vowpal Wabbit** " в эксперимент. 
  
2. Добавьте набор данных для обучения и подключите его к **обучающим данным**. Если обучающий набор данных — это каталог, содержащий файл данных для обучения, укажите имя файла данных для обучения с **именем файла данных для обучения**. Если обучающий набор данных является отдельным файлом, оставьте **имя файла обучающих данных** пустым.

3. В текстовом поле **аргументы VW** введите аргументы командной строки для исполняемого файла Vowpal Wabbit.

     Например, можно добавить, *`–l`* чтобы указать частоту обучения или *`-b`* указать число битов хэширования.  

     Дополнительные сведения см. в разделе [Vowpal Wabbit Parameters](#supported-and-unsupported-parameters) .  

4. **Имя файла данных для обучения**. Введите имя файла, содержащего входные данные. Этот аргумент используется только в том случае, если набор данных для обучения является каталогом.

5. **Укажите тип файла**: укажите, какой формат использует обучающие данные. Vowpal Wabbit поддерживает следующие два формата входных файлов:  

    - **VW** представляет внутренний формат, используемый Vowpal Wabbit. Дополнительные сведения см. на [вики-странице Vowpal Wabbit](https://github.com/JohnLangford/vowpal_wabbit/wiki/Input-format) . 
    - **SVMLight** — это формат, используемый некоторыми другими средствами машинного обучения. 

6. **Файл доступной для чтения модели**: Выберите этот параметр, если нужно, чтобы модуль сохранял доступную для чтения модель в записях запуска. Этот аргумент соответствует `--readable_model` параметру в командной строке VW.  

7. **Вывод инвертированного хэш-файла**: выберите параметр, если требуется, чтобы модуль сохранял функцию инвертированного хэширования в один файл в записях запуска. Этот аргумент соответствует `--invert_hash` параметру в командной строке VW.  

8. Отправьте конвейер.

### <a name="retrain-an-existing-vowpal-wabbit-model"></a>Повторное обучение существующей модели Wabbit Vowpal

Vowpal Wabbit поддерживает пошаговое обучение, добавляя новые данные в существующую модель. Существует два способа получить существующую модель для повторного обучения.

+ Используйте выходные данные другого модуля " **обучение Vowpal Wabbit Model** " в том же конвейере.  
  
+ Выберите сохраненную модель в категории **наборы данных** в левой области навигации конструктора и перетащите ее в конвейер.  

1. Добавьте модуль " **обучение модели Vowpal Wabbit** " в конвейер.  
2. Соедините ранее обученную модель с **предварительно обученным портом ввода модели Vowpal Wabbit** в модуле.
3. Подключите новые обучающие данные к порту ввода **обучающих данных** модуля.
4. В области Параметры модели " **обучение Vowpal Wabbit**" укажите формат новых обучающих данных, а также имя файла данных для обучения, если входной набор данных является каталогом.
5. Выберите **выходной файл доступной для чтения модели** и **выводите параметры инвертированного хэш-файла** , если соответствующие файлы необходимо сохранить в записях запуска.

6. Отправьте конвейер.  
7. Выберите модуль и выберите **зарегистрировать набор данных** на вкладке **выходные данные и журналы** в правой области, чтобы сохранить обновленную модель в машинное обучение Azure рабочей области.  Если не указать новое имя, то обновленная модель перезапишет существующую сохраненную модель.

## <a name="technical-notes"></a>Технические примечания

В этом разделе содержатся сведения о реализации, советы и ответы на часто задаваемые вопросы.

### <a name="advantages-of-vowpal-wabbit"></a>Преимущества Vowpal Wabbit

Vowpal Wabbit обеспечивает очень быстрое обучение по сравнению с нелинейными функциями, такими как n-граммы.  

Vowpal Wabbit использует методы *онлайн-обучения*, такие как вероятностный градиентный спуск (SGD) для коррекции модели по одной записи за раз. Таким образом платформа очень быстро проходит по необработанным данным и может предоставлять более хорошие прогнозы, чем другие модели. Такой подход также позволяет избежать считывания данных обучения в память.  

Vowpal Wabbit преобразует в хэш все данные — не только текстовые данные, но другие категориальные переменные. Использование хэшей делает Поиск весов регрессии более эффективным, что очень важно для эффективного метод стохастического градиентного спуска.  

###  <a name="supported-and-unsupported-parameters"></a>Поддерживаемые и неподдерживаемые параметры 

В этом разделе описывается поддержка параметров командной строки Vowpal Wabbit в конструкторе Машинное обучение Azure. 

Как правило, поддерживаются все аргументы, кроме ограниченного набора. Чтобы получить полный список аргументов, используйте [вики-страницу Vowpal Wabbit](https://github.com/JohnLangford/vowpal_wabbit/wiki/Command-line-arguments).    

Следующие параметры не поддерживаются:

-   Параметры ввода-вывода, указанные в [https://github.com/JohnLangford/vowpal_wabbit/wiki/Command-line-arguments](https://github.com/JohnLangford/vowpal_wabbit/wiki/Command-line-arguments)  
  
     Эти свойства уже настроены автоматически модулем.  
  
-   Кроме того, любой параметр, который создает несколько выходов или принимает несколько входов, запрещен. К ним относятся *`--cbt`* , *`--lda`* и *`--wap`* .  
  
-   Поддерживаются только защищенные алгоритмы обучения. Поэтому эти параметры не поддерживаются: *`–active`* , `--rank` и *`--search`* т. д. 

### <a name="restrictions"></a>Ограничения

Поскольку целью службы является поддержка опытных пользователей Vowpal Wabbit, входные данные должны быть заранее подготовлены с использованием собственного текстового формата Vowpal Wabbit, а не формата набора данных, используемого другими модулями.

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 
