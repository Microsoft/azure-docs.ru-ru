---
title: 'Предварительная обработка текста: ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль предварительной обработки текста в конструкторе Машинное обучение Azure для очистки и упрощения текста.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 11/16/2020
ms.openlocfilehash: 366b30df677a5b74bc7d70e1aea60e05b4df0152
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94659313"
---
# <a name="preprocess-text"></a>Preprocess Text

В этой статье описывается модуль в конструкторе Машинное обучение Azure.

Для очистки и упрощения текста используйте модуль **предварительной обработки текста** . Он поддерживает следующие общие операции обработки текста:

* Удаление приостанавливаемых слов
* Использование регулярных выражений для поиска и замены конкретных целевых строк
* Лемматизация, который преобразует несколько связанных слов в одну каноническую форму
* Нормализация вариантов
* Удаление определенных классов символов, таких как числа, Специальные символы и последовательности повторяющихся символов, например "AAAA"
* Идентификация и удаление сообщений электронной почты и URL-адресов

Модуль **предварительной обработки текста** в настоящее время поддерживает только английский язык.

## <a name="configure-text-preprocessing"></a>Настройка предварительной обработки текста  

1.  Добавьте модуль **предварительной обработки текста** в конвейер в машинное обучение Azure. Этот модуль можно найти в разделе **анализ текста**.

1. Соединение набора данных, содержащего хотя бы один столбец, содержащий текст.

1. Выберите язык в раскрывающемся списке **язык** .

1. **Столбец текста для очистки**: выберите столбец, который требуется предварительно обработать.

1. **Удалить** незавершенные слова. Выберите этот параметр, если требуется применить предопределенный список стоп-слово к текстовому столбцу. 

    Списки стоп-слово зависят от языка и настраиваются.

1. **Лемматизация**. Выберите этот параметр, если необходимо представить слова в канонической форме. Этот параметр полезен для уменьшения числа уникальных вхождений текстовых маркеров, аналогичных другим.

    Процесс лемматизация зависит от языка.

1. **Найти предложения**: Выберите этот параметр, если необходимо, чтобы модуль вставил границу границы при выполнении анализа.

    Этот модуль использует последовательность из трех символов вертикальной черты `|||` для представления признака конца предложения.

1. Выполнение необязательных операций Find-and-Replace с помощью регулярных выражений. Регулярное выражение будет обрабатываться первыми, впереди всех других встроенных параметров.

    * **Пользовательское регулярное выражение**: Определите искомый текст.
    * **Пользовательская строка замены**: определите одно заменяющее значение.

1. **Нормализация регистра до нижнего**: Выберите этот параметр, если требуется преобразовать символы верхнего регистра ASCII в их формы в нижнем регистре.

    Если символы не нормализованы, то одно и то же слово в прописных и строчных буквах считается двумя разными словами.

1. Вы также можете удалить из обработанного выходного текста следующие типы символов или последовательностей символов:

    * **Удалить числа**: Выберите этот параметр, чтобы удалить все числовые символы для указанного языка. Идентификационные номера зависят от домена и от языка. Если числовые символы являются неотъемлемой частью известного слова, это число может быть не удалено. Дополнительные сведения см. в [технических примечаниях](#technical-notes).
    
    * **Удалить специальные символы**: Используйте этот параметр для удаления любых специальных символов, отличных от алфавитно-цифровых.
    
    * **Удалить повторяющиеся символы**: Выберите этот параметр, чтобы удалить лишние символы в любой последовательности, которые повторяются более чем дважды. Например, последовательность, например "AAAA", будет сокращена до "AA".
    
    * **Удалить адреса электронной почты**: Выберите этот параметр, чтобы удалить любую последовательность формата `<string>@<string>` .  
    * **Удалить URL-адреса**: Выберите этот параметр, чтобы удалить все последовательности, включающие следующие префиксы URL-адресов: `http` , `https` , `ftp` , `www`
    
1. **Развернуть контракт команды**. Этот параметр применяется только к языкам, использующим контракты глаголов; в настоящее время только на английском языке. 

    Например, если выбрать этот параметр, можно заменить фразу «не *останется «* WITH *»*.

1. Нормализовать обратные косые черты **в косые черты**: Выберите этот параметр, чтобы сопоставлять все экземпляры `\\` с `/` .

1. **Разбиение токенов на специальные символы**: Выберите этот параметр, если нужно разбить слова на такие символы `&` , как, `-` и т. д. Этот параметр также позволяет сократить количество специальных символов, если оно повторяется более двух раз. 

    Например, строка `MS---WORD` будет разделена на три токена: `MS` , `-` и `WORD` .

1. Отправьте конвейер.

## <a name="technical-notes"></a>Технические примечания

Модуль **предварительной обработки текста** в студии (классическая модель) и конструктор использует разные языковые модели. Конструктор использует многозадачную CNN обученную модель из [спаци](https://spacy.io/models/en). Разные модели предоставляют разные лексемы и средство создания тегов для речи, что приводит к различным результатам.

Ниже приводятся некоторые примеры.

| Конфигурация | Результат вывода |
| --- | --- |
|Со всеми выбранными параметрами </br> Объяснение. </br> В таких случаях, как "3Test" в разделе "WC-3 3Test 4test", конструктор удаляет слово "3Test" целиком, поскольку в этом контексте средство создания тегов "3Test" определяет этот токен как цифру и в соответствии с частью речи, модуль удаляет его.| :::image type="content" source="./media/module/preprocess-text-all-options-selected.png" alt-text="Со всеми выбранными параметрами" border="True"::: |
|Только с `Removing number` выбранным </br> Объяснение. </br> В таких случаях, как "3Test", "4-EC", маркер конструктора четкое не разделяет эти варианты и обрабатывает их как целые токены. Поэтому не удаляет числа из этих слов.| :::image type="content" source="./media/module/preprocess-text-removing-numbers-selected.png" alt-text="Только выбрано &quot;удалить число&quot;" border="True"::: |

Вы также можете использовать регулярное выражение для вывода настраиваемых результатов:

| Конфигурация | Результат вывода |
| --- | --- |
|Со всеми выбранными параметрами </br> Настраиваемое регулярное выражение: `(\s+)*(-|\d+)(\s+)*` </br> Пользовательская строка замены: `\1 \2 \3`| :::image type="content" source="./media/module/preprocess-text-regular-expression-all-options-selected.png" alt-text="Со всеми выбранными параметрами и регулярным выражением" border="True"::: |
|Только с `Removing number` выбранным </br> Настраиваемое регулярное выражение: `(\s+)*(-|\d+)(\s+)*` </br> Пользовательская строка замены: `\1 \2 \3`| :::image type="content" source="./media/module/preprocess-text-regular-expression-removing-numbers-selected.png" alt-text="Удаление выбранных чисел и регулярных выражений" border="True"::: |


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 