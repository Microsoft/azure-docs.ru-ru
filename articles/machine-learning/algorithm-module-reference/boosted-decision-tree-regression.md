---
title: 'Регрессия повышенного дерева решений: Справочник по модулям'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль регрессии увеличивающегося дерева решений в Машинное обучение Azure для создания ансамблей деревьев регрессии с помощью повышения.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 08/24/2020
ms.openlocfilehash: 664943fc5535883b3df77b2795383e5c0586a71c
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94375335"
---
# <a name="boosted-decision-tree-regression-module"></a>Модуль регрессии повышенного дерева принятия решений

В этой статье описывается модуль в конструкторе Машинное обучение Azure.

Этот модуль используется для создания ансамблей деревьев регрессии с помощью повышения. *Повышение* означает, что каждое дерево зависит от предыдущих деревьев. Алгоритм узнает, как подставить остаток к дереву, предшествующему этому. Таким образом, бустинг в наборе деревьев принятия решений обычно обеспечивает повышение точности с небольшим риском снижения покрытия.  

Этот модуль основан на алгоритме LightGBM.
  
Этот метод регрессии является защищенным методом обучения и, следовательно, требует наличия *помеченного набора данных*. Столбец меток должен содержать числовые значения.  

> [!NOTE]
> Используйте этот модуль только с наборами данных числовых переменных.  

Определив модель, обучить ее с помощью [модели обучения](./train-model.md).

  
## <a name="more-about-boosted-regression-trees"></a>Дополнительные сведения о повышенных деревьях регрессии  

Бустинг — один из нескольких классических методов создания моделей наборов наряду с бэггингом, случайными лесами и т. д.  В Машинное обучение Azure повышенные деревья принятия решений используют эффективную реализацию алгоритма усиления градиента КИОСКа. Градиентный бустинг — это метод машинного обучения для проблем регрессии. Он пошагово создает каждое дерево регрессии, используя стандартную функцию потерь для измерения ошибок в каждом шаге и их исправления в следующем. Таким образом, модель прогнозирования фактически является набором более слабых моделей прогнозирования.  
  
В задачах регрессии повышение производительности создает ряд деревьев на пошаговом уровне, а затем выбирает оптимальное дерево с помощью произвольной функции потери дифферентиабле.  
  
Дополнительную информацию см. в следующих статьях.  
  
+ [https://wikipedia.org/wiki/Gradient_boosting#Gradient_tree_boosting](https://wikipedia.org/wiki/Gradient_boosting)

    В этой статье по росту градиента приводится некоторый опыт в повышенных деревьях. 
  
-  [https://research.microsoft.com/apps/pubs/default.aspx?id=132652](https://research.microsoft.com/apps/pubs/default.aspx?id=132652)  

    Обзор Microsoft Research: от Ранкнет до Ламбдаранк до Ламбдамарт: Общие сведения. По J.C. Бурджес (C.J.C. Burges)

Метод градиентного бустинга также можно использовать для проблем классификации, сокращая их до регрессии с помощью подходящей функции потерь. Дополнительные сведения о реализации повышенных деревьев для задач классификации см. в разделе [высококлассное высокопроизводительное дерево принятия решений](./two-class-boosted-decision-tree.md).  

## <a name="how-to-configure-boosted-decision-tree-regression"></a>Как настроить регрессию с повышенным деревом принятия решений

1.  Добавьте модуль **увеличивающегося дерева принятия решений** в конвейер. Этот модуль можно найти в разделе **машинное обучение**, **Инициализация** в категории **регрессия** . 
  
2.  Укажите, как должна быть обучена модель, установив параметр " **создать режим инструктора** ".  
  
    -   **Один параметр**: Выберите этот параметр, если вы умеете настраивать модель и предоставляете конкретный набор значений в качестве аргументов. 
     
    -   **Диапазон параметров**. Выберите этот параметр, если вы не знаете наилучших параметров и хотите выполнить функцию очистки параметров. Выберите диапазон значений для итерации, а [Параметры настройки модели](tune-model-hyperparameters.md) — перебор всех возможных сочетаний указанных параметров, чтобы определить параметры, которые приводят к оптимальным результатам.    
   
  
3. **Максимальное количество листьев на дерево**: указывает максимальное количество узлов терминалов (листья), которые могут быть созданы в любом дереве.  

    Увеличив это значение, вы потенциально увеличите размер дерева и повысите точность, но это может привести к возникновению лжевзаимосвязей и более длительному времени обучения.  

4. **Минимальное число выборок на конечный узел**: Укажите Минимальное число вариантов, необходимых для создания любого узла терминала (конечного) в дереве.

    Увеличив это значение, вы увеличиваете пороговое значение для создания новых правил. Например, при использовании значения по умолчанию 1, даже один случай может привести к созданию нового правила. Если вы увеличите значение до 5, данные для обучения должны содержать не менее 5 случаев, отвечающие тем же условиям.

5. **Скорость обучения**: введите число от 0 до 1, определяющее размер шага во время обучения. Скорость обучения определяет, насколько быстро или медленнее выполняется схождение на оптимальном решении. Если размер шага слишком велик, вы можете отклонение оптимальное решение. Если размер шага слишком мал, обучение на лучшее решение занимает больше времени.

6. **Число построенных деревьев**: укажите общее число деревьев принятия решений, создаваемых в ансамблей. Создавая больше деревьев принятия решений, вы можете получить более эффективное покрытие, но при этом увеличивается время обучения.

    Если значение равно 1; Однако создается только одно дерево (дерево с начальным набором параметров), и дальнейшие итерации не выполняются.

7. **Начальное число случайных чисел**. Введите необязательное неотрицательное целое число, которое будет использоваться как значение случайного начального значения. Указание начального значения обеспечивает воспроизводимость между запусками с одинаковыми данными и параметрами.

    По умолчанию случайное начальное значение устанавливается в 0, что означает получение начального начального значения из системных часов.
  

9. Обучение модели:

    + Если присвоить **параметру** **создать режим инструктора** значение Single, подключить набор данных с тегами и модуль [обучение модели](train-model.md) .  
  
    + Если задать **режим создания инструктора** в **диапазоне параметров**, подключите набор данных с тегами и обучите модель с помощью [параметров настройки модели](tune-model-hyperparameters.md).  
  
    > [!NOTE]
    > 
    > При передаче диапазона параметров для [обучения модели](train-model.md)используется только значение по умолчанию в списке с одним параметром.  
    > 
    > Если передать один набор значений параметров в модуль [Настройка модели настройки](tune-model-hyperparameters.md) , когда он ожидает диапазон параметров для каждого параметра, он пропускает значения и использует значения по умолчанию для учений.  
    > 
    > Если выбрать параметр **диапазон параметров** и ввести одно значение для любого параметра, это единственное заданное значение будет использоваться во время очистки, даже если другие параметры меняются в диапазоне значений.
    

10. Отправьте конвейер.  
  
## <a name="results"></a>Результаты

После завершения обучения:

+ Чтобы использовать модель оценки, подключайте [обучение модели](train-model.md) к [модели оценки](./score-model.md), чтобы прогнозировать значения для новых входных примеров.

+ Чтобы сохранить моментальный снимок обученной модели, выберите вкладку **выходные данные** на правой панели **обученной модели** и щелкните значок **зарегистрировать набор данных** . Копия обученной модели будет сохранена в виде модуля в дереве модулей и не будет обновлена при последующих выполнениях конвейера.

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 
