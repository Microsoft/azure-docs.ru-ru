---
title: 'Линейная регрессия: Справочник по модулям'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль линейной регрессии в Машинное обучение Azure для создания модели линейной регрессии для использования в конвейере.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 04/22/2020
ms.openlocfilehash: 809b1be4f9f12e1963ff5caeaacd109c84db154f
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "93323661"
---
# <a name="linear-regression-module"></a>Модуль линейной регрессии
В этой статье описывается модуль в конструкторе Машинное обучение Azure.

Этот модуль используется для создания модели линейной регрессии для использования в конвейере.  Линейная регрессия пытается установить линейную связь между одной или несколькими независимыми переменными и числовым результатом или зависимой переменной. 

Этот модуль используется для определения метода линейной регрессии, а затем для обучения модели с помощью набора данных с меткой. После этого обученная модель используется для прогнозирования.

## <a name="about-linear-regression"></a>О линейной регрессии

Линейная регрессия — это общий статистический метод, который был принят в машинном обучении и дополнен многими новыми методами для подгонки строки и измерения ошибок. Проще говоря, регрессия относится к прогнозу числового целевого объекта. Линейная регрессия по-прежнему является хорошим выбором, если требуется простая модель для базовой прогнозируемой задачи. Линейная регрессия, как правило, хорошо работает на больших и разреженных наборах данных, что не имеет сложностей.

В дополнение к линейной регрессии Машинное обучение Azure поддерживает разнообразные модели регрессии. Однако термин «регрессия» может интерпретироваться слабо, а некоторые типы регрессии, предоставляемые другими инструментами, не поддерживаются.

+ Классическая задача регрессии включает в себя одну независимую переменную и зависимую переменную. Это называется *простой регрессией*.  Этот модуль поддерживает простую регрессию.

+ *Множественная линейная регрессия* состоит из двух или более независимых переменных, которые вносят вклад в одну зависимую переменную. Проблемы, при которых несколько входных данных используются для прогнозирования одного числового результата, также называются *многофакторная линейной регрессией*.

    Модуль **линейной регрессии** может решить эти проблемы, как и большинство других модулей регрессии.

+ *Регрессия с несколькими метками* — это задача прогнозирования нескольких зависимых переменных в рамках одной модели. Например, в многометочной логистической регрессии пример можно назначить нескольким разным меткам. (Это отличается от задачи прогнозирования нескольких уровней в пределах одной переменной класса.)

    Этот тип регрессии не поддерживается в Машинное обучение Azure. Для прогнозирования нескольких переменных создайте отдельное обучение для каждого выхода, который нужно спрогнозировать.

В течение многих лет статистикам разрабатывает все более сложные методы регрессии. Это справедливо даже для линейной регрессии. Этот модуль поддерживает два метода для измерения ошибок и соответствия линии регрессии: обычный метод наименьших квадратов и спуск градиента.

- **Спуск градиентов** — это метод, который уменьшает количество ошибок на каждом шаге процесса обучения модели. Существует множество вариантов градиентного спуска, и его оптимизацию для различных проблем обучения тщательно изучили. При выборе этого варианта для **метода решения** можно задать различные параметры для управления размером шага, частотой обучения и т. д. Этот параметр также поддерживает использование встроенной очистки параметров.

- **Обычные и наименьшие квадраты** являются одним из наиболее часто используемых методов линейной регрессии. Например, по крайней мере квадраты — это метод, который используется в пакетах анализа для Microsoft Excel.

    Обычный метод наименьших квадратов ссылается на функцию потерь, которая вычисляет погрешность как сумму квадрата расхождения фактического значения и спрогнозированной линии и подгоняет модель, минимизируя квадратичную погрешность. Этот метод предполагает наличие строгой линейной связи между входными и зависимыми переменными.

## <a name="configure-linear-regression"></a>Настройка линейной регрессии

Этот модуль поддерживает два метода для подбора модели регрессии с различными параметрами:

+ [Подгонка модели регрессии, используя обычные наименьшие квадраты](#create-a-regression-model-using-ordinary-least-squares)

    Для небольших наборов данных лучше всего выбрать обычные квадраты. Это позволит получить аналогичные результаты в Excel.
    
+ [Создание регрессионной модели с помощью Интернет-спуска градиента](#create-a-regression-model-using-online-gradient-descent)

    Градиентный спуск представляет собой улучшенную функцию потерь для более сложных моделей или моделей, в которых слишком мало данных для обучения, принимая во внимание количество переменных.

### <a name="create-a-regression-model-using-ordinary-least-squares"></a>Создание модели регрессии с помощью обычных наименьших квадратов

1. Добавьте модуль **линейной регрессии** в конвейер в конструкторе.

    Этот модуль можно найти в категории **машинное обучение** . Разверните узел **Инициализация модели**, разверните **регрессию**, а затем перетащите модуль **линейная регрессия** в конвейер.

2. В области **Свойства** в раскрывающемся списке **метод решения** выберите пункт **обычные наименьшие квадраты**. Этот параметр указывает метод вычисления, используемый для поиска линии регрессии.

3. В поле **весовой коэффициент** упрощения уровня "основной" введите значение, которое будет использоваться в качестве веса для упрощения L2. Рекомендуется использовать ненулевое значение, чтобы избежать чрезмерного перегонки.

     Дополнительные сведения о влиянии модели на подгонку моделей см. в этой статье: использование инструкций [L1 и L2 для машинное обучение](/archive/msdn-magazine/2015/february/test-run-l1-and-l2-regularization-for-machine-learning)

4. Выберите параметр **включить условие перехвата**, если требуется просмотреть термин для перехвата.

    Снимите этот флажок, если не нужно проверять формулу регрессии.

5. Для **начального числа случайных чисел** можно дополнительно ввести значение для заполнения генератора случайных чисел, используемого моделью.

    Использование начального значения полезно, если нужно сохранить одинаковые результаты для разных запусков одного и того же конвейера. В противном случае по умолчанию используется значение из системных часов.


7. Добавьте модуль [обучение модели](./train-model.md) в конвейер и подключите набор данных с меткой.

8. Отправьте конвейер.

### <a name="results-for-ordinary-least-squares-model"></a>Результаты для обычной модели наименьших квадратов

После завершения обучения:


+ Чтобы сделать прогнозы, подключите обученную модель к модулю « [Оценка модели](./score-model.md) » вместе с набором данных новых значений. 


### <a name="create-a-regression-model-using-online-gradient-descent"></a>Создание регрессионной модели с помощью Интернет-спуска градиента

1. Добавьте модуль **линейной регрессии** в конвейер в конструкторе.

    Этот модуль можно найти в категории **машинное обучение** . Разверните узел **Инициализация модели**, разверните **регрессию** и перетащите модуль **линейная регрессия** в конвейер.

2. В области **Свойства** в раскрывающемся списке **метод решения** выберите параметр **Градиентный спуск в сети** в качестве метода вычисления, используемого для поиска линии регрессии.

3. В **режиме «создание преподавателя**» укажите, нужно ли обучить модель предопределенному набору параметров, или, если необходимо оптимизировать модель с помощью очистки параметров.

    + **Один параметр**. Если известно, как настроить сеть линейной регрессии, можно указать в качестве аргументов конкретный набор значений.
    
    + **Диапазон параметров**. Выберите этот параметр, если вы не знаете наилучших параметров и хотите выполнить функцию очистки параметров. Выберите диапазон значений для итерации, а [Параметры настройки модели](tune-model-hyperparameters.md) — перебор всех возможных сочетаний указанных параметров, чтобы определить параметры, которые приводят к оптимальным результатам.  

   
4. Чтобы **узнать скорость обучения**, укажите начальную скорость обучения для оптимизатора метод стохастического градиента.

5. Для параметра **число эпох обучения** введите значение, указывающее, сколько раз алгоритм должен выполнять итерацию по примерам. Для наборов данных с небольшим числом примеров это значение должно быть больше для достижения конвергенции.

6. **Нормализация функций**. Если вы уже нормализованы числовые данные, используемые для обучения модели, этот параметр можно снять. По умолчанию модуль нормализует все числовые входные значения в диапазон от 0 до 1.

    > [!NOTE]
    > 
    > Не забывайте применять тот же метод нормализации к новым данным, используемым для оценки.

7. В поле **весовой коэффициент** упрощения уровня "основной" введите значение, которое будет использоваться в качестве веса для упрощения L2. Рекомендуется использовать ненулевое значение, чтобы избежать чрезмерного перегонки.

    Дополнительные сведения о влиянии модели на подгонку моделей см. в этой статье: использование инструкций [L1 и L2 для машинное обучение](/archive/msdn-magazine/2015/february/test-run-l1-and-l2-regularization-for-machine-learning)


9. Выберите параметр, чтобы **уменьшить скорость обучения**, если вы хотите, чтобы скорость обучения уменьшилась по мере выполнения итераций.  

10. Для **начального числа случайных чисел** можно дополнительно ввести значение для заполнения генератора случайных чисел, используемого моделью. Использование начального значения полезно, если нужно сохранить одинаковые результаты для разных запусков одного и того же конвейера.


12. Обучение модели:

    + Если присвоить **параметру** **создать режим инструктора** значение Single, подключить набор данных с тегами и модуль [обучение модели](train-model.md) .  
  
    + Если задать **режим создания инструктора** в **диапазоне параметров**, подключите набор данных с тегами и обучите модель с помощью [параметров настройки модели](tune-model-hyperparameters.md).  
  
    > [!NOTE]
    > 
    > При передаче диапазона параметров для [обучения модели](train-model.md)используется только значение по умолчанию в списке с одним параметром.  
    > 
    > Если передать один набор значений параметров в модуль [Настройка модели настройки](tune-model-hyperparameters.md) , когда он ожидает диапазон параметров для каждого параметра, он пропускает значения и использует значения по умолчанию для учений.  
    > 
    > Если выбрать параметр **диапазон параметров** и ввести одно значение для любого параметра, это единственное заданное значение будет использоваться во время очистки, даже если другие параметры меняются в диапазоне значений.

13. Отправьте конвейер.

### <a name="results-for-online-gradient-descent"></a>Результаты для веб-спуска градиента

После завершения обучения:

+ Чтобы сделать прогнозы, подключите обученную модель к модулю « [Оценка модели](./score-model.md) » вместе с новыми входными данными.


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure.