---
title: 'ML Studio (классическая модель): Включение ведения журнала веб-службы в Azure'
description: Узнайте, как включить ведение журнала для веб-служб Машинное обучение Studio (классическая модель). Функция ведения журналов предоставляет дополнительные сведения по устранению неполадок API-интерфейсов.
services: machine-learning
author: likebupt
ms.author: keli19
ms.assetid: c54d41e1-0300-46ef-bbfc-d6f7dca85086
ms.service: machine-learning
ms.subservice: studio-classic
ms.topic: how-to
ms.date: 06/15/2017
ms.openlocfilehash: c9ce9b7b0d739301e76abd43b265fe28195ed302
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "100518289"
---
# <a name="enable-logging-for-azure-machine-learning-studio-classic-web-services"></a>Включение ведения журнала для веб-служб Машинное обучение Azure Studio (классическая модель)

**ПРИМЕНИМО К:**  ![Применимо к.](../../../includes/media/aml-applies-to-skus/yes.png)Студия машинного обучения (классическая)   ![Неприменимо к.](../../../includes/media/aml-applies-to-skus/no.png)[Машинное обучение Azure](../overview-what-is-machine-learning-studio.md#ml-studio-classic-vs-azure-machine-learning-studio)


В этом документе содержатся сведения о возможности ведения журнала в веб-службах Машинное обучение Studio (классическая модель). Ведение журнала предоставляет дополнительные сведения, кроме номера ошибки и сообщения, которые могут помочь при устранении неполадок при вызове API-интерфейсов Машинное обучение Studio (классическая модель).  

## <a name="how-to-enable-logging-for-a-web-service"></a>Как включить ведение журналов для веб-службы

Ведение журнала включается на портале [веб-служб машинное обучение Azure Studio (классическая модель)](https://services.azureml.net) . 

1. Войдите на портал веб-служб Машинное обучение Azure Studio (классическая модель) по адресу [https://services.azureml.net](https://services.azureml.net) . Для классической веб-службы можно также перейти на портал, нажав кнопку " **создать веб-службу** " на странице веб-служб машинное обучение Studio (классическая модель) в студии (классическая модель).

   ![Ссылка New Web Services Experience (Новый интерфейс веб-служб)](./media/web-services-logging/new-web-services-experience-link.png)

2. В верхней строке меню щелкните **Веб-службы** для новой веб-службы или **Classic Web Services** (Классические веб-службы) для классических веб-служб.

   ![Выбор новых или классических веб-служб](./media/web-services-logging/select-web-service.png)

3. Для новой веб-службы щелкните имя веб-службы. Для классической веб-службы щелкните имя службы, а затем — соответствующую конечную точку на следующей странице.

4. В верхней строке меню щелкните **Настройка**.

5. Задайте для параметра **Включить ведение журнала** значение *Ошибка* (для регистрации только ошибок) или *Все* (для полного ведения журнала).

   ![Выбор уровня ведения журнала](./media/web-services-logging/enable-logging.png)

6. Выберите команду **Сохранить**.

7. Для классических веб-служб создайте контейнер **ml-diagnostics**.

   Все журналы веб-службы хранятся в контейнере больших двоичных объектов под названием **ml-diagnostics** в учетной записи хранения, связанной с веб-службой. Для новых веб-служб этот контейнер создается при первом доступе к веб-службе. Для классических веб-служб вам необходимо создать этот контейнер, если он еще создан. 

   1. На [портале Azure](https://portal.azure.com) перейдите в учетную запись хранения, связанную с веб-службой.

   2. В колонке **Служба BLOB-объектов** щелкните **Контейнеры**.

   3. Если контейнер **ml-diagnostics** не существует, щелкните **+Контейнер**, присвойте контейнеру имя ml-diagnostics и выберите **Тип доступа** "BLOB-объект". Нажмите кнопку **OK**.

      ![Создание нового контейнера для хранения журналов диагностики](./media/web-services-logging/create-ml-diagnostics-container.png)

> [!TIP]
>
> Для классической веб-службы панель мониторинга веб-служб в Машинное обучение Studio (классическая модель) также имеет переключатель для включения ведения журнала. Так как ведением журнала теперь можно управлять на портале веб-служб, необходимо включить ведение журнала на портале, как описано в этой статье. Если вы уже включили ведение журнала в Studio (классическая модель), на портале веб-служб отключите ведение журнала и снова включите его.


## <a name="the-effects-of-enabling-logging"></a>Результаты включения ведения журнала
Если ведение журнала включено, диагностика и ошибки в конечной точке веб-службы регистрируются в контейнере больших двоичных объектов **машинного обучения** в учетной записи хранения Azure, связанной с рабочей областью пользователя. В этом контейнере содержатся все диагностические сведения обо всех конечных точках веб-службы для всех рабочих областей, связанных с этой учетной записью хранения.

Эти журналы можно просматривать при помощи любого из доступных инструментов, позволяющих просматривать элементы в учетной записи хранения Azure. Проще всего перейти к учетной записи хранения на портале Azure, щелкнуть **Контейнеры**, а затем выбрать контейнер **ml-diagnostics**.  

## <a name="log-blob-detail-information"></a>Ведение журнала подробных сведений о больших двоичных объектах
Каждый большой двоичный объект в контейнере содержит диагностические данные по одному из следующих действий:

* Осуществление метода пакетного выполнения  
* Выполнение метода запроса-ответа  
* Инициализация контейнера "запрос-ответ"

Имя каждого большого двоичного объекта содержит префикс в следующем формате: 


`{Workspace Id}-{Web service Id}-{Endpoint Id}/{Log type}`


Где _тип журнала_ имеет одно из следующих значений:  

* пакет (1)  
* score/requests  
* score/init