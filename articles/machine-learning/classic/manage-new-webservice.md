---
title: 'ML Studio (классическая модель): Управление веб-службами — Azure'
description: Управляйте Машинное обучение новыми и классическими веб-службами с помощью портала веб-служб Машинное обучение Microsoft Azure. Так как классические и новые веб-службы основаны на различных базовых технологиях, возможности управления для них слегка различаются.
services: machine-learning
ms.service: machine-learning
ms.subservice: studio-classic
ms.topic: how-to
author: likebupt
ms.author: keli19
ms.custom: previous-ms.author=yahajiza, previous-author=YasinMSFT
ms.date: 02/28/2017
ms.openlocfilehash: d3aea23c816b9d8b32b0563d3116cdc2b92e080f
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "101094304"
---
# <a name="manage-a-web-service-using-the-azure-machine-learning-studio-classic-web-services-portal"></a>Управление веб-службой с помощью портала веб-служб Машинное обучение Azure Studio (классическая модель)

**ПРИМЕНИМО К:**  ![Применимо к.](../../../includes/media/aml-applies-to-skus/yes.png)Студия машинного обучения (классическая)   ![Неприменимо к.](../../../includes/media/aml-applies-to-skus/no.png)[Машинное обучение Azure](../overview-what-is-machine-learning-studio.md#ml-studio-classic-vs-azure-machine-learning-studio)


С помощью портала веб-служб машинного обучения Microsoft Azure можно управлять новыми и классическими веб-службами машинного обучения. Так как классические и новые веб-службы основаны на различных базовых технологиях, возможности управления для них слегка различаются.

На портале веб-служб машинного обучения можно выполнять следующие действия:

* отслеживать процесс использования веб-службы;
* настраивать описание, обновлять ключи веб-службы (только для новой версии), обновлять ключ учетной записи хранения (только для новой версии), включать ведение журнала, а также включать или отключать образцы данных;
* удалять веб-службу;
* создавать, удалять или обновлять планы выставления счетов (только для новой версии);
* добавлять и удалять конечные точки (только для классической версии).

>[!NOTE]
>Вы также можете управлять классическими веб-службами в [машинное обучение Studio (классическая модель)](https://studio.azureml.net) на вкладке **веб-службы** .

## <a name="permissions-to-manage-new-resources-manager-based-web-services"></a>Разрешения на управление новыми веб-службами на основе Resource Manager

Новые веб-службы развертываются как ресурсы Azure. Поэтому для развертывания новых веб-служб и управления ими необходимы соответствующие разрешения.  Для развертывания новых веб-служб или управления ими необходимо назначить роль участника или администратора той подписке, в которую развертывается веб-служба. Чтобы пригласить в рабочую область машинного обучения других пользователей, необходимо назначить им роли участников или администраторов подписки, чтобы они могли развертывать веб-службы или управлять ими. 

Если у пользователя нет необходимых разрешений для доступа к ресурсам на портале веб-служб машинного обучения Azure, то при попытке развернуть веб-службу отобразится следующее сообщение об ошибке:

*Сбой развертывания веб-службы. У этой учетной записи недостаточно прав доступа к подписке Azure, содержащей рабочую область. Чтобы развернуть веб-службу в Azure, эту учетную запись необходимо пригласить в рабочую область и предоставить доступ к подписке Azure, содержащей рабочую область.*

Дополнительные сведения о создании рабочей области см. в статье [Создание и совместное использование рабочей области машинное обучение Azure Studio (классическая модель)](create-workspace.md).

Дополнительные сведения о настройке разрешений доступа см. [в статье назначение ролей Azure с помощью портал Azure](../../role-based-access-control/role-assignments-portal.md).


## <a name="manage-new-web-services"></a>Управление новыми веб-службами
Для управления новыми веб-службами выполните следующие действия.

1. Войдите в учетную запись Microsoft Azure на [портале веб-служб машинного обучения Microsoft Azure](https://services.azureml.net/quickstart) (используйте учетную запись, связанную с подпиской Azure).
2. В меню выберите пункт **Web Services**(Веб-службы).

Отобразится список развернутых веб-служб для вашей подписки. 

Для управления веб-службой щелкните Web Services (Веб-службы). На странице веб-служб вы можете:

* щелкнуть веб-службу, чтобы управлять ею;
* щелкнуть план выставления счетов для веб-службы и обновить его;
* удалить веб-службу;
* скопировать веб-службу и развернуть ее в другом регионе.

Если щелкнуть веб-службу, откроется страница "Quickstart" (Быстрый запуск) веб-службы. Страница "Quickstart" (Быстрый запуск) веб-службы содержит два пункта меню, которые позволяют управлять данной веб-службой.

* **DASHBOARD** (ПАНЕЛЬ МОНИТОРИНГА) — дает возможность просматривать сведения об использовании веб-службы.
* **CONFIGURE** (НАСТРОЙКА) — дает возможность добавлять описательный текст, обновлять ключ учетной записи хранения, связанной с веб-службой, а также включать и отключать образцы данных.

### <a name="monitoring-how-the-web-service-is-being-used"></a>Мониторинг использования веб-службы
Щелкните вкладку **ПАНЕЛЬ МОНИТОРИНГА** .

На панели мониторинга можно просмотреть общие сведения об использовании веб-службы за определенный период времени. Период для отображения можно выбрать с помощью раскрывающегося меню "Period" (Период) в правом верхнем углу диаграммы использования. На панели мониторинга отображаются следующие сведения.

* **Requests Over Time** (Запросы за период времени): отображает ступенчатую диаграмму с количеством запросов за выбранный период времени. Помогает выявить всплески в использовании веб-службы.
* **Request-Response Requests** (Вызовы "запрос-ответ"): отображает общее число вызовов "запрос-ответ", которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Request-Response Compute Time** (Среднее время вычисления "запрос-ответ"): отображает среднее время, необходимое для обработки полученных запросов.
* **Batch Requests** (Пакетные запросы): отображает общее число пакетных запросов, которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Job Latency** (Средняя задержка задания): отображает среднее время, необходимое для обработки полученных запросов.
* **Errors** (Ошибки): отображает общее число ошибок, произошедших при вызовах к веб-службе.
* **Services Costs** (Затраты на службу): отображает сведения о затратах согласно плану выставления счетов, связанному с данной службой.

### <a name="configuring-the-web-service"></a>Настройка веб-службы
Выберите пункт меню **CONFIGURE** (НАСТРОЙКА).

Можно обновлять следующие свойства.

* **Description** (Описание): позволяет ввести описание веб-службы.
* **Заголовок** позволяет ввести заголовок для веб-службы.
* **Keys** (Ключи): позволяет выполнять смену первичных и вторичных ключей API.
* **Storage account key** (Ключ учетной записи хранения): позволяет обновлять ключ учетной записи хранения, связанной с изменениями веб-службы. 
* **Enable Sample data** (Включить образцы данных): позволяет добавлять образцы данных, которые можно использовать для тестирования службы "запрос — ответ". Если веб-служба была создана в Машинное обучение Studio (классическая модель), образец данных берется из данных, которые использовались для обучения модели. Если служба создана программным путем, то данные берутся из данных примеров, которые вы предоставили в составе пакета JSON.

### <a name="managing-billing-plans"></a>Управление планами выставления счетов
На странице "Quickstart" (Быстрый запуск) веб-службы щелкните пункт меню **Plans** (Планы). Для управления планом также можно щелкнуть план, связанный с конкретной веб-службой.

* **New** (Создать): позволяет создать новый план.
* **Add/Remove Plan instance** (Добавить или удалить экземпляр плана): позволяет выполнить масштабирование существующего плана, разворачивая его для добавления емкости.
* **Upgrade/DownGrade** (Повышение/понижение): позволяет увеличить масштаб существующего плана для добавления емкости.
* **Delete** (Удаление): позволяет удалить план.

Щелкните план, чтобы просмотреть его панель мониторинга. Панель мониторинга предоставляет моментальный снимок или сведения об использовании плана за указанный период времени. Чтобы выбрать период времени для просмотра, щелкните раскрывающийся список **Period** (Период) в правом верхнем углу панели мониторинга. 

Панель мониторинга плана содержит следующие сведения:

* **Plan Description** (Описание плана): отображает сведения о затратах, связанных с планом, и о его емкости.
* **Plan Usage** (Использование плана): отображает количество транзакций и часов вычислений, за которые выставлялись счета в соответствии c планом.
* **Веб-службы** отображает число веб-служб, использующих этот план.
* **Top Web Service By Call** (Самые активные веб-службы по вызовам): отображает четыре веб-службы, которые осуществляют больше всего вызовов, оплачиваемых в соответствии c планом.
* **Top Web Services by Compute Hrs** (Самые активные веб-службы по часам вычислений): отображает четыре веб-службы, которые используют больше всего вычислительных ресурсов, оплачиваемых в соответствии c планом.

## <a name="manage-classic-web-services"></a>Управление классическими веб-службами
> [!NOTE]
> Процедуры, описанные в этом разделе, относятся к управлению классическими веб-службами на портале веб-служб машинного обучения Azure. Сведения об управлении классическими веб-службами с помощью Машинное обучение Studio (классическая модель) и портал Azure см. в разделе [Управление рабочей областью машинное обучение Azure Studio (классическая модель)](manage-workspace.md).
> 
> 

Для управления классическими веб-службами выполните следующие действия.

1. Войдите в учетную запись Microsoft Azure на [портале веб-служб машинного обучения Microsoft Azure](https://services.azureml.net/quickstart) (используйте учетную запись, связанную с подпиской Azure).
2. В меню выберите **Classic Web Services** (Классические веб-службы).

Для управления классической веб-службой щелкните **Classic Web Services**(Классические веб-службы). На странице классических веб-служб вы можете:

* выбрать веб-службу для просмотра связанных конечных точек;
* удалить веб-службу;

При управлении классической веб-службой управление каждой из конечных точек осуществляется по отдельности. Если щелкнуть веб-службу на странице веб-служб, откроется список конечных точек, связанных с этой службой. 

На странице конечных точек классической веб-службы можно добавлять и удалять конечные точки службы. Дополнительные сведения о добавлении конечных точек см. в статье [Создание конечных точек](create-endpoint.md).

Щелкните одну из конечных точек, чтобы открыть страницу "Quickstart" (Быстрый запуск) веб-службы. На странице "Quickstart" (Быстрый запуск) веб-службы находятся два пункта меню, которые позволяют управлять данной веб-службой.

* **DASHBOARD** (ПАНЕЛЬ МОНИТОРИНГА) — дает возможность просматривать сведения об использовании веб-службы.
* **CONFIGURE** (НАСТРОЙКА): дает возможность добавлять описательный текст, включать и отключать ведение журнала ошибок, обновлять ключ учетной записи хранения, связанной с веб-службой, а также включать и отключать образцы данных.

### <a name="monitoring-how-the-web-service-is-being-used"></a>Мониторинг использования веб-службы
Щелкните вкладку **ПАНЕЛЬ МОНИТОРИНГА** .

На панели мониторинга можно просмотреть общие сведения об использовании веб-службы за определенный период времени. Период для отображения можно выбрать с помощью раскрывающегося меню "Period" (Период) в правом верхнем углу диаграммы использования. На панели мониторинга отображаются следующие сведения.

* **Requests Over Time** (Запросы за период времени): отображает ступенчатую диаграмму с количеством запросов за выбранный период времени. Помогает выявить всплески в использовании веб-службы.
* **Request-Response Requests** (Вызовы "запрос-ответ"): отображает общее число вызовов "запрос-ответ", которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Request-Response Compute Time** (Среднее время вычисления "запрос-ответ"): отображает среднее время, необходимое для обработки полученных запросов.
* **Batch Requests** (Пакетные запросы): отображает общее число пакетных запросов, которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Job Latency** (Средняя задержка задания): отображает среднее время, необходимое для обработки полученных запросов.
* **Errors** (Ошибки): отображает общее число ошибок, произошедших при вызовах к веб-службе.
* **Services Costs** (Затраты на службу): отображает сведения о затратах согласно плану выставления счетов, связанному с данной службой.

### <a name="configuring-the-web-service"></a>Настройка веб-службы
Выберите пункт меню **CONFIGURE** (НАСТРОЙКА).

Можно обновлять следующие свойства.

* **Description** (Описание): позволяет ввести описание веб-службы. Описание является обязательным полем.
* **Logging** (Ведение журнала): позволяет включить или отключить ведение журнала ошибок на конечной точке. Дополнительные сведения о ведении журнала см. в статье [Включение функции ведения журналов для веб-служб машинного обученияя](web-services-logging.md).
* **Enable Sample data** (Включить образцы данных): позволяет добавлять образцы данных, которые можно использовать для тестирования службы "запрос — ответ". Если веб-служба была создана в Машинное обучение Studio (классическая модель), образец данных берется из данных, которые использовались для обучения модели. Если служба создана программным путем, то данные берутся из данных примеров, которые вы предоставили в составе пакета JSON.