---
title: Обновление ОС узла для вычислительного кластера и экземпляра
titleSuffix: Azure Machine Learning
description: Обновите ОС узла для вычислительного кластера и вычислительного экземпляра с Ubuntu 16,04 LTS на 18,04 LTS.
services: machine-learning
author: nishankgu
ms.author: nigup
ms.reviewer: larryfr
ms.service: machine-learning
ms.subservice: core
ms.date: 03/03/2021
ms.topic: conceptual
ms.custom: how-to
ms.openlocfilehash: 710a860b1ed87f176b6f42b4963dad17acb323b1
ms.sourcegitcommit: ac035293291c3d2962cee270b33fca3628432fac
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/24/2021
ms.locfileid: "104954060"
---
# <a name="upgrade-compute-instance-and-compute-cluster-host-os"></a>Обновление вычислительных экземпляров и ОС узла вычислительного кластера

Машинное обучение Azure __вычислительным кластером__ и __вычислительным экземпляром__ являются управляемая вычислительная инфраструктура. Как управляемая служба Майкрософт управляет операционной системой узла и установленными пакетами и версиями программного обеспечения.

ОС узла для вычислительного кластера и экземпляра COMPUTE была Ubuntu 16,04 LTS. **30 апреля 2021** Ubuntu завершает поддержку 16,04. Начиная с __15 марта 2021__ Корпорация Майкрософт автоматически обновляет ОС узла до Ubuntu 18,04 LTS. Обновление до 18,04 обеспечит дальнейшее обновление системы безопасности и поддержку из сообщества Ubuntu. Это обновление будет выдаваться в регионах Azure, и оно будет доступно во всех регионах по __09 апреля 2021__. Дополнительные сведения о поддержке до конца Ubuntu для 16,04 см. в [блоге по выпуску Ubuntu](https://wiki.ubuntu.com/Releases).

> [!TIP]
> * ОС узла не является версией ОС, которую можно указать для [среды](how-to-use-environments.md) при обучении или развертывании модели. Среды запускаются внутри DOCKER. DOCKER выполняется в ОС узла.
> * Если в настоящее время используются среды на базе Ubuntu 16,04 для обучения или развертывания, корпорация Майкрософт рекомендует перейти на использование образов на основе Ubuntu 18,04. Дополнительные сведения см. в разделе [использование сред](how-to-use-environments.md) и [репозитория машинное обучение Azure контейнеров](https://github.com/Azure/AzureML-Containers/tree/master/base).
> * При использовании вычислительного экземпляра Машинное обучение Azure на основе Ubuntu 18,04 версия Python по умолчанию — _python 3,8_.
## <a name="creating-new-resources"></a>Создание новых ресурсов

Расчетные экземпляры кластера или вычислений, созданные после __9 апреля, 2021__ по умолчанию используют Ubuntu 18,04 LTS в качестве ОС узла. Нельзя выбрать другую ОС узла.

## <a name="upgrade-existing-resources"></a>Обновление существующих ресурсов

Если у вас уже есть кластеры вычислений или экземпляры вычислений, созданные до __15 марта 2021__, необходимо выполнить действия по обновлению операционной системы узла до Ubuntu 18,04. В зависимости от региона, к которому вы обращаетесь Машинное обучение Azure, мы рекомендуем выполнить эти действия после __9 апреля 2021,__ чтобы изменения были сведены во все регионы:

* __Кластер машинное обучение Azure__:

    * Если кластер настроен с __min Nodes = 0__, он будет автоматически обновлен после завершения всех заданий и сокращается до нулевых узлов.
    * Если __min nodes > 0__, временно измените минимальный узел на ноль и разрешите кластеру сократить до нуля узлов.

    Дополнительные сведения об изменении минимальных узлов см. в справочнике по команде [AZ ML computetarget Update амлкомпуте](https://docs.microsoft.com/cli/azure/ext/azure-cli-ml/ml/computetarget/update#ext_azure_cli_ml_az_ml_computetarget_update_amlcompute) Azure CLI или в пакете SDK [амлкомпуте. Update ()](https://docs.microsoft.com/python/api/azureml-core/azureml.core.compute.amlcompute.amlcompute#update-min-nodes-none--max-nodes-none--idle-seconds-before-scaledown-none-) .

* __Машинное обучение Azure вычислительный экземпляр__: Создайте новый вычислительный экземпляр (который будет использовать Ubuntu 18,04) и удалите старый экземпляр.

    * Все записные книжки, хранящиеся в общей папке рабочей области, хранилища данных, будут доступны из нового вычислительного экземпляра.
    * Если вы создали пользовательские среды conda, можно экспортировать эти среды из существующего экземпляра и импортировать их в новый экземпляр. Сведения о экспорте и импорте conda см. в [документации conda](https://docs.conda.io/) по адресу docs.conda.IO.

    Дополнительные сведения см. в статьях [что такое вычислительный экземпляр](concept-compute-instance.md) и [создание и управление машинное обучение Azureных вычислительных экземпляров](how-to-create-manage-compute-instance.md) .

## <a name="check-host-os-version"></a>Проверка версии ОС узла

Сведения о проверке версии ОС узла см. на вики-странице сообщества Ubuntu, посвященной [проверке версии Ubuntu](https://help.ubuntu.com/community/CheckingYourUbuntuVersion).

> [!TIP]
> Чтобы использовать `lsb_release -a` команду на вики-сайте, можно [использовать сеанс терминала на вычислительном экземпляре](how-to-access-terminal.md).
## <a name="next-steps"></a>Дальнейшие действия

Если у вас возникнут другие вопросы или проблемы, свяжитесь с нами по адресу [ubuntu18azureml@service.microsoft.com](mailto:ubuntu18azureml@service.microsoft.com) .
