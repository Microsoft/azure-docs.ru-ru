---
title: Руководство. Создание прогнозной модели с помощью автоматизированного машинного обучения (часть 1 из 2)
titleSuffix: Azure Machine Learning
description: Узнайте, как создавать и развертывать модели автоматизированного машинного обучения, чтобы можно было использовать оптимальную модель для прогнозирования результатов в Microsoft Power BI.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: tutorial
ms.author: samkemp
author: samuel100
ms.reviewer: sdgilley
ms.date: 12/11/2020
ms.openlocfilehash: 6dc99d58f15653e9d3f991622de3bb3388690459
ms.sourcegitcommit: 1140ff2b0424633e6e10797f6654359947038b8d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/30/2020
ms.locfileid: "97814811"
---
# <a name="tutorial-power-bi-integration---create-the-predictive-model-by-using-automated-machine-learning-part-1-of-2"></a>Руководство. Интеграция Power BI. Создание прогнозной модели с помощью автоматизированного машинного обучения (часть 1 из 2)

В первой части этого руководства показано, как обучить и развернуть прогнозную модель машинного обучения с помощью автоматизированного машинного обучения в Студии машинного обучения Azure.  Во второй части показано, как использовать оптимальную модель для прогнозирования результатов в Microsoft Power BI.

Изучив это руководство, вы:

> [!div class="checklist"]
> * создадите вычислительный кластер Машинного обучения Azure;
> * Создание набора данных.
> * создадите выполнение автоматизированного машинного обучения;
> * развернете оптимальную модель в конечной точке оценки в реальном времени.


Есть три способа создания и развертывания модели, которая будет использоваться в Power BI.  В этой статье рассматривается вариант В — обучение и развертывание моделей с помощью автоматизированного машинного обучения в студии.  Этот вариант не требует написания кода. Подготовка данных и обучение модели полностью автоматизируются. 

Но вместо него можно использовать один из следующих вариантов:

* [Вариант А. Обучение и развертывание моделей с помощью записных книжек Jupyter Notebook.](tutorial-power-bi-custom-model.md) Этот вариант предусматривает использование подхода Code First и записных книжек Jupyter Notebook, размещенных в Студии машинного обучения Azure.
* [Вариант Б. Обучение и развертывание моделей с помощью конструктора Машинного обучения Azure.](tutorial-power-bi-designer-model.md) Этот вариант предусматривает разработку модели с помощью пользовательского интерфейса перетаскивания, при использовании которого не требуется писать много кода.

## <a name="prerequisites"></a>Предварительные требования

- Подписка Azure. Если у вас нет подписки, вы можете использовать [бесплатную пробную версию](https://aka.ms/AMLFree). 
- Рабочая область машинного обучения Azure. Если у вас нет рабочей области, см. раздел [Создание рабочих областей Машинного обучения Azure и управление ими](./how-to-manage-workspace.md#create-a-workspace).

## <a name="create-a-compute-cluster"></a>Создание вычислительного кластера

Автоматизированное машинное обучение позволяет автоматически обучить множество разных моделей машинного обучения, чтобы найти оптимальные алгоритм и параметры. Машинное обучение Azure параллелизует выполнение обучения модели в вычислительном кластере.

Сначала в [Студии машинного обучения Azure](https://ml.azure.com) выберите **Вычисление** в меню слева. Откройте вкладку **Вычислительные кластеры**. Затем нажмите кнопку **Создать**.

:::image type="content" source="media/tutorial-power-bi/create-compute-cluster.png" alt-text="Снимок экрана: создание вычислительного кластера.":::

На странице **Создание вычислительного кластера** сделайте следующее:

1. Выберите размер виртуальной машины. Для работы с этим руководством выберите виртуальную машину **Standard_D11_v2**.
1. Выберите **Далее**.
1. Укажите допустимое имя вычислительного ресурса.
1. Оставьте значение параметра **Минимальное число узлов** равным `0`.
1. Измените значение параметра **Максимальное число узлов** на `4`.
1. Щелкните **Создать**.

Состояние кластера изменится на **Создание**.

>[!NOTE]
> В новом кластере нет узлов, поэтому плата за вычислительные ресурсы не взимается. Плата будет взиматься только за выполнение задания автоматического машинного обучения. После 120 секунд простоя кластер автоматически выполнит обратное масштабирование до 0.


## <a name="create-a-dataset"></a>Создание набора данных

В этом руководстве используется [набор данных Diabetes](https://www4.stat.ncsu.edu/~boos/var.select/diabetes.html). Этот набор данных доступен в [Открытых наборах данных Azure](https://azure.microsoft.com/services/open-datasets/).

Чтобы создать набор данных, в меню слева выберите **Наборы данных**. Затем щелкните **Создать набор данных**. Вы увидите следующие параметры:

:::image type="content" source="media/tutorial-power-bi/create-dataset.png" alt-text="Снимок экрана: создание набора данных.":::

Выберите **Из Открытых наборов данных**. Затем на странице **Создание набора данных из Открытых наборов данных** сделайте следующее:

1. С помощью строки поиска выполните поиск по запросу *diabetes*.
1. Выберите **Пример: Diabetes**.
1. Выберите **Далее**.
1. Присвойте набору данных имя *diabetes*.
1. Щелкните **Создать**.

Чтобы просмотреть данные, выберите набор данных и щелкните **Изучить**.

:::image type="content" source="media/tutorial-power-bi/explore-dataset.png" alt-text="Снимок экрана: изучение набора данных.":::

Данные содержат 10 базовых входных переменных (например, возраст, пол, индекс массы тела, среднее кровяное давление и шесть показателей сыворотки крови). Они также имеет одну целевую переменную с именем **Y**. Эта переменная представляет собой количественный показатель развития диабета за год в сравнении с исходным значением.

## <a name="create-an-automated-machine-learning-run"></a>Создание запуска автоматизированного машинного обучения

В [Студии машинного обучения Azure](https://ml.azure.com) в меню слева выберите **Автоматизированное машинное обучение**. Затем выберите **Новое выполнение автоматизированного машинного обучения**.

:::image type="content" source="media/tutorial-power-bi/create-new-run.png" alt-text="Снимок экрана: создание выполнения автоматизированного машинного обучения.":::

Затем выберите ранее созданный набор данных **diabetes**. После этого щелкните **Далее**.

:::image type="content" source="media/tutorial-power-bi/select-dataset.png" alt-text="Снимок экрана: выбор набора данных.":::
 
На странице **Настройка выполнения** сделайте следующее:

1. В разделе **Имя эксперимента** выберите **Создать**.
1. Присвойте эксперименту имя.
1. В поле **Целевой столбец** выберите **Y**.
1. В поле **Выберите вычислительный кластер** выберите созданный ранее вычислительный кластер. 

Заполненная форма должна выглядеть следующим образом:

:::image type="content" source="media/tutorial-power-bi/configure-automated.png" alt-text="Снимок экрана: настройка автоматизированного машинного обучения":::.

Наконец, выберите задачу машинного обучения. В нашем случае это будет **Регрессия**.

:::image type="content" source="media/tutorial-power-bi/configure-task.png" alt-text="Снимок экрана: настройка задачи.":::

Нажмите кнопку **Готово**.

> [!IMPORTANT]
> Для обучения 100 моделей автоматизированному машинному обучению потребуется около 30 минут.

## <a name="deploy-the-best-model"></a>Развертывание лучшей модели

Когда задание автоматизированного машинного обучения завершится, вы сможете просмотреть список всех моделей машинного обучения, которые были использованы, выбрав вкладку **Модели**. Модели упорядочены по производительности — первой отображается наиболее производительная модель. После выбора лучшей модели активируется кнопка **Развернуть**.

:::image type="content" source="media/tutorial-power-bi/list-models.png" alt-text="Снимок экрана: список моделей.":::

Выберите **Развернуть**, чтобы открыть окно **Развертывание модели**.

1. Присвойте службе модели имя *diabetes-model*.
1. Выберите **Служба контейнеров Azure**.
1. Выберите **Развернуть**.

Должно отобразиться сообщение о том, что модель успешно развернута.

## <a name="next-steps"></a>Дальнейшие действия

Из этого руководства вы узнали, как обучить и развернуть модель машинного обучения с помощью автоматизированного машинного обучения. В следующем руководстве показано, как использовать (оценивать) эту модель в Power BI.

> [!div class="nextstepaction"]
> [Учебник. Использование модели в Power BI](/power-bi/connect-data/service-aml-integrate?context=azure/machine-learning/context/ml-context)
