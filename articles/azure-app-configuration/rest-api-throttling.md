---
title: Настройка приложений Azure REST API регулирование
description: Справочные страницы для понимания регулирования при использовании конфигурации приложения Azure REST API
author: AlexandraKemperMS
ms.author: alkemper
ms.service: azure-app-configuration
ms.topic: reference
ms.date: 08/17/2020
ms.openlocfilehash: b4472fdcacfe5b62c0cded089224c6d41e32f47d
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "96932444"
---
# <a name="throttling"></a>Регулирование

Хранилища конфигурации имеют ограничения на запросы, которые они могут обслуживать. Все запросы, превышающие выделенную квоту для хранилища конфигурации, получат ответ HTTP 429 (слишком много запросов).

Регулирование делится на различные политики квот:

- **Всего запросов** — общее количество запросов
- **Общая пропускная способность** — исходящие данные в байтах
- **Хранилище** — общий объем хранилища данных пользователя в байтах

## <a name="handling-throttled-responses"></a>Обработка регулируемых откликов

При достижении предельного значения скорости для данной квоты сервер будет отвечать на последующие запросы этого типа с кодом состояния _429_ . Ответ _429_ будет содержать заголовок _Retry-After-MS_ , предоставляющий клиенту предполагаемое время ожидания (в миллисекундах), которое позволяет получить квоту запроса.

```http
HTTP/1.1 429 (Too Many Requests)
retry-after-ms: 10
Content-Type: application/problem+json; charset=utf-8
```

```json
{
  "type": "https://azconfig.io/errors/too-many-requests",
  "title": "Resource utilization has surpassed the assigned quota",
  "policy": "Total Requests",
  "status": 429
}
```

В приведенном выше примере клиент превысил разрешенную квоту и перед выполнением дальнейших запросов рекомендуется замедлить и подождать 10 миллисекунд. Клиенты должны также учитывать прогрессивную откладывание.

## <a name="other-retry"></a>Другая повторная попытка

Служба может выявление других ситуаций, кроме регулирования, требующих повторной попытки клиента (например, служба 503 недоступна). Во всех таких случаях `retry-after-ms` будет указан заголовок ответа. Чтобы повысить надежность, клиенту рекомендуется следовать предложенному интервалу и выполнить повторную попытку.

```http
HTTP/1.1 503 Service Unavailable
retry-after-ms: 787
```
