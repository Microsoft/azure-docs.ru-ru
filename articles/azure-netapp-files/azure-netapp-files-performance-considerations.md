---
title: Рекомендации по производительности для Azure NetApp Files | Документация Майкрософт
description: Сведения о производительности для Azure NetApp Files, включая отношения квот и ограничения пропускной способности, а также динамическое увеличение и уменьшение квоты тома.
services: azure-netapp-files
documentationcenter: ''
author: b-juche
manager: ''
editor: ''
ms.assetid: ''
ms.service: azure-netapp-files
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 02/19/2021
ms.author: b-juche
ms.openlocfilehash: f963c87148c08a4855befc5afb79d9c5ea0f4481
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101713394"
---
# <a name="performance-considerations-for-azure-netapp-files"></a>Рекомендации по ускорению Azure NetApp Files

[Ограничение пропускной способности](azure-netapp-files-service-levels.md) для тома с автоматическим качеством определяется сочетанием квоты, назначенной тому и уровнем обслуживания. Для томов с ручным QoS ограничение пропускной способности можно определить по отдельности. При создании планов производительности, касающихся Azure NetApp Files, необходимо ознакомиться с некоторыми соображениями. 

## <a name="quota-and-throughput"></a>Квота и пропускная способность  

Ограничение пропускной способности — это только один определитель реальной производительности, который будет реализован.  

Типичные рекомендации по производительности хранилища, в том числе сочетание операций чтения и записи, размер передачи, случайные или последовательные шаблоны, а также многие другие факторы влияют на общую производительность.  

Максимальная пропускная способность, которая наблюдалась при тестировании, — 4 500 MiB/с.  На уровне хранилища уровня "Премиум" Автоматическая квота для тома QoS, равная 70,31 Тиб, обеспечит максимально высокую пропускную способность, достаточную для достижения этого уровня производительности.  

В случае с автоматическими томами качества обслуживания, если вы планируете назначить объемы квоты тома свыше 70,31 Тиб, для хранения дополнительных данных может быть назначена дополнительная квота. Однако добавленная квота не приведет к увеличению реальной пропускной способности.  

То же самое увеличение пропускной способности применяется к томам с помощью QoS вручную. Максимальная пропускная способность может быть назначена тому 4 500 MiB/с.

## <a name="automatic-qos-volume-quota-and-throughput"></a>Автоматическая квота и пропускная способность для тома QoS

В этом разделе описывается управление квотами и пропускная способность для томов с автоматическим типом качества обслуживания.

### <a name="overprovisioning-the-volume-quota"></a>Повторная инициализация квоты тома

Если производительность рабочей нагрузки ограничена пропускной способностью, можно настроить автоматическую квоту тома QoS, чтобы задать более высокий уровень пропускной способности и повысить производительность.  

Например, если автоматический том качества обслуживания на уровне хранилища Premium имеет только 500 гиб данных, но требует 128 MiB/с пропускной способностью, можно установить для квоты значение 2 Тиб, чтобы уровень пропускной способности был установлен соответствующим образом (64 MiB/s за ТБ * 2 Тиб = 128 MiB/s).  

Если вы постоянно намерены подготавливаете том для достижения более высокой пропускной способности, попробуйте использовать вручную тома качества обслуживания или использовать более высокий уровень обслуживания.  В приведенном выше примере можно достигнуть того же ограничения пропускной способности с половиной автоматической квоты на том, что используется уровень Ultra Storage (128 MiB/s на Тиб * 1 Тиб = 128 MiB/s).

### <a name="dynamically-increasing-or-decreasing-volume-quota"></a>Динамическое увеличение или уменьшение квоты тома

Если требования к производительности являются временными, или если в течение фиксированного периода времени возрастает потребность в производительности, можно динамически увеличить или уменьшить квоту тома, чтобы мгновенно настроить ограничение пропускной способности.  Обратите внимание на следующие моменты: 

* Квота тома может быть увеличена или уменьшена без необходимости приостановки операций ввода-вывода, а доступ к тому не прерывается или не затронут.  

    Квоту можно настроить во время активной транзакции ввода-вывода на томе.  Обратите внимание, что квота тома не может быть снижена ниже объема логических данных, хранящихся в томе.

* При изменении квоты тома соответствующее изменение ограничения пропускной способности практически мгновенно. 

    Изменение не прерывает или не влияет на доступ к тому или на операции ввода-вывода.  

* Для регулировки квоты тома может потребоваться изменение размера пула ресурсов.  

    Размер пула емкости можно настроить динамически и без влияния на доступность или операции ввода-вывода.

## <a name="manual-qos-volume-quota-and-throughput"></a>Квота и пропускная способность тома QoS вручную 

Если вы используете тома качества обслуживания вручную, вам не придется переподготавливать квоту тома, чтобы добиться более высокой пропускной способности, поскольку пропускную способность можно назначить каждому тому независимо. Тем не менее, необходимо убедиться, что пул емкости предварительно подготовлен с достаточной пропускной способностью для ваших потребностей в производительности. Пропускная способность пула ресурсов подготавливается в соответствии с ее размером и уровнем обслуживания. Дополнительные сведения см. в разделе [уровни обслуживания для Azure NetApp Files](azure-netapp-files-service-levels.md) .


## <a name="next-steps"></a>Дальнейшие действия

- [Калькулятор производительности Azure NetApp Files](https://cloud.netapp.com/azure-netapp-files/tco?hs_preview=tIKQbfoF-41214739590)
- [Уровни обслуживания для Azure NetApp Files](azure-netapp-files-service-levels.md)
- [Тесты производительности для Linux](performance-benchmarks-linux.md)
