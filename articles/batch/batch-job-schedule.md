---
title: Планирование заданий
description: Используйте планирование заданий для управления задачами.
ms.topic: how-to
ms.date: 02/20/2020
ms.custom: seodec18
ms.openlocfilehash: 7da3c78e00f5d7e41a5396603cf4885a50cb6e5c
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "89146357"
---
# <a name="schedule-jobs-for-efficiency"></a>Планирование заданий для повышения эффективности

Планирование пакетных заданий позволяет определить приоритеты заданий, которые планируется выполнить в первую очередь, учитывая при этом задачи, зависимые от других задач. Планирование заданий позволяет убедиться в том, что используется минимальный объем ресурсов. Узлы могут быть выведены из эксплуатации, если они не нужны, а задачи, зависящие от других задач, загружаются только во время оптимизации рабочих процессов. Допускается одновременное выполнение не более одного задания. Новое задание не выполняется до завершения предыдущего. Можно настроить автоматическое завершение задания. 

## <a name="benefit-of-job-scheduling"></a>Преимущества планирования заданий

Планирование заданий позволяет указать расписание для создания задания. Задачи, запланированные с помощью задачи диспетчера заданий, связаны с заданием. Задача диспетчера заданий создает задачи для задания. Для этого задача диспетчера заданий должна пройти проверку подлинности с использованием учетной записи пакетной службы. Используйте маркер доступа AZ_BATCH_AUTHENTICATION_TOKEN. Этот маркер разрешает доступ к оставшейся части задания. 

## <a name="use-the-portal-to-schedule-a-job"></a>Планирование задания с помощью портала

   1. Войдите на [портал Azure](https://portal.azure.com/).

   2. Выберите учетную запись пакетной службы, в которой нужно запланировать задания.

   3. Выберите **Добавить**, чтобы создать новое расписание заданий и заполнить **основную форму**.



![Планирование задания][1]

**Идентификатор расписания заданий**. Уникальный идентификатор для расписания этого задания.

**Отображаемое имя**. Отображаемое имя задания не обязательно должно быть уникальным, но его длина не должна превышать 1024 символа.

**Не выполнять до**. Задает самое раннее время для выполнения задания. Если не задать этот параметр, расписание будет готово к немедленному выполнению заданий.

**Не выполнять после**. Задания не выполняются после заданного в этом параметре времени. Если не указать время в этом параметре, будет создано повторяющееся расписание заданий, которое остается активным до тех пор, пока вы явным образом не завершите его.

**Интервал повторного выполнения**. Можно задать интервал между заданиями. Можно одновременно запланировать не более одного задания, поэтому если время создания в расписании задания наступает, пока предыдущее задание еще выполняется, то пакетная служба не создаст новое задание, пока не завершится предыдущее.  

**Окно запуска**. Здесь указывается интервал времени с того момента, когда расписание сообщит о необходимости создать задание, до момента его завершения. Если текущее задание не завершится в течение этого периода, то следующее задание не будет запущено.

В нижней части основной формы указывается пул, в котором должно выполняться задание. Для получения идентификатора пула выберите **Обновить**. 

![Указание пула][2]


**Идентификатор пула**. Укажите пул, в котором будет выполняться задание.

**Задача настройки задания**. Выберите **Обновить**, чтобы присвоить имя задаче диспетчера заданий, а также задаче подготовки и выпуска заданий (если используются).

**Приоритет**. Присвойте заданию приоритет.

**Максимальное время по часам**. Задайте максимальное время, в течение которого может выполняться задание. Если оно не завершается в течение заданного интервала времени, пакетная служба завершает его принудительно. Если этот параметр не задан, время выполнения задания не ограничено.

**Максимальное число повторных попыток выполнения задачи**. Укажите количество повторных попыток выполнения задачи (не более четырех). Это значение не равно количеству повторных попыток вызова API.

**При завершении всех задач**. По умолчанию действие не выполняется.

**При сбое задачи**. По умолчанию действие не выполняется. Задача завершается ошибкой, если достигнуто максимальное число повторных попыток или при запуске задачи произошла ошибка. 

Если после выбора команды **Сохранить** вы переходите в раздел **Расписания заданий** в левой части меню навигации, можно отслеживать выполнение задания, выбрав команду **Сведения о выполнении**.


## <a name="for-more-information"></a>Дополнительные сведения

Сведения об управлении заданием с помощью Azure CLI см. в разделе [Пакетное задание AZ — Расписание](/cli/azure/batch/job-schedule).

## <a name="next-steps"></a>Дальнейшие действия

[Создание зависимостей для выполнения задач, которые зависят от других задач](batch-task-dependencies.md).





[1]: ./media/batch-job-schedule/add_job_schedule-02.png
[2]: ./media/batch-job-schedule/add_job_schedule-03.png


