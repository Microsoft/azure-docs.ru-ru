---
title: Событие сбоя расписания задачи пакетной службы Azure
description: Ссылка для события сбоя расписания задачи пакетной службы. Это событие создается, когда не удалось запланировать задачу и будет повторена позже.
ms.topic: reference
ms.date: 09/20/2020
ms.openlocfilehash: 549281d2b2c371e8f09c584e771cf44f7abc8a00
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "91852190"
---
# <a name="task-schedule-fail-event"></a>Событие сбоя расписания задач

 Это событие создается, когда не удалось запланировать задачу и будет повторена позже. Это временный сбой при планировании задач из-за ограничения ресурсов, например недостаточного количества слотов, доступных на узлах для выполнения задачи с `requiredSlots` указанным.

 В следующем примере показан текст события сбоя расписания задачи.

```
{
    "jobId": "job-01",
    "id": "task-01",
    "taskType": "User",
    "systemTaskVersion": 665378862,
    "requiredSlots": 1,
    "nodeInfo": {
        "poolId": "pool-01",
        "nodeId": " "
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 0
    },
    "schedulingError": {
        "category": "UserError",
        "code": "JobPreparationTaskFailed",
        "message": "Task cannot run because the job preparation task failed on node"
    }
}
```

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`jobId`|Строка|Идентификатор задания, содержащего задачу.|
|`id`|Строка|Идентификатор задачи.|
|`taskType`|Строка|Тип задачи. Может быть установлено значение "JobManager", указывающее, что это задача диспетчера заданий, или значение "User", указывающее, что задача не относится к диспетчеру заданий. Это событие не создается для задач подготовки задания, задачи выпуска задания или задач запуска.|
|`systemTaskVersion`|Int32|Это внутренний счетчик повторных попыток для задачи. Пакетная служба может повторить попытку выполнения задачи для преодоления временных неполадок. В таким неполадкам относятся внутренние ошибки планирования и попытки восстановления из вычислительных узлов в неисправном состоянии.|
|`requiredSlots`|Int32|Необходимые слоты для выполнения задачи.|
|[`nodeInfo`](#nodeInfo)|Сложный тип|Содержит сведения о вычислительном узле, где выполнялась задача.|
|[`multiInstanceSettings`](#multiInstanceSettings)|Сложный тип|Указывает, что задача включает в себя несколько экземпляров и требует несколько вычислительных узлов.  Подробные сведения см. в разделе [`multiInstanceSettings`](/rest/api/batchservice/get-information-about-a-task).|
|[`constraints`](#constraints)|Сложный тип|Ограничения выполнения, применяемые к этой задаче.|
|[`schedulingError`](#schedulingError)|Сложный тип|Содержит сведения об ошибке планирования задачи.|

###  <a name="nodeinfo"></a><a name="nodeInfo"></a> nodeInfo

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`poolId`|Строка|Идентификатор пула, где выполнялась задача.|
|`nodeId`|Строка|Идентификатор узла, где выполнялась задача.|

###  <a name="multiinstancesettings"></a><a name="multiInstanceSettings"></a> multiInstanceSettings

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`numberOfInstances`|Int32|Число вычислительных узлов, необходимых задаче.|

###  <a name="constraints"></a><a name="constraints"></a> constraints

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`maxTaskRetryCount`|Int32|Максимальное количество повторных попыток для задачи. Пакетная служба пытается выполнить задачу повторно, если ее код выхода имеет ненулевое значение.<br /><br /> Обратите внимание, что это значение определяет количество повторных попыток. Пакетная служба попытается выполнить задачу один раз, а затем будет предпринимать повторные попытки вплоть до этого предела. Например, если максимальное число повторных попыток равно 3, пакетная служба пытается выполнить задачу до 4 раз (одна начальная попытка и 3 повторных).<br /><br /> Если максимальное число повторных попыток равно 0, пакетная служба не пытается выполнить задачи повторно.<br /><br /> Если максимальное число повторных попыток равно –1, пакетная служба может повторять попытки сколько угодно.<br /><br /> Значение по умолчанию — 0 (без повторных попыток).|


###  <a name="schedulingerror"></a><a name="schedulingError"></a> счедулинжеррор

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`category`|Строка|Категория ошибки.|
|`code`|Строка|Идентификатор для ошибки планирования задач. Коды являются инвариантными и предназначены для использования программными средствами.|
|`message`|Строка|Сообщение с описанием ошибки планирования задач, которое должно быть подходящим для вывода в пользовательском интерфейсе.|
