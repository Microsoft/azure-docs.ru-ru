---
title: Области шифрования для хранилища BLOB-объектов (Предварительная версия)
description: Области шифрования обеспечивают возможность управлять шифрованием на уровне контейнера или отдельного большого двоичного объекта. Области шифрования можно использовать для создания безопасных границ между данными, которые находятся в одной учетной записи хранения, но принадлежат разным клиентам.
services: storage
author: tamram
ms.service: storage
ms.date: 03/05/2021
ms.topic: conceptual
ms.author: tamram
ms.reviewer: ozgun
ms.subservice: common
ms.openlocfilehash: 35395a30f7d58b9edb3aa7622a35e8c4a62dc76f
ms.sourcegitcommit: f7eda3db606407f94c6dc6c3316e0651ee5ca37c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "102211368"
---
# <a name="encryption-scopes-for-blob-storage-preview"></a>Области шифрования для хранилища BLOB-объектов (Предварительная версия)

Области шифрования обеспечивают возможность управлять шифрованием на уровне контейнера или отдельного большого двоичного объекта. Области шифрования можно использовать для создания безопасных границ между данными, которые находятся в одной учетной записи хранения, но принадлежат разным клиентам.

По умолчанию учетная запись хранения шифруется с помощью ключа, относящегося ко всей учетной записи хранения. С помощью области шифрования можно указать, что один или несколько контейнеров шифруются с помощью ключа, относящегося только к этим контейнерам.

Вы можете использовать ключи, управляемые корпорацией Майкрософт, или управляемые клиентом ключи, хранящиеся в Azure Key Vault, чтобы защитить и контролировать доступ к ключу, который шифрует ваши данные. Различные области шифрования в одной и той же учетной записи хранения могут использовать управляемые корпорацией Майкрософт ключи.

После создания области шифрования можно указать эту область шифрования в запросе для создания контейнера или большого двоичного объекта. Дополнительные сведения о создании области шифрования см. в статье [Создание и управление областями шифрования (Предварительная версия)](encryption-scope-manage.md).

> [!IMPORTANT]
> Области шифрования в настоящее время доступны в **предварительной версии**. Ознакомьтесь с [дополнительными условиями использования Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/) предварительных версий для юридических условий, которые относятся к функциям Azure, которые доступны в бета-версии, предварительном просмотре или еще не включены в общедоступную версию.
>
> Чтобы избежать непредвиденных затрат, не забудьте отключить все области шифрования, которые в настоящее время не нужны.
>
> Области шифрования не поддерживаются для учетных записей геоизбыточного хранилища с доступом на чтение (RA-GRS) или геоизбыточного хранилища (RA-ГЗРС) с доступом на чтение во время предварительной версии.

[!INCLUDE [storage-data-lake-gen2-support](../../../includes/storage-data-lake-gen2-support.md)]

## <a name="create-a-container-or-blob-with-an-encryption-scope"></a>Создание контейнера или большого двоичного объекта с областью шифрования

Большие двоичные объекты, созданные в области шифрования, шифруются ключом, указанным для этой области. Можно указать область шифрования для отдельного большого двоичного объекта при создании большого двоичного объекта или указать область шифрования по умолчанию при создании контейнера. Если на уровне контейнера задана область шифрования по умолчанию, все большие двоичные объекты в этом контейнере шифруются с помощью ключа, связанного с областью по умолчанию.

При создании большого двоичного объекта в контейнере с областью шифрования по умолчанию можно указать область шифрования, которая переопределяет область шифрования по умолчанию, если контейнер настроен для разрешения переопределений области шифрования по умолчанию. Чтобы предотвратить переопределение области шифрования по умолчанию, настройте контейнер для запрета переопределений для отдельного большого двоичного объекта.

Операции чтения большого двоичного объекта, принадлежащего к области шифрования, происходят прозрачно, пока область шифрования не отключена.

## <a name="disable-an-encryption-scope"></a>Отключение области шифрования

При отключении области шифрования все последующие операции чтения или записи, выполненные с помощью области шифрования, завершатся ошибкой HTTP с кодом 403 (запрещено). При повторном включении области шифрования операции чтения и записи будут выполняться нормально.

Если область шифрования отключена, плата за нее больше не взимается. Отключите все области шифрования, которые не требуются, чтобы избежать ненужных расходов.

Если область шифрования защищена ключами, управляемыми клиентом, то можно также удалить соответствующий ключ в хранилище ключей, чтобы отключить область шифрования. Помните, что управляемые клиентом ключи защищаются с помощью обратимого удаления и очистки защиты в хранилище ключей, а удаленный ключ зависит от поведения, определенного для этих свойств. Дополнительные сведения см. в одном из следующих разделов документации по Azure Key Vault:

- [Как использовать обратимое удаление в Key Vault с помощью PowerShell](../../key-vault/general/key-vault-recovery.md)
- [Как использовать обратимое удаление в Key Vault с помощью интерфейса командной строки](../../key-vault/general/key-vault-recovery.md)

> [!NOTE]
> Невозможно удалить область шифрования.

## <a name="next-steps"></a>Дальнейшие действия

- [Шифрование службы хранилища Azure для неактивных данных](../common/storage-service-encryption.md)
- [Создание и управление областями шифрования (Предварительная версия)](encryption-scope-manage.md)
- [Управляемые клиентом ключи для шифрования службы хранилища Azure](../common/customer-managed-keys-overview.md)
- [Что такое хранилище ключей Azure?](../../key-vault/general/overview.md)