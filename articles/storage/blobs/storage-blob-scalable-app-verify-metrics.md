---
title: Проверка метрик пропускной способности и задержки для учетной записи хранения на портале Azure | Документация Майкрософт
description: Узнайте, как проверить метрики пропускной способности и задержки для учетной записи хранения на портале.
author: roygara
ms.service: storage
ms.topic: tutorial
ms.date: 02/20/2018
ms.author: rogarana
ms.subservice: blobs
ms.openlocfilehash: 1bec42dabde64fed8126e47e39f19536b28014f1
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2021
ms.locfileid: "101714839"
---
# <a name="verify-throughput-and-latency-metrics-for-a-storage-account"></a>Проверка метрик пропускной способности и задержки для учетной записи хранения

Это руководство является четвертой и последней частью цикла. В предыдущих руководствах вы узнали, как отправлять большие объемы случайных данных в учетную запись хранения Azure и скачивать их. В этом руководстве вы узнаете, как использовать метрики, чтобы получать сведения о пропускной способности и задержке на портале Azure.

В четвертой части цикла вы узнаете, как выполнять такие задачи:

> [!div class="checklist"]
> * Настройка диаграмм на портале Azure.
> * Проверка метрик пропускной способности и задержки

[Метрики службы хранилища Azure](./monitor-blob-storage.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) используют Azure Monitor для предоставления общего представления о производительности и доступности учетной записи хранения.

## <a name="configure-metrics"></a>Настройка метрик

В разделе **Параметры** вашей учетной записи хранения выберите **Метрики**.

Выберите большой двоичный объект в раскрывающемся списке **Sub service** (Подчиненная служба).

В разделе **Metric** (Метрика) выберите одну из метрик в приведенной ниже таблице.

Следующие метрики дадут вам представление о задержке и пропускной способности приложения. Метрики, настраиваемые на портале, являются средними значениями за одну минуту. Если транзакция завершается за 30 секунд, для получения среднего значения эти данные делятся на 2. В приложении операции передачи и скачивания были назначены на определенное время. Вам были предоставлены выходные данные о фактическом времени, потребовавшемся для выполнения этих операций. Чтобы полностью понять показатели использования пропускной способности, эти сведения можно использовать в сочетании с метриками портала.

|Метрика|Определение|
|---|---|
|**Сквозная задержка успешного запроса**|Средняя совокупная задержка успешных запросов к службе хранения или указанной операции API. Это значение включает необходимое время обработки в пределах службы хранилища Azure для считывания запроса, отправки ответа и получения подтверждения ответа.|
|**Серверная задержка успешного запроса**|Среднее время, используемое для обработки успешного запроса службы хранилища Azure. Это значение не включает в себя сетевую задержку, указанную в метрике SuccessE2ELatency. |
|**Транзакции**|Количество запросов к службе хранения или указанной операции API. Это число включает успешные и неудачные запросы, а также запросы, вызвавшие ошибку. В этом примере для размера блока было установлено значение 100 МБ. В этом случае каждый блок размером 100 МБ считается транзакцией.|
|**Входящий трафик**|Объем входящих данных. Это количество включает входящий трафик из внешнего клиента в службу хранилища Azure, а также входящий трафик в пределах Azure. |
|**Исходящий трафик**|Объем исходящих данных. Это количество включает исходящий трафик из внешнего клиента в службу хранилища Azure, а также исходящий трафик в пределах Azure. В результате это количество не отражает исходящий трафик для тарификации. |

Выберите **Last 24 hours (Automatic)** (Последние 24 часа (автоматически)) в разделе **Время**. Выберите **Последний час** и **минуту** в пункте **Time granularity** (Степень детализации времени) и нажмите кнопку **Применить**.

![Метрики учетной записи хранения](./media/storage-blob-scalable-app-verify-metrics/figure1.png)

Диаграммам можно назначить несколько метрик, но в таком случае их нельзя группировать по измерениям.

## <a name="dimensions"></a>Измерения

[Измерения](./monitor-blob-storage-reference.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json#metrics-dimensions) используются, чтобы представить на диаграммах более подробные сведения. Различные метрики имеют разные измерения. Одно из доступных измерений — **Имя API**. Это измерение разделяет диаграмму на несколько отдельных вызовов API. На первом изображении ниже показан пример диаграммы с общим количеством транзакций для учетной записи хранения. На втором изображении показана та же диаграмма, но с выбранным измерением "Имя API". Как видно, каждая транзакция предоставляет дополнительные сведения о количестве вызовов, выполненных определенным API.

![Метрики учетной записи хранения — транзакции без измерения](./media/storage-blob-scalable-app-verify-metrics/transactionsnodimensions.png)

![Метрики учетной записи хранения — транзакции](./media/storage-blob-scalable-app-verify-metrics/transactions.png)

## <a name="clean-up-resources"></a>Очистка ресурсов

Ставшие ненужными группу ресурсов, виртуальную машину и все связанные ресурсы можно удалить, выполнив следующую команду. Чтобы сделать это, выберите группу ресурсов для виртуальной машины и щелкните "Удалить".

## <a name="next-steps"></a>Дальнейшие действия

В четвертой части этой серии руководств вы узнали, как просматривать метрики для примера решения, в частности как выполнить следующие действия:

> [!div class="checklist"]
> * Настройка диаграмм на портале Azure.
> * Проверка метрик пропускной способности и задержки

Перейдите по ссылке, чтобы просмотреть готовые хранилища.

> [!div class="nextstepaction"]
> [Примеры Azure CLI для хранилища BLOB-объектов](storage-samples-blobs-cli.md)

[previous-tutorial]: storage-blob-scalable-app-download-files.md