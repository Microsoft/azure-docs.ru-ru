---
title: azcopy login | Документация Майкрософт
description: В этой статье содержатся справочные сведения о команде azcopy Login.
author: normesta
ms.service: storage
ms.topic: reference
ms.date: 07/24/2020
ms.author: normesta
ms.subservice: common
ms.reviewer: zezha-msft
ms.openlocfilehash: e4740870dd2d9748aad55150ce1946e3eb666619
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98878364"
---
# <a name="azcopy-login"></a>azcopy login

Выполняет вход в Azure Active Directory для доступа к ресурсам службы хранилища Azure.

## <a name="synopsis"></a>Краткий обзор

Войдите в Azure Active Directory, чтобы получить доступ к ресурсам службы хранилища Azure.

Для авторизации учетной записи хранения Azure необходимо назначить роль **участника данных BLOB-объекта хранилища** учетной записи пользователя в контексте учетной записи хранения, родительской группы ресурсов или родительской подписки.

Эта команда кэширует зашифрованные данные входа для текущего пользователя с помощью встроенных механизмов операционной системы.

> [!IMPORTANT]
> Если задать переменную среды с помощью командной строки, эта переменная будет доступна для чтения в журнале командной строки. Рассмотрите возможность очистки переменных, содержащих учетные данные из журнала командной строки. Чтобы переменные отображались в журнале, можно использовать сценарий, чтобы запросить у пользователя учетные данные и задать переменную среды.

```azcopy
azcopy login [flags]
```

## <a name="related-conceptual-articles"></a>Связанные концептуальные статьи

- [Начало работы с AzCopy](storage-use-azcopy-v10.md)
- [Перенос данных с помощью AzCopy и хранилища BLOB-объектов](./storage-use-azcopy-v10.md#transfer-data)
- [Перенос данных с помощью AzCopy и хранилища файлов](storage-use-azcopy-files.md)
- [Configure, optimize, and troubleshoot AzCopy](storage-use-azcopy-configure.md) (Настройка, оптимизация и устранение неполадок с AzCopy)

## <a name="examples"></a>Примеры

Войдите в интерактивном режиме, указав для идентификатора клиента AAD по умолчанию значение Common:

```azcopy
azcopy login
```

Войдите в интерактивном режиме с указанным ИДЕНТИФИКАТОРом клиента:

```azcopy
azcopy login --tenant-id "[TenantID]"
```

Войдите в систему, используя назначенное системой удостоверение виртуальной машины (ВМ):

```azcopy
azcopy login --identity
```

Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор клиента для удостоверения службы:
  
```azcopy
azcopy login --identity --identity-client-id "[ServiceIdentityClientID]"
```
 
Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор объекта для удостоверения службы:

```azcopy
azcopy login --identity --identity-object-id "[ServiceIdentityObjectID]"
```

Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор ресурса для удостоверения службы:
 
```azcopy
azcopy login --identity --identity-resource-id "/subscriptions/<subscriptionId>/resourcegroups/myRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myID"
```

Войдите в качестве субъекта-службы с помощью секрета клиента: задайте для переменной среды AZCOPY_SPA_CLIENT_SECRET секрет клиента для проверки подлинности субъекта-службы на основе секрета.

```azcopy
azcopy login --service-principal --application-id <your service principal's application ID>
```

Войдите в качестве субъекта-службы с помощью сертификата и его пароля:

Задайте для переменной среды AZCOPY_SPA_CERT_PASSWORD пароль сертификата для проверки подлинности субъекта-службы на основе сертификата:

```azcopy
azcopy login --service-principal --certificate-path /path/to/my/cert --application-id <your service principal's application ID>
```

Рассматривать `/path/to/my/cert` как путь к файлу PEM или PKCS12. AzCopy не удается подключиться к системному хранилищу сертификатов для получения сертификата.

`--certificate-path` является обязательным при выполнении проверки подлинности субъекта-службы на основе сертификата.

## <a name="options"></a>Параметры

**--AAD — строка конечной точки** , используемая Azure Active Directoryой конечной точкой. Значение по умолчанию ( https://login.microsoftonline.com) является верным для глобального облака Azure. Задайте этот параметр при проверке подлинности в национальном облаке. Не требуется для Управляемое удостоверение службы.

**--Application-ID** строковый идентификатор приложения, которому назначено пользовательское удостоверение. Требуется для проверки подлинности субъекта-службы.

**—** путь к строке пути к сертификату для проверки подлинности имени участника-службы. Требуется для проверки подлинности субъекта-службы на основе сертификата.

**--**   Справка по `azcopy login` команде.

**--Identity**   Вход с использованием удостоверения виртуальной машины, также известного как управляемое удостоверение службы (MSI).

**--Identity-Client-ID** строка идентификатора клиента, которому назначено пользовательское удостоверение.

**--Identity-Object-ID** объект String, которому назначено пользовательское удостоверение.

**--Identity-Resource-id** строковый идентификатор ресурса, назначенного пользователю.

**--Service-Principal**   Войдите с помощью имени субъекта-службы (SPN), используя сертификат или секрет. Секрет клиента или пароль сертификата должны быть помещены в соответствующую переменную среды. Введите AzCopy env, чтобы просмотреть имена и описания переменных среды.

**— Строка идентификатора клиента** Azure Active Directory идентификатор клиента, используемый для интерактивного входа в устройство OAuth.

## <a name="options-inherited-from-parent-commands"></a>Параметры, унаследованные от родительских команд

|Параметр|Описание|
|---|---|
|--Cap-Мбит/с, с плавающей запятой|Скорость передачи с прописными буквами в мегабит в секунду. Посекундная пропускная способность может немного отличаться от ограничения. Если этот параметр имеет значение 0 или пропущен, пропускная способность не ограничена.|
|--строка выходного типа|Формат вывода команды. Среди вариантов: Text, JSON. Значение по умолчанию — "Text".|
|--Trusted-Microsoft-суффикс строка   |Указывает дополнительные суффиксы домена, в которых могут быть отправлены Azure Active Directory токены входа.  Значение по умолчанию — "*. Core.Windows.NET;*". core.chinacloudapi.cn; *. Core.cloudapi.de;*. core.usgovcloudapi.net ". Все перечисленные здесь значения добавляются к значениям по умолчанию. В целях безопасности следует размещать только Microsoft Azureные домены. Несколько записей разделяются точкой с запятой.|

## <a name="see-also"></a>См. также раздел

- [azcopy](storage-ref-azcopy.md)
