---
title: Шифрование службы хранилища Azure для неактивных данных
description: Служба хранилища Azure защищает данные, автоматически шифруя их перед сохранением в облаке. Вы можете использовать ключи, управляемые корпорацией Майкрософт, для шифрования данных в учетной записи хранения или управлять шифрованием с помощью собственных ключей.
services: storage
author: tamram
ms.service: storage
ms.date: 03/23/2021
ms.topic: conceptual
ms.author: tamram
ms.reviewer: ozgun
ms.subservice: common
ms.openlocfilehash: 0688e14b77d885132d6c3fbaa44bed117cc7cf9d
ms.sourcegitcommit: c8b50a8aa8d9596ee3d4f3905bde94c984fc8aa2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2021
ms.locfileid: "105641117"
---
# <a name="azure-storage-encryption-for-data-at-rest"></a>Шифрование службы хранилища Azure для неактивных данных

Служба хранилища Azure использует шифрование на стороне сервера (SSE) для автоматического шифрования данных при их сохранении в облаке. Шифрование службы хранилища Azure защищает ваши данные и помогает удовлетворить ваши обязательства по обеспечению безопасности и соответствия требованиям Организации.

## <a name="about-azure-storage-encryption"></a>О шифровании службы хранилища Azure

Данные в службе хранилища Azure шифруются и расшифровываются прозрачно с использованием 256-разрядного [шифрования AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), одним из наиболее подданных блоков блочных шифров и совместимым с FIPS 140-2. Шифрование службы хранилища Azure аналогично шифрованию BitLocker в Windows.

Шифрование службы хранилища Azure включено для всех учетных записей хранения, включая как диспетчер ресурсов, так и классические учетные записи хранения. Шифрование службы хранилища Azure не может быть отключено. Поскольку данные защищены по умолчанию, вам не нужно изменять код или приложения, чтобы воспользоваться преимуществами шифрования службы хранилища Azure.

Данные в учетной записи хранения шифруются независимо от уровня производительности ("Стандартный" или "Премиум"), уровня доступа ("горячий" или "холодного") или модели развертывания (Azure Resource Manager или классической версии). Все большие двоичные объекты на уровне архива также шифруются. Все параметры избыточности службы хранилища Azure поддерживают шифрование, и все данные в основном и дополнительном регионах шифруются при включенной георепликации. Все ресурсы службы хранилища Azure шифруются, включая большие двоичные объекты, диски, файлы, очереди и таблицы. Все метаданные объекта также шифруются. Дополнительные затраты на шифрование службы хранилища Azure отсутствуют.

Каждый блочный большой двоичный объект, добавочный большой двоичный объект или страничный BLOB-объект, записанный в службу хранилища Azure после 20 октября 2017, шифруется. Большие двоичные объекты, созданные до этой даты, продолжают шифроваться фоновым процессом. Чтобы принудительно выполнить шифрование большого двоичного объекта, созданного до 20 октября 2017, можно переписать большой двоичный объект. Сведения о проверке состояния шифрования большого двоичного объекта см. в разделе [Проверка состояния шифрования большого двоичного](../blobs/storage-blob-encryption-status.md)объекта.

Дополнительные сведения о криптографических модулях, лежащих в основе шифрования службы хранилища Azure, см. в разделе [API шифрования: следующее поколение](/windows/desktop/seccng/cng-portal).

Сведения о шифровании и управлении ключами для управляемых дисков Azure см. в статье [Шифрование управляемых дисков Azure на стороне сервера](../../virtual-machines/disk-encryption.md).

## <a name="about-encryption-key-management"></a>Об управлении ключами шифрования

По умолчанию данные в новой учетной записи хранения шифруются с помощью ключей, управляемых корпорацией Майкрософт. Вы можете продолжать использовать ключи, управляемые корпорацией Майкрософт, для шифрования данных, а также управлять шифрованием с помощью собственных ключей. Если вы решили управлять шифрованием с помощью собственных ключей, у вас есть два варианта. Можно использовать любой из типов управления ключами или и то, и другое.

- Вы можете указать *ключ, управляемый клиентом* , который будет использоваться для шифрования и расшифровки данных в хранилище BLOB-объектов и в службе файлов Azure. <sup>1, 2 ключи,</sup> управляемые клиентом, должны храниться в Azure Key Vault или Azure Key Vault управляемой аппаратной модели безопасности (HSM) (в предварительной версии). Дополнительные сведения о ключах, управляемых клиентом, см. в статье [Использование управляемых клиентом ключей для шифрования службы хранилища Azure](./customer-managed-keys-overview.md).
- Вы можете указать *предоставленный клиентом ключ* для операций с хранилищем BLOB-объектов. Клиент, выполняющий запрос на чтение или запись к хранилищу BLOB-объектов, может включать ключ шифрования в запрос, чтобы детально контролировать способ шифрования и расшифровки данных BLOB-объектов. Дополнительные сведения о ключах, предоставляемых клиентом, см. в разделе [Указание ключа шифрования для запроса к хранилищу BLOB-объектов](../blobs/encryption-customer-provided-keys.md).

В следующей таблице сравниваются параметры управления ключами для шифрования службы хранилища Azure.

| Параметр управления ключами | Ключи, управляемые Майкрософт | Ключи, управляемые клиентом | Ключи, предоставляемые клиентом |
|--|--|--|--|
| Операции шифрования и расшифровки | Azure | Azure | Azure |
| Поддерживаемые службы хранилища Azure | Все | Хранилище BLOB-объектов, файлы Azure<sup>1, 2</sup> | Хранилище BLOB-объектов |
| Хранилище ключей | Хранилище ключей (Майкрософт) | Azure Key Vault или Key Vault HSM | Собственное хранилище ключей клиента |
| Ответственность за смену ключей | Microsoft | Customer | Customer |
| Управление ключами | Microsoft | Customer | Customer |

<sup>1</sup> сведения о создании учетной записи, поддерживающей использование управляемых клиентом ключей с хранилищем очередей, см. в разделе [Создание учетной записи, которая поддерживает управляемые клиентом ключи для очередей](account-encryption-key-create.md?toc=%2fazure%2fstorage%2fqueues%2ftoc.json).<br />
<sup>2</sup> дополнительные сведения о создании учетной записи, поддерживающей использование управляемых клиентом ключей с хранилищем таблиц, см. в разделе [Создание учетной записи, которая поддерживает управляемые клиентом ключи для таблиц](account-encryption-key-create.md?toc=%2fazure%2fstorage%2ftables%2ftoc.json).

> [!NOTE]
> Ключи, управляемые корпорацией Майкрософт, поворачиваются соответствующим образом в соответствии с требованиями. Если у вас есть особые требования к смене ключей, корпорация Майкрософт рекомендует перейти на управляемые клиентом ключи, чтобы вы могли самостоятельно управлять вращением и проводить аудит.

## <a name="doubly-encrypt-data-with-infrastructure-encryption"></a>Удвоение шифрования данных с помощью шифрования инфраструктуры

Клиенты, которым требуется высокий уровень защиты данных, могут также включить 256-разрядное шифрование AES на уровне инфраструктуры службы хранилища Azure. Если включено шифрование инфраструктуры, данные в учетной записи хранения шифруются дважды &mdash; на уровне службы и один раз на уровне инфраструктуры &mdash; с двумя различными алгоритмами шифрования и двумя разными ключами. Двойное шифрование данных службы хранилища Azure позволяет защититься от ситуации, когда один из алгоритмов шифрования или ключей может быть скомпрометирован. В этом сценарии дополнительный уровень шифрования сохраняется для защиты данных.

Шифрование на уровне службы поддерживает использование ключей, управляемых корпорацией Майкрософт, или ключей, управляемых клиентом, с помощью Azure Key Vault. Шифрование на уровне инфраструктуры основано на ключах, управляемых корпорацией Майкрософт, и всегда использует отдельный ключ.

Дополнительные сведения о создании учетной записи хранения, которая обеспечивает шифрование инфраструктуры, см. в разделе [Создание учетной записи хранения с включенным шифрованием инфраструктуры для двойного шифрования данных](infrastructure-encryption-enable.md).

## <a name="next-steps"></a>Дальнейшие шаги

- [Что такое хранилище ключей Azure?](../../key-vault/general/overview.md)
- [Управляемые клиентом ключи для шифрования службы хранилища Azure](customer-managed-keys-overview.md)
- [Области шифрования для хранилища BLOB-объектов](../blobs/encryption-scope-overview.md)
- [Укажите ключ шифрования для запроса к хранилищу BLOB-объектов](../blobs/encryption-customer-provided-keys.md)
