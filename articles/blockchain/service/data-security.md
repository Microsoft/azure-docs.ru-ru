---
title: Безопасность службы Блокчейн Azure
description: Основные понятия безопасности и доступа к данным службы Блокчейн Azure
ms.date: 11/22/2019
ms.topic: conceptual
ms.reviewer: janders
ms.openlocfilehash: 989d9f2afad30517a85185878d694c0b6640e987
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "80879604"
---
# <a name="azure-blockchain-service-security"></a>Безопасность службы Блокчейн Azure

Служба Azure Блокчейн использует несколько возможностей Azure для обеспечения безопасности и доступности данных. Защита данных обеспечивается с помощью изоляции, шифрования и проверки подлинности.

## <a name="isolation"></a>Изоляция

Ресурсы службы Блокчейн Azure изолированы в частной виртуальной сети. Каждый узел транзакции и проверки является виртуальной машиной (ВМ). Виртуальные машины в одной виртуальной сети не могут напрямую взаимодействовать с виртуальными машинами в другой виртуальной сети. Изоляция гарантирует, что связь остается частной в пределах виртуальной сети. Дополнительные сведения об изоляции виртуальной сети Azure см. [в разделе изоляция в общедоступном облаке Azure](../../security/fundamentals/isolation-choices.md#networking-isolation).

![Схема виртуальной сети](./media/data-security/vnet.png)

## <a name="encryption"></a>Encryption

Пользовательские данные хранятся в службе хранилища Azure. Пользовательские данные шифруются при перемещении и неактивных данных для обеспечения безопасности и конфиденциальности. Дополнительные сведения см. в статье [руководство по безопасности службы хранилища Azure](../../storage/blobs/security-recommendations.md).

## <a name="authentication"></a>Аутентификация

Транзакции можно отправлять в узлы блокчейн через конечную точку RPC. Клиенты взаимодействуют с узлом транзакции, используя обратный прокси-сервер, который обрабатывает проверку подлинности пользователя и шифрует данные по протоколу TLS.

![Схема проверки подлинности](./media/data-security/authentication.png)

Существует три режима проверки подлинности для доступа RPC.

### <a name="basic-authentication"></a>Обычная проверка подлинности

Обычная проверка подлинности использует заголовок проверки подлинности HTTP, содержащий имя пользователя и пароль. Имя пользователя — это имя узла блокчейн. Пароль задается во время подготовки элемента или узла. Пароль можно изменить с помощью портал Azure или интерфейса командной строки.

### <a name="access-keys"></a>Ключи доступа

Ключи доступа используют строку, сформированную случайным образом, которая содержится в URL-адресе конечной точки. Для включения смены ключей можно использовать два ключа доступа. Ключи можно создать повторно из портал Azure и интерфейса командной строки.

### <a name="azure-active-directory"></a>Azure Active Directory

Azure Active Directory (Azure AD) использует механизм проверки подлинности на основе утверждений, при котором пользователь проходит проверку подлинности в Azure AD с помощью учетных данных пользователя Azure AD. Azure AD обеспечивает облачное управление удостоверениями и позволяет клиентам использовать единое удостоверение во всем корпоративном приложении и доступ к приложениям в облаке. Служба Azure Блокчейн интегрируется с Azure AD, включая Федерацию идентификации, единый вход и многофакторную проверку подлинности. Вы можете назначить пользователей, группы и роли приложений в Организации для доступа к членам и узлам блокчейн.

Прокси-сервер клиента Azure AD доступен на сайте [GitHub](https://github.com/Microsoft/azure-blockchain-connector/releases). Прокси клиента направляет пользователя на страницу входа в Azure AD и получает маркер носителя после успешной проверки подлинности. Затем пользователь подключает клиентское приложение Ethereum, например жес или Труффле, к конечной точке прокси-сервера клиента. Наконец, при отправке транзакции прокси клиента внедряет токен носителя в заголовок HTTP, а обратный прокси-сервер проверяет маркер с помощью протокола OAuth.

## <a name="keys-and-ethereum-accounts"></a>Ключи и учетные записи Ethereum

При подготовке члена службы Azure Блокчейн создается учетная запись Ethereum и пара открытого и закрытого ключей. Закрытый ключ используется для отправки транзакций в блокчейн. Учетная запись Ethereum — это последние 20 байт хэша открытого ключа. Учетная запись Ethereum также называется бумажником.

Пара закрытых и открытых ключей хранится как файл ключа в формате JSON. Закрытый ключ шифруется с помощью пароля, указанного при создании службы блокчейн.

Закрытые ключи используются для цифровой подписи транзакций. В частном блокчейна смарт-контракт, подписанный закрытым ключом, представляет удостоверение подписавшего. Чтобы проверить допустимость подписи, получатель может сравнить открытый ключ подписавший с адресом, вычисленным на основе подписи.

Ключи несчастливых используются для уникальной идентификации узла кворума. Ключи несчастливых создаются во время подготовки узла и указываются в параметре Приватефор закрытой транзакции в кворуме.

## <a name="next-steps"></a>Дальнейшие действия

См. статью [настройка Azure Active Directoryного доступа для службы Azure блокчейн](configure-aad.md).
