---
title: Новые возможности Заметки о выпуске — служба Блокчейн Azure
description: Узнайте о новых возможностях службы Azure Блокчейн, например о последних заметках о выпуске, версиях, известных проблемах и предстоящих изменениях.
ms.date: 06/30/2020
ms.topic: conceptual
ms.reviewer: ravastra
ms.openlocfilehash: 6a3113a2d28e704b188d701da13493ecd8263cab
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "94335032"
---
# <a name="whats-new-in-azure-blockchain-service"></a>Что нового в службе Azure Блокчейн?

> Получите уведомления о том, когда следует повторно посетить эту страницу для получения обновлений, скопировав и вставляя этот URL-адрес `https://docs.microsoft.com/api/search/rss?search=%22Release+notes+-+Azure+Blockchain+Service%22&locale=en-us` в [ ![ значок модуля чтения](./media/whats-new/feed-icon-16x16.png)](/api/search/rss?locale=en-us&search=%2522Release%2bnotes%2b-%2bAzure%2bBlockchain%2bService%2522)RSS канала RSS Reader.

Служба Azure Блокчейн получает усовершенствования на постоянной основе. Чтобы вы оставались в курсе последних разработок, в этой статье предоставлены такие сведения:

- Новые возможности
- Обновления версий
- Известные проблемы

---

## <a name="june-2020"></a>Июнь 2020 г.

### <a name="version-upgrades"></a>Обновления версий

- Обновление версии кворума до 2.6.0. В версии 2.6.0 можно отправить подписанные частные транзакции. Дополнительные сведения об отправке частных транзакций см. в [документации по API кворума](https://docs.goquorum.consensys.net/en/latest/Reference/APIs/ContractExtensionAPIs/#apis).
- Обновление версии Тессера до 0.10.5.

### <a name="contract-size-and-transaction-size-increased-to-128-kb"></a>Размер контракта и размер транзакции увеличились до 128 КБ

Тип: изменение конфигурации

Размер контракта (Макскодесизе) был увеличен до 128 КБ, чтобы можно было развернуть смарт-контракты большего размера. Кроме того, размер транзакции (Ткснсизелимит) увеличился до 128 КБ. Изменения конфигурации применяются к новым консорциумам, созданным в службе Azure Блокчейн после июня 19 2020.

### <a name="trietimeout-value-reduced"></a>Сокращение значения Триетимеаут

Тип: изменение конфигурации

Значение Триетимеаут было уменьшено таким образом, что состояние в памяти записывается на диск чаще. Более низкое значение обеспечивает более быстрое восстановление узла в редких случаях сбоя узла.

## <a name="may-2020"></a>Май 2020 г.

### <a name="version-upgrades"></a>Обновления версий

- Обновление версии Ubuntu до 18,04
- Обновление версии кворума до 2.5.0
- Обновление версии Тессера 0.10.4

### <a name="azure-blockchain-service-supports-sending-rawprivate-transactions"></a>Служба Azure Блокчейн поддерживает отправку транзакций Равпривате

Тип: функция

Клиенты могут подписывать частные транзакции за пределами учетной записи на узле.

### <a name="two-phase-member-provisioning"></a>Двухфазной подготовка участников

Тип: расширение

Два этапа помогают оптимизировать сценарии, в которых создается элемент в длинном существующем консорциуме. Инфраструктура участников подготовлена на первом этапе. На втором этапе элемент синхронизируется с блокчейн. Двухэтапный процесс подготовки помогает избежать сбоя при создании члена из-за истечения времени ожидания.

## <a name="known-issues"></a>Известные проблемы

### <a name="ethestimategas-function-throws-exception-in-quorum-v260"></a>Функция ETH. Естиматегас создает исключение в кворуме v 2.6.0

В кворуме 2.6.0 вызовы функции *ETH. естиматегас* без указания дополнительного параметра *значения* приводят к *сбою обработчика метода* . Команда кворума была уведомлена, а исправление ожидается в конце июля 2020. Можно использовать следующие обходные пути, пока не будет доступно исправление:

- Старайтесь не использовать *ETH. естиматегас* , так как это может повлиять на производительность. Дополнительные сведения о проблемах производительности ETH. Естиматегас см. в разделе [вызов функции ETH. естиматегас снижает производительность](#calling-ethestimategas-function-reduces-performance). Включить значение газа для каждой транзакции. Большинство библиотек вызывает ETH. Естиматегас, если значение газа не указано, что приводит к сбою кворума v 2.6.0.
- Если необходимо вызвать *ETH. естиматегас*, Группа кворума предложит передать *значение* дополнительного параметра *в качестве* обходного пути.

### <a name="mining-stops-if-fewer-than-four-validator-nodes"></a>Если меньше четырех проверяющих узлов, интеллектуальный анализ данных останавливается

В рабочих сетях должно быть по крайней мере четыре проверяющих узла. Кворум. чтобы обеспечить устойчивость к отказоустойчивости ИБФТ (3F + 1), требуется не менее четырех проверяющих узлов. Для получения четырех проверяющих узлов необходимо иметь по меньшей мере два узла уровня " *стандартный* " службы Azure блокчейн. Стандартный узел подготавливается с двумя проверяющими узлами.  

Если сеть Блокчейн в службе Блокчейн Azure не имеет четырех проверяющих узлов, то в сети может быть перестает возникать интеллектуальный анализ данных. Вы можете обнаружить, что интеллектуальный анализ данных остановлен, установив оповещение для обработанных блоков. В работоспособной сети обработанный блок будет 60 блоков на узел за пять минут.

В качестве меры по устранению рисков Группа обслуживания Azure Блокчейн должна перезапустить узел. Клиентам необходимо открыть запрос в службу поддержки, чтобы перезапустить узел. Команда службы Azure Блокчейн работает над обнаружением и исправлением проблем интеллектуального анализа данных автоматически.

Используйте уровень *Стандартный* для рабочих развертываний. Используйте уровень *Базовый* для разработки, тестирования и подтверждения концепций. Изменение ценовой категории "Базовый" и "Стандартный" после создания элемента не поддерживается.

### <a name="blockchain-data-manager-requires-standard-tier-node"></a>Диспетчер данных блокчейн требуется узел уровня "Стандартный"

Если вы используете Блокчейн Диспетчер данных, используйте уровень " *стандартный* ". Уровень " *базовый* " имеет только 4 ГБ памяти. Таким образом, невозможно масштабироваться на использование, необходимое для Блокчейн Диспетчер данных и других служб, работающих на нем.

Используйте уровень *Базовый* для разработки, тестирования и подтверждения концепций. Изменение ценовой категории "Базовый" и "Стандартный" после создания элемента не поддерживается.

### <a name="large-volume-of-unlock-account-calls-causes-geth-to-crash"></a>Большой объем разблокирования вызовов учетной записи вызывает сбой жес

Большой объем разблокирования вызовов учетной записи при отправке транзакции может вызвать сбой жес на узле транзакции. В результате необходимо отключить прием транзакций. В противном случае очередь ожидающих транзакций увеличивается.

Жес перезапускается автоматически в течение минуты. В зависимости от узла синхронизация может занять длительное время. Команда службы Azure Блокчейн включает функцию архивации, которая сокращает время синхронизации.

Для обнаружения сбоев жес можно проверить журналы на наличие сообщений об ошибках в сообщениях Блокчейн в журналах приложений. Можно также проверить, уменьшается ли количество обработанных блоков при увеличении количества ожидающих транзакций.

Чтобы устранить эту ошибку, отправьте подписанные транзакции вместо отправки неподписанных транзакций с помощью команды для разблокировки учетной записи. Для транзакций, которые уже подписаны извне, нет необходимости разблокирования учетной записи.

Если вы хотите отправлять неподписанные транзакции, разблокируйте учетную запись на бесконечное время, отправив 0 в качестве параметра времени в команде Unlock. Учетную запись можно заблокировать обратно после отправки всех транзакций.  

Ниже приведены параметры жес, используемые службой Блокчейн Azure. Эти параметры изменить нельзя.

- Период блокировки Стамбул: 5 с
- Предел газа для этажей: 700000000
- Ограничение ceil газа: 800000000

### <a name="large-volume-of-private-transactions-reduces-performance"></a>Большой объем частных транзакций снижает производительность

Если вы используете Azure Блокчейн уровня Basic и частные транзакции, Тессера может привести к сбою.

Чтобы обнаружить сбой Тессера, просмотрите журналы приложений Блокчейн и найдите сообщение `Tessera crashed. Restarting Tessera...` .

Служба Блокчейн Azure перезапускает Тессера при сбое. Перезапуск займет около минуты.

Используйте уровень " *стандартный* " при отправке большого объема частных транзакций. Используйте уровень *Базовый* для разработки, тестирования и подтверждения концепций. Изменение ценовой категории "Базовый" и "Стандартный" после создания элемента не поддерживается.

### <a name="calling-ethestimategas-function-reduces-performance"></a>Вызов функции ETH. Естиматегас снижает производительность

Многократное вызов функции *ETH. естиматегас* сокращает количество транзакций в секунду. Не используйте функцию *ETH. естиматегас* для каждой отправки транзакции. Функция *ETH. естиматегас* занимает много памяти.

По возможности используйте консервативное значение газа для отправки транзакций и сократите использование *ETH. естиматегас*.

### <a name="unbounded-loops-in-smart-contracts-reduces-performance"></a>Неограниченные циклы в интеллектуальных контрактах снижают производительность

Избегайте использования неограниченных циклов в смарт-контрактах, так как они могут снизить производительность. Дополнительные сведения см. в следующих ресурсах:

- [Избегайте неограниченных циклов](https://blog.b9lab.com/getting-loopy-with-solidity-1d51794622ad )
- [Рекомендации по обеспечению безопасности интеллектуального контракта](https://github.com/ConsenSys/smart-contract-best-practices)
- [Рекомендации по смарт-контрактам, предоставляемые кворумом](https://docs.goquorum.consensys.net/en/stable/Concepts/Security/Framework/DecentralizedApplication/SmartContractsSecurity/)
- [Рекомендации по ограничениям газа и циклам, обеспечиваемым прозрачностью](https://solidity.readthedocs.io/en/develop/security-considerations.html#gas-limit-and-loops)