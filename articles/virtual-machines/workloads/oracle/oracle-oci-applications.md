---
title: Архитектуры для развертывания приложений Oracle на виртуальных машинах Azure | Документация Майкрософт
description: Архитектуры приложений для развертывания приложений Oracle, включая E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft на Microsoft Azure виртуальных машинах с базами данных в Azure или в облачной инфраструктуре Oracle (OCI).
author: dbakevlar
ms.service: virtual-machines
ms.subservice: oracle
ms.collection: linux
ms.topic: article
ms.date: 07/18/2019
ms.author: kegorman
ms.openlocfilehash: 862bb886c7ec5dfd40c7acdbae2f70f6698a711b
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "101669927"
---
# <a name="architectures-to-deploy-oracle-applications-on-azure"></a>Архитектуры для развертывания приложений Oracle в Azure

Корпорация Майкрософт и Oracle работала вместе, чтобы позволить клиентам развертывать приложения Oracle, такие как Oracle E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft в облаке. С введением в предварительную версию [взаимодействия частных сетей](configure-azure-oci-networking.md) между Microsoft Azure и Oracle Cloud INFRASTRUCTURE (OCI) приложения Oracle теперь можно развернуть в Azure с помощью своих серверных баз данных в Azure или OCI. Приложения Oracle также можно интегрировать с Azure Active Directory, что позволяет настроить единый вход, чтобы пользователи могли входить в приложение Oracle, используя свои учетные данные Azure Active Directory (Azure AD).

OCI предлагает несколько вариантов базы данных Oracle для приложений Oracle, включая DBaaS, Ексадата облачную службу, Oracle RAC и инфраструктуру как услуга (IaaS). В настоящее время автономная база данных не является поддерживаемой серверной стороны для приложений Oracle.

Существует [несколько вариантов](oracle-overview.md) развертывания приложений Oracle в Azure, в том числе высокий уровень доступности и безопасный способ. Azure также предлагает [образы виртуальных машин базы данных Oracle](oracle-vm-solutions.md) , которые можно развернуть, если вы решили запускать приложения Oracle полностью в Azure.

В следующих разделах описаны рекомендации по архитектуре Майкрософт и Oracle для развертывания Oracle E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft в конфигурации кросс-Cloud или полностью в Azure. Корпорация Майкрософт и Oracle протестировали эти приложения и подтвердили, что производительность соответствует стандартам, установленным Oracle для этих приложений.

## <a name="architecture-considerations"></a>Рекомендации по архитектуре

Приложения Oracle состоят из нескольких служб, которые могут размещаться на одной или нескольких виртуальных машинах в Azure и (необязательно) в OCI. 

Экземпляры приложения можно настроить с помощью частных или общедоступных конечных точек. Корпорация Майкрософт и Oracle рекомендует настроить *виртуальную машину узла бастиона* с общедоступным IP-адресом в отдельной подсети для управления приложением. Затем следует назначить только частные IP-адреса другим компьютерам, включая уровень базы данных. 

При настройке приложения в архитектуре между облаками необходимо выполнить планирование, чтобы убедиться, что пространство IP-адресов в виртуальной сети Azure не пересекает пространство частных IP-адресов в сети OCI.

Для повышения безопасности настройте группы безопасности сети на уровне подсети, чтобы убедиться, что разрешен только трафик через определенные порты и IP-адреса. Например, компьютеры на среднем уровне должны принимать только трафик из виртуальной сети. Внешний трафик не должен достигать компьютеров среднего уровня напрямую.

Для обеспечения высокой доступности можно настроить избыточные экземпляры различных серверов в одной группе доступности или в разных зонах доступности. Зоны доступности позволяют достичь соглашения об уровне обслуживания на 99,99% времени, в то время как группы доступности позволяют достичь соглашения об уровне обслуживания 99,95% времени работы в регионе. Примеры архитектур, приведенные в этой статье, развертываются в двух зонах доступности.

При развертывании приложения с помощью межоблачного межсетевого соединения вы можете продолжать использовать существующий канал ExpressRoute для подключения среды Azure к локальной сети. Однако для соединения с вашим локальным сетевым подключением требуется отдельный канал ExpressRoute.

## <a name="e-business-suite"></a>E-Business Suite;

Oracle E-Business Suite (EBS) — это набор приложений, включая управление цепочкой поставок (SCM) и управление отношениями с клиентами (CRM). Чтобы воспользоваться преимуществами управляемого портфеля баз данных OCI, можно развернуть EBS с помощью межоблачного межплатформенного соединения между Microsoft Azure и OCI. В этой конфигурации уровни представления и приложения выполняются в Azure и на уровне базы данных в OCI, как показано на следующей схеме архитектуры (рис. 1).

![Архитектура в разных облаках E-Business Suite](media/oracle-oci-applications/ebs-arch-cross-cloud.png)

*Рис. 1. Архитектура межоблачного обслуживания E-Business Suite* 

В этой архитектуре виртуальная сеть в Azure подключается к виртуальной облачной сети в OCI с помощью межоблачного межплатформенного соединения. Уровень приложения настраивается в Azure, в то время как база данных настроена в OCI. Рекомендуется развертывать каждый компонент в своей подсети с группами безопасности сети, чтобы разрешить трафик только из конкретных подсетей на конкретных портах.

Архитектура также может быть адаптирована для развертывания полностью в Azure с высокодоступными базами данных Oracle, настроенными с помощью Oracle Data Guard в двух зонах доступности в регионе. На следующей схеме (рис. 2) приведен пример этого шаблона архитектуры:

![Архитектура "E-Business Suite только Azure"](media/oracle-oci-applications/ebs-arch-azure.png)

*Рис. 2. Архитектура E-Business Suite только Azure*

В следующих разделах описаны различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="application-middle-tier"></a>Уровень приложения (средний)

Уровень приложения изолирован в собственной подсети. Существует несколько виртуальных машин, настроенных для отказоустойчивости и упрощения управления исправлениями. Эти виртуальные машины могут поддерживаться общим хранилищем, которое предлагается Azure NetApp Files и Ultra SSDs. Такая конфигурация позволяет упростить развертывание исправлений без простоев. Компьютеры на уровне приложений должны иметь общедоступную подсистему балансировки нагрузки, чтобы запросы к уровню приложения EBS обрабатывались, даже если один из компьютеров уровня находится в режиме «вне сети» из-за сбоя.

### <a name="load-balancer"></a>Подсистема балансировки нагрузки

Балансировщик нагрузки Azure позволяет распределять трафик между несколькими экземплярами рабочей нагрузки для обеспечения высокой доступности. В этом случае настраивается общедоступная подсистема балансировки нагрузки, так как пользователям разрешен доступ к приложению EBS через Интернет. Балансировщик нагрузки распределяет нагрузку на оба компьютера среднего уровня. Для повышения безопасности разрешите трафик только от пользователей, обращающихся к системе из корпоративной сети, с помощью VPN-подключения типа "сеть — сеть" или ExpressRoute, а также групп безопасности сети.

### <a name="database-tier"></a>Уровень базы данных

На этом уровне размещается база данных Oracle и она разделяется на ее собственную подсеть. Рекомендуется добавить группы безопасности сети, которые допускают трафик только с уровня приложения на уровень базы данных для конкретного порта базы данных Oracle 1521.

Корпорация Майкрософт и Oracle рекомендуют настроить высокий уровень доступности. Высокая доступность в Azure может быть достигнута путем настройки двух баз данных Oracle в двух зонах доступности с помощью Oracle Data Guard или Oracle Database облачной службы Ексадата в OCI. При использовании Oracle Database Ексадата облачной службы база данных развертывается в двух подсетях. Вы также можете настроить Oracle Database в виртуальных машинах в OCI в двух доменах доступности с помощью Oracle Data Guard.


### <a name="identity-tier"></a>Уровень идентификации

Уровень удостоверений содержит виртуальную машину утверждения EBS. Утверждение EBS позволяет синхронизировать удостоверения из облачной службы удостоверений Oracle (ИДКС) и Azure AD. Утверждение EBS требуется, так как EBS не поддерживает протоколы единого входа, такие как SAML 2,0 или OpenID Connect Connect. Утверждение EBS использует маркер подключения OpenID Connect (созданный ИДКС), проверяет его, а затем создает сеанс для пользователя в EBS. 

Хотя эта архитектура показывает интеграцию ИДКС, единый доступ и единый вход Azure AD также можно включить с помощью диспетчера доступа Oracle с Oracle Internet Directory или Oracle Unified Directory. Дополнительные сведения см. в статье [развертывание Oracle EBS с помощью интеграции с идкс](https://cloud.oracle.com/iaas/whitepapers/deploy_ebusiness_suite_across_oci_azure_sso_idcs.pdf) или [развертывание Oracle EBS с интеграцией ОАМ](https://cloud.oracle.com/iaas/whitepapers/deploy_ebusiness_suite_across_oci_azure_sso_oam.pdf).

Для обеспечения высокой доступности рекомендуется развертывать избыточные серверы утверждения EBS в нескольких зонах доступности с подсистемой балансировки нагрузки перед ней.

После установки инфраструктуры можно установить E-Business Suite, следуя руководству по установке, предоставленному Oracle.

## <a name="jd-edwards-enterpriseone"></a>JD Edwards EnterpriseOne;

JD Edwards EnterpriseOne Oracle — это интегрированный набор комплексных приложений для планирования корпоративных ресурсов. Это многоуровневое приложение, которое можно настроить с помощью серверной части базы данных Oracle или SQL Server. В этом разделе рассматриваются сведения о развертывании JD Edwards EnterpriseOne с серверной службой базы данных Oracle в OCI или в Azure.

В следующей рекомендуемой архитектуре (рис. 3) уровни администрирования, представления и среднего уровня развертываются в виртуальной сети в Azure. База данных развернута в виртуальной облачной сети в OCI.

Как и в случае с электронной коммерцией, можно настроить дополнительный уровень бастиона для безопасного администрирования. Используйте узел виртуальной машины бастиона в качестве сервера переходов для доступа к экземплярам приложения и базы данных.

![Архитектура JD Edwards EnterpriseOne в разных облаках](media/oracle-oci-applications/jdedwards-arch-cross-cloud.png)

*Рис. 3. JD Edwards EnterpriseOne архитектура между облаками*

В этой архитектуре виртуальная сеть в Azure подключается к виртуальной облачной сети в OCI с помощью межоблачного межплатформенного соединения. Уровень приложения настраивается в Azure, в то время как база данных настроена в OCI. Рекомендуется развертывать каждый компонент в своей подсети с группами безопасности сети, чтобы разрешить трафик только из конкретных подсетей на конкретных портах.

Архитектура также может быть адаптирована для развертывания полностью в Azure с высокодоступными базами данных Oracle, настроенными с помощью Oracle Data Guard в двух зонах доступности в регионе. На следующей схеме (рис. 4) приведен пример этого шаблона архитектуры:

![JD Edwards EnterpriseOne архитектура только Azure](media/oracle-oci-applications/jdedwards-arch-azure.png)

*Рис. 4. JD Edwards EnterpriseOne архитектура только Azure*

В следующих разделах описаны различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="administrative-tier"></a>Административный уровень

Как видно из названия, этот уровень используется для административных задач. Вы можете выделить отдельную подсеть для административного уровня. Службы и серверы на этом уровне в основном используются для установки и администрирования приложения. Следовательно, достаточно одного экземпляра этих серверов. Избыточные экземпляры не требуются для обеспечения высокого уровня доступности приложения.

Ниже перечислены компоненты этого уровня.
    
 - **Сервер подготовки** — этот сервер используется для сквозного развертывания различных компонентов приложения. Он взаимодействует с экземплярами на других уровнях, включая экземпляры на уровне базы данных, через порт 22. В нем размещается консоль диспетчер сервера для JD Edwards EnterpriseOne.
 - **Сервер развертывания** . Этот сервер в основном требуется для установки JD Edwards EnterpriseOne. В процессе установки этот сервер выступает в качестве центрального репозитория для необходимых файлов и пакетов установки. Программное обеспечение распространяется или развертывается на других серверах и клиентах с этого сервера.
 - **Клиент разработки** — этот сервер содержит компоненты, которые работают в веб-браузере, а также в собственных приложениях.

### <a name="presentation-tier"></a>Уровень представления

Этот уровень содержит различные компоненты, такие как службы интерфейса приложений (AIS), платформа разработки приложений (ADF) и серверы приложений Java (Жас). Серверы на этом уровне взаимодействуют с серверами на среднем уровне. Они поступают под подсистемой балансировки нагрузки, которая направляет трафик на необходимый сервер на основе номера порта и URL-адреса, по которому получен трафик. Рекомендуется развертывать несколько экземпляров каждого типа сервера для обеспечения высокой доступности.

Ниже перечислены компоненты этого уровня.
    
- **Службы Application Interface Services (AIS)** — сервер AIS обеспечивает интерфейс связи между JD Edwards EnterpriseOne Mobile корпоративные приложения и JD Edwards EnterpriseOne.
- **Сервер приложений Java (Жас)** — Жас получает запросы от балансировщика нагрузки и передает их на средний уровень для выполнения сложных задач. Жас может выполнять простую бизнес-логику.
- **Сервер BI Publisher Server (Бип)** — этот сервер представляет отчеты на основе данных, собираемых приложением JD Edwards EnterpriseOne. Можно спроектировать и контролировать, как отчет представляет данные на основе различных шаблонов.
- **Сервер бизнес-служб (BSS)** — BSS обеспечивает обмен данными и взаимодействие с другими приложениями Oracle.
- **Сервер RTE в режиме реального времени (RTE)** — позволяет настроить уведомления для внешних систем о транзакциях, происходящих в системе жде EnterpriseOne. Он использует модель подписчика и позволяет системам сторонних производителей подписываться на события. Для балансировки нагрузки запросов на оба сервера RTE убедитесь, что серверы находятся в кластере.
- **Сервер среды разработки приложений (ADF)** — сервер ADF используется для запуска приложений JD Edwards EnterpriseOne, разработанных с помощью Oracle ADF. Это приложение развертывается на сервере серверной логики Oracle с помощью среды выполнения ADF.

### <a name="middle-tier"></a>Средний уровень

Средний уровень содержит сервер логики и сервер пакетной службы. В этом случае оба сервера устанавливаются на одной виртуальной машине. Однако в рабочих сценариях рекомендуется развертывать сервер логики и сервер пакетной службы на разных серверах. Несколько серверов развертываются на среднем уровне в двух зонах доступности для обеспечения высокой доступности. Необходимо создать балансировщик нагрузки Azure, и эти серверы должны быть помещены во внутренний пул, чтобы убедиться, что оба сервера активны и обрабатывают запросы.

Серверы на среднем уровне получают запросы от серверов уровня представления и только общедоступную подсистему балансировки нагрузки. Правила группы безопасности сети должны быть настроены для запрета трафика с любого адреса, отличного от подсети уровня представления и балансировщика нагрузки. Правило NSG можно также настроить, разрешающее трафик через порт 22 с узла бастиона для целей управления. Вы можете использовать общедоступную подсистему балансировки нагрузки для балансировки нагрузки запросов между виртуальными машинами на среднем уровне.

Следующие два компонента находятся на среднем уровне:

- **Сервер логики** — содержит бизнес-логику или бизнес-функции.
- **Пакетный сервер** , используемый для пакетной обработки

[!INCLUDE [virtual-machines-oracle-applications-database](../../../../includes/virtual-machines-oracle-applications-database.md)]

[!INCLUDE [virtual-machines-oracle-applications-identity](../../../../includes/virtual-machines-oracle-applications-identity.md)]

## <a name="peoplesoft"></a>PeopleSoft;

Пакет приложений Oracle PeopleSoft содержит программное обеспечение для управления персоналом и финансовыми ресурсами. Набор приложений состоит из нескольких многоуровневых приложений, а приложения включают системы управления персоналом (ХРМС), Управление отношениями с клиентами (CRM), управление финансами и управлением цепочкой поставок (ФСКМ), а также управление производительностью предприятия (EPM).

Рекомендуется, чтобы каждый уровень пакета программного обеспечения был развернут в отдельной подсети. В качестве серверной базы данных для приложения требуется база данных Oracle или Microsoft SQL Server. В этом разделе рассматриваются сведения о развертывании PeopleSoft с серверной частью базы данных Oracle.

Ниже приведена каноническая архитектура для развертывания набора приложений PeopleSoft в архитектуре между облаками (рис. 5).

![Архитектура PeopleSoft в разных облаках](media/oracle-oci-applications/peoplesoft-arch-cross-cloud.png)

*Рис. 5. Архитектура PeopleSoft в разных облаках*

В этом примере архитектуры виртуальная сеть в Azure подключается к виртуальной облачной сети в OCI с помощью межоблачного межплатформенного соединения. Уровень приложения настраивается в Azure, в то время как база данных настроена в OCI. Рекомендуется развертывать каждый компонент в своей подсети с группами безопасности сети, чтобы разрешить трафик только из конкретных подсетей на конкретных портах.

Архитектура также может быть адаптирована для развертывания полностью в Azure с высокодоступными базами данных Oracle, настроенными с помощью Oracle Data Guard в двух зонах доступности в регионе. На следующей схеме (рис. 6) приведен пример шаблона архитектуры:

![Архитектура только для Azure PeopleSoft](media/oracle-oci-applications/peoplesoft-arch-azure.png)

*Рис. 6. PeopleSoft архитектуру только для Azure*

В следующих разделах описаны различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="application-tier"></a>Уровень приложения

Уровень приложения содержит экземпляры серверов приложений PeopleSoft, веб-серверов PeopleSoft, эластичного поиска и планировщика процессов PeopleSoft. Балансировщик нагрузки Azure настроен на прием запросов от пользователей, которые направляются на соответствующий сервер на уровне приложения.

Для обеспечения высокой доступности рассмотрите возможность настройки избыточных экземпляров каждого сервера на уровне приложений в разных зонах доступности. Подсистема балансировки нагрузки Azure может быть настроена с несколькими внутренними пулами для направления каждого запроса на подходящий сервер.

### <a name="peopletools-client"></a>Клиент Пеоплетулс

Клиент Пеоплетулс используется для выполнения административных действий, таких как разработка, миграция и обновление. Поскольку клиент Пеоплетулс не требуется для обеспечения высокого уровня доступности приложения, избыточные серверы клиента Пеоплетулс не требуются.

[!INCLUDE [virtual-machines-oracle-applications-database](../../../../includes/virtual-machines-oracle-applications-database.md)]

[!INCLUDE [virtual-machines-oracle-applications-identity](../../../../includes/virtual-machines-oracle-applications-identity.md)]

## <a name="next-steps"></a>Дальнейшие действия

Используйте [сценарии terraform](https://github.com/microsoft/azure-oracle) , чтобы настроить приложения Oracle в Azure и установить подключение между облаками с OCI.

Дополнительные сведения о платформе OCI приводятся в документации по [Oracle Cloud Infrastructure](https://docs.cloud.oracle.com/iaas/Content/home.htm).
