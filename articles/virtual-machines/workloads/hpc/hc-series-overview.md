---
title: Обзор виртуальных машин серии HC. виртуальные машины Azure | Документация Майкрософт
description: Дополнительные сведения о поддержке предварительной версии для виртуальной машины серии HC в Azure.
author: vermagit
ms.service: virtual-machines
ms.subservice: workloads
ms.topic: article
ms.date: 08/19/2020
ms.author: amverma
ms.reviewer: cynthn
ms.openlocfilehash: b9fe978da9accd28ea0e538f458325f10c9c5d8d
ms.sourcegitcommit: beacda0b2b4b3a415b16ac2f58ddfb03dd1a04cf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/31/2020
ms.locfileid: "97831896"
---
# <a name="hc-series-virtual-machine-overview"></a>Обзор виртуальных машин серии HC

Максимизация производительности приложений HPC на базе масштабируемых процессоров Intel Xeon требует продуманного подхода к обработке размещения на этой новой архитектуре. Здесь мы рассмотрим нашу реализацию этой службы на виртуальных машинах Azure серии HC для приложений HPC. Мы будем использовать термин "Пнума" для ссылки на физический домен NUMA и "Внума" для ссылки на виртуализированный домен NUMA. Аналогичным образом мы будем использовать термин "Пкоре" для ссылки на физические ядра ЦП, а "виртуальное ядро" — на виртуализированные ядра ЦП.

Физически сервер [серии HC](../../hc-series.md) — 2 * 24-ядерный ЦП Intel Xeon Platinum 8168, который составляет всего 48 физических ядер. Каждый ЦП является одним Пнума доменом и имеет единый доступ к шести каналам DRAM. Процессоры Intel Xeon Platinum имеют кэш L2 размером 4X больше, чем в предыдущих поколениях (256 КБ/ядро-> 1 МБ/ядро), а также сокращает кэш L3 по сравнению с процессорами Intel (2,5 МБ/ядро-> 1,375 МБ/ядро).

Приведенная выше топология также переносится в конфигурацию гипервизора серии HC. Чтобы создать комнату для низкоуровневой оболочки Azure, не мешая виртуальной машине, мы Пкорес 0-1 и 24-25 (то есть первые 2 Пкорес на каждом сокете). Затем мы присваиваем Пнума Domains все оставшиеся ядра виртуальной машине. Таким образом, виртуальная машина будет видеть:

`(2 vNUMA domains) * (22 cores/vNUMA) = 44` количество ядер на виртуальную машину

Виртуальная машина не имеет знаний, которые Пкорес 0-1 и 24-25 не были переданы. Таким образом, он предоставляет каждый Внума, как если бы он изначально имел 22 ядра.

Intel Xeon Platinum, Gold и серебряные процессоры также представляют собой встроенную сеть 2D-сетки для обмена данными внутри сокета ЦП. Мы настоятельно рекомендуем закреплять процесс для обеспечения оптимальной производительности и согласованности. Закрепление процессов будет работать на виртуальных машинах серии HC, так как базовый кристалл предоставляется как есть на гостевую виртуальную машину.

На следующей схеме показана разделение ядер, зарезервированное для низкоуровневой оболочки Azure и виртуальной машины серии HC.

![Разделение ядер, зарезервированное для Azure гипервизора и виртуальной машины серии HC](./media/hc-series-overview/segregation-cores.png)

## <a name="hardware-specifications"></a>Характеристики оборудования

| Спецификации оборудования          | Виртуальная машина серии HC                     |
|----------------------------------|----------------------------------|
| Ядра                            | 44 (HT отключен)                 |
| ЦП                              | Intel Xeon Platinum 8168         |
| Частота ЦП (не AVX)          | 3,7 ГГц (одно ядро), 2.7-3.4 ГГц (все ядра) |
| Память                           | 8 ГБ/ядро (Всего 352)            |
| Локальный диск                       | SSD 700 ГБ                       |
| Infiniband;                       | 100 ГБ ЕДР Mellanox ConnectX-5   |
| Сеть                          | 50 ГБ Ethernet (40 Гб использования) Azure Смартник Gen    |

## <a name="software-specifications"></a>Спецификации программного обеспечения

| Спецификации программного обеспечения     |Виртуальная машина серии HC           |
|-----------------------------|-----------------------|
| Максимальный размер задания MPI            | 13200 ядер (300 ВМ в одном масштабируемом наборе виртуальных машин с singlePlacementGroup = true)  |
| Поддержка MPI                 | HPC-X, Intel MPI, Опенмпи, MVAPICH2, МПИЧ, платформа MPI  |
| Дополнительные платформы       | Унифицированная связь X, либфабрик, ПГАС |
| Поддержка хранилища Azure       | Диски уровня "Стандартный" и "Премиум" (максимум 4 диска) |
| Поддержка ОС для SRIOV RDMA   | CentOS/RHEL 7.6 +, SLES 12 SP4 +, WinServer 2016 +  |
| Поддержка Orchestrator        | Циклеклауд, пакетная  |

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения об [архитектуре Intel Xeon SP](https://software.intel.com/content/www/us/en/develop/articles/intel-xeon-processor-scalable-family-technical-overview.html).
- Ознакомьтесь с последними объявлениями и некоторыми примерами HPC, а также результатами в [блогах технического сообщества службы вычислений](https://techcommunity.microsoft.com/t5/azure-compute/bg-p/AzureCompute).
- Сведения о более высоком уровне архитектурного представления выполнения рабочих нагрузок HPC см. в статье [Высокопроизводительные вычисления (HPC) в Azure](/azure/architecture/topics/high-performance-computing/).
