---
title: Перерывы в работе служб Azure
description: Узнайте, что делать, если прерывание работы службы Azure влияет на виртуальные машины Azure.
author: cynthn
ms.service: virtual-machines
ms.topic: conceptual
ms.date: 05/31/2017
ms.author: cynthn
ms.reviewer: ''
ms.openlocfilehash: 5c6036a65fa449986f5c085202fefa752e3a414a
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98701039"
---
# <a name="what-if-an-azure-service-disruption-impacts-azure-vms"></a>Что делать, если прерывание работы службы Azure влияет на виртуальные машины Azure

Корпорация Майкрософт прилагает все усилия для того, чтобы наши службы всегда были доступны. Иногда по независящим от нас обстоятельствам происходят незапланированные нарушения работы служб.

Корпорация Майкрософт предоставляет соглашения об уровне обслуживания (SLA) для своих служб, в которых гарантируется их время бесперебойной работы и доступность. Соглашения об уровне обслуживания для отдельных служб Azure можно найти в разделе [Соглашения об уровне обслуживания Azure](https://azure.microsoft.com/support/legal/sla/).

В платформе Azure уже имеется множество встроенных возможностей для поддержки высокодоступных приложений. Дополнительные сведения об этих службах см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](/azure/architecture/framework/resiliency/backup-and-recovery).

В этой статье описывается действительный сценарий аварийного восстановления, при котором из-за масштабного стихийного бедствия или обширного прерывания работы службы весь регион оказывается подвержен сбою. Такие события происходят нечасто, но необходимо быть готовыми к тому, что сбой всего региона возможен. Если весь регион испытывает перебои в работе службы, то локально избыточные копии ваших данных становятся временно недоступными. Если включена георепликация, то в другом регионе будут храниться три дополнительные копии больших двоичных объектов и таблиц службы хранилища Azure. В случае сбоя всего региона или аварии, при которой основной регион не может быть восстановлен, Azure перераспределяет все DNS-записи в геореплицированный регион.

Чтобы помочь вам в таких ситуациях, мы предлагаем следующие рекомендации для виртуальных машин Azure. Эти рекомендации нужно применять в случае сбоя службы во всем регионе, в котором развернуто приложение виртуальной машины Azure.

## <a name="option-1-initiate-a-failover-by-using-azure-site-recovery"></a>Вариант 1. Инициация отработки отказа с помощью Azure Site Recovery
Для виртуальных машин можно настроить службу Azure Site Recovery, которая позволяет быстро восстановить приложение одним щелчком мыши. Репликацию можно выполнять в выбранном регионе Azure, не ограничиваясь парными регионами. Вы можете начать с [репликации виртуальных машин](../site-recovery/azure-to-azure-quickstart.md). Вы можете [создать план восстановления](../site-recovery/site-recovery-create-recovery-plans.md), чтобы автоматизировать всю процедуру отработки отказа для вашего приложения. Вы можете заранее [проверить процедуры отработки отказа](../site-recovery/site-recovery-test-failover-to-azure.md) без влияния на рабочее приложение или текущую репликацию. В случае сбоя основного региона вам потребуется просто [запустить отработку отказа](../site-recovery/site-recovery-failover.md) и перенести приложение в целевой регион.


## <a name="option-2-wait-for-recovery"></a>Вариант 2. Ожидание восстановления
В этом случае вам не нужно предпринимать какие-либо действия. Знайте, что мы активно работаем над восстановлением доступности службы. Текущее состояние служб можно просмотреть на [панели мониторинга работоспособности служб Azure](https://azure.microsoft.com/status/).

Это наилучший вариант, если вы не настроили Azure Site Recovery, геоизбыточное хранилище с доступом для чтения или геоизбыточное хранилище до прерывания работы службы. Если вы настроили хранилище или геоизбыточное хранилище с доступом для чтения для учетной записи хранения, в которой размещаются виртуальные жесткие диски вашей виртуальной машины, то вы можете восстановить виртуальный жесткий диск базового образа и попробовать подготовить новую виртуальную машину на его основе. Этот вариант не является предпочтительным, так как он не гарантирует синхронизацию данных. Следовательно, не гарантируется, что этот вариант будет работать.


> [!NOTE]
> Учтите, что этот процесс нельзя контролировать и он выполняется только при нарушении работы службы на уровне региона. Поэтому для обеспечения самого высокого уровня доступности необходимо также использовать и другие стратегии архивации приложения. Дополнительные сведения см. в разделе [стратегии данных для аварийного восстановления](/azure/architecture/reliability/disaster-recovery#disaster-recovery-plan).
>
>

## <a name="next-steps"></a>Дальнейшие действия

- Начните [защищать приложения, работающие на виртуальных машинах Azure](../site-recovery/azure-to-azure-quickstart.md), с помощью Azure Site Recovery

- Чтобы больше узнать о том, как реализовать стратегию обеспечения аварийного восстановления и высокого уровня доступности, ознакомьтесь с разделом [Аварийное восстановление и высокий уровень доступности для приложений на платформе Azure](/azure/architecture/framework/resiliency/backup-and-recovery).

- Возможности облачной платформы подробно описаны в [техническом руководстве по обеспечению непрерывности бизнес-процессов Azure](../data-lake-store/data-lake-store-disaster-recovery-guidance.md).


- Если инструкции не ясны или вы хотите, чтобы корпорация Майкрософт выполнила эти действия от вашего имени, свяжитесь со [службой поддержки клиентов](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade).