---
title: Пакет серии B — виртуальные машины Azure
description: В этой статье описываются размеры виртуальных машин Azure серии B с накапливаемыми ресурсами.
services: virtual-machines
ms.subservice: sizes
author: styli365
ms.service: virtual-machines
ms.topic: conceptual
ms.date: 02/03/2020
ms.author: sttsinar
ms.openlocfilehash: e3a24e4c947afdc1970f6e624335ecc84dd8eff2
ms.sourcegitcommit: e559daa1f7115d703bfa1b87da1cf267bf6ae9e8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2021
ms.locfileid: "100594401"
---
# <a name="b-series-burstable-virtual-machine-sizes"></a>Размеры виртуальных машин Azure серии B с накапливаемыми ресурсами

Виртуальные машины серии B идеально подходят для рабочих нагрузок, которые не требуют непрерывной полной производительности ЦП, например веб-серверов, подтверждения концепций, небольших баз данных и сред разработки сборки. Обычно для этих рабочих нагрузок требуется накапливаемая производительность. Серия B предоставляет возможность приобретения размера виртуальной машины с базовой производительностью, которая может создавать кредиты, если она использует меньше базовых показателей. После накопления кредита виртуальная машина может выполнять более высокий уровень нагрузки, используя до 100% виртуальных ЦП, когда приложение требует более высокой производительности ЦП.

Серия B имеет следующие размеры виртуальных машин:

[Единица вычислений Azure (ACU)](./acu.md): зависит от *<br>
[Хранилище класса Premium](premium-storage-performance.md): поддерживается<br>
[Кэширование хранилища класса Premium](premium-storage-performance.md): не поддерживается<br>
[Динамическая миграция](maintenance-and-updates.md): поддерживается<br>
[Обновления с сохранением памяти](maintenance-and-updates.md): поддерживается<br>
[Поддержка создания виртуальных машин](generation-2.md): поколение 1 и 2<br>
[Ускоренная сеть](../virtual-network/create-vm-accelerated-networking-cli.md): поддерживается * *<br>
[Временные диски ОС](ephemeral-os-disks.md): поддерживаются <br>

* Виртуальные машины серии B являются пакетными, поэтому ACU числа будут зависеть от рабочих нагрузок и основных показателей использования.<br>
* * Поддержка ускорения сети поддерживается только для *Standard_B12ms*, *Standard_B16ms* и *Standard_B20ms*.
<br>
<br>

| Размер | vCPU | Память: ГиБ | Временное хранилище (SSD): ГиБ | Базовая производительность ЦП виртуальной машины | Максимальная производительность ЦП виртуальной машины | Первоначальные кредиты | Кредитов в банке/час | Максимальное число накопленных кредитов | Максимальное число дисков данных | Максимальная пропускная способность временного хранилища с кэшированием: операций ввода-вывода в секунду / МБит/с | Максимальная пропускная способность дисков без кэширования: операций ввода-вывода в секунду / МБит/с | Максимальное число сетевых адаптеров |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| Standard_B1ls<sup>1</sup> | 1  | 0,5 | 4   | 5 %   | 100 %  | 30  | 3   | 72   | 2  | 200/10    | 160/10    | 2  |
| Standard_B1s              | 1  | 1   | 4   | 10 %  | 100 %  | 30  | 6   | 144  | 2  | 400/10    | 320/10    | 2  |
| Standard_B1ms             | 1  | 2   | 4   | 20 %  | 100 %  | 30  | 12  | 288  | 2  | 800/10    | 640/10    | 2  |
| Standard_B2s              | 2  | 4   | 8   | 40 %  | 200 %  | 60  | 24  | 576  | 4  | 1600/15   | 1280/15   | 3  |
| Standard_B2ms             | 2  | 8   | 16  | 60 %  | 200 %  | 60  | 36  | 864  | 4  | 2400/22,5 | 1920/22,5 | 3  |
| Standard_B4ms             | 4  | 16  | 32  | 90 %  | 400 %  | 120 | 54  | 1296 | 8  | 3600/35   | 2880/35   | 4  |
| Standard_B8ms             | 8  | 32  | 64  | 135 % | 800 %  | 240 | 81  | 1944 | 16 | 4320/50   | 4320/50   | 4  |
| Standard_B12ms            | 12 | 48  | 96  | 202% | 1200% | 360 | 121 | 2909 | 16 | 6480/75   | 4320/50   | 6  |
| Standard_B16ms            | 16 | 64  | 128 | 270% | 1600% | 480 | 162 | 3888 | 32 | 8640/100  | 4320/50   | 8  |
| Standard_B20ms            | 20 | 80  | 160 | 337% | 2000 % | 600 | 203 | 4860 | 32 | 10800/125 | 4320/50   | 8  |

<sup>1</sup> B1ls поддерживается только в Linux

## <a name="workload-example"></a>Пример рабочей нагрузки

Рассмотрим приложение для извлечения и возврата в Office. Приложению требуются нагрузки на ЦП в рабочее время, но не слишком много вычислительных ресурсов в часы работы. В этом примере для эффективной работы для рабочей нагрузки требуется виртуальная машина 16vCPU с 64GiB ОЗУ.

В таблице показаны данные за почасовой трафик, а диаграмма представляет собой визуальное представление этого трафика.

Характеристики B16:

Максимальное значение производительности ЦП: 16vCPU * 100% = 1600%

Базовый план: 270%

![Диаграмма данных о почасовом трафике](./media/b-series-burstable/office-workload.png)

| Сценарий | время; | Загрузка ЦП (%) | Накоплено кредитов<sup>1</sup> | Доступные кредиты |
| --- | --- | --- | --- | --- |
| Развертывание B16ms | Развертывание | Развертывание  | 480 (первоначальные кредиты) | 480 |
| Нет трафика | 0:00 | 0 | 162 | 642 |
| Нет трафика | 1:00 | 0 | 162 | 804 |
| Нет трафика | 2:00 | 0 | 162 | 966 |
| Нет трафика | 3:00 | 0 | 162 | 1128 |
| Нет трафика | 4:00 | 0 | 162 | 1290 |
| Нет трафика | 5:00 | 0 | 162 | 1452 |
| Низкая прохождение трафика | 6:00 | 270 | 0 | 1452 |
| Сотрудники поступают в Office (требуется приложение 80% виртуальных ЦП) | 7:00 | 1280 | — 606 | 846 |
| Сотрудники продолжают работать в Office (требуется приложение 80% виртуальных ЦП) | 8:00 | 1280 | — 606 | 240 |
| Низкая прохождение трафика | 9:00 | 270 | 0 | 240 |
| Низкая прохождение трафика | 10:00 | 100 | 102 | 342 |
| Низкая прохождение трафика | 11:00 | 50 | 132 | 474 |
| Низкая прохождение трафика | 12:00 | 100 | 102 | 576 |
| Низкая прохождение трафика | 13:00 | 100 | 102 | 678 |
| Низкая прохождение трафика | 14:00 | 50 | 132 | 810 |
| Низкая прохождение трафика | 15:00 | 100 | 102 | 912 |
| Низкая прохождение трафика | 16:00 | 100 | 102 | 1014 |
| Извлечение сотрудников (требуется приложение 100% виртуальных ЦП) | 17:00 | 1600 | — 798 | 216 |
| Низкая прохождение трафика | 18:00 | 270 | 0 | 216 |
| Низкая прохождение трафика | 19:00 | 270 | 0 | 216 |
| Низкая прохождение трафика | 20:00 | 50 | 132 | 348 |
| Низкая прохождение трафика | 21:00 | 50 | 132 | 480 |
| Нет трафика | 22:00; | 0 | 162 | 642 |
| Нет трафика | 23:00 | 0 | 162 | 804 |

<sup>1</sup> накопленные или кредитовые Кредиты, использованные в час, эквивалентны: `((Base CPU perf of VM - CPU Usage) / 100) * 60 minutes` .  

Для D16s_v3 с 16 виртуальных ЦП и 64 гиб объемом памяти Почасовая ставка составляет $0,936 в час (ежемесячная $673,92) и для B16ms с 16 виртуальных ЦП и 64 гиб Memory ставка составляет $0,794 в час (ежемесячный $547,86). <b> Это приводит к экономии на 15%!</b>

## <a name="q--a"></a>Вопросы и ответы

### <a name="q-what-happens-when-my-credits-run-out"></a>Вопрос. что происходит при истечении моих кредитов?
Ответ **. когда** кредиты исчерпаны, виртуальная машина возвращается к базовой производительности.

### <a name="q-how-do-you-get-135-baseline-performance-from-a-vm"></a>Вопрос. Как получить 135 % производительности базового плана виртуальной машины?

**Ответ.** 135 % производительности распределяется между 8 виртуальными процессорами, которые образуют размер виртуальной машины. Например, если приложение использует 4 из 8 ядер, работающих по принципу пакетной обработки и каждый из этих 4 виртуальных процессоров работает, используя 30 % общей производительности, общая производительность ЦП виртуальной машины будет равна 120 %.  Это означает, что виртуальная машина будет накапливать кредит на основании разницы 15 % от базового уровня производительности.  Но это также означает, что при наличии кредитов та же самая виртуальная машина сможет использовать 100 % от всех 8 виртуальных процессоров, предоставляя максимальную производительность ЦП 800 %.

### <a name="q-how-can-i-monitor-my-credit-balance-and-consumption"></a>Вопрос. как можно отслеживать баланс кредита и потребление?

Ответ. Метрика **кредита** позволяет просмотреть количество кредитов, которые были ЗАРЕГИСТРИРОВАНЫ в банке виртуальной машины, а метрика **ИСПОЛЬЗОВАННЫЙ кредит** показывает, сколько кредитов ЦП потребляет виртуальная машина в банке.    Вы сможете просмотреть эти метрики в области метрик на портале или использовать для просмотра программные средства в API-интерфейсах Azure Monitor.

Дополнительные сведения о доступе к метрикам в Azure см. в статье [Обзор метрик в Microsoft Azure](../azure-monitor/data-platform.md).

### <a name="q-how-are-credits-accumulated-and-consumed"></a>Вопрос. как суммируются и потребляются кредиты?

**Ответ.** Тарифы накопления и потребления виртуальной машины настроены следующим образом. Виртуальная машина, работающая на базовом уровне производительности, не будет ни накапливать, ни потреблять кредиты, которые позволяют перейти на другой уровень производительности.  Если виртуальная машина использует меньше ресурсов, чем предоставляет основной уровень производительности, число кредитов увеличивается. Если виртуальная машина использует больше ЦП, чем предоставляет ее основной уровень производительности, число кредитов уменьшается.

**Пример.** Я развертываю виртуальную машину размера B1ms для приложения, которое редко обращается к базе данных. Этот размер позволяет моему приложению использовать виртуальный процессор на 20 % от базового плана, то есть я могут использовать или накапливать 0,2 кредита в минуту.

Мое приложение больше всего используется в начале и в конце рабочего дня сотрудников, то есть с 7:00 до 9:00: и с 16.00 до 18.00. В течение остальных 20 часов мое приложение обычно на простаивает, используя только 10 % виртуального процессора. Для непиковых часов я выберу 0,2 кредитов в минуту, но потребляет 0,1 кредитов в минуту, так что моя виртуальная машина будет Bank 0,1 x 60 = 6 кредитов в час.  За 20 часов наименьшей нагрузки я накапливаю 120 кредитов.  

В часы наивысшей нагрузки мое приложение использует виртуальный процессор в среднем на 60 %. Я точно так же зарабатываю 0,2 кредита в минуту, но использую 0,6 кредита в минуту. В итоге получается, что я трачу 0,4 кредита в минуту или 0,4 x 60 = 24 кредита в час. В течение дня приложение активно используется 4 часа, поэтому во время пиковой нагрузки я использую 4 x 24 = 96 кредитов.

Если из 120 кредитов, которые я накапливаю в часы наименьшей нагрузки, вычесть 96 кредитов, которые я использую в часы пиковой нагрузки, я накапливаю дополнительных 24 кредита в день, которые можно использовать для перехода на другой уровень производительности.

### <a name="q-how-can-i-calculate-credits-accumulated-and-used"></a>Вопрос. как можно вычислить накопленные и использованные кредиты?

Ответ **. можно** использовать следующую формулу:

(Базовая производительность ЦП для ВМ — загрузка ЦП)/100 = кредиты в банке или использовании в минуту

Например, на примере выше базовый уровень составляет 20%, и при использовании 10% загруженного ЦП (20%-10%)/100 = 0,1 кредита в минуту.

### <a name="q-does-the-b-series-support-premium-storage-data-disks"></a>Вопрос. Поддерживает ли серия B диски хранилища класса Premium?

**Ответ.** Да, серия B диски поддерживает диски хранилища класса Premium.

### <a name="q-why-is-my-remaining-credit-set-to-0-after-a-redeploy-or-a-stopstart"></a>Вопрос. Почему после повторного развертывания или остановки и последующего запуска виртуальной машины мой оставшийся кредит оказался равным 0?

Ответ **. когда** виртуальная машина повторно развертывается и ВИРТУАЛЬная машина перемещается на другой узел, накопленный кредит теряется. Если виртуальная машина останавливается и запускается, но остается на том же узле, то она сохраняет накопленный кредит. Когда виртуальная машина начинает обновляться на узле, она получает первоначальный кредит для Standard_B8ms это 240.

### <a name="q-what-happens-if-i-deploy-an-unsupported-os-image-on-b1ls"></a>Вопрос. что происходит при развертывании неподдерживаемого образа ОС в B1ls?

Ответ. B1ls поддерживает только образы **Linux. при** развертывании любого другого образа ОС вы можете не получить лучшие возможности для клиентов.

## <a name="other-sizes-and-information"></a>Другие размеры и сведения

- [Универсальные](sizes-general.md)
- [Оптимизированные для вычислений](sizes-compute.md)
- [Оптимизированные для памяти](sizes-memory.md)
- [Оптимизированные для хранилища](sizes-storage.md)
- [Оптимизированные для GPU](sizes-gpu.md)
- [Для высокопроизводительных вычислений](sizes-hpc.md)

Калькулятор цен: [Калькулятор цен](https://azure.microsoft.com/pricing/calculator/)

Дополнительные сведения о типах дисков: [типы дисков](./disks-types.md#ultra-disk)

## <a name="next-steps"></a>Дальнейшие действия

Узнайте больше о том, как с помощью [единиц вычислений Azure (ACU)](acu.md) сравнить производительность вычислений для различных номеров SKU Azure.
