---
title: Общие сведения об обновлениях и обслуживании
description: Сведения о вариантах обновлений и обслуживания, доступных для виртуальных машин в Azure
author: mimckitt
ms.author: mimckitt
ms.service: virtual-machines
ms.topic: overview
ms.date: 03/08/2021
ms.reviewer: cynthn
ms.openlocfilehash: 81c6fb2e7f25abc9a236c80d1412b84fd6761872
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2021
ms.locfileid: "103022206"
---
# <a name="updates-and-maintenance-overview"></a>Общие сведения об обновлениях и обслуживании
В этой статье представлен обзор различных вариантов обновления и обслуживания для виртуальных машин Azure.

## <a name="automatic-os-image-upgrade"></a>Автоматическое обновление образа ОС

Если включить [автоматические обновления образа ОС](../virtual-machine-scale-sets/virtual-machine-scale-sets-automatic-upgrade.md?context=/azure/virtual-machines/context/context) в масштабируемом наборе, управление обновлениями будет осуществляться намного проще благодаря безопасным автоматическим обновлениям диска ОС для всех экземпляров в масштабируемом наборе.

[Автоматическое обновление ОС](../virtual-machine-scale-sets/virtual-machine-scale-sets-automatic-upgrade.md?context=/azure/virtual-machines/context/context) имеет следующие характеристики:

- После настройки последний образ ОС, опубликованный издателем, автоматически применяется к масштабируемому набору без вмешательства пользователя.
- Пакеты экземпляров последовательно обновляются каждый раз, когда издатель публикует новый образ.
- Интегрируется с пробами работоспособности приложения и [расширения работоспособности приложения](../virtual-machine-scale-sets/virtual-machine-scale-sets-health-extension.md?context=/azure/virtual-machines/context/context).
- Эта функция подходит для всех размеров виртуальных машин, а также для образов Windows и Linux.
- Автоматические обновления можно в любое время отключить (обновление ОС также можно инициировать вручную).
- Диск ОС виртуальной машины заменяется новым диском ОС с последней версией образа. Запускаются настраиваемые расширения и сценарии пользовательских данных, а сохраненные диски данных сохраняются.
- Поддерживается [расширение виртуализации](../virtual-machine-scale-sets/virtual-machine-scale-sets-extension-sequencing.md?context=/azure/virtual-machines/context/context).
- Автоматическое обновление образа ОС можно включить в масштабируемом наборе любого размера.


## <a name="automatic-vm-guest-patching-preview"></a>Автоматическое обновление путем частичной замены гостевой системы виртуальной машины (предварительная версия)

Если включить [автоматическое обновление путем частичной замены гостевой системы виртуальной машины](automatic-vm-guest-patching.md) для виртуальных машин Azure, управление обновлениями будет осуществляться намного проще и безопаснее для обеспечения соответствия требованиям безопасности.

[Автоматическое обновление путем частичной замены гостевых виртуальных машин](automatic-vm-guest-patching.md) имеет следующие характеристики:
- Исправления, классифицированные как *критические* или *безопасность*, автоматически скачиваются и применяются к виртуальной машине.
- Исправления применяются в часы наименьшей нагрузки согласно часовому поясу виртуальной машины.
- Оркестрация исправлений осуществляется с помощью Azure, а исправления применяются согласно [принципам доступности](automatic-vm-guest-patching.md#availability-first-patching).
- Работоспособность виртуальной машины, которая определяется с помощью сигналов работоспособности платформы, отслеживается для обнаружения сбоев исправления.
- Работает со всеми размерами виртуальных машин.


## <a name="automatic-extension-upgrade-preview"></a>Автоматическое обновление расширений (предварительная версия)

[Автоматическое обновление расширений](automatic-extension-upgrade.md) доступно в предварительной версии для виртуальных машин Azure и Масштабируемых наборов виртуальных машин Microsoft Azure. Если автоматическое обновление расширений включено на виртуальной машине или в масштабируемом наборе, расширение обновляется автоматически каждый раз, когда издатель расширения выпускает новую версию такого расширения.

 Автоматическое обновление расширений имеет следующие особенности:
- Поддерживается виртуальными машинами Azure и Масштабируемыми наборами виртуальных машин Microsoft Azure. Масштабируемые наборы виртуальных машин Service Fabric сейчас не поддерживаются.
- Обновления применяются в модели развертывания на основе доступности.
- Для Масштабируемого набора виртуальных машин в одном пакете будут обновлены не более 20 % виртуальных машин масштабируемого набора. Минимальный размер пакета — одна виртуальная машина.
- Подходит для всех размеров виртуальных машин, а также для расширений Windows и Linux.
- От автоматических обновлений можно отказаться в любое время.
- Автоматическое обновление расширений можно включить в Масштабируемых наборах виртуальных машин любого размера.
- Каждое поддерживаемое расширение регистрируется отдельно, и вы можете выбрать, какие расширения будут обновляться автоматически.
- Поддерживается во всех регионах общедоступного облака.

## <a name="hotpatch"></a>Горячее исправление 

[Горячее исправление](../automanage/automanage-hotpatch.md?context=/azure/virtual-machines/context/context) — это новый способ установки обновлений на новых виртуальных машинах выпуска Windows Server Azure, которым не требуется перезагрузка после установки. Горячее исправление для виртуальных машин выпуска Windows Server Azure имеет следующие преимущества:

- Снижение влияния рабочей нагрузки в связи с меньшим количеством перезагрузок.
- Ускоренное развертывание обновлений, так как пакеты меньшего размера устанавливаются быстрее и упрощают оркестрацию исправлений с помощью диспетчера обновления Azure.
- Улучшенная защита, так как пакеты обновления горячего исправления ограничены обновлениями безопасности Windows, которые устанавливаются быстрее без перезагрузки.


## <a name="azure-update-management"></a>Управление обновлениями Azure

С помощью функции ["Управление обновлениями" в службе автоматизации Azure](../automation/update-management/overview.md?context=/azure/virtual-machines/context/context) можно управлять обновлениями операционной системы для виртуальных машин с ОС Windows и Linux в Azure, локальных окружениях или на платформах других поставщиков облачных услуг. Благодаря ей вы сможете быстро оценить состояние доступных обновлений на всех компьютерах агентов и управлять установкой необходимых обновлений на серверах.

## <a name="maintenance-control"></a>Управление обслуживанием

Управляйте обновлениями платформы, для которых не требуется перезагрузка, с помощью [управления обслуживанием](maintenance-control.md). Azure часто обновляет свою инфраструктуру для повышения надежности, производительности, безопасности, а также в случае запуска новых функций. Большинство обновлений являются незаметными для пользователей. Для некоторых чувствительных рабочих нагрузок (например, игры, потоковая передача мультимедиа и финансовые транзакции) заморозка или отключение виртуальной машины для обслуживания даже на несколько секунд является неприемлемой. Управление обслуживанием дает возможность отложить обновления платформы и применить их в течение 35-дневного интервала. 

Управление обслуживанием дает возможность решить, когда следует применять обновления к изолированным виртуальным машинам и выделенным узлам Azure.

С помощью [управления обслуживанием](maintenance-control.md) можно:
- Объединить обновления в один пакет обновлений.
- Подождать до 35 дней, чтобы применить обновления. 
- Автоматизировать обновления платформы, настроив расписание обслуживания или используя [Функции Azure](https://github.com/Azure/azure-docs-powershell-samples/tree/master/maintenance-auto-scheduler).
- Конфигурации обслуживания работают в подписках и группах ресурсов. 


## <a name="scheduled-events"></a>Запланированные события

Запланированные события — это служба метаданных Azure, которая дает время вашему приложению для подготовки к обслуживанию виртуальной машины. Эта служба предоставляет сведения о предстоящем событии обслуживания (например, о перезагрузке), чтобы приложение могло подготовиться к ним и ограничить перебои в работе. Она доступна для всех типов виртуальных машин Azure, включая PaaS и IaaS (как для Windows, так и для Linux). 

Дополнительные сведения о Запланированных событиях см. в статье [Запланированные события для виртуальных машин Windows](./windows/scheduled-events.md) и [Запланированные события для Linux](./linux/scheduled-events.md).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные способы увеличения времени доступности приложений и служб см. в документации по [доступности и масштабированию](availability.md). 