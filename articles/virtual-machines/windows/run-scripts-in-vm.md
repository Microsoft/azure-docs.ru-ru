---
title: Выполнение сценариев в виртуальной машине Windows Azure
description: В этом разделе описывается выполнение сценариев в виртуальной машине Windows
services: automation
ms.service: virtual-machines
ms.collection: windows
author: bobbytreed
ms.author: robreed
ms.date: 05/02/2018
ms.topic: how-to
manager: carmonm
ms.openlocfilehash: ab7d20a83c4cb8cb7a36c4603a5b0b2e69b0662f
ms.sourcegitcommit: 7edadd4bf8f354abca0b253b3af98836212edd93
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102560673"
---
# <a name="run-scripts-in-your-windows-vm"></a>Запуск сценариев в виртуальной машине Windows

Для автоматизации задач или устранения неполадок может потребоваться выполнить команды в виртуальной машине. В статье ниже приведен краткий обзор доступных функций для выполнения сценариев и команд в виртуальных машинах.

## <a name="custom-script-extension"></a>Расширение пользовательских сценариев

[Расширение пользовательских скриптов](../extensions/custom-script-windows.md) используется, прежде всего, для конфигурации пост-развертывания и установки программного обеспечения.

* Загрузка и запуск сценариев в виртуальных машинах Azure.
* Можно выполнить с помощью шаблонов Azure Resource Manager, Azure CLI, REST API, PowerShell или портала Azure.
* Файлы сценария могут быть загружены из хранилища Azure или GitHub или предоставлены с вашего ПК при запуске с портала Microsoft Azure.
* Запустить сценарий PowerShell на компьютерах Windows и сценарий Bash на компьютерах Linux.
* Можно использовать для настройки после развертывания, установки программного обеспечения и других задач настройки или управления.

## <a name="run-command"></a>Команда "Выполнить"

Функция [Выполнить команду](run-command.md) позволяет управлять виртуальными машинами и приложениями и устранять неполадки с помощью сценариев и доступна даже тогда, когда машина недоступна, например, если гостевой брандмауэр не имеет открытых портов RDP или SSH.

* Выполнение сценариев в виртуальных машинах Azure.
* Можно выполнить с помощью [портала Microsoft Azure](run-command.md), [REST API](/rest/api/compute/virtual%20machines%20run%20commands/runcommand), [Azure CLI](/cli/azure/vm/run-command#az-vm-run-command-invoke), или [PowerShell](/powershell/module/az.compute/invoke-azvmruncommand)
* Быстро запустите сценарий и просмотрите выходные данные и повторите при необходимости на портале Microsoft Azure.
* Сценарий можно ввести непосредственно или выполнив один из встроенных сценариев.
* Запустить сценарий PowerShell на компьютерах Windows и сценарий Bash на компьютерах Linux.
* Можно использовать в виртуальных машинах, управлении приложениями и для запуска недоступных сценариев.

## <a name="hybrid-runbook-worker"></a>Гибридная рабочая роль Runbook

[Гибридная рабочая роль Runbook](../../automation/automation-hybrid-runbook-worker.md) обеспечивает общее управление компьютером, приложением и средой управления с настраиваемыми сценариями пользователя, хранящимися в учетной записи автоматизации.

* Выполнение сценариев в Azure и на компьютерах без использования Azure.
* Можно выполнить с помощью портала Microsoft Azure, REST API, Azure CLI, PowerShell, веб-перехватчика.
* Сценарии управляются и хранятся в учетной записи службы автоматизации.
* Запуск PowerShell, PowerShell Workflow, Python или Graphical runbooks
* Выполнения сценария без ограничения по времени.
* Можно запустить несколько сценариев одновременно.
* Полный вывод сценария возвращается и сохраняется.
* Журнал заданий доступен в течении 90 дней.
* Сценарии могут выполняться также как и локальная система или с помощью предоставленных учетных данных пользователя.
* Необходима [установка вручную](../../automation/automation-windows-hrw-install.md)

## <a name="serial-console"></a>Последовательная консоль

[Последовательная консоль](../troubleshooting/serial-console-windows.md)обеспечивает прямой доступ к виртуальной машине аналогично подключению клавиатуры к виртуальной машине.

* Выполнение команд в виртуальных машинах Azure
* Можно выполнять с помощью текстовой консоли на компьютере, на портале Microsoft Azure.
* Войдите в систему с помощью учетной записи локального пользователя.
* Можно использовать, когда доступ к виртуальной машине необходим независимо от состояния сети или операционной системы.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о различных доступных возможностях, для выполнения сценариев и команд в виртуальных машинах.

* [Расширение пользовательских сценариев](../extensions/custom-script-windows.md)
* [Запуск команды](run-command.md)
* [Гибридная рабочая роль Runbook](../../automation/automation-hybrid-runbook-worker.md)
* [Последовательная консоль](../troubleshooting/serial-console-windows.md)
