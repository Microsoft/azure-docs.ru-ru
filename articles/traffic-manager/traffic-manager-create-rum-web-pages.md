---
title: Измерения на стороне пользователей с веб-страницами — диспетчер трафика Azure
description: Из этой статьи вы узнаете, как настроить веб-страницы для отправки Измерения на стороне пользователей в диспетчер трафика Azure.
services: traffic-manager
documentationcenter: traffic-manager
author: duongau
manager: twooley
ms.service: traffic-manager
ms.devlang: na
ms.topic: how-to
ms.tgt_pltfrm: ''
ms.workload: infrastructure
ms.date: 03/16/2018
ms.author: duau
ms.custom: ''
ms.openlocfilehash: 2bb104fd9cfc3c4ffddb82e4cf442e94c4650550
ms.sourcegitcommit: 0aec60c088f1dcb0f89eaad5faf5f2c815e53bf8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/14/2021
ms.locfileid: "98184564"
---
# <a name="how-to-send-real-user-measurements-to-azure-traffic-manager-using-web-pages"></a>Как отправить измерения на стороне пользователей в диспетчер трафика Azure с использованием веб-страниц

Вы можете настроить веб-страницы для отправки измерений на стороне пользователей в диспетчер трафика, получив ключ RUM и внедрив созданный код на веб-страницу.

## <a name="obtain-a-real-user-measurements-key"></a>Получение ключа измерений на стороне пользователей

Измерения, которые вы принимаете и отправляете в диспетчер трафика из клиентского приложения, идентифицируются службой с помощью уникальной строки, называемой **ключом измерений на стороне пользователей (RUM)**. Ключ RUM можно получить с помощью портала Azure, REST API, PowerShell или Azure CLI.

Чтобы получить ключ RUM с помощью портала Azure, сделайте следующее:
1. В браузере войдите на портал Azure. Если у вас еще нет учетной записи, вы можете зарегистрироваться для получения бесплатной пробной версии на один месяц.
2. На панели поиска портала выполните поиск по имени профиля диспетчера трафика, которое необходимо изменить, а затем щелкните профиль диспетчера трафика в отображаемых результатах.
3. В колонке профиля диспетчера трафика в разделе **Параметры** щелкните **Real User Measurements** (Измерения на стороне пользователей).
4. Щелкните **Создать ключ**, чтобы создать ключ RUM.
 
   ![Создание ключа измерений на стороне пользователей](./media/traffic-manager-create-rum-visual-studio/generate-rum-key.png)

   **Рис. 1. Создание ключа измерений на стороне пользователей**

5. В этой колонке отображается созданный ключ RUM и фрагмент кода JavaScript, который необходимо внедрить на страницу HTML.
 
    ![Код JavaScript ключа измерений на стороне пользователей](./media/traffic-manager-create-rum-web-pages/rum-javascript-code.png)

    **Рис. 2. Ключ измерений на стороне пользователей и скрипт JavaScript измерений**
 
6. Нажмите кнопку **Копировать**, чтобы скопировать код JavaScript. 

>[!IMPORTANT]
> Используйте созданный код JavaScript для правильной работы функции измерений на стороне пользователей. Любые изменения, внесенные в этот скрипт или скрипты, используемые функцией измерений на стороне пользователей, могут привести к непредсказуемому поведению.

## <a name="embed-the-code-to-an-html-web-page"></a>Внедрение кода на веб-страницу HTML

После получения ключа RUM необходимо внедрить этот скопированный код JavaScript на HTML-страницу, которую посещают конечные пользователи. Редактирование HTML-страницы можно выполнить разными способами и с помощью разных инструментов и рабочих процессов. В этом примере показано, как добавить этот скрипт на HTML-страницу. Вы можете использовать это руководство, адаптировав его непосредственно для своего рабочего процесса управления HTML-кодом.

1.  Откройте HTML-страницу в текстовом редакторе.
2.  Вставьте код JavaScript, который вы скопировали ранее, в раздел body HTML-страницы (скопированный код содержится в строках 8–9, см. рис. 3).
 
    ![Внедрение кода JavaScript на веб-страницу для измерений на стороне пользователей](./media/traffic-manager-create-rum-web-pages/real-user-measurement-embed-script.png)  

    **Рис. 3. Простая HTML-страница с внедренным кодом JavaScript функции измерений на стороне пользователей**

3.  Сохраните HTML-файл и узел на веб-сервере, подключенном к Интернету. 
4. При следующем отображении этой страницы в веб-браузере загрузится соответствующий код JavaScript и с его помощью будут выполнены операции измерения и создания отчетов.


## <a name="next-steps"></a>Дальнейшие действия
- Узнайте больше об [измерениях на стороне пользователей](traffic-manager-rum-overview.md).
- Узнайте о том, [как работает диспетчер трафика](traffic-manager-overview.md)
- Узнайте больше о [методах маршрутизации трафика](traffic-manager-routing-methods.md) , поддерживаемых в диспетчере трафика.
- Узнайте, как [создать профиль диспетчера трафика](./quickstart-create-traffic-manager-profile.md)